2025-06-06T08:11:19.3306124+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-06T08:11:19.3931461+07:00 [INF] (///) No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-06-06T08:11:19.3965413+07:00 [DBG] (///) Hosting starting
2025-06-06T08:11:19.5200424+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-06T08:11:19.5203715+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-06T08:11:19.5785163+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-06T08:11:19.5800973+07:00 [WRN] (///) Overriding address(es) '"https://localhost:31001"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-06T08:11:19.5844789+07:00 [INF] (///) Now listening on: "http://localhost:14100"
2025-06-06T08:11:19.5850585+07:00 [INF] (///) Now listening on: "https://localhost:14101"
2025-06-06T08:11:19.5851441+07:00 [DBG] (///) Loaded hosting startup assembly "TuitionService.Api"
2025-06-06T08:11:19.5852958+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-06T08:11:19.5853401+07:00 [INF] (///) Hosting environment: "Development"
2025-06-06T08:11:19.5853557+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api"
2025-06-06T08:11:19.5853806+07:00 [DBG] (///) Hosting started
2025-06-06T08:11:25.1541420+07:00 [DBG] (///) Connection id ""0HND4IS7CHME3"" accepted.
2025-06-06T08:11:25.1546750+07:00 [DBG] (///) Connection id ""0HND4IS7CHME3"" started.
2025-06-06T08:11:25.1720863+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - "application/json" null
2025-06-06T08:11:25.2446045+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students"'
2025-06-06T08:11:25.2481436+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students"' with route pattern '"/api/v{version:apiVersion}/students"' is valid for the request path '"/api/v1/students"'
2025-06-06T08:11:25.2512328+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T08:11:25.2562073+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T08:11:25.2570197+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T08:11:25.3932107+07:00 [DBG] (///) An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration changed for 'Core:EnableSensitiveDataLogging', configuration changed for 'Core:EnableDetailedErrors', configuration changed for 'Core:ConfigureWarnings', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseAdminDatabase', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:SetPostgresVersion', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseRedshift', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ReverseNullOrdering', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:RemoteCertificateValidationCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvideClientCertificatesCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvidePasswordCallback'".
2025-06-06T08:11:25.7405479+07:00 [DBG] (///) The index "{'StudentCode'}" was not created on entity type '"Tuition"' as the properties are already covered by the index "{'StudentCode', 'AcademicYear', 'Semester'}".
2025-06-06T08:11:25.7408435+07:00 [DBG] (///) The index "{'StudentCode', 'AcademicYear', 'Semester'}" was not created on entity type '"TuitionPayment"' as the properties are already covered by the index "{'StudentCode', 'AcademicYear', 'Semester', 'PaymentDate'}".
2025-06-06T08:11:25.7981660+07:00 [WRN] (///) Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-06-06T08:11:25.8142803+07:00 [WRN] (///) The foreign key property '"GlobalStudentCode"."StudentBasicInfoStudentCode1"' was created in shadow state because a conflicting property with the simple name '"StudentBasicInfoStudentCode"' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-06T08:11:25.8908885+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T08:11:25.9319756+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<StudentBasicInfo>()
    .AsNoTracking()
    .Select(s => new StudentBasicInfo{ 
        StudentCode = s.StudentCode, 
        LastName = s.LastName, 
        FirstName = s.FirstName, 
        ClassCode = s.ClassCode, 
        FacultyCode = s.FacultyCode 
    }
    )
    .Count()"'
2025-06-06T08:11:26.0790488+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT CAST(count(*) AS integer)
            FROM student_basic_info AS s) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT CAST(count(*) AS integer)
            FROM student_basic_info AS s, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = try { dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0) } catch (Exception) { ... } ;
            return (int)value1;
        }, 
        contextType: TuitionService.Domain.TuitionDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: True, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)"'
2025-06-06T08:11:26.1028726+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T08:11:26.1304594+07:00 [DBG] (///) Created DbConnection. (25ms).
2025-06-06T08:11:26.1334065+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:11:26.2292946+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:11:26.2348489+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T08:11:26.2398240+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (2ms).
2025-06-06T08:11:26.2410474+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (6ms).
2025-06-06T08:11:26.2480621+07:00 [DBG] (///) Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T08:11:26.2759895+07:00 [INF] (///) Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T08:11:26.3231406+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:11:26.3310722+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 48ms reading results.
2025-06-06T08:11:26.3362374+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:11:26.3408292+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (5ms).
2025-06-06T08:11:26.3474237+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<StudentBasicInfo>()
    .AsNoTracking()
    .Select(s => new StudentBasicInfo{ 
        StudentCode = s.StudentCode, 
        LastName = s.LastName, 
        FirstName = s.FirstName, 
        ClassCode = s.ClassCode, 
        FacultyCode = s.FacultyCode 
    }
    )
    .Skip(__p_0)
    .Take(__p_1)"'
2025-06-06T08:11:26.3564936+07:00 [WRN] (///) The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-06T08:11:26.3574268+07:00 [WRN] (///) The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-06T08:11:26.3678019+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => SingleQueryingEnumerable.Create<StudentBasicInfo>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            StudentCode -> 0
            LastName -> 1
            FirstName -> 2
            ClassCode -> 3
            FacultyCode -> 4
        SELECT s.student_code AS StudentCode, s.last_name AS LastName, s.first_name AS FirstName, s.class_code AS ClassCode, s.faculty_code AS FacultyCode
        FROM student_basic_info AS s
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            StudentCode -> 0
            LastName -> 1
            FirstName -> 2
            ClassCode -> 3
            FacultyCode -> 4
        SELECT s.student_code AS StudentCode, s.last_name AS LastName, s.first_name AS FirstName, s.class_code AS ClassCode, s.faculty_code AS FacultyCode
        FROM student_basic_info AS s
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        string value1;
        string value2;
        string value3;
        string value4;
        string value5;
        value1 = try { dataReader.GetString(0) } catch (Exception) { ... } ;
        value2 = try { dataReader.GetString(1) } catch (Exception) { ... } ;
        value3 = try { dataReader.GetString(2) } catch (Exception) { ... } ;
        value4 = try { dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3) } catch (Exception) { ... } ;
        value5 = try { dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4) } catch (Exception) { ... } ;
        return new StudentBasicInfo{ 
            StudentCode = value1, 
            LastName = value2, 
            FirstName = value3, 
            ClassCode = value4, 
            FacultyCode = value5 
        }
        ;
    }, 
    contextType: TuitionService.Domain.TuitionDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: True, 
    threadSafetyChecksEnabled: True)"'
2025-06-06T08:11:26.3768170+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:11:26.3773678+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:11:26.3776081+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T08:11:26.3776715+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:11:26.3829713+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (5ms).
2025-06-06T08:11:26.3854819+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T08:11:26.3998607+07:00 [INF] (///) Executed DbCommand ("17"ms) [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T08:11:26.4036784+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:11:26.4038968+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 3ms reading results.
2025-06-06T08:11:26.4040619+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:11:26.4041236+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:11:26.4052968+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T08:11:26.4084085+07:00 [INF] (///) Writing value of type '"PagedList`1"' as Json.
2025-06-06T08:11:26.4206456+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T08:11:26.4264438+07:00 [INF] (///) HTTP "GET" "/api/v1/students" responded 200 in 1168.1170 ms
2025-06-06T08:11:26.4317775+07:00 [DBG] (///) Connection id ""0HND4IS7CHME3"" received FIN.
2025-06-06T08:11:26.4321280+07:00 [DBG] (///) Connection id ""0HND4IS7CHME3"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T08:11:26.4352066+07:00 [DBG] (///) Connection id ""0HND4IS7CHME3"" disconnecting.
2025-06-06T08:11:26.4353302+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T08:11:26.4386246+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:11:26.4400738+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (1ms).
2025-06-06T08:11:26.4413813+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - 200 null "application/json; charset=utf-8" 1270.2391ms
2025-06-06T08:11:26.4442896+07:00 [DBG] (///) Connection id ""0HND4IS7CHME3"" stopped.
2025-06-06T08:11:27.7727039+07:00 [DBG] (///) Connection id ""0HND4IS7CHME4"" accepted.
2025-06-06T08:11:27.7729172+07:00 [DBG] (///) Connection id ""0HND4IS7CHME4"" started.
2025-06-06T08:11:27.7729392+07:00 [DBG] (///) Connection id ""0HND4IS7CHME5"" accepted.
2025-06-06T08:11:27.7729996+07:00 [DBG] (///) Connection id ""0HND4IS7CHME5"" started.
2025-06-06T08:11:27.7735046+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?filter=studentCode%3D%3D%22N22DCCN888%22&pageSize=1" - "application/json" null
2025-06-06T08:11:27.7735052+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - "application/json" null
2025-06-06T08:11:27.7745724+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students"'
2025-06-06T08:11:27.7747859+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T08:11:27.7747647+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students"' with route pattern '"/api/v{version:apiVersion}/students"' is valid for the request path '"/api/v1/students"'
2025-06-06T08:11:27.7748984+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T08:11:27.7749495+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T08:11:27.7749815+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T08:11:27.7752022+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T08:11:27.7752027+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T08:11:27.7753174+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T08:11:27.7753164+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T08:11:27.7760319+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T08:11:27.7770112+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Http.BadHttpRequestException: Required parameter "int Page" was not provided from query string.
   at lambda_method412(Closure, Object, HttpContext)
   at Asp.Versioning.Routing.ReportApiVersionsDecorator.<>c__DisplayClass4_0.<op_Implicit>b__0(HttpContext context)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.Invoke(HttpContext context)
2025-06-06T08:11:27.8328995+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T08:11:27.8353612+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Tuition>()
    .Where(t => t.StudentCode == __studentCode_0)
    .Select(t => new TuitionResponse{ 
        AcademicYear = t.AcademicYear, 
        Semester = t.Semester.ToString(), 
        TuitionAmount = (decimal)t.TuitionFee, 
        TuitionPaid = (decimal)t.TuitionPayments
            .Sum(p => p.AmountPaid) 
    }
    )"'
2025-06-06T08:11:27.8415102+07:00 [ERR] (///) HTTP "GET" "/api/v1/students" responded 500 in 66.1306 ms
2025-06-06T08:11:27.8418303+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?filter=studentCode%3D%3D%22N22DCCN888%22&pageSize=1" - 500 null "application/problem+json" 68.3175ms
2025-06-06T08:11:27.8419524+07:00 [DBG] (///) Connection id ""0HND4IS7CHME4"" disconnecting.
2025-06-06T08:11:27.8420142+07:00 [DBG] (///) Connection id ""0HND4IS7CHME4"" stopped.
2025-06-06T08:11:27.8421469+07:00 [DBG] (///) Connection id ""0HND4IS7CHME4"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T08:11:27.8474693+07:00 [DBG] (///) Connection id ""0HND4IS7CHME6"" accepted.
2025-06-06T08:11:27.8475897+07:00 [DBG] (///) Connection id ""0HND4IS7CHME6"" started.
2025-06-06T08:11:27.8478121+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?filter=studentCode%3D%3D%22N22DCCN888%22&pageSize=1" - "application/json" null
2025-06-06T08:11:27.8479545+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students"'
2025-06-06T08:11:27.8480238+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students"' with route pattern '"/api/v{version:apiVersion}/students"' is valid for the request path '"/api/v1/students"'
2025-06-06T08:11:27.8481860+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T08:11:27.8483156+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T08:11:27.8484041+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T08:11:27.8485568+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T08:11:27.8486351+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Http.BadHttpRequestException: Required parameter "int Page" was not provided from query string.
   at lambda_method412(Closure, Object, HttpContext)
   at Asp.Versioning.Routing.ReportApiVersionsDecorator.<>c__DisplayClass4_0.<op_Implicit>b__0(HttpContext context)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.Invoke(HttpContext context)
2025-06-06T08:11:27.8500293+07:00 [ERR] (///) HTTP "GET" "/api/v1/students" responded 500 in 1.6485 ms
2025-06-06T08:11:27.8502253+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?filter=studentCode%3D%3D%22N22DCCN888%22&pageSize=1" - 500 null "application/problem+json" 2.3881ms
2025-06-06T08:11:27.8503357+07:00 [DBG] (///) Connection id ""0HND4IS7CHME6"" disconnecting.
2025-06-06T08:11:27.8503743+07:00 [DBG] (///) Connection id ""0HND4IS7CHME6"" stopped.
2025-06-06T08:11:27.8504136+07:00 [DBG] (///) Connection id ""0HND4IS7CHME6"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T08:11:27.8984560+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => SingleQueryingEnumerable.Create<TuitionResponse>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            AcademicYear -> 0
            Semester -> 1
            TuitionAmount -> 2
            TuitionPaid -> 3
        SELECT t.academic_year AS AcademicYear, COALESCE(CAST(t.semester AS text), '') AS Semester, CAST(t.tuition_fee AS numeric) AS TuitionAmount, CAST((
            SELECT CAST(sum(t0.amount_paid) AS integer)
            FROM tuition_payment AS t0
            WHERE (((t.student_code != NULL) && (t.academic_year != NULL)) && (t.semester != NULL)) && (((t.student_code == t0.student_code) && (t.academic_year == t0.academic_year)) && (t.semester == t0.semester))) AS numeric) AS TuitionPaid
        FROM tuition AS t
        WHERE t.student_code == @__studentCode_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            AcademicYear -> 0
            Semester -> 1
            TuitionAmount -> 2
            TuitionPaid -> 3
        SELECT t.academic_year AS AcademicYear, COALESCE(CAST(t.semester AS text), '') AS Semester, CAST(t.tuition_fee AS numeric) AS TuitionAmount, CAST((
            SELECT CAST(sum(t0.amount_paid) AS integer)
            FROM tuition_payment AS t0
            WHERE (((t.student_code != NULL) && (t.academic_year != NULL)) && (t.semester != NULL)) && (((t.student_code == t0.student_code) && (t.academic_year == t0.academic_year)) && (t.semester == t0.semester))) AS numeric) AS TuitionPaid
        FROM tuition AS t
        WHERE t.student_code == @__studentCode_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        string value1;
        string value2;
        decimal? value3;
        decimal? value4;
        value1 = try { dataReader.GetString(0) } catch (Exception) { ... } ;
        value2 = try { dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1) } catch (Exception) { ... } ;
        value3 = try { dataReader.IsDBNull(2) ? default(decimal?) : (decimal?)dataReader.GetDecimal(2) } catch (Exception) { ... } ;
        value4 = try { dataReader.IsDBNull(3) ? default(decimal?) : (decimal?)dataReader.GetDecimal(3) } catch (Exception) { ... } ;
        return new TuitionResponse{ 
            AcademicYear = value1, 
            Semester = value2, 
            TuitionAmount = (decimal)value3, 
            TuitionPaid = (decimal)value4 
        }
        ;
    }, 
    contextType: TuitionService.Domain.TuitionDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: True, 
    threadSafetyChecksEnabled: True)"'
2025-06-06T08:11:27.9061430+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T08:11:27.9063219+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T08:11:27.9064037+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:11:27.9064977+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:11:27.9066831+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T08:11:27.9067330+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:11:27.9071963+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:11:27.9073701+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.academic_year AS \"AcademicYear\", t.semester::text AS \"Semester\", t.tuition_fee::numeric AS \"TuitionAmount\", (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric AS \"TuitionPaid\"
FROM tuition AS t
WHERE t.student_code = @__studentCode_0"
2025-06-06T08:11:27.9226222+07:00 [INF] (///) Executed DbCommand ("15"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.academic_year AS \"AcademicYear\", t.semester::text AS \"Semester\", t.tuition_fee::numeric AS \"TuitionAmount\", (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric AS \"TuitionPaid\"
FROM tuition AS t
WHERE t.student_code = @__studentCode_0"
2025-06-06T08:11:27.9231612+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:11:27.9232407+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T08:11:27.9233599+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:11:27.9234270+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:11:27.9236387+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T08:11:27.9269255+07:00 [INF] (///) Writing value of type '"List`1"' as Json.
2025-06-06T08:11:27.9279339+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T08:11:27.9280755+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888/tuitions" responded 200 in 152.8150 ms
2025-06-06T08:11:27.9282221+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T08:11:27.9283333+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:11:27.9284095+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:11:27.9285076+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - 200 null "application/json; charset=utf-8" 155.023ms
2025-06-06T08:11:27.9286796+07:00 [DBG] (///) Connection id ""0HND4IS7CHME5"" disconnecting.
2025-06-06T08:11:27.9287231+07:00 [DBG] (///) Connection id ""0HND4IS7CHME5"" stopped.
2025-06-06T08:11:27.9287682+07:00 [DBG] (///) Connection id ""0HND4IS7CHME5"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T08:11:27.9335780+07:00 [DBG] (///) Connection id ""0HND4IS7CHME7"" accepted.
2025-06-06T08:11:27.9336990+07:00 [DBG] (///) Connection id ""0HND4IS7CHME7"" started.
2025-06-06T08:11:27.9339885+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - "application/json" null
2025-06-06T08:11:27.9343518+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T08:11:27.9345077+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T08:11:27.9346130+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T08:11:27.9347730+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T08:11:27.9348555+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T08:11:27.9674167+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T08:11:27.9712431+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T08:11:27.9713602+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T08:11:27.9713946+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:11:27.9714548+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:11:27.9715976+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T08:11:27.9716407+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:11:27.9716876+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:11:27.9717635+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.academic_year AS \"AcademicYear\", t.semester::text AS \"Semester\", t.tuition_fee::numeric AS \"TuitionAmount\", (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric AS \"TuitionPaid\"
FROM tuition AS t
WHERE t.student_code = @__studentCode_0"
2025-06-06T08:11:27.9728729+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.academic_year AS \"AcademicYear\", t.semester::text AS \"Semester\", t.tuition_fee::numeric AS \"TuitionAmount\", (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric AS \"TuitionPaid\"
FROM tuition AS t
WHERE t.student_code = @__studentCode_0"
2025-06-06T08:11:27.9730540+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:11:27.9731100+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T08:11:27.9732005+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:11:27.9732551+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:11:27.9733791+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T08:11:27.9734336+07:00 [INF] (///) Writing value of type '"List`1"' as Json.
2025-06-06T08:11:27.9736280+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T08:11:27.9737331+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888/tuitions" responded 200 in 38.9161 ms
2025-06-06T08:11:27.9738171+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T08:11:27.9738608+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:11:27.9738960+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:11:27.9739612+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - 200 null "application/json; charset=utf-8" 39.9821ms
2025-06-06T08:11:27.9740358+07:00 [DBG] (///) Connection id ""0HND4IS7CHME7"" disconnecting.
2025-06-06T08:11:27.9740685+07:00 [DBG] (///) Connection id ""0HND4IS7CHME7"" stopped.
2025-06-06T08:11:27.9741004+07:00 [DBG] (///) Connection id ""0HND4IS7CHME7"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T08:12:53.2206597+07:00 [DBG] (///) Connection id ""0HND4IS7CHME8"" accepted.
2025-06-06T08:12:53.2211870+07:00 [DBG] (///) Connection id ""0HND4IS7CHME8"" started.
2025-06-06T08:12:53.2212739+07:00 [DBG] (///) Connection id ""0HND4IS7CHME9"" accepted.
2025-06-06T08:12:53.2214176+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?filter=studentCode%3D%3D%22N22DCCN888%22&pageSize=1" - "application/json" null
2025-06-06T08:12:53.2216254+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students"'
2025-06-06T08:12:53.2216794+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students"' with route pattern '"/api/v{version:apiVersion}/students"' is valid for the request path '"/api/v1/students"'
2025-06-06T08:12:53.2217202+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T08:12:53.2218367+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T08:12:53.2219232+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T08:12:53.2220264+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T08:12:53.2226190+07:00 [DBG] (///) Connection id ""0HND4IS7CHME9"" started.
2025-06-06T08:12:53.2228937+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - "application/json" null
2025-06-06T08:12:53.2230663+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T08:12:53.2231359+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T08:12:53.2231933+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T08:12:53.2233338+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T08:12:53.2233926+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T08:12:53.2220807+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Http.BadHttpRequestException: Required parameter "int Page" was not provided from query string.
   at lambda_method412(Closure, Object, HttpContext)
   at Asp.Versioning.Routing.ReportApiVersionsDecorator.<>c__DisplayClass4_0.<op_Implicit>b__0(HttpContext context)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.Invoke(HttpContext context)
2025-06-06T08:12:53.2257147+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T08:12:53.2256769+07:00 [ERR] (///) HTTP "GET" "/api/v1/students" responded 500 in 3.7021 ms
2025-06-06T08:12:53.2258372+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?filter=studentCode%3D%3D%22N22DCCN888%22&pageSize=1" - 500 null "application/problem+json" 4.4156ms
2025-06-06T08:12:53.2259003+07:00 [DBG] (///) Connection id ""0HND4IS7CHME8"" disconnecting.
2025-06-06T08:12:53.2259207+07:00 [DBG] (///) Connection id ""0HND4IS7CHME8"" stopped.
2025-06-06T08:12:53.2259705+07:00 [DBG] (///) Connection id ""0HND4IS7CHME8"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T08:12:53.2264760+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T08:12:53.2265605+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T08:12:53.2265933+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:12:53.2266385+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:12:53.2268718+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T08:12:53.2269096+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:12:53.2269449+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:12:53.2269936+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.academic_year AS \"AcademicYear\", t.semester::text AS \"Semester\", t.tuition_fee::numeric AS \"TuitionAmount\", (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric AS \"TuitionPaid\"
FROM tuition AS t
WHERE t.student_code = @__studentCode_0"
2025-06-06T08:12:53.2286307+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.academic_year AS \"AcademicYear\", t.semester::text AS \"Semester\", t.tuition_fee::numeric AS \"TuitionAmount\", (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric AS \"TuitionPaid\"
FROM tuition AS t
WHERE t.student_code = @__studentCode_0"
2025-06-06T08:12:53.2289749+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:12:53.2290860+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T08:12:53.2292343+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:12:53.2292990+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:12:53.2294382+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T08:12:53.2294855+07:00 [INF] (///) Writing value of type '"List`1"' as Json.
2025-06-06T08:12:53.2296895+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T08:12:53.2299745+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888/tuitions" responded 200 in 6.4145 ms
2025-06-06T08:12:53.2301100+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T08:12:53.2301666+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:12:53.2302001+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:12:53.2302649+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - 200 null "application/json; charset=utf-8" 7.3623ms
2025-06-06T08:12:53.2303188+07:00 [DBG] (///) Connection id ""0HND4IS7CHME9"" disconnecting.
2025-06-06T08:12:53.2303401+07:00 [DBG] (///) Connection id ""0HND4IS7CHME9"" stopped.
2025-06-06T08:12:53.2303944+07:00 [DBG] (///) Connection id ""0HND4IS7CHME9"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T08:16:25.9264473+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEA"" accepted.
2025-06-06T08:16:25.9266362+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEA"" started.
2025-06-06T08:16:25.9343083+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1.0/students/N22DCCN888/tuitions""" - null null
2025-06-06T08:16:25.9344854+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1.0/students/N22DCCN888/tuitions"'
2025-06-06T08:16:25.9348685+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions"' is valid for the request path '"/api/v1.0/students/N22DCCN888/tuitions"'
2025-06-06T08:16:25.9349476+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T08:16:25.9350674+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T08:16:25.9351249+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T08:16:25.9359773+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T08:16:25.9362522+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T08:16:25.9363024+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T08:16:25.9363276+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:16:25.9364363+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:16:25.9365396+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T08:16:25.9365658+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:16:25.9366004+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:16:25.9366401+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.academic_year AS \"AcademicYear\", t.semester::text AS \"Semester\", t.tuition_fee::numeric AS \"TuitionAmount\", (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric AS \"TuitionPaid\"
FROM tuition AS t
WHERE t.student_code = @__studentCode_0"
2025-06-06T08:16:25.9377540+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.academic_year AS \"AcademicYear\", t.semester::text AS \"Semester\", t.tuition_fee::numeric AS \"TuitionAmount\", (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric AS \"TuitionPaid\"
FROM tuition AS t
WHERE t.student_code = @__studentCode_0"
2025-06-06T08:16:25.9379251+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:16:25.9379766+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T08:16:25.9380570+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:16:25.9380988+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:16:25.9381792+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T08:16:25.9382069+07:00 [INF] (///) Writing value of type '"List`1"' as Json.
2025-06-06T08:16:25.9383417+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T08:16:25.9384066+07:00 [INF] (///) HTTP "GET" "/api/v1.0/students/N22DCCN888/tuitions" responded 200 in 3.3194 ms
2025-06-06T08:16:25.9384700+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEA"" completed keep alive response.
2025-06-06T08:16:25.9384972+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T08:16:25.9385217+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:16:25.9385425+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:16:25.9385892+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1.0/students/N22DCCN888/tuitions""" - 200 null "application/json; charset=utf-8" 4.2842ms
2025-06-06T08:18:37.5798435+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEA"" disconnecting.
2025-06-06T08:18:37.5800741+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEA"" stopped.
2025-06-06T08:18:37.5803856+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEA"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T08:24:57.4107388+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEB"" accepted.
2025-06-06T08:24:57.4108895+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEB"" started.
2025-06-06T08:24:57.4111391+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T08:24:57.4113799+07:00 [DBG] (///) No candidates found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T08:24:57.4115163+07:00 [DBG] (///) Request did not match any endpoints
2025-06-06T08:24:57.4118705+07:00 [DBG] (///) The request path "" does not match the path filter
2025-06-06T08:24:57.4120585+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 404 in 0.3347 ms
2025-06-06T08:24:57.4123175+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 404 0 null 1.0772ms
2025-06-06T08:24:57.4126139+07:00 [INF] (///) Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888", Response status code: 404
2025-06-06T08:24:57.4126775+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEB"" disconnecting.
2025-06-06T08:24:57.4126969+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEB"" stopped.
2025-06-06T08:24:57.4127652+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEB"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T08:24:57.4169760+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEC"" accepted.
2025-06-06T08:24:57.4170423+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEC"" started.
2025-06-06T08:24:57.4172624+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T08:24:57.4173086+07:00 [DBG] (///) No candidates found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T08:24:57.4173393+07:00 [DBG] (///) Request did not match any endpoints
2025-06-06T08:24:57.4174371+07:00 [DBG] (///) The request path "" does not match the path filter
2025-06-06T08:24:57.4175428+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 404 in 0.0696 ms
2025-06-06T08:24:57.4176371+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 404 0 null 0.3823ms
2025-06-06T08:24:57.4177015+07:00 [INF] (///) Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888", Response status code: 404
2025-06-06T08:24:57.4177336+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEC"" disconnecting.
2025-06-06T08:24:57.4177525+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEC"" stopped.
2025-06-06T08:24:57.4177864+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEC"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T08:25:07.3463264+07:00 [DBG] (///) Connection id ""0HND4IS7CHMED"" accepted.
2025-06-06T08:25:07.3464354+07:00 [DBG] (///) Connection id ""0HND4IS7CHMED"" started.
2025-06-06T08:25:07.3466139+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T08:25:07.3466672+07:00 [DBG] (///) No candidates found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T08:25:07.3466872+07:00 [DBG] (///) Request did not match any endpoints
2025-06-06T08:25:07.3468272+07:00 [DBG] (///) The request path "" does not match the path filter
2025-06-06T08:25:07.3469159+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 404 in 0.0558 ms
2025-06-06T08:25:07.3470052+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 404 0 null 0.396ms
2025-06-06T08:25:07.3470337+07:00 [INF] (///) Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888", Response status code: 404
2025-06-06T08:25:07.3470606+07:00 [DBG] (///) Connection id ""0HND4IS7CHMED"" disconnecting.
2025-06-06T08:25:07.3470739+07:00 [DBG] (///) Connection id ""0HND4IS7CHMED"" stopped.
2025-06-06T08:25:07.3471164+07:00 [DBG] (///) Connection id ""0HND4IS7CHMED"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T08:25:07.3516848+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEE"" accepted.
2025-06-06T08:25:07.3517708+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEE"" started.
2025-06-06T08:25:07.3519406+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T08:25:07.3519878+07:00 [DBG] (///) No candidates found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T08:25:07.3520044+07:00 [DBG] (///) Request did not match any endpoints
2025-06-06T08:25:07.3520957+07:00 [DBG] (///) The request path "" does not match the path filter
2025-06-06T08:25:07.3521949+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 404 in 0.0583 ms
2025-06-06T08:25:07.3522918+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 404 0 null 0.3541ms
2025-06-06T08:25:07.3523240+07:00 [INF] (///) Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888", Response status code: 404
2025-06-06T08:25:07.3524221+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEE"" disconnecting.
2025-06-06T08:25:07.3524363+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEE"" stopped.
2025-06-06T08:25:07.3524643+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEE"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T08:25:19.6084000+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEF"" accepted.
2025-06-06T08:25:19.6084675+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEF"" started.
2025-06-06T08:25:19.6086688+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T08:25:19.6087128+07:00 [DBG] (///) No candidates found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T08:25:19.6087287+07:00 [DBG] (///) Request did not match any endpoints
2025-06-06T08:25:19.6088229+07:00 [DBG] (///) The request path "" does not match the path filter
2025-06-06T08:25:19.6089802+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 404 in 0.0536 ms
2025-06-06T08:25:19.6090784+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 404 0 null 0.413ms
2025-06-06T08:25:19.6091087+07:00 [INF] (///) Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888", Response status code: 404
2025-06-06T08:25:19.6091457+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEF"" disconnecting.
2025-06-06T08:25:19.6091592+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEF"" stopped.
2025-06-06T08:25:19.6092307+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEF"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T08:25:19.6150458+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEG"" accepted.
2025-06-06T08:25:19.6151057+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEG"" started.
2025-06-06T08:25:19.6152529+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T08:25:19.6152918+07:00 [DBG] (///) No candidates found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T08:25:19.6153117+07:00 [DBG] (///) Request did not match any endpoints
2025-06-06T08:25:19.6153929+07:00 [DBG] (///) The request path "" does not match the path filter
2025-06-06T08:25:19.6154843+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 404 in 0.0452 ms
2025-06-06T08:25:19.6155786+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 404 0 null 0.3228ms
2025-06-06T08:25:19.6156137+07:00 [INF] (///) Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888", Response status code: 404
2025-06-06T08:25:19.6156399+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEG"" disconnecting.
2025-06-06T08:25:19.6156581+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEG"" stopped.
2025-06-06T08:25:19.6156892+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEG"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T08:25:27.5760887+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEH"" accepted.
2025-06-06T08:25:27.5761620+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEH"" started.
2025-06-06T08:25:27.5763373+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T08:25:27.5763800+07:00 [DBG] (///) No candidates found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T08:25:27.5763986+07:00 [DBG] (///) Request did not match any endpoints
2025-06-06T08:25:27.5764886+07:00 [DBG] (///) The request path "" does not match the path filter
2025-06-06T08:25:27.5765815+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 404 in 0.0517 ms
2025-06-06T08:25:27.5767044+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 404 0 null 0.34ms
2025-06-06T08:25:27.5767462+07:00 [INF] (///) Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888", Response status code: 404
2025-06-06T08:25:27.5767733+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEH"" disconnecting.
2025-06-06T08:25:27.5768118+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEH"" stopped.
2025-06-06T08:25:27.5768542+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEH"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T08:27:08.9835720+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEI"" accepted.
2025-06-06T08:27:08.9837738+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEI"" started.
2025-06-06T08:27:08.9839836+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - "application/json" null
2025-06-06T08:27:08.9841008+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students"'
2025-06-06T08:27:08.9841510+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students"' with route pattern '"/api/v{version:apiVersion}/students"' is valid for the request path '"/api/v1/students"'
2025-06-06T08:27:08.9842026+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T08:27:08.9842857+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T08:27:08.9843691+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T08:27:08.9851199+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T08:27:08.9855544+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T08:27:08.9856796+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T08:27:08.9857031+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:27:08.9893026+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:27:08.9894997+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T08:27:08.9895504+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:27:08.9895698+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:27:08.9896048+07:00 [DBG] (///) Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T08:27:08.9908394+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T08:27:08.9910892+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:27:08.9911367+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T08:27:08.9912111+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:27:08.9912507+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:27:08.9915870+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:27:08.9916278+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:27:08.9917206+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T08:27:08.9917558+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:27:08.9917889+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:27:08.9918363+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T08:27:08.9928230+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T08:27:08.9932175+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:27:08.9932878+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T08:27:08.9933988+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:27:08.9934453+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:27:08.9936329+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T08:27:08.9936882+07:00 [INF] (///) Writing value of type '"PagedList`1"' as Json.
2025-06-06T08:27:08.9940061+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T08:27:08.9940984+07:00 [INF] (///) HTTP "GET" "/api/v1/students" responded 200 in 9.7699 ms
2025-06-06T08:27:08.9941783+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T08:27:08.9942229+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:27:08.9942556+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:27:08.9943062+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - 200 null "application/json; charset=utf-8" 10.3138ms
2025-06-06T08:27:08.9943550+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEI"" disconnecting.
2025-06-06T08:27:08.9943753+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEI"" stopped.
2025-06-06T08:27:08.9944760+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEI"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T08:27:08.9995610+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEJ"" accepted.
2025-06-06T08:27:08.9996477+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEJ"" started.
2025-06-06T08:27:08.9998154+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - "application/json" null
2025-06-06T08:27:08.9999144+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students"'
2025-06-06T08:27:08.9999535+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students"' with route pattern '"/api/v{version:apiVersion}/students"' is valid for the request path '"/api/v1/students"'
2025-06-06T08:27:08.9999818+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T08:27:09.0000531+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T08:27:09.0000882+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T08:27:09.0007846+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T08:27:09.0010715+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T08:27:09.0011575+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T08:27:09.0011777+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:27:09.0012131+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:27:09.0013751+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T08:27:09.0014002+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:27:09.0014129+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:27:09.0014428+07:00 [DBG] (///) Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T08:27:09.0026546+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T08:27:09.0029000+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:27:09.0029628+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T08:27:09.0030510+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:27:09.0030934+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:27:09.0034307+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:27:09.0034805+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:27:09.0035799+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T08:27:09.0036055+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:27:09.0036397+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:27:09.0037302+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T08:27:09.0047587+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T08:27:09.0050090+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:27:09.0050674+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T08:27:09.0051508+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:27:09.0051875+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:27:09.0052909+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T08:27:09.0053261+07:00 [INF] (///) Writing value of type '"PagedList`1"' as Json.
2025-06-06T08:27:09.0054601+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T08:27:09.0055286+07:00 [INF] (///) HTTP "GET" "/api/v1/students" responded 200 in 5.4421 ms
2025-06-06T08:27:09.0055875+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T08:27:09.0056192+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:27:09.0057690+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:27:09.0058233+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - 200 null "application/json; charset=utf-8" 6.0005ms
2025-06-06T08:27:09.0058663+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEJ"" disconnecting.
2025-06-06T08:27:09.0058934+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEJ"" stopped.
2025-06-06T08:27:09.0059388+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEJ"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T08:27:10.8270739+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEK"" accepted.
2025-06-06T08:27:10.8271511+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEK"" started.
2025-06-06T08:27:10.8273279+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T08:27:10.8273705+07:00 [DBG] (///) No candidates found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T08:27:10.8273989+07:00 [DBG] (///) Request did not match any endpoints
2025-06-06T08:27:10.8275291+07:00 [DBG] (///) The request path "" does not match the path filter
2025-06-06T08:27:10.8276289+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 404 in 0.0955 ms
2025-06-06T08:27:10.8277772+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 404 0 null 0.3936ms
2025-06-06T08:27:10.8278088+07:00 [INF] (///) Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888", Response status code: 404
2025-06-06T08:27:10.8278356+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEK"" disconnecting.
2025-06-06T08:27:10.8278511+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEK"" stopped.
2025-06-06T08:27:10.8278841+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEK"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T08:27:10.8334002+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEL"" accepted.
2025-06-06T08:27:10.8334918+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEL"" started.
2025-06-06T08:27:10.8336761+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T08:27:10.8337300+07:00 [DBG] (///) No candidates found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T08:27:10.8337692+07:00 [DBG] (///) Request did not match any endpoints
2025-06-06T08:27:10.8338820+07:00 [DBG] (///) The request path "" does not match the path filter
2025-06-06T08:27:10.8339759+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 404 in 0.0621 ms
2025-06-06T08:27:10.8341260+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 404 0 null 0.4481ms
2025-06-06T08:27:10.8341613+07:00 [INF] (///) Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888", Response status code: 404
2025-06-06T08:27:10.8341832+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEL"" disconnecting.
2025-06-06T08:27:10.8341983+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEL"" stopped.
2025-06-06T08:27:10.8342267+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEL"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T08:27:15.5968257+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEM"" accepted.
2025-06-06T08:27:15.5968929+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEM"" started.
2025-06-06T08:27:15.5970449+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - "application/json" null
2025-06-06T08:27:15.5971369+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students"'
2025-06-06T08:27:15.5971749+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students"' with route pattern '"/api/v{version:apiVersion}/students"' is valid for the request path '"/api/v1/students"'
2025-06-06T08:27:15.5972209+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T08:27:15.5972865+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T08:27:15.5973094+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T08:27:15.5978995+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T08:27:15.5981401+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T08:27:15.5981716+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T08:27:15.5982646+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:27:15.5982975+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:27:15.5984555+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T08:27:15.5984874+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:27:15.5984998+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:27:15.5985222+07:00 [DBG] (///) Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T08:27:15.5996138+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T08:27:15.5998527+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:27:15.5999049+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T08:27:15.5999953+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:27:15.6000394+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:27:15.6004752+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:27:15.6005554+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:27:15.6006469+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T08:27:15.6006760+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:27:15.6007094+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:27:15.6007636+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T08:27:15.6017841+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T08:27:15.6020800+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:27:15.6021416+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T08:27:15.6022255+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:27:15.6022744+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:27:15.6023628+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T08:27:15.6023972+07:00 [INF] (///) Writing value of type '"PagedList`1"' as Json.
2025-06-06T08:27:15.6025622+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T08:27:15.6026416+07:00 [INF] (///) HTTP "GET" "/api/v1/students" responded 200 in 5.3128 ms
2025-06-06T08:27:15.6027036+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T08:27:15.6027478+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:27:15.6027751+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:27:15.6028122+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - 200 null "application/json; charset=utf-8" 5.7646ms
2025-06-06T08:27:15.6028557+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEM"" disconnecting.
2025-06-06T08:27:15.6029771+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEM"" stopped.
2025-06-06T08:27:15.6030255+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEM"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T08:27:15.6083056+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEN"" accepted.
2025-06-06T08:27:15.6083775+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEN"" started.
2025-06-06T08:27:15.6086105+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - "application/json" null
2025-06-06T08:27:15.6087462+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students"'
2025-06-06T08:27:15.6088196+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students"' with route pattern '"/api/v{version:apiVersion}/students"' is valid for the request path '"/api/v1/students"'
2025-06-06T08:27:15.6088650+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T08:27:15.6089682+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T08:27:15.6090135+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T08:27:15.6096487+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T08:27:15.6099094+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T08:27:15.6099438+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T08:27:15.6100538+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:27:15.6100905+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:27:15.6101740+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T08:27:15.6102001+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:27:15.6102257+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:27:15.6102504+07:00 [DBG] (///) Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T08:27:15.6110765+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T08:27:15.6112471+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:27:15.6112985+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T08:27:15.6113763+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:27:15.6114364+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:27:15.6117136+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:27:15.6118140+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:27:15.6118862+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T08:27:15.6119074+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:27:15.6119461+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:27:15.6120275+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T08:27:15.6128789+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T08:27:15.6130729+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:27:15.6131196+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T08:27:15.6131905+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:27:15.6132270+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:27:15.6132948+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T08:27:15.6133262+07:00 [INF] (///) Writing value of type '"PagedList`1"' as Json.
2025-06-06T08:27:15.6134620+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T08:27:15.6135366+07:00 [INF] (///) HTTP "GET" "/api/v1/students" responded 200 in 4.5353 ms
2025-06-06T08:27:15.6135926+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T08:27:15.6136211+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:27:15.6136412+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:27:15.6137024+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - 200 null "application/json; charset=utf-8" 5.0737ms
2025-06-06T08:27:15.6137382+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEN"" disconnecting.
2025-06-06T08:27:15.6137594+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEN"" stopped.
2025-06-06T08:27:15.6138020+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEN"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T08:27:17.3467446+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEO"" accepted.
2025-06-06T08:27:17.3468424+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEO"" started.
2025-06-06T08:27:17.3470286+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T08:27:17.3470857+07:00 [DBG] (///) No candidates found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T08:27:17.3471051+07:00 [DBG] (///) Request did not match any endpoints
2025-06-06T08:27:17.3471982+07:00 [DBG] (///) The request path "" does not match the path filter
2025-06-06T08:27:17.3472827+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 404 in 0.0498 ms
2025-06-06T08:27:17.3473793+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 404 0 null 0.3475ms
2025-06-06T08:27:17.3474063+07:00 [INF] (///) Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888", Response status code: 404
2025-06-06T08:27:17.3474578+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEO"" disconnecting.
2025-06-06T08:27:17.3474890+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEO"" stopped.
2025-06-06T08:27:17.3475200+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEO"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T08:27:17.3567368+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEP"" accepted.
2025-06-06T08:27:17.3568055+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEP"" started.
2025-06-06T08:27:17.3570226+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T08:27:17.3570616+07:00 [DBG] (///) No candidates found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T08:27:17.3570794+07:00 [DBG] (///) Request did not match any endpoints
2025-06-06T08:27:17.3571555+07:00 [DBG] (///) The request path "" does not match the path filter
2025-06-06T08:27:17.3572281+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 404 in 0.0455 ms
2025-06-06T08:27:17.3573052+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 404 0 null 0.2828ms
2025-06-06T08:27:17.3573331+07:00 [INF] (///) Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888", Response status code: 404
2025-06-06T08:27:17.3573625+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEP"" disconnecting.
2025-06-06T08:27:17.3573731+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEP"" stopped.
2025-06-06T08:27:17.3573997+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEP"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T08:27:26.7242026+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEQ"" accepted.
2025-06-06T08:27:26.7242911+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEQ"" started.
2025-06-06T08:27:26.7244769+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T08:27:26.7245217+07:00 [DBG] (///) No candidates found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T08:27:26.7245388+07:00 [DBG] (///) Request did not match any endpoints
2025-06-06T08:27:26.7246360+07:00 [DBG] (///) The request path "" does not match the path filter
2025-06-06T08:27:26.7247375+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 404 in 0.0564 ms
2025-06-06T08:27:26.7248223+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 404 0 null 0.3458ms
2025-06-06T08:27:26.7248482+07:00 [INF] (///) Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888", Response status code: 404
2025-06-06T08:27:26.7248717+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEQ"" disconnecting.
2025-06-06T08:27:26.7249418+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEQ"" stopped.
2025-06-06T08:27:26.7249738+07:00 [DBG] (///) Connection id ""0HND4IS7CHMEQ"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T08:27:35.4027576+07:00 [INF] (///) Application is shutting down...
2025-06-06T08:27:35.4034068+07:00 [DBG] (///) Hosting stopping
2025-06-06T08:27:35.4068232+07:00 [DBG] (///) Hosting stopped
2025-06-06T08:27:39.1165386+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-06T08:27:39.1764663+07:00 [INF] (///) No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-06-06T08:27:39.1798668+07:00 [DBG] (///) Hosting starting
2025-06-06T08:27:39.3068200+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-06T08:27:39.3071672+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-06T08:27:39.3702619+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-06T08:27:39.3717698+07:00 [WRN] (///) Overriding address(es) '"https://localhost:31001"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-06T08:27:39.3762804+07:00 [INF] (///) Now listening on: "http://localhost:14100"
2025-06-06T08:27:39.3769125+07:00 [INF] (///) Now listening on: "https://localhost:14101"
2025-06-06T08:27:39.3770223+07:00 [DBG] (///) Loaded hosting startup assembly "TuitionService.Api"
2025-06-06T08:27:39.3771772+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-06T08:27:39.3772170+07:00 [INF] (///) Hosting environment: "Development"
2025-06-06T08:27:39.3772370+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api"
2025-06-06T08:27:39.3772706+07:00 [DBG] (///) Hosting started
2025-06-06T08:27:39.8701001+07:00 [DBG] (///) Connection id ""0HND4J59S5CIH"" accepted.
2025-06-06T08:27:39.8708426+07:00 [DBG] (///) Connection id ""0HND4J59S5CIH"" started.
2025-06-06T08:27:39.8926064+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T08:27:39.9705569+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T08:27:39.9740030+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T08:27:39.9777036+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T08:27:39.9833096+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T08:27:39.9842887+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T08:27:40.1064436+07:00 [DBG] (///) An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration changed for 'Core:EnableSensitiveDataLogging', configuration changed for 'Core:EnableDetailedErrors', configuration changed for 'Core:ConfigureWarnings', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseAdminDatabase', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:SetPostgresVersion', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseRedshift', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ReverseNullOrdering', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:RemoteCertificateValidationCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvideClientCertificatesCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvidePasswordCallback'".
2025-06-06T08:27:40.4697733+07:00 [DBG] (///) The index "{'StudentCode'}" was not created on entity type '"Tuition"' as the properties are already covered by the index "{'StudentCode', 'AcademicYear', 'Semester'}".
2025-06-06T08:27:40.4700283+07:00 [DBG] (///) The index "{'StudentCode', 'AcademicYear', 'Semester'}" was not created on entity type '"TuitionPayment"' as the properties are already covered by the index "{'StudentCode', 'AcademicYear', 'Semester', 'PaymentDate'}".
2025-06-06T08:27:40.5251806+07:00 [WRN] (///) Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-06-06T08:27:40.5416878+07:00 [WRN] (///) The foreign key property '"GlobalStudentCode"."StudentBasicInfoStudentCode1"' was created in shadow state because a conflicting property with the simple name '"StudentBasicInfoStudentCode"' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-06T08:27:40.6167310+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T08:27:40.6560006+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<StudentBasicInfo>()
    .Where(s => s.StudentCode == __studentCode_0)
    .Select(s => new StudentDetailResponse{ 
        StudentCode = s.StudentCode, 
        LastName = s.LastName, 
        FirstName = s.FirstName, 
        ClassCode = s.ClassCode, 
        FacultyCode = s.FacultyCode, 
        Tuitions = s.Tuitions
            .Select(t => new TuitionResponse{ 
                AcademicYear = t.AcademicYear, 
                Semester = t.Semester.ToString(), 
                TuitionAmount = (decimal)t.TuitionFee, 
                TuitionPaid = (decimal)t.TuitionPayments
                    .Sum(p => p.AmountPaid) 
            }
            )
            .ToList() 
    }
    )
    .FirstOrDefault()"'
2025-06-06T08:27:40.8711200+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<StudentDetailResponse>(
    asyncEnumerable: SingleQueryingEnumerable.Create<StudentDetailResponse>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> 0
                1 -> 1
                2 -> 2
                3 -> 3
                4 -> 4
                5 -> 5
                6 -> 6
                7 -> 7
                8 -> 8
                9 -> 9
                10 -> 10
            SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, COALESCE(CAST(t.semester AS text), ''), CAST(t.tuition_fee AS numeric), CAST((
                SELECT CAST(sum(t0.amount_paid) AS integer)
                FROM tuition_payment AS t0
                WHERE (((t.student_code != NULL) && (t.academic_year != NULL)) && (t.semester != NULL)) && (((t.student_code == t0.student_code) && (t.academic_year == t0.academic_year)) && (t.semester == t0.semester))) AS numeric), t.student_code, t.semester
            FROM 
            (
                SELECT TOP(1) s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
                FROM student_basic_info AS s
                WHERE s.student_code == @__studentCode_0
            ) AS s0
            LEFT JOIN tuition AS t ON s0.student_code == t.student_code
            ORDER BY s0.student_code ASC, t.student_code ASC, t.academic_year ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> 0
                1 -> 1
                2 -> 2
                3 -> 3
                4 -> 4
                5 -> 5
                6 -> 6
                7 -> 7
                8 -> 8
                9 -> 9
                10 -> 10
            SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, COALESCE(CAST(t.semester AS text), ''), CAST(t.tuition_fee AS numeric), CAST((
                SELECT CAST(sum(t0.amount_paid) AS integer)
                FROM tuition_payment AS t0
                WHERE (((t.student_code != NULL) && (t.academic_year != NULL)) && (t.semester != NULL)) && (((t.student_code == t0.student_code) && (t.academic_year == t0.academic_year)) && (t.semester == t0.semester))) AS numeric), t.student_code, t.semester
            FROM 
            (
                SELECT TOP(1) s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
                FROM student_basic_info AS s
                WHERE s.student_code == @__studentCode_0
            ) AS s0
            LEFT JOIN tuition AS t ON s0.student_code == t.student_code
            ORDER BY s0.student_code ASC, t.student_code ASC, t.academic_year ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                string value1;
                string value2;
                string value3;
                string value4;
                string value5;
                List<TuitionResponse> namelessParameter{0};
                value1 = try { dataReader.GetString(0) } catch (Exception) { ... } ;
                value2 = try { dataReader.GetString(1) } catch (Exception) { ... } ;
                value3 = try { dataReader.GetString(2) } catch (Exception) { ... } ;
                value4 = try { dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3) } catch (Exception) { ... } ;
                value5 = try { dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4) } catch (Exception) { ... } ;
                namelessParameter{0} = ShaperProcessingExpressionVisitor.InitializeCollection<TuitionResponse, List<TuitionResponse>>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ try { dataReader.GetString(0) } catch (Exception) { ... }  }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ try { dataReader.GetString(0) } catch (Exception) { ... }  }], 
                    clrCollectionAccessor: default(IClrCollectionAccessor));
                return resultContext.Values = new object[]
                { 
                    value1, 
                    value2, 
                    value3, 
                    value4, 
                    value5, 
                    namelessParameter{0} 
                };
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateCollection<List<TuitionResponse>, TuitionResponse, TuitionResponse>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ try { dataReader.GetString(0) } catch (Exception) { ... }  }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ try { dataReader.GetString(0) } catch (Exception) { ... }  }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    try { dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9) } catch (Exception) { ... } , 
                    try { dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5) } catch (Exception) { ... } , 
                    (object)try { dataReader.IsDBNull(10) ? default(int?) : (int?)dataReader.GetInt32(10) } catch (Exception) { ... }  
                }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (string)left == (string)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (string)left == (string)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
                { 
                    (left, right) => left == null ? right == null : right != null && (string)left == (string)right, 
                    (left, right) => left == null ? right == null : right != null && (string)left == (string)right, 
                    (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
                }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    string value1;
                    string value2;
                    decimal? value3;
                    decimal? value4;
                    value1 = try { dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5) } catch (Exception) { ... } ;
                    value2 = try { dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6) } catch (Exception) { ... } ;
                    value3 = try { dataReader.IsDBNull(7) ? default(decimal?) : (decimal?)dataReader.GetDecimal(7) } catch (Exception) { ... } ;
                    value4 = try { dataReader.IsDBNull(8) ? default(decimal?) : (decimal?)dataReader.GetDecimal(8) } catch (Exception) { ... } ;
                    return new TuitionResponse{ 
                        AcademicYear = value1, 
                        Semester = value2, 
                        TuitionAmount = (decimal)value3, 
                        TuitionPaid = (decimal)value4 
                    }
                    ;
                });
            return IsTrue(resultCoordinator.ResultReady)
             ? new StudentDetailResponse{ 
                StudentCode = (string)(resultContext.Values[0]), 
                LastName = (string)(resultContext.Values[1]), 
                FirstName = (string)(resultContext.Values[2]), 
                ClassCode = (string)(resultContext.Values[3]), 
                FacultyCode = (string)(resultContext.Values[4]), 
                Tuitions = (List<TuitionResponse>)(resultContext.Values[5]) 
            }
             : default(StudentDetailResponse);
        }, 
        contextType: TuitionService.Domain.TuitionDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: True, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)"'
2025-06-06T08:27:40.9022521+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T08:27:40.9270837+07:00 [DBG] (///) Created DbConnection. (22ms).
2025-06-06T08:27:40.9297485+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:27:40.9937370+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:27:40.9996535+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T08:27:41.0045759+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (2ms).
2025-06-06T08:27:41.0101333+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (10ms).
2025-06-06T08:27:41.0169534+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T08:27:41.0812466+07:00 [INF] (///) Executed DbCommand ("61"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T08:27:41.1040983+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:27:41.1126524+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 24ms reading results.
2025-06-06T08:27:41.1175841+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:27:41.1226057+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (4ms).
2025-06-06T08:27:41.1245952+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T08:27:41.1328207+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T08:27:41.1570973+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T08:27:41.1648690+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 1178.7024 ms
2025-06-06T08:27:41.1711550+07:00 [DBG] (///) Connection id ""0HND4J59S5CIH"" received FIN.
2025-06-06T08:27:41.1714736+07:00 [DBG] (///) Connection id ""0HND4J59S5CIH"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T08:27:41.1741481+07:00 [DBG] (///) Connection id ""0HND4J59S5CIH"" disconnecting.
2025-06-06T08:27:41.1769971+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T08:27:41.1832539+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:27:41.1856512+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (3ms).
2025-06-06T08:27:41.1874964+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 1296.2879ms
2025-06-06T08:27:41.1912949+07:00 [DBG] (///) Connection id ""0HND4J59S5CIH"" stopped.
2025-06-06T08:31:26.3098322+07:00 [DBG] (///) Connection id ""0HND4J59S5CII"" accepted.
2025-06-06T08:31:26.3102278+07:00 [DBG] (///) Connection id ""0HND4J59S5CII"" started.
2025-06-06T08:31:26.3108669+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - "application/json" null
2025-06-06T08:31:26.3119439+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students"'
2025-06-06T08:31:26.3121381+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students"' with route pattern '"/api/v{version:apiVersion}/students"' is valid for the request path '"/api/v1/students"'
2025-06-06T08:31:26.3123173+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T08:31:26.3126597+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T08:31:26.3128014+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T08:31:26.3422881+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T08:31:26.3463677+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<StudentBasicInfo>()
    .AsNoTracking()
    .Select(s => new StudentBasicInfo{ 
        StudentCode = s.StudentCode, 
        LastName = s.LastName, 
        FirstName = s.FirstName, 
        ClassCode = s.ClassCode, 
        FacultyCode = s.FacultyCode 
    }
    )
    .Count()"'
2025-06-06T08:31:26.3515680+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT CAST(count(*) AS integer)
            FROM student_basic_info AS s) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT CAST(count(*) AS integer)
            FROM student_basic_info AS s, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = try { dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0) } catch (Exception) { ... } ;
            return (int)value1;
        }, 
        contextType: TuitionService.Domain.TuitionDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: True, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)"'
2025-06-06T08:31:26.3551032+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T08:31:26.3552036+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T08:31:26.3552413+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:31:26.3556295+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:31:26.3558894+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T08:31:26.3560049+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:31:26.3560934+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:31:26.3561823+07:00 [DBG] (///) Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T08:31:26.3592294+07:00 [INF] (///) Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T08:31:26.3614563+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:31:26.3615804+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 2ms reading results.
2025-06-06T08:31:26.3616961+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:31:26.3617589+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:31:26.3639721+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<StudentBasicInfo>()
    .AsNoTracking()
    .Select(s => new StudentBasicInfo{ 
        StudentCode = s.StudentCode, 
        LastName = s.LastName, 
        FirstName = s.FirstName, 
        ClassCode = s.ClassCode, 
        FacultyCode = s.FacultyCode 
    }
    )
    .Skip(__p_0)
    .Take(__p_1)"'
2025-06-06T08:31:26.3657348+07:00 [WRN] (///) The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-06T08:31:26.3667145+07:00 [WRN] (///) The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-06T08:31:26.3690851+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => SingleQueryingEnumerable.Create<StudentBasicInfo>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            StudentCode -> 0
            LastName -> 1
            FirstName -> 2
            ClassCode -> 3
            FacultyCode -> 4
        SELECT s.student_code AS StudentCode, s.last_name AS LastName, s.first_name AS FirstName, s.class_code AS ClassCode, s.faculty_code AS FacultyCode
        FROM student_basic_info AS s
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            StudentCode -> 0
            LastName -> 1
            FirstName -> 2
            ClassCode -> 3
            FacultyCode -> 4
        SELECT s.student_code AS StudentCode, s.last_name AS LastName, s.first_name AS FirstName, s.class_code AS ClassCode, s.faculty_code AS FacultyCode
        FROM student_basic_info AS s
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        string value1;
        string value2;
        string value3;
        string value4;
        string value5;
        value1 = try { dataReader.GetString(0) } catch (Exception) { ... } ;
        value2 = try { dataReader.GetString(1) } catch (Exception) { ... } ;
        value3 = try { dataReader.GetString(2) } catch (Exception) { ... } ;
        value4 = try { dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3) } catch (Exception) { ... } ;
        value5 = try { dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4) } catch (Exception) { ... } ;
        return new StudentBasicInfo{ 
            StudentCode = value1, 
            LastName = value2, 
            FirstName = value3, 
            ClassCode = value4, 
            FacultyCode = value5 
        }
        ;
    }, 
    contextType: TuitionService.Domain.TuitionDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: True, 
    threadSafetyChecksEnabled: True)"'
2025-06-06T08:31:26.3702899+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:31:26.3703883+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:31:26.3705873+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T08:31:26.3706271+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:31:26.3706911+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:31:26.3707968+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T08:31:26.3725276+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T08:31:26.3735593+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:31:26.3736265+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T08:31:26.3737157+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:31:26.3737670+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:31:26.3743943+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T08:31:26.3770500+07:00 [INF] (///) Writing value of type '"PagedList`1"' as Json.
2025-06-06T08:31:26.3819722+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T08:31:26.3824372+07:00 [INF] (///) HTTP "GET" "/api/v1/students" responded 200 in 69.4675 ms
2025-06-06T08:31:26.3827839+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T08:31:26.3829577+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:31:26.3830493+07:00 [DBG] (///) Connection id ""0HND4J59S5CII"" received FIN.
2025-06-06T08:31:26.3830615+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:31:26.3831900+07:00 [DBG] (///) Connection id ""0HND4J59S5CII"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T08:31:26.3832678+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - 200 null "application/json; charset=utf-8" 72.3345ms
2025-06-06T08:31:26.3833958+07:00 [DBG] (///) Connection id ""0HND4J59S5CII"" disconnecting.
2025-06-06T08:31:26.3847671+07:00 [DBG] (///) Connection id ""0HND4J59S5CII"" stopped.
2025-06-06T08:31:26.3866077+07:00 [DBG] (///) Connection id ""0HND4J59S5CIJ"" accepted.
2025-06-06T08:31:26.3867073+07:00 [DBG] (///) Connection id ""0HND4J59S5CIJ"" started.
2025-06-06T08:31:26.3869127+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - "application/json" null
2025-06-06T08:31:26.3870877+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students"'
2025-06-06T08:31:26.3871520+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students"' with route pattern '"/api/v{version:apiVersion}/students"' is valid for the request path '"/api/v1/students"'
2025-06-06T08:31:26.3872100+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T08:31:26.3873216+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T08:31:26.3873935+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T08:31:26.4177201+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T08:31:26.4203967+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T08:31:26.4204835+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T08:31:26.4205167+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:31:26.4205665+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:31:26.4206903+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T08:31:26.4207312+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:31:26.4207639+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:31:26.4208091+07:00 [DBG] (///) Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T08:31:26.4218537+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T08:31:26.4223150+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:31:26.4223838+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T08:31:26.4224731+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:31:26.4225299+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:31:26.4228389+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:31:26.4228861+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:31:26.4229781+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T08:31:26.4230089+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:31:26.4230488+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:31:26.4230997+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T08:31:26.4237681+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T08:31:26.4239285+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:31:26.4239784+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T08:31:26.4240584+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:31:26.4241077+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:31:26.4242377+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T08:31:26.4242971+07:00 [INF] (///) Writing value of type '"PagedList`1"' as Json.
2025-06-06T08:31:26.4245132+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T08:31:26.4246290+07:00 [INF] (///) HTTP "GET" "/api/v1/students" responded 200 in 37.2402 ms
2025-06-06T08:31:26.4247152+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T08:31:26.4247571+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:31:26.4247898+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:31:26.4249524+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - 200 null "application/json; charset=utf-8" 38.0316ms
2025-06-06T08:31:26.4250231+07:00 [DBG] (///) Connection id ""0HND4J59S5CIJ"" disconnecting.
2025-06-06T08:31:26.4250521+07:00 [DBG] (///) Connection id ""0HND4J59S5CIJ"" stopped.
2025-06-06T08:31:26.4251223+07:00 [DBG] (///) Connection id ""0HND4J59S5CIJ"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T08:31:27.2919871+07:00 [DBG] (///) Connection id ""0HND4J59S5CIK"" accepted.
2025-06-06T08:31:27.2920608+07:00 [DBG] (///) Connection id ""0HND4J59S5CIK"" started.
2025-06-06T08:31:27.2922821+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T08:31:27.2924220+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T08:31:27.2924680+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T08:31:27.2925032+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T08:31:27.2925853+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T08:31:27.2926205+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T08:31:27.2935041+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T08:31:27.2943480+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T08:31:27.2944358+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T08:31:27.2944632+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:31:27.2945127+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:31:27.2946542+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T08:31:27.2946875+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:31:27.2947225+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:31:27.2947762+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T08:31:27.2959628+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T08:31:27.2962327+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:31:27.2962837+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T08:31:27.2963776+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:31:27.2964136+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:31:27.2965398+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T08:31:27.2965785+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T08:31:27.2967795+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T08:31:27.2968762+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 4.2334 ms
2025-06-06T08:31:27.2969489+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T08:31:27.2969805+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:31:27.2969996+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:31:27.2970546+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 4.7606ms
2025-06-06T08:31:27.2971049+07:00 [DBG] (///) Connection id ""0HND4J59S5CIK"" disconnecting.
2025-06-06T08:31:27.2971255+07:00 [DBG] (///) Connection id ""0HND4J59S5CIK"" stopped.
2025-06-06T08:31:27.2971562+07:00 [DBG] (///) Connection id ""0HND4J59S5CIK"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T08:31:27.3016094+07:00 [DBG] (///) Connection id ""0HND4J59S5CIL"" accepted.
2025-06-06T08:31:27.3016680+07:00 [DBG] (///) Connection id ""0HND4J59S5CIL"" started.
2025-06-06T08:31:27.3018833+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T08:31:27.3019924+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T08:31:27.3020343+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T08:31:27.3020968+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T08:31:27.3021759+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T08:31:27.3022099+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T08:31:27.3029713+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T08:31:27.3033807+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T08:31:27.3034179+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T08:31:27.3035192+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:31:27.3035567+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:31:27.3036753+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T08:31:27.3036997+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:31:27.3037267+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:31:27.3037647+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T08:31:27.3052066+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T08:31:27.3055286+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:31:27.3055884+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T08:31:27.3056656+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:31:27.3057040+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:31:27.3058493+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T08:31:27.3058835+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T08:31:27.3060646+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T08:31:27.3061636+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 3.9250 ms
2025-06-06T08:31:27.3062325+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T08:31:27.3062648+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:31:27.3062874+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:31:27.3063383+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 4.4551ms
2025-06-06T08:31:27.3063903+07:00 [DBG] (///) Connection id ""0HND4J59S5CIL"" disconnecting.
2025-06-06T08:31:27.3064102+07:00 [DBG] (///) Connection id ""0HND4J59S5CIL"" stopped.
2025-06-06T08:31:27.3064388+07:00 [DBG] (///) Connection id ""0HND4J59S5CIL"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T08:32:07.8278412+07:00 [DBG] (///) Connection id ""0HND4J59S5CIM"" accepted.
2025-06-06T08:32:07.8281353+07:00 [DBG] (///) Connection id ""0HND4J59S5CIM"" started.
2025-06-06T08:32:07.8284722+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T08:32:07.8286607+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T08:32:07.8287148+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T08:32:07.8287645+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T08:32:07.8289240+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T08:32:07.8290106+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T08:32:07.8297236+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T08:32:07.8300800+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T08:32:07.8301158+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T08:32:07.8301485+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:32:07.8301906+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:32:07.8303830+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T08:32:07.8304695+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:32:07.8305009+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:32:07.8305461+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T08:32:07.8318010+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T08:32:07.8321010+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:32:07.8321768+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T08:32:07.8322783+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:32:07.8323242+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:32:07.8324321+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T08:32:07.8324680+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T08:32:07.8327361+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T08:32:07.8328519+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 3.8632 ms
2025-06-06T08:32:07.8329310+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T08:32:07.8329695+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:32:07.8329910+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:32:07.8330339+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 4.5642ms
2025-06-06T08:32:07.8330790+07:00 [DBG] (///) Connection id ""0HND4J59S5CIM"" disconnecting.
2025-06-06T08:32:07.8331048+07:00 [DBG] (///) Connection id ""0HND4J59S5CIM"" stopped.
2025-06-06T08:32:07.8331288+07:00 [DBG] (///) Connection id ""0HND4J59S5CIM"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T08:32:21.6033630+07:00 [DBG] (///) Connection id ""0HND4J59S5CIN"" accepted.
2025-06-06T08:32:21.6034370+07:00 [DBG] (///) Connection id ""0HND4J59S5CIN"" started.
2025-06-06T08:32:21.6036176+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T08:32:21.6037797+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T08:32:21.6038160+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T08:32:21.6038521+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T08:32:21.6039205+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T08:32:21.6040047+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T08:32:21.6047316+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T08:32:21.6050612+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T08:32:21.6050942+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T08:32:21.6051161+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:32:21.6051531+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:32:21.6052730+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T08:32:21.6052952+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:32:21.6053267+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:32:21.6053669+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T08:32:21.6064678+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T08:32:21.6066369+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:32:21.6066794+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T08:32:21.6067491+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:32:21.6067828+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:32:21.6068471+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T08:32:21.6068742+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T08:32:21.6069971+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T08:32:21.6070723+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 3.1052 ms
2025-06-06T08:32:21.6071379+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T08:32:21.6071612+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:32:21.6072732+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:32:21.6073204+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 3.6977ms
2025-06-06T08:32:21.6073646+07:00 [DBG] (///) Connection id ""0HND4J59S5CIN"" disconnecting.
2025-06-06T08:32:21.6073805+07:00 [DBG] (///) Connection id ""0HND4J59S5CIN"" stopped.
2025-06-06T08:32:21.6074170+07:00 [DBG] (///) Connection id ""0HND4J59S5CIN"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T08:32:40.0343795+07:00 [DBG] (///) Connection id ""0HND4J59S5CIO"" accepted.
2025-06-06T08:32:40.0344473+07:00 [DBG] (///) Connection id ""0HND4J59S5CIO"" started.
2025-06-06T08:32:40.0347075+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T08:32:40.0348451+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T08:32:40.0349590+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T08:32:40.0350132+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T08:32:40.0351195+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T08:32:40.0351722+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T08:32:40.0359253+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T08:32:40.0363814+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T08:32:40.0364315+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T08:32:40.0364590+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:32:40.0365155+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:32:40.0367182+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T08:32:40.0367659+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:32:40.0368096+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:32:40.0369613+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T08:32:40.0391045+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T08:32:40.0394254+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:32:40.0395028+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T08:32:40.0396590+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:32:40.0397264+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:32:40.0398876+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T08:32:40.0399815+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T08:32:40.0401955+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T08:32:40.0404544+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 5.1424 ms
2025-06-06T08:32:40.0405809+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T08:32:40.0406372+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:32:40.0406814+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:32:40.0407792+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 6.0505ms
2025-06-06T08:32:40.0408549+07:00 [DBG] (///) Connection id ""0HND4J59S5CIO"" disconnecting.
2025-06-06T08:32:40.0409200+07:00 [DBG] (///) Connection id ""0HND4J59S5CIO"" stopped.
2025-06-06T08:32:40.0409815+07:00 [DBG] (///) Connection id ""0HND4J59S5CIO"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T08:32:50.7820898+07:00 [DBG] (///) Connection id ""0HND4J59S5CIP"" accepted.
2025-06-06T08:32:50.7821577+07:00 [DBG] (///) Connection id ""0HND4J59S5CIP"" started.
2025-06-06T08:32:50.7823617+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T08:32:50.7824956+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T08:32:50.7825788+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T08:32:50.7826221+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T08:32:50.7827172+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T08:32:50.7827701+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T08:32:50.7835598+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T08:32:50.7841736+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T08:32:50.7842235+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T08:32:50.7842566+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:32:50.7878755+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:32:50.7880387+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T08:32:50.7880821+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:32:50.7881192+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:32:50.7881730+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T08:32:50.7903923+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T08:32:50.7906384+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:32:50.7907040+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T08:32:50.7908683+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:32:50.7909271+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:32:50.7910629+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T08:32:50.7910982+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T08:32:50.7912713+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T08:32:50.7913749+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 8.6094 ms
2025-06-06T08:32:50.7914632+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T08:32:50.7915093+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:32:50.7915319+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:32:50.7916475+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 9.2394ms
2025-06-06T08:32:50.7917067+07:00 [DBG] (///) Connection id ""0HND4J59S5CIP"" disconnecting.
2025-06-06T08:32:50.7917373+07:00 [DBG] (///) Connection id ""0HND4J59S5CIP"" stopped.
2025-06-06T08:32:50.7918192+07:00 [DBG] (///) Connection id ""0HND4J59S5CIP"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T08:33:16.9631940+07:00 [DBG] (///) Connection id ""0HND4J59S5CIQ"" accepted.
2025-06-06T08:33:16.9632548+07:00 [DBG] (///) Connection id ""0HND4J59S5CIQ"" started.
2025-06-06T08:33:16.9634340+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T08:33:16.9635718+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T08:33:16.9636232+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T08:33:16.9636648+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T08:33:16.9638325+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T08:33:16.9638797+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T08:33:16.9645010+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T08:33:16.9648630+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T08:33:16.9648939+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T08:33:16.9649235+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:33:16.9649680+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:33:16.9651080+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T08:33:16.9651377+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:33:16.9651793+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:33:16.9652373+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T08:33:16.9663556+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T08:33:16.9665736+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:33:16.9666376+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T08:33:16.9667365+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:33:16.9667803+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:33:16.9668808+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T08:33:16.9669176+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T08:33:16.9670482+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T08:33:16.9671325+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 3.2566 ms
2025-06-06T08:33:16.9672093+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T08:33:16.9672437+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:33:16.9672785+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:33:16.9673321+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 3.8975ms
2025-06-06T08:33:16.9673854+07:00 [DBG] (///) Connection id ""0HND4J59S5CIQ"" disconnecting.
2025-06-06T08:33:16.9674062+07:00 [DBG] (///) Connection id ""0HND4J59S5CIQ"" stopped.
2025-06-06T08:33:16.9675164+07:00 [DBG] (///) Connection id ""0HND4J59S5CIQ"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T08:33:34.0997541+07:00 [DBG] (///) Connection id ""0HND4J59S5CIR"" accepted.
2025-06-06T08:33:34.0998181+07:00 [DBG] (///) Connection id ""0HND4J59S5CIR"" started.
2025-06-06T08:33:34.1000145+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T08:33:34.1001937+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T08:33:34.1002474+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T08:33:34.1003079+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T08:33:34.1004098+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T08:33:34.1004588+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T08:33:34.1013236+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T08:33:34.1018129+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T08:33:34.1018585+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T08:33:34.1019141+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:33:34.1019619+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:33:34.1021133+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T08:33:34.1021805+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:33:34.1022331+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:33:34.1022932+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T08:33:34.1038674+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T08:33:34.1040861+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:33:34.1041887+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T08:33:34.1043186+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:33:34.1043873+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:33:34.1045603+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T08:33:34.1046111+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T08:33:34.1047962+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T08:33:34.1049246+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 4.4493 ms
2025-06-06T08:33:34.1050600+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T08:33:34.1051071+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:33:34.1051475+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:33:34.1052275+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 5.1978ms
2025-06-06T08:33:34.1053057+07:00 [DBG] (///) Connection id ""0HND4J59S5CIR"" disconnecting.
2025-06-06T08:33:34.1053374+07:00 [DBG] (///) Connection id ""0HND4J59S5CIR"" stopped.
2025-06-06T08:33:34.1053947+07:00 [DBG] (///) Connection id ""0HND4J59S5CIR"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T08:34:48.4752829+07:00 [DBG] (///) Connection id ""0HND4J59S5CIS"" accepted.
2025-06-06T08:34:48.4755631+07:00 [DBG] (///) Connection id ""0HND4J59S5CIS"" started.
2025-06-06T08:34:48.4763506+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T08:34:48.4764690+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T08:34:48.4765261+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T08:34:48.4765911+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T08:34:48.4767325+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T08:34:48.4767840+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T08:34:48.4773815+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T08:34:48.4777731+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T08:34:48.4778182+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T08:34:48.4778413+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:34:48.4778866+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:34:48.4780198+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T08:34:48.4780512+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:34:48.4781001+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:34:48.4781551+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T08:34:48.4798007+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T08:34:48.4800550+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:34:48.4801245+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T08:34:48.4802105+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:34:48.4802627+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:34:48.4803617+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T08:34:48.4803970+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T08:34:48.4805411+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T08:34:48.4806360+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 3.8517 ms
2025-06-06T08:34:48.4807144+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T08:34:48.4807512+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:34:48.4807888+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:34:48.4809919+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 4.6343ms
2025-06-06T08:34:48.4811406+07:00 [DBG] (///) Connection id ""0HND4J59S5CIS"" disconnecting.
2025-06-06T08:34:48.4811731+07:00 [DBG] (///) Connection id ""0HND4J59S5CIS"" stopped.
2025-06-06T08:34:48.4812415+07:00 [DBG] (///) Connection id ""0HND4J59S5CIS"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T08:34:48.7080679+07:00 [DBG] (///) Connection id ""0HND4J59S5CIT"" accepted.
2025-06-06T08:34:48.7081462+07:00 [DBG] (///) Connection id ""0HND4J59S5CIT"" started.
2025-06-06T08:34:48.7088183+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T08:34:48.7089825+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T08:34:48.7090336+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T08:34:48.7090835+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T08:34:48.7091745+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T08:34:48.7093235+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T08:34:48.7101434+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T08:34:48.7107407+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T08:34:48.7108005+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T08:34:48.7108273+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:34:48.7108889+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:34:48.7110521+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T08:34:48.7110944+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:34:48.7111370+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:34:48.7111877+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T08:34:48.7127148+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T08:34:48.7130065+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:34:48.7130759+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T08:34:48.7131791+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:34:48.7132304+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:34:48.7133383+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T08:34:48.7133791+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T08:34:48.7136084+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T08:34:48.7137312+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 4.4866 ms
2025-06-06T08:34:48.7138294+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T08:34:48.7138678+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:34:48.7139001+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:34:48.7139597+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 5.1383ms
2025-06-06T08:34:48.7140213+07:00 [DBG] (///) Connection id ""0HND4J59S5CIT"" disconnecting.
2025-06-06T08:34:48.7140852+07:00 [DBG] (///) Connection id ""0HND4J59S5CIT"" stopped.
2025-06-06T08:34:48.7141479+07:00 [DBG] (///) Connection id ""0HND4J59S5CIT"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T08:35:20.9021836+07:00 [DBG] (///) Connection id ""0HND4J59S5CIU"" accepted.
2025-06-06T08:35:20.9024690+07:00 [DBG] (///) Connection id ""0HND4J59S5CIU"" started.
2025-06-06T08:35:20.9026614+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T08:35:20.9027947+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T08:35:20.9028478+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T08:35:20.9028974+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T08:35:20.9030052+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T08:35:20.9031366+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T08:35:20.9038604+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T08:35:20.9044262+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T08:35:20.9044835+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T08:35:20.9045287+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:35:20.9045848+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:35:20.9047585+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T08:35:20.9048077+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:35:20.9048690+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:35:20.9050562+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T08:35:20.9065738+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T08:35:20.9068662+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:35:20.9069631+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T08:35:20.9070967+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:35:20.9071680+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:35:20.9073074+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T08:35:20.9073720+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T08:35:20.9075339+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T08:35:20.9076583+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 4.5878 ms
2025-06-06T08:35:20.9077701+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T08:35:20.9078142+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:35:20.9078495+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:35:20.9079268+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 5.2578ms
2025-06-06T08:35:20.9079925+07:00 [DBG] (///) Connection id ""0HND4J59S5CIU"" disconnecting.
2025-06-06T08:35:20.9080172+07:00 [DBG] (///) Connection id ""0HND4J59S5CIU"" stopped.
2025-06-06T08:35:20.9080720+07:00 [DBG] (///) Connection id ""0HND4J59S5CIU"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T08:49:38.3528026+07:00 [DBG] (///) Connection id ""0HND4J59S5CIV"" accepted.
2025-06-06T08:49:38.3529835+07:00 [DBG] (///) Connection id ""0HND4J59S5CIV"" started.
2025-06-06T08:49:38.3531788+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T08:49:38.3533118+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T08:49:38.3533670+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T08:49:38.3534159+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T08:49:38.3535087+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T08:49:38.3535543+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T08:49:38.3544429+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T08:49:38.3550105+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T08:49:38.3550626+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T08:49:38.3550904+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:49:38.3602119+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:49:38.3604175+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T08:49:38.3605004+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:49:38.3605442+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:49:38.3606109+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T08:49:38.3640038+07:00 [INF] (///) Executed DbCommand ("3"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T08:49:38.3642559+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:49:38.3643385+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T08:49:38.3644399+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:49:38.3645411+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:49:38.3646332+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T08:49:38.3646683+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T08:49:38.3648077+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T08:49:38.3649029+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 11.3587 ms
2025-06-06T08:49:38.3650131+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T08:49:38.3650459+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:49:38.3650730+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:49:38.3651224+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 11.9413ms
2025-06-06T08:49:38.3651747+07:00 [DBG] (///) Connection id ""0HND4J59S5CIV"" disconnecting.
2025-06-06T08:49:38.3651943+07:00 [DBG] (///) Connection id ""0HND4J59S5CIV"" stopped.
2025-06-06T08:49:38.3652528+07:00 [DBG] (///) Connection id ""0HND4J59S5CIV"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T08:53:17.9387093+07:00 [DBG] (///) Connection id ""0HND4J59S5CJ0"" accepted.
2025-06-06T08:53:17.9390382+07:00 [DBG] (///) Connection id ""0HND4J59S5CJ0"" started.
2025-06-06T08:53:17.9398103+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T08:53:17.9399611+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T08:53:17.9400160+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T08:53:17.9400594+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T08:53:17.9401355+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T08:53:17.9402679+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T08:53:17.9410799+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T08:53:17.9415110+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T08:53:17.9415636+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T08:53:17.9415976+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:53:17.9416487+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:53:17.9418257+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T08:53:17.9418726+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:53:17.9419279+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:53:17.9419785+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T08:53:17.9449848+07:00 [INF] (///) Executed DbCommand ("3"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T08:53:17.9453239+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:53:17.9454167+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T08:53:17.9455376+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:53:17.9455901+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:53:17.9457783+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T08:53:17.9458230+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T08:53:17.9460059+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T08:53:17.9461321+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 5.9286 ms
2025-06-06T08:53:17.9462391+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T08:53:17.9462832+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:53:17.9463171+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:53:17.9466520+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 6.7885ms
2025-06-06T08:53:17.9467503+07:00 [DBG] (///) Connection id ""0HND4J59S5CJ0"" disconnecting.
2025-06-06T08:53:17.9467844+07:00 [DBG] (///) Connection id ""0HND4J59S5CJ0"" stopped.
2025-06-06T08:53:17.9469714+07:00 [DBG] (///) Connection id ""0HND4J59S5CJ0"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T08:54:36.4487810+07:00 [DBG] (///) Connection id ""0HND4J59S5CJ1"" accepted.
2025-06-06T08:54:36.4491245+07:00 [DBG] (///) Connection id ""0HND4J59S5CJ1"" started.
2025-06-06T08:54:36.4493911+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T08:54:36.4495292+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T08:54:36.4495888+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T08:54:36.4496354+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T08:54:36.4497470+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T08:54:36.4497850+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T08:54:36.4503508+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T08:54:36.4508358+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T08:54:36.4508834+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T08:54:36.4509084+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:54:36.4509495+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:54:36.4510813+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T08:54:36.4511188+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:54:36.4511548+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T08:54:36.4511986+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T08:54:36.4523725+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T08:54:36.4525842+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:54:36.4526839+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T08:54:36.4528179+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:54:36.4528742+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:54:36.4530957+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T08:54:36.4531344+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T08:54:36.4532928+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T08:54:36.4534116+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 3.6096 ms
2025-06-06T08:54:36.4535311+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T08:54:36.4535815+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T08:54:36.4536144+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T08:54:36.4536860+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 4.2933ms
2025-06-06T08:54:36.4537539+07:00 [DBG] (///) Connection id ""0HND4J59S5CJ1"" disconnecting.
2025-06-06T08:54:36.4537871+07:00 [DBG] (///) Connection id ""0HND4J59S5CJ1"" stopped.
2025-06-06T08:54:36.4539789+07:00 [DBG] (///) Connection id ""0HND4J59S5CJ1"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T08:54:45.7342633+07:00 [DBG] (///) Connection id ""0HND4J59S5CJ2"" accepted.
2025-06-06T08:54:45.7343348+07:00 [DBG] (///) Connection id ""0HND4J59S5CJ2"" started.
2025-06-06T08:54:45.7353531+07:00 [INF] (///) Request starting "HTTP/1.1" "POST" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - "application/json" 89
2025-06-06T08:54:45.7356890+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T08:54:45.7357274+07:00 [DBG] (///) Endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T08:54:45.7357878+07:00 [DBG] (///) Request matched endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T08:54:45.7358887+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T08:54:45.7363751+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T08:54:45.7365690+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T08:54:45.7369027+07:00 [INF] (///) Executing endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T08:54:45.7396708+07:00 [DBG] (///) Connection id ""0HND4J59S5CJ2"", Request id ""0HND4J59S5CJ2:00000001"": started reading request body.
2025-06-06T08:54:45.7397680+07:00 [DBG] (///) Connection id ""0HND4J59S5CJ2"", Request id ""0HND4J59S5CJ2:00000001"": done reading request body.
2025-06-06T08:54:45.7468556+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T08:54:45.7476663+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<StudentBasicInfo>()
    .FirstOrDefault(s => (StudentCode)s.StudentCode == __tuition_Id_StudentCode_0)"'
2025-06-06T08:54:45.7501482+07:00 [INF] (///) Executed endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T08:54:45.7507482+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<StudentBasicInfo>()
    .Where(s => (StudentCode)s.StudentCode == __tuition_Id_StudentCode_0)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at Program.<>c.<<<Main>$>b__0_9>d.MoveNext() in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api/Program.cs:line 155
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-06T08:54:45.7838180+07:00 [ERR] (///) HTTP "POST" "/api/v1/students/N22DCCN888/tuitions" responded 500 in 47.8310 ms
2025-06-06T08:54:45.7839098+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T08:54:45.7840089+07:00 [INF] (///) Request finished "HTTP/1.1" "POST" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - 500 null "application/problem+json" 48.6224ms
2025-06-06T08:54:45.7840977+07:00 [DBG] (///) Connection id ""0HND4J59S5CJ2"" disconnecting.
2025-06-06T08:54:45.7841174+07:00 [DBG] (///) Connection id ""0HND4J59S5CJ2"" stopped.
2025-06-06T08:54:45.7841517+07:00 [DBG] (///) Connection id ""0HND4J59S5CJ2"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T08:55:35.6286623+07:00 [INF] (///) Application is shutting down...
2025-06-06T08:55:35.6295999+07:00 [DBG] (///) Hosting stopping
2025-06-06T08:55:35.6335728+07:00 [DBG] (///) Hosting stopped
2025-06-06T08:55:39.4894162+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-06T08:55:39.5591257+07:00 [INF] (///) No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-06-06T08:55:39.5627042+07:00 [DBG] (///) Hosting starting
2025-06-06T08:55:39.6846664+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-06T08:55:39.6850186+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-06T08:55:39.7380706+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-06T08:55:39.7395268+07:00 [WRN] (///) Overriding address(es) '"https://localhost:31001"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-06T08:55:39.7440805+07:00 [INF] (///) Now listening on: "http://localhost:14100"
2025-06-06T08:55:39.7445264+07:00 [INF] (///) Now listening on: "https://localhost:14101"
2025-06-06T08:55:39.7446365+07:00 [DBG] (///) Loaded hosting startup assembly "TuitionService.Api"
2025-06-06T08:55:39.7448662+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-06T08:55:39.7449135+07:00 [INF] (///) Hosting environment: "Development"
2025-06-06T08:55:39.7449543+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api"
2025-06-06T08:55:39.7450169+07:00 [DBG] (///) Hosting started
2025-06-06T08:55:45.6012241+07:00 [DBG] (///) Connection id ""0HND4JL08HN5D"" accepted.
2025-06-06T08:55:45.6019987+07:00 [DBG] (///) Connection id ""0HND4JL08HN5D"" started.
2025-06-06T08:55:45.6159563+07:00 [INF] (///) Request starting "HTTP/1.1" "POST" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - "application/json" 89
2025-06-06T08:55:45.6956981+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T08:55:45.7004581+07:00 [DBG] (///) Endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T08:55:45.7044396+07:00 [DBG] (///) Request matched endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T08:55:45.7110765+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T08:55:45.7137337+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T08:55:45.7145629+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T08:55:45.7166684+07:00 [INF] (///) Executing endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T08:55:45.7309937+07:00 [DBG] (///) Connection id ""0HND4JL08HN5D"", Request id ""0HND4JL08HN5D:00000001"": started reading request body.
2025-06-06T08:55:45.7313710+07:00 [DBG] (///) Connection id ""0HND4JL08HN5D"", Request id ""0HND4JL08HN5D:00000001"": done reading request body.
2025-06-06T08:55:45.8291510+07:00 [INF] (///) Executed endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T08:55:45.8301354+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
Shared.Exception.BadInputException: Nm bt u khng hp l. Nm bt u phi c nh dng yyyy.
   at Shared.Domain.ValueObject.AcademicYearCode..ctor(String startYear) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Domain/ValueObject/AcademicYearCode.cs:line 21
   at Program.<>c.<<<Main>$>b__0_9>d.MoveNext() in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api/Program.cs:line 153
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-06T08:55:45.8687716+07:00 [INF] (///) HTTP "POST" "/api/v1/students/N22DCCN888/tuitions" responded 400 in 157.6187 ms
2025-06-06T08:55:45.8752282+07:00 [DBG] (///) Connection id ""0HND4JL08HN5D"" received FIN.
2025-06-06T08:55:45.8755645+07:00 [DBG] (///) Connection id ""0HND4JL08HN5D"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T08:55:45.8784691+07:00 [DBG] (///) Connection id ""0HND4JL08HN5D"" disconnecting.
2025-06-06T08:55:45.8782343+07:00 [INF] (///) Request finished "HTTP/1.1" "POST" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - 400 null "application/problem+json" 263.0902ms
2025-06-06T08:55:45.8797638+07:00 [DBG] (///) Connection id ""0HND4JL08HN5D"" stopped.
2025-06-06T08:57:57.8919954+07:00 [INF] (///) Application is shutting down...
2025-06-06T08:57:57.8926671+07:00 [DBG] (///) Hosting stopping
2025-06-06T08:57:57.8985565+07:00 [DBG] (///) Hosting stopped
2025-06-06T08:58:00.8136321+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-06T08:58:00.8822137+07:00 [INF] (///) No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-06-06T08:58:00.8859117+07:00 [DBG] (///) Hosting starting
2025-06-06T08:58:01.0166668+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-06T08:58:01.0171005+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-06T08:58:01.0673689+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-06T08:58:01.0689248+07:00 [WRN] (///) Overriding address(es) '"https://localhost:31001"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-06T08:58:01.0748065+07:00 [INF] (///) Now listening on: "http://localhost:14100"
2025-06-06T08:58:01.0752607+07:00 [INF] (///) Now listening on: "https://localhost:14101"
2025-06-06T08:58:01.0753855+07:00 [DBG] (///) Loaded hosting startup assembly "TuitionService.Api"
2025-06-06T08:58:01.0756018+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-06T08:58:01.0756421+07:00 [INF] (///) Hosting environment: "Development"
2025-06-06T08:58:01.0756734+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api"
2025-06-06T08:58:01.0757352+07:00 [DBG] (///) Hosting started
2025-06-06T08:58:02.5361793+07:00 [DBG] (///) Connection id ""0HND4JM92EUL0"" accepted.
2025-06-06T08:58:02.5367471+07:00 [DBG] (///) Connection id ""0HND4JM92EUL0"" started.
2025-06-06T08:58:02.5500524+07:00 [INF] (///) Request starting "HTTP/1.1" "POST" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - "application/json" 89
2025-06-06T08:58:02.5970939+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T08:58:02.6000621+07:00 [DBG] (///) Endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T08:58:02.6028919+07:00 [DBG] (///) Request matched endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T08:58:02.6067953+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T08:58:02.6073839+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T08:58:02.6075555+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T08:58:02.6082254+07:00 [INF] (///) Executing endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T08:58:02.6147263+07:00 [DBG] (///) Connection id ""0HND4JM92EUL0"", Request id ""0HND4JM92EUL0:00000001"": started reading request body.
2025-06-06T08:58:02.6150227+07:00 [DBG] (///) Connection id ""0HND4JM92EUL0"", Request id ""0HND4JM92EUL0:00000001"": done reading request body.
2025-06-06T08:58:02.7040318+07:00 [INF] (///) Executed endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T08:58:02.7049870+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
Shared.Exception.BadInputException: Nm bt u khng hp l. Nm bt u phi c nh dng yyyy.
   at Shared.Domain.ValueObject.AcademicYearCode..ctor(String startYear) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Domain/ValueObject/AcademicYearCode.cs:line 21
   at Program.<>c.<<<Main>$>b__0_9>d.MoveNext() in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api/Program.cs:line 153
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-06T08:58:02.7504191+07:00 [INF] (///) HTTP "POST" "/api/v1/students/N22DCCN888/tuitions" responded 400 in 142.5023 ms
2025-06-06T08:58:02.7571013+07:00 [DBG] (///) Connection id ""0HND4JM92EUL0"" received FIN.
2025-06-06T08:58:02.7574922+07:00 [DBG] (///) Connection id ""0HND4JM92EUL0"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T08:58:02.7599539+07:00 [INF] (///) Request finished "HTTP/1.1" "POST" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - 400 null "application/problem+json" 210.6501ms
2025-06-06T08:58:02.7611602+07:00 [DBG] (///) Connection id ""0HND4JM92EUL0"" disconnecting.
2025-06-06T08:58:02.7617763+07:00 [DBG] (///) Connection id ""0HND4JM92EUL0"" stopped.
2025-06-06T08:58:06.3327288+07:00 [DBG] (///) Connection id ""0HND4JM92EUL1"" accepted.
2025-06-06T08:58:06.3330257+07:00 [DBG] (///) Connection id ""0HND4JM92EUL1"" started.
2025-06-06T08:58:06.3336651+07:00 [INF] (///) Request starting "HTTP/1.1" "POST" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - "application/json" 89
2025-06-06T08:58:06.3346227+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T08:58:06.3348012+07:00 [DBG] (///) Endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T08:58:06.3349300+07:00 [DBG] (///) Request matched endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T08:58:06.3352228+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T08:58:06.3353748+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T08:58:06.3354211+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T08:58:06.3355116+07:00 [INF] (///) Executing endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T08:58:06.3357427+07:00 [DBG] (///) Connection id ""0HND4JM92EUL1"", Request id ""0HND4JM92EUL1:00000001"": started reading request body.
2025-06-06T08:58:06.3358352+07:00 [DBG] (///) Connection id ""0HND4JM92EUL1"", Request id ""0HND4JM92EUL1:00000001"": done reading request body.
2025-06-06T08:58:06.3416898+07:00 [INF] (///) Executed endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T08:58:06.3417801+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
Shared.Exception.BadInputException: Nm bt u khng hp l. Nm bt u phi c nh dng yyyy.
   at Shared.Domain.ValueObject.AcademicYearCode..ctor(String startYear) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Domain/ValueObject/AcademicYearCode.cs:line 21
   at Program.<>c.<<<Main>$>b__0_9>d.MoveNext() in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api/Program.cs:line 153
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-06T08:58:06.3433750+07:00 [INF] (///) HTTP "POST" "/api/v1/students/N22DCCN888/tuitions" responded 400 in 8.0598 ms
2025-06-06T08:58:06.3436094+07:00 [INF] (///) Request finished "HTTP/1.1" "POST" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - 400 null "application/problem+json" 9.9309ms
2025-06-06T08:58:06.3437776+07:00 [DBG] (///) Connection id ""0HND4JM92EUL1"" disconnecting.
2025-06-06T08:58:06.3438944+07:00 [DBG] (///) Connection id ""0HND4JM92EUL1"" stopped.
2025-06-06T08:58:06.3440337+07:00 [DBG] (///) Connection id ""0HND4JM92EUL1"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T08:59:03.9840144+07:00 [DBG] (///) Connection id ""0HND4JM92EUL2"" accepted.
2025-06-06T08:59:03.9843252+07:00 [DBG] (///) Connection id ""0HND4JM92EUL2"" started.
2025-06-06T08:59:03.9846180+07:00 [INF] (///) Request starting "HTTP/1.1" "POST" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - "application/json" 89
2025-06-06T08:59:03.9848148+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T08:59:03.9848820+07:00 [DBG] (///) Endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T08:59:03.9849544+07:00 [DBG] (///) Request matched endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T08:59:03.9851003+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T08:59:03.9851620+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T08:59:03.9851988+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T08:59:03.9852495+07:00 [INF] (///) Executing endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T08:59:03.9854597+07:00 [DBG] (///) Connection id ""0HND4JM92EUL2"", Request id ""0HND4JM92EUL2:00000001"": started reading request body.
2025-06-06T08:59:03.9855220+07:00 [DBG] (///) Connection id ""0HND4JM92EUL2"", Request id ""0HND4JM92EUL2:00000001"": done reading request body.
2025-06-06T08:59:03.9859861+07:00 [INF] (///) Executed endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T08:59:03.9860363+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
Shared.Exception.BadInputException: Nm bt u khng hp l. Nm bt u phi c nh dng yyyy.
   at Shared.Domain.ValueObject.AcademicYearCode..ctor(String startYear) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Domain/ValueObject/AcademicYearCode.cs:line 21
   at Program.<>c.<<<Main>$>b__0_9>d.MoveNext() in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api/Program.cs:line 153
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-06T08:59:03.9874606+07:00 [INF] (///) HTTP "POST" "/api/v1/students/N22DCCN888/tuitions" responded 400 in 2.2947 ms
2025-06-06T08:59:03.9876202+07:00 [INF] (///) Request finished "HTTP/1.1" "POST" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - 400 null "application/problem+json" 2.9967ms
2025-06-06T08:59:03.9877353+07:00 [DBG] (///) Connection id ""0HND4JM92EUL2"" disconnecting.
2025-06-06T08:59:03.9877849+07:00 [DBG] (///) Connection id ""0HND4JM92EUL2"" stopped.
2025-06-06T08:59:03.9878338+07:00 [DBG] (///) Connection id ""0HND4JM92EUL2"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:01:20.9500820+07:00 [INF] (///) Application is shutting down...
2025-06-06T09:01:20.9508445+07:00 [DBG] (///) Hosting stopping
2025-06-06T09:01:20.9545894+07:00 [DBG] (///) Hosting stopped
2025-06-06T09:01:23.7662814+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-06T09:01:23.8303897+07:00 [INF] (///) No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-06-06T09:01:23.8338234+07:00 [DBG] (///) Hosting starting
2025-06-06T09:01:23.9623904+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-06T09:01:23.9627485+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-06T09:01:24.0132474+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-06T09:01:24.0149834+07:00 [WRN] (///) Overriding address(es) '"https://localhost:31001"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-06T09:01:24.0207912+07:00 [INF] (///) Now listening on: "http://localhost:14100"
2025-06-06T09:01:24.0215176+07:00 [INF] (///) Now listening on: "https://localhost:14101"
2025-06-06T09:01:24.0216868+07:00 [DBG] (///) Loaded hosting startup assembly "TuitionService.Api"
2025-06-06T09:01:24.0219774+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-06T09:01:24.0220329+07:00 [INF] (///) Hosting environment: "Development"
2025-06-06T09:01:24.0220784+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api"
2025-06-06T09:01:24.0221436+07:00 [DBG] (///) Hosting started
2025-06-06T09:01:24.0588630+07:00 [DBG] (///) Connection id ""0HND4JO54APJ4"" accepted.
2025-06-06T09:01:24.0593331+07:00 [DBG] (///) Connection id ""0HND4JO54APJ4"" started.
2025-06-06T09:01:24.0740637+07:00 [INF] (///) Request starting "HTTP/1.1" "POST" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - "application/json" 89
2025-06-06T09:01:24.1246653+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T09:01:24.1275849+07:00 [DBG] (///) Endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T09:01:24.1311219+07:00 [DBG] (///) Request matched endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:01:24.1366185+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:01:24.1374285+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T09:01:24.1376226+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T09:01:24.1384146+07:00 [INF] (///) Executing endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:01:24.1469470+07:00 [DBG] (///) Connection id ""0HND4JO54APJ4"", Request id ""0HND4JO54APJ4:00000001"": started reading request body.
2025-06-06T09:01:24.1473303+07:00 [DBG] (///) Connection id ""0HND4JO54APJ4"", Request id ""0HND4JO54APJ4:00000001"": done reading request body.
2025-06-06T09:01:24.2663729+07:00 [DBG] (///) An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration changed for 'Core:EnableSensitiveDataLogging', configuration changed for 'Core:EnableDetailedErrors', configuration changed for 'Core:ConfigureWarnings', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseAdminDatabase', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:SetPostgresVersion', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseRedshift', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ReverseNullOrdering', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:RemoteCertificateValidationCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvideClientCertificatesCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvidePasswordCallback'".
2025-06-06T09:01:24.5986167+07:00 [DBG] (///) The index "{'StudentCode'}" was not created on entity type '"Tuition"' as the properties are already covered by the index "{'StudentCode', 'AcademicYear', 'Semester'}".
2025-06-06T09:01:24.5989034+07:00 [DBG] (///) The index "{'StudentCode', 'AcademicYear', 'Semester'}" was not created on entity type '"TuitionPayment"' as the properties are already covered by the index "{'StudentCode', 'AcademicYear', 'Semester', 'PaymentDate'}".
2025-06-06T09:01:24.6558224+07:00 [WRN] (///) Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-06-06T09:01:24.6717994+07:00 [WRN] (///) The foreign key property '"GlobalStudentCode"."StudentBasicInfoStudentCode1"' was created in shadow state because a conflicting property with the simple name '"StudentBasicInfoStudentCode"' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-06T09:01:24.7477548+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T09:01:24.8064122+07:00 [DBG] (///) Context '"TuitionDbContext"' started tracking '"Tuition"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2}"'.
2025-06-06T09:01:24.8089408+07:00 [DBG] (///) SaveChanges starting for '"TuitionDbContext"'.
2025-06-06T09:01:24.8118101+07:00 [DBG] (///) DetectChanges starting for '"TuitionDbContext"'.
2025-06-06T09:01:24.8176954+07:00 [DBG] (///) DetectChanges completed for '"TuitionDbContext"'.
2025-06-06T09:01:24.9072303+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T09:01:24.9345211+07:00 [DBG] (///) Created DbConnection. (25ms).
2025-06-06T09:01:24.9374316+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:01:25.0053541+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:01:25.0135997+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T09:01:25.0187077+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (2ms).
2025-06-06T09:01:25.0250665+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (11ms).
2025-06-06T09:01:25.0325353+07:00 [DBG] (///) Executing DbCommand [Parameters=["@p0='2024-2025' (Nullable = false), @p1='2', @p2='N22DCCN888' (Nullable = false), @p3='8508544'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tuition (academic_year, semester, student_code, tuition_fee)
VALUES (@p0, @p1, @p2, @p3);"
2025-06-06T09:01:25.1326498+07:00 [INF] (///) Executed DbCommand ("98"ms) [Parameters=["@p0='2024-2025' (Nullable = false), @p1='2', @p2='N22DCCN888' (Nullable = false), @p3='8508544'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tuition (academic_year, semester, student_code, tuition_fee)
VALUES (@p0, @p1, @p2, @p3);"
2025-06-06T09:01:25.1381717+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:01:25.1431624+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 5ms reading results.
2025-06-06T09:01:25.1474517+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:01:25.1518128+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (3ms).
2025-06-06T09:01:25.1592103+07:00 [DBG] (///) The '"Tuition"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2}"' tracked by '"TuitionDbContext"' changed state from 'Added' to 'Unchanged'.
2025-06-06T09:01:25.1611273+07:00 [DBG] (///) SaveChanges completed for '"TuitionDbContext"' with 1 entities written to the database.
2025-06-06T09:01:25.1629343+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T09:01:25.1647923+07:00 [INF] (///) Executed endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:01:25.1759937+07:00 [INF] (///) HTTP "POST" "/api/v1/students/N22DCCN888/tuitions" responded 200 in 1034.1283 ms
2025-06-06T09:01:25.1940350+07:00 [DBG] (///) Connection id ""0HND4JO54APJ4"" received FIN.
2025-06-06T09:01:25.1944688+07:00 [DBG] (///) Connection id ""0HND4JO54APJ4"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:01:25.1985351+07:00 [DBG] (///) Connection id ""0HND4JO54APJ4"" disconnecting.
2025-06-06T09:01:25.1998339+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T09:01:25.2052375+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:01:25.2079523+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (2ms).
2025-06-06T09:01:25.2100412+07:00 [INF] (///) Request finished "HTTP/1.1" "POST" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - 200 0 null 1136.8649ms
2025-06-06T09:01:25.2138450+07:00 [DBG] (///) Connection id ""0HND4JO54APJ4"" stopped.
2025-06-06T09:01:28.3476534+07:00 [DBG] (///) Connection id ""0HND4JO54APJ5"" accepted.
2025-06-06T09:01:28.3478855+07:00 [DBG] (///) Connection id ""0HND4JO54APJ5"" started.
2025-06-06T09:01:28.3485381+07:00 [INF] (///) Request starting "HTTP/1.1" "POST" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - "application/json" 89
2025-06-06T09:01:28.3493634+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T09:01:28.3495025+07:00 [DBG] (///) Endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T09:01:28.3496382+07:00 [DBG] (///) Request matched endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:01:28.3499059+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:01:28.3500628+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T09:01:28.3501224+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T09:01:28.3502209+07:00 [INF] (///) Executing endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:01:28.3504987+07:00 [DBG] (///) Connection id ""0HND4JO54APJ5"", Request id ""0HND4JO54APJ5:00000001"": started reading request body.
2025-06-06T09:01:28.3505943+07:00 [DBG] (///) Connection id ""0HND4JO54APJ5"", Request id ""0HND4JO54APJ5:00000001"": done reading request body.
2025-06-06T09:01:28.3861686+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T09:01:28.3867478+07:00 [DBG] (///) Context '"TuitionDbContext"' started tracking '"Tuition"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2}"'.
2025-06-06T09:01:28.3868525+07:00 [DBG] (///) SaveChanges starting for '"TuitionDbContext"'.
2025-06-06T09:01:28.3872538+07:00 [DBG] (///) DetectChanges starting for '"TuitionDbContext"'.
2025-06-06T09:01:28.3873378+07:00 [DBG] (///) DetectChanges completed for '"TuitionDbContext"'.
2025-06-06T09:01:28.3879573+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T09:01:28.3880475+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T09:01:28.3881101+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:01:28.3885132+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:01:28.3886854+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T09:01:28.3887576+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:01:28.3888487+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:01:28.3890115+07:00 [DBG] (///) Executing DbCommand [Parameters=["@p0='2024-2025' (Nullable = false), @p1='2', @p2='N22DCCN888' (Nullable = false), @p3='8508544'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tuition (academic_year, semester, student_code, tuition_fee)
VALUES (@p0, @p1, @p2, @p3);"
2025-06-06T09:01:28.3939604+07:00 [ERR] (///) Failed executing DbCommand ("4"ms) [Parameters=["@p0='2024-2025' (Nullable = false), @p1='2', @p2='N22DCCN888' (Nullable = false), @p3='8508544'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tuition (academic_year, semester, student_code, tuition_fee)
VALUES (@p0, @p1, @p2, @p3);"
2025-06-06T09:01:28.3961348+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:01:28.3965082+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:01:28.4070374+07:00 [ERR] (///) An exception occurred in the database while saving changes for context type '"TuitionService.Domain.TuitionDbContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"pk_tuition\"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint \"pk_tuition\"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: tuition
    ConstraintName: pk_tuition
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "pk_tuition"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "pk_tuition"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: tuition
    ConstraintName: pk_tuition
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-06-06T09:01:28.4318616+07:00 [INF] (///) Executed endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:01:28.4330091+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
EntityFramework.Exceptions.Common.UniqueConstraintException: Unique constraint violation
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "pk_tuition"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "pk_tuition"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: tuition
    ConstraintName: pk_tuition
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at EntityFramework.Exceptions.Common.ExceptionProcessorInterceptor`1.SaveChangesFailedAsync(DbContextErrorEventData eventData, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Diagnostics.CoreLoggerExtensions.SaveChangesFailedAsync(IDiagnosticsLogger`1 diagnostics, DbContext context, Exception exception, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Program.<>c.<<<Main>$>b__0_9>d.MoveNext() in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api/Program.cs:line 163
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-06T09:01:28.4966980+07:00 [ERR] (///) HTTP "POST" "/api/v1/students/N22DCCN888/tuitions" responded 500 in 146.6248 ms
2025-06-06T09:01:28.4970850+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T09:01:28.4972818+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:01:28.4974127+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:01:28.4976401+07:00 [INF] (///) Request finished "HTTP/1.1" "POST" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - 500 null "application/problem+json" 149.0257ms
2025-06-06T09:01:28.4978363+07:00 [DBG] (///) Connection id ""0HND4JO54APJ5"" disconnecting.
2025-06-06T09:01:28.4978198+07:00 [DBG] (///) Connection id ""0HND4JO54APJ5"" received FIN.
2025-06-06T09:01:28.4979403+07:00 [DBG] (///) Connection id ""0HND4JO54APJ5"" stopped.
2025-06-06T09:01:28.4980785+07:00 [DBG] (///) Connection id ""0HND4JO54APJ5"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:01:42.8469737+07:00 [DBG] (///) Connection id ""0HND4JO54APJ6"" accepted.
2025-06-06T09:01:42.8475903+07:00 [DBG] (///) Connection id ""0HND4JO54APJ6"" started.
2025-06-06T09:01:42.8489304+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - "application/json" null
2025-06-06T09:01:42.8495855+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students"'
2025-06-06T09:01:42.8497958+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students"' with route pattern '"/api/v{version:apiVersion}/students"' is valid for the request path '"/api/v1/students"'
2025-06-06T09:01:42.8499767+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T09:01:42.8502465+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:01:42.8503970+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T09:01:42.8634579+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T09:01:42.9071917+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<StudentBasicInfo>()
    .AsNoTracking()
    .Select(s => new StudentBasicInfo{ 
        StudentCode = s.StudentCode, 
        LastName = s.LastName, 
        FirstName = s.FirstName, 
        ClassCode = s.ClassCode, 
        FacultyCode = s.FacultyCode 
    }
    )
    .Count()"'
2025-06-06T09:01:43.0174118+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT CAST(count(*) AS integer)
            FROM student_basic_info AS s) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT CAST(count(*) AS integer)
            FROM student_basic_info AS s, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = try { dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0) } catch (Exception) { ... } ;
            return (int)value1;
        }, 
        contextType: TuitionService.Domain.TuitionDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: True, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)"'
2025-06-06T09:01:43.0367448+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T09:01:43.0369301+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T09:01:43.0369766+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:01:43.0370684+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:01:43.0372831+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T09:01:43.0373525+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:01:43.0374123+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:01:43.0375070+07:00 [DBG] (///) Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T09:01:43.0433269+07:00 [INF] (///) Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T09:01:43.0510173+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:01:43.0524257+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 8ms reading results.
2025-06-06T09:01:43.0526118+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:01:43.0527857+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:01:43.0567087+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<StudentBasicInfo>()
    .AsNoTracking()
    .Select(s => new StudentBasicInfo{ 
        StudentCode = s.StudentCode, 
        LastName = s.LastName, 
        FirstName = s.FirstName, 
        ClassCode = s.ClassCode, 
        FacultyCode = s.FacultyCode 
    }
    )
    .Skip(__p_0)
    .Take(__p_1)"'
2025-06-06T09:01:43.0630021+07:00 [WRN] (///) The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-06T09:01:43.0637307+07:00 [WRN] (///) The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-06T09:01:43.0719229+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => SingleQueryingEnumerable.Create<StudentBasicInfo>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            StudentCode -> 0
            LastName -> 1
            FirstName -> 2
            ClassCode -> 3
            FacultyCode -> 4
        SELECT s.student_code AS StudentCode, s.last_name AS LastName, s.first_name AS FirstName, s.class_code AS ClassCode, s.faculty_code AS FacultyCode
        FROM student_basic_info AS s
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            StudentCode -> 0
            LastName -> 1
            FirstName -> 2
            ClassCode -> 3
            FacultyCode -> 4
        SELECT s.student_code AS StudentCode, s.last_name AS LastName, s.first_name AS FirstName, s.class_code AS ClassCode, s.faculty_code AS FacultyCode
        FROM student_basic_info AS s
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        string value1;
        string value2;
        string value3;
        string value4;
        string value5;
        value1 = try { dataReader.GetString(0) } catch (Exception) { ... } ;
        value2 = try { dataReader.GetString(1) } catch (Exception) { ... } ;
        value3 = try { dataReader.GetString(2) } catch (Exception) { ... } ;
        value4 = try { dataReader.GetString(3) } catch (Exception) { ... } ;
        value5 = try { dataReader.GetString(4) } catch (Exception) { ... } ;
        return new StudentBasicInfo{ 
            StudentCode = value1, 
            LastName = value2, 
            FirstName = value3, 
            ClassCode = value4, 
            FacultyCode = value5 
        }
        ;
    }, 
    contextType: TuitionService.Domain.TuitionDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: True, 
    threadSafetyChecksEnabled: True)"'
2025-06-06T09:01:43.0781381+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:01:43.0782460+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:01:43.0784916+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T09:01:43.0785493+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:01:43.0786360+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:01:43.0787138+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T09:01:43.0801579+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T09:01:43.0829702+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:01:43.0830561+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 2ms reading results.
2025-06-06T09:01:43.0831677+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:01:43.0832467+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:01:43.0840580+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T09:01:43.0870358+07:00 [INF] (///) Writing value of type '"PagedList`1"' as Json.
2025-06-06T09:01:43.0919502+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T09:01:43.0922190+07:00 [INF] (///) HTTP "GET" "/api/v1/students" responded 200 in 241.8469 ms
2025-06-06T09:01:43.0923563+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T09:01:43.0924475+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:01:43.0925150+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:01:43.0926366+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - 200 null "application/json; charset=utf-8" 243.7074ms
2025-06-06T09:01:43.0927735+07:00 [DBG] (///) Connection id ""0HND4JO54APJ6"" disconnecting.
2025-06-06T09:01:43.0928290+07:00 [DBG] (///) Connection id ""0HND4JO54APJ6"" stopped.
2025-06-06T09:01:43.0929153+07:00 [DBG] (///) Connection id ""0HND4JO54APJ6"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:01:43.0974887+07:00 [DBG] (///) Connection id ""0HND4JO54APJ7"" accepted.
2025-06-06T09:01:43.0976117+07:00 [DBG] (///) Connection id ""0HND4JO54APJ7"" started.
2025-06-06T09:01:43.0979055+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - "application/json" null
2025-06-06T09:01:43.0982160+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students"'
2025-06-06T09:01:43.0983491+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students"' with route pattern '"/api/v{version:apiVersion}/students"' is valid for the request path '"/api/v1/students"'
2025-06-06T09:01:43.0985060+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T09:01:43.0987534+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:01:43.0989021+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T09:01:43.1001299+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T09:01:43.1029696+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T09:01:43.1030989+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T09:01:43.1031428+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:01:43.1032294+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:01:43.1034560+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T09:01:43.1035248+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:01:43.1035813+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:01:43.1036663+07:00 [DBG] (///) Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T09:01:43.1047090+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T09:01:43.1050020+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:01:43.1051046+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T09:01:43.1052783+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:01:43.1053753+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:01:43.1058341+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:01:43.1058898+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:01:43.1060390+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T09:01:43.1060800+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:01:43.1061437+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:01:43.1062362+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T09:01:43.1071174+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T09:01:43.1074900+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:01:43.1075701+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T09:01:43.1077618+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:01:43.1078695+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:01:43.1082168+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T09:01:43.1083274+07:00 [INF] (///) Writing value of type '"PagedList`1"' as Json.
2025-06-06T09:01:43.1086603+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T09:01:43.1088601+07:00 [INF] (///) HTTP "GET" "/api/v1/students" responded 200 in 10.0148 ms
2025-06-06T09:01:43.1090070+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T09:01:43.1091215+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:01:43.1092055+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:01:43.1093253+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - 200 null "application/json; charset=utf-8" 11.4022ms
2025-06-06T09:01:43.1095566+07:00 [DBG] (///) Connection id ""0HND4JO54APJ7"" disconnecting.
2025-06-06T09:01:43.1095940+07:00 [DBG] (///) Connection id ""0HND4JO54APJ7"" received FIN.
2025-06-06T09:01:43.1096277+07:00 [DBG] (///) Connection id ""0HND4JO54APJ7"" stopped.
2025-06-06T09:01:43.1097012+07:00 [DBG] (///) Connection id ""0HND4JO54APJ7"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:01:44.2045444+07:00 [DBG] (///) Connection id ""0HND4JO54APJ8"" accepted.
2025-06-06T09:01:44.2046475+07:00 [DBG] (///) Connection id ""0HND4JO54APJ8"" started.
2025-06-06T09:01:44.2049773+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T09:01:44.2052161+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T09:01:44.2053035+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T09:01:44.2053682+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:01:44.2055362+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:01:44.2057067+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:01:44.2149372+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T09:01:44.2175509+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<StudentBasicInfo>()
    .Where(s => s.StudentCode == __studentCode_0)
    .Select(s => new StudentDetailResponse{ 
        StudentCode = s.StudentCode, 
        LastName = s.LastName, 
        FirstName = s.FirstName, 
        ClassCode = s.ClassCode, 
        FacultyCode = s.FacultyCode, 
        Tuitions = s.Tuitions
            .Select(t => new TuitionResponse{ 
                AcademicYear = t.AcademicYear, 
                Semester = t.Semester.ToString(), 
                TuitionAmount = (decimal)t.TuitionFee, 
                TuitionPaid = (decimal)t.TuitionPayments
                    .Sum(p => p.AmountPaid) 
            }
            )
            .ToList() 
    }
    )
    .FirstOrDefault()"'
2025-06-06T09:01:44.3002457+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<StudentDetailResponse>(
    asyncEnumerable: SingleQueryingEnumerable.Create<StudentDetailResponse>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> 0
                1 -> 1
                2 -> 2
                3 -> 3
                4 -> 4
                5 -> 5
                6 -> 6
                7 -> 7
                8 -> 8
                9 -> 9
                10 -> 10
            SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, COALESCE(CAST(t.semester AS text), ''), CAST(t.tuition_fee AS numeric), CAST((
                SELECT CAST(sum(t0.amount_paid) AS integer)
                FROM tuition_payment AS t0
                WHERE (((t.student_code != NULL) && (t.academic_year != NULL)) && (t.semester != NULL)) && (((t.student_code == t0.student_code) && (t.academic_year == t0.academic_year)) && (t.semester == t0.semester))) AS numeric), t.student_code, t.semester
            FROM 
            (
                SELECT TOP(1) s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
                FROM student_basic_info AS s
                WHERE s.student_code == @__studentCode_0
            ) AS s0
            LEFT JOIN tuition AS t ON s0.student_code == t.student_code
            ORDER BY s0.student_code ASC, t.student_code ASC, t.academic_year ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> 0
                1 -> 1
                2 -> 2
                3 -> 3
                4 -> 4
                5 -> 5
                6 -> 6
                7 -> 7
                8 -> 8
                9 -> 9
                10 -> 10
            SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, COALESCE(CAST(t.semester AS text), ''), CAST(t.tuition_fee AS numeric), CAST((
                SELECT CAST(sum(t0.amount_paid) AS integer)
                FROM tuition_payment AS t0
                WHERE (((t.student_code != NULL) && (t.academic_year != NULL)) && (t.semester != NULL)) && (((t.student_code == t0.student_code) && (t.academic_year == t0.academic_year)) && (t.semester == t0.semester))) AS numeric), t.student_code, t.semester
            FROM 
            (
                SELECT TOP(1) s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
                FROM student_basic_info AS s
                WHERE s.student_code == @__studentCode_0
            ) AS s0
            LEFT JOIN tuition AS t ON s0.student_code == t.student_code
            ORDER BY s0.student_code ASC, t.student_code ASC, t.academic_year ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                string value1;
                string value2;
                string value3;
                string value4;
                string value5;
                List<TuitionResponse> namelessParameter{0};
                value1 = try { dataReader.GetString(0) } catch (Exception) { ... } ;
                value2 = try { dataReader.GetString(1) } catch (Exception) { ... } ;
                value3 = try { dataReader.GetString(2) } catch (Exception) { ... } ;
                value4 = try { dataReader.GetString(3) } catch (Exception) { ... } ;
                value5 = try { dataReader.GetString(4) } catch (Exception) { ... } ;
                namelessParameter{0} = ShaperProcessingExpressionVisitor.InitializeCollection<TuitionResponse, List<TuitionResponse>>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ try { dataReader.GetString(0) } catch (Exception) { ... }  }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ try { dataReader.GetString(0) } catch (Exception) { ... }  }], 
                    clrCollectionAccessor: default(IClrCollectionAccessor));
                return resultContext.Values = new object[]
                { 
                    value1, 
                    value2, 
                    value3, 
                    value4, 
                    value5, 
                    namelessParameter{0} 
                };
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateCollection<List<TuitionResponse>, TuitionResponse, TuitionResponse>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ try { dataReader.GetString(0) } catch (Exception) { ... }  }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ try { dataReader.GetString(0) } catch (Exception) { ... }  }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    try { dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9) } catch (Exception) { ... } , 
                    try { dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5) } catch (Exception) { ... } , 
                    (object)try { dataReader.IsDBNull(10) ? default(int?) : (int?)dataReader.GetInt32(10) } catch (Exception) { ... }  
                }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (string)left == (string)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (string)left == (string)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
                { 
                    (left, right) => left == null ? right == null : right != null && (string)left == (string)right, 
                    (left, right) => left == null ? right == null : right != null && (string)left == (string)right, 
                    (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
                }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    string value1;
                    string value2;
                    decimal? value3;
                    decimal? value4;
                    value1 = try { dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5) } catch (Exception) { ... } ;
                    value2 = try { dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6) } catch (Exception) { ... } ;
                    value3 = try { dataReader.IsDBNull(7) ? default(decimal?) : (decimal?)dataReader.GetDecimal(7) } catch (Exception) { ... } ;
                    value4 = try { dataReader.IsDBNull(8) ? default(decimal?) : (decimal?)dataReader.GetDecimal(8) } catch (Exception) { ... } ;
                    return new TuitionResponse{ 
                        AcademicYear = value1, 
                        Semester = value2, 
                        TuitionAmount = (decimal)value3, 
                        TuitionPaid = (decimal)value4 
                    }
                    ;
                });
            return IsTrue(resultCoordinator.ResultReady)
             ? new StudentDetailResponse{ 
                StudentCode = (string)(resultContext.Values[0]), 
                LastName = (string)(resultContext.Values[1]), 
                FirstName = (string)(resultContext.Values[2]), 
                ClassCode = (string)(resultContext.Values[3]), 
                FacultyCode = (string)(resultContext.Values[4]), 
                Tuitions = (List<TuitionResponse>)(resultContext.Values[5]) 
            }
             : default(StudentDetailResponse);
        }, 
        contextType: TuitionService.Domain.TuitionDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: True, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)"'
2025-06-06T09:01:44.3104395+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T09:01:44.3105292+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T09:01:44.3105605+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:01:44.3106329+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:01:44.3108341+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T09:01:44.3108826+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:01:44.3109261+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:01:44.3110552+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T09:01:44.3131012+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T09:01:44.3209616+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:01:44.3210620+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 7ms reading results.
2025-06-06T09:01:44.3211819+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:01:44.3212326+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:01:44.3214526+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T09:01:44.3251880+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T09:01:44.3288837+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:01:44.3290204+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 123.4179 ms
2025-06-06T09:01:44.3291935+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T09:01:44.3292584+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:01:44.3293001+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:01:44.3293987+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 124.3874ms
2025-06-06T09:01:44.3294719+07:00 [DBG] (///) Connection id ""0HND4JO54APJ8"" disconnecting.
2025-06-06T09:01:44.3295029+07:00 [DBG] (///) Connection id ""0HND4JO54APJ8"" stopped.
2025-06-06T09:01:44.3296136+07:00 [DBG] (///) Connection id ""0HND4JO54APJ8"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:01:44.3350053+07:00 [DBG] (///) Connection id ""0HND4JO54APJ9"" accepted.
2025-06-06T09:01:44.3350655+07:00 [DBG] (///) Connection id ""0HND4JO54APJ9"" started.
2025-06-06T09:01:44.3353186+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T09:01:44.3354530+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T09:01:44.3355182+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T09:01:44.3355742+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:01:44.3356770+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:01:44.3357316+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:01:44.3365089+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T09:01:44.3372118+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T09:01:44.3372596+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T09:01:44.3372961+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:01:44.3373567+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:01:44.3375413+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T09:01:44.3375781+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:01:44.3376182+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:01:44.3376962+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T09:01:44.3389857+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T09:01:44.3392649+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:01:44.3393274+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T09:01:44.3395378+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:01:44.3395961+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:01:44.3397578+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T09:01:44.3398124+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T09:01:44.3400545+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:01:44.3401873+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 4.4182 ms
2025-06-06T09:01:44.3402762+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T09:01:44.3403174+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:01:44.3403594+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:01:44.3404238+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 5.1019ms
2025-06-06T09:01:44.3404931+07:00 [DBG] (///) Connection id ""0HND4JO54APJ9"" disconnecting.
2025-06-06T09:01:44.3405268+07:00 [DBG] (///) Connection id ""0HND4JO54APJ9"" stopped.
2025-06-06T09:01:44.3406980+07:00 [DBG] (///) Connection id ""0HND4JO54APJ9"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:01:48.1359204+07:00 [DBG] (///) Connection id ""0HND4JO54APJA"" accepted.
2025-06-06T09:01:48.1359889+07:00 [DBG] (///) Connection id ""0HND4JO54APJA"" started.
2025-06-06T09:01:48.1361928+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" null
2025-06-06T09:01:48.1363603+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T09:01:48.1364080+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T09:01:48.1364676+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T09:01:48.1367215+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:01:48.1367855+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T09:01:48.1386633+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T09:01:48.1397238+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<TuitionPayment>()
    .Where(p => p.StudentCode == __studentCode_0 && p.AcademicYear == __academicYear_1 && p.Semester == __semester_2)
    .Select(p => new PaymentResponse{ 
        PaymentDate = p.PaymentDate.ToString(), 
        AmountPaid = (decimal)p.AmountPaid 
    }
    )"'
2025-06-06T09:01:48.1495252+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => SingleQueryingEnumerable.Create<PaymentResponse>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
        SELECT t.payment_date, CAST(t.amount_paid AS numeric)
        FROM tuition_payment AS t
        WHERE ((t.student_code == @__studentCode_0) && (t.academic_year == @__academicYear_1)) && (t.semester == @__semester_2)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> 0
            1 -> 1
        SELECT t.payment_date, CAST(t.amount_paid AS numeric)
        FROM tuition_payment AS t
        WHERE ((t.student_code == @__studentCode_0) && (t.academic_year == @__academicYear_1)) && (t.semester == @__semester_2), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        DateOnly? value1;
        decimal? value2;
        value1 = try { (DateOnly?)dataReader.GetFieldValue<DateOnly>(0) } catch (Exception) { ... } ;
        value2 = try { dataReader.IsDBNull(1) ? default(decimal?) : (decimal?)dataReader.GetDecimal(1) } catch (Exception) { ... } ;
        return new PaymentResponse{ 
            PaymentDate = value1 == default(DateOnly?) ? null : ((DateOnly)value1).ToString(), 
            AmountPaid = (decimal)value2 
        }
        ;
    }, 
    contextType: TuitionService.Domain.TuitionDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: True, 
    threadSafetyChecksEnabled: True)"'
2025-06-06T09:01:48.1507821+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T09:01:48.1508363+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T09:01:48.1508642+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:01:48.1509448+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:01:48.1511737+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T09:01:48.1512143+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:01:48.1513365+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:01:48.1514048+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T09:01:48.1527620+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T09:01:48.1531217+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:01:48.1531934+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T09:01:48.1533173+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:01:48.1533789+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:01:48.1536319+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T09:01:48.1543005+07:00 [INF] (///) Writing value of type '"List`1"' as Json.
2025-06-06T09:01:48.1550885+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T09:01:48.1553596+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 200 in 18.4332 ms
2025-06-06T09:01:48.1554868+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T09:01:48.1555617+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:01:48.1556126+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:01:48.1556963+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 200 null "application/json; charset=utf-8" 19.4835ms
2025-06-06T09:01:48.1558206+07:00 [DBG] (///) Connection id ""0HND4JO54APJA"" disconnecting.
2025-06-06T09:01:48.1558673+07:00 [DBG] (///) Connection id ""0HND4JO54APJA"" stopped.
2025-06-06T09:01:48.1559535+07:00 [DBG] (///) Connection id ""0HND4JO54APJA"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:01:49.8467611+07:00 [DBG] (///) Connection id ""0HND4JO54APJB"" accepted.
2025-06-06T09:01:49.8468392+07:00 [DBG] (///) Connection id ""0HND4JO54APJB"" started.
2025-06-06T09:01:49.8470840+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" null
2025-06-06T09:01:49.8473367+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T09:01:49.8473967+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T09:01:49.8474675+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T09:01:49.8475938+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:01:49.8477324+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T09:01:49.8484126+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T09:01:49.8487492+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T09:01:49.8487805+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T09:01:49.8488088+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:01:49.8488738+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:01:49.8490118+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T09:01:49.8490449+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:01:49.8490952+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:01:49.8491816+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T09:01:49.8501980+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T09:01:49.8503564+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:01:49.8504232+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T09:01:49.8505474+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:01:49.8506044+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:01:49.8507256+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T09:01:49.8507698+07:00 [INF] (///) Writing value of type '"List`1"' as Json.
2025-06-06T09:01:49.8509739+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T09:01:49.8511166+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 200 in 3.4347 ms
2025-06-06T09:01:49.8512083+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T09:01:49.8512606+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:01:49.8512960+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:01:49.8515805+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 200 null "application/json; charset=utf-8" 4.4303ms
2025-06-06T09:01:49.8516479+07:00 [DBG] (///) Connection id ""0HND4JO54APJB"" disconnecting.
2025-06-06T09:01:49.8516781+07:00 [DBG] (///) Connection id ""0HND4JO54APJB"" stopped.
2025-06-06T09:01:49.8517140+07:00 [DBG] (///) Connection id ""0HND4JO54APJB"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:01:56.0604087+07:00 [DBG] (///) Connection id ""0HND4JO54APJC"" accepted.
2025-06-06T09:01:56.0605006+07:00 [DBG] (///) Connection id ""0HND4JO54APJC"" started.
2025-06-06T09:01:56.0607586+07:00 [INF] (///) Request starting "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - "application/json" 41
2025-06-06T09:01:56.0609357+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T09:01:56.0609917+07:00 [DBG] (///) Endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T09:01:56.0610701+07:00 [DBG] (///) Request matched endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:01:56.0612251+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:01:56.0612942+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T09:01:56.0613137+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T09:01:56.0613749+07:00 [INF] (///) Executing endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:01:56.0615950+07:00 [DBG] (///) Connection id ""0HND4JO54APJC"", Request id ""0HND4JO54APJC:00000001"": started reading request body.
2025-06-06T09:01:56.0616463+07:00 [DBG] (///) Connection id ""0HND4JO54APJC"", Request id ""0HND4JO54APJC:00000001"": done reading request body.
2025-06-06T09:01:56.0697042+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T09:01:56.0706177+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Tuition>()
    .Where(t => t.StudentCode == __studentCode_0 && __request_1
        .Any(r => r.AcademicYear == t.AcademicYear && r.Semester == t.Semester))"'
2025-06-06T09:01:56.0877166+07:00 [INF] (///) Executed endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:01:56.0878364+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression '__request_1
    .Any(e => e.AcademicYear == StructuralTypeShaperExpression(
        StructuralType: TuitionService.Domain.Entity.Tuition
        ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
        IsNullable: False).AcademicYear && e.Semester == StructuralTypeShaperExpression(
        StructuralType: TuitionService.Domain.Entity.Tuition
        ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
        IsNullable: False).Semester)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.<VisitMethodCall>g__TranslateAsSubquery|33_0(Expression expression, <>c__DisplayClass33_0&)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Query.Internal.NpgsqlSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Query.Internal.NpgsqlSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.Translate(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateExpression(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateLambdaExpression(ShapedQueryExpression shapedQueryExpression, LambdaExpression lambdaExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Query.Internal.NpgsqlQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Program.<>c.<<<Main>$>b__0_14>d.MoveNext() in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api/Program.cs:line 240
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-06T09:01:56.0958190+07:00 [ERR] (///) HTTP "DELETE" "/api/v1/students/N22DCCN888/tuitions" responded 500 in 34.5742 ms
2025-06-06T09:01:56.0959078+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T09:01:56.0959660+07:00 [INF] (///) Request finished "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - 500 null "application/problem+json" 35.2246ms
2025-06-06T09:01:56.0960100+07:00 [DBG] (///) Connection id ""0HND4JO54APJC"" disconnecting.
2025-06-06T09:01:56.0960274+07:00 [DBG] (///) Connection id ""0HND4JO54APJC"" stopped.
2025-06-06T09:01:56.0960668+07:00 [DBG] (///) Connection id ""0HND4JO54APJC"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:04:24.2643583+07:00 [DBG] (///) Connection id ""0HND4JO54APJD"" accepted.
2025-06-06T09:04:24.2645115+07:00 [DBG] (///) Connection id ""0HND4JO54APJD"" started.
2025-06-06T09:04:24.2647632+07:00 [INF] (///) Request starting "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - "application/json" 41
2025-06-06T09:04:24.2650497+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T09:04:24.2651266+07:00 [DBG] (///) Endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T09:04:24.2651757+07:00 [DBG] (///) Request matched endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:04:24.2653110+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:04:24.2653832+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T09:04:24.2654119+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T09:04:24.2654589+07:00 [INF] (///) Executing endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:04:24.2655300+07:00 [DBG] (///) Connection id ""0HND4JO54APJD"", Request id ""0HND4JO54APJD:00000001"": started reading request body.
2025-06-06T09:04:24.2655578+07:00 [DBG] (///) Connection id ""0HND4JO54APJD"", Request id ""0HND4JO54APJD:00000001"": done reading request body.
2025-06-06T09:04:24.2669444+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T09:04:24.2674140+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Tuition>()
    .Where(t => t.StudentCode == __studentCode_0 && __request_1
        .Any(r => r.AcademicYear == t.AcademicYear && r.Semester == t.Semester))"'
2025-06-06T09:04:24.2683301+07:00 [INF] (///) Executed endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:04:24.2683952+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression '__request_1
    .Any(e => e.AcademicYear == StructuralTypeShaperExpression(
        StructuralType: TuitionService.Domain.Entity.Tuition
        ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
        IsNullable: False).AcademicYear && e.Semester == StructuralTypeShaperExpression(
        StructuralType: TuitionService.Domain.Entity.Tuition
        ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
        IsNullable: False).Semester)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.<VisitMethodCall>g__TranslateAsSubquery|33_0(Expression expression, <>c__DisplayClass33_0&)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Query.Internal.NpgsqlSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Query.Internal.NpgsqlSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.Translate(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateExpression(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateLambdaExpression(ShapedQueryExpression shapedQueryExpression, LambdaExpression lambdaExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Query.Internal.NpgsqlQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Program.<>c.<<<Main>$>b__0_14>d.MoveNext() in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api/Program.cs:line 240
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-06T09:04:24.2736853+07:00 [ERR] (///) HTTP "DELETE" "/api/v1/students/N22DCCN888/tuitions" responded 500 in 8.3056 ms
2025-06-06T09:04:24.2738072+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T09:04:24.2738933+07:00 [INF] (///) Request finished "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - 500 null "application/problem+json" 9.1323ms
2025-06-06T09:04:24.2739811+07:00 [DBG] (///) Connection id ""0HND4JO54APJD"" disconnecting.
2025-06-06T09:04:24.2740115+07:00 [DBG] (///) Connection id ""0HND4JO54APJD"" stopped.
2025-06-06T09:04:24.2740667+07:00 [DBG] (///) Connection id ""0HND4JO54APJD"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:10:23.2289114+07:00 [DBG] (///) Connection id ""0HND4JO54APJE"" accepted.
2025-06-06T09:10:23.2306467+07:00 [DBG] (///) Connection id ""0HND4JO54APJE"" started.
2025-06-06T09:10:23.2309689+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - "application/json" null
2025-06-06T09:10:23.2311192+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students"'
2025-06-06T09:10:23.2311895+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students"' with route pattern '"/api/v{version:apiVersion}/students"' is valid for the request path '"/api/v1/students"'
2025-06-06T09:10:23.2312410+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T09:10:23.2313516+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:10:23.2313921+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T09:10:23.2324327+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T09:10:23.2345031+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T09:10:23.2350370+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T09:10:23.2352699+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:10:23.2425328+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:10:23.2427648+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T09:10:23.2428255+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:10:23.2429186+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:10:23.2429814+07:00 [DBG] (///) Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T09:10:23.2456655+07:00 [INF] (///) Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T09:10:23.2459579+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:10:23.2460255+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T09:10:23.2461500+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:10:23.2462150+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:10:23.2466137+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:10:23.2466802+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:10:23.2468256+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T09:10:23.2468627+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:10:23.2469124+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:10:23.2469885+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T09:10:23.2485250+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T09:10:23.2488086+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:10:23.2488731+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T09:10:23.2489845+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:10:23.2490340+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:10:23.2491428+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T09:10:23.2492036+07:00 [INF] (///) Writing value of type '"PagedList`1"' as Json.
2025-06-06T09:10:23.2493768+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T09:10:23.2494930+07:00 [INF] (///) HTTP "GET" "/api/v1/students" responded 200 in 18.0797 ms
2025-06-06T09:10:23.2495902+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T09:10:23.2496290+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:10:23.2496629+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:10:23.2498610+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - 200 null "application/json; charset=utf-8" 18.8843ms
2025-06-06T09:10:23.2499477+07:00 [DBG] (///) Connection id ""0HND4JO54APJE"" disconnecting.
2025-06-06T09:10:23.2499783+07:00 [DBG] (///) Connection id ""0HND4JO54APJE"" stopped.
2025-06-06T09:10:23.2500246+07:00 [DBG] (///) Connection id ""0HND4JO54APJE"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:10:23.2559008+07:00 [DBG] (///) Connection id ""0HND4JO54APJF"" accepted.
2025-06-06T09:10:23.2559842+07:00 [DBG] (///) Connection id ""0HND4JO54APJF"" started.
2025-06-06T09:10:23.2561836+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - "application/json" null
2025-06-06T09:10:23.2563034+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students"'
2025-06-06T09:10:23.2563479+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students"' with route pattern '"/api/v{version:apiVersion}/students"' is valid for the request path '"/api/v1/students"'
2025-06-06T09:10:23.2563840+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T09:10:23.2564614+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:10:23.2565130+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T09:10:23.2572051+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T09:10:23.2574824+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T09:10:23.2575160+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T09:10:23.2576308+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:10:23.2576798+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:10:23.2577850+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T09:10:23.2578214+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:10:23.2578433+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:10:23.2578820+07:00 [DBG] (///) Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T09:10:23.2588398+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T09:10:23.2589948+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:10:23.2590402+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T09:10:23.2591262+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:10:23.2591632+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:10:23.2594813+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:10:23.2595200+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:10:23.2596693+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T09:10:23.2596976+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:10:23.2597305+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:10:23.2597797+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T09:10:23.2613954+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T09:10:23.2616767+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:10:23.2617432+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T09:10:23.2618328+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:10:23.2618754+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:10:23.2619820+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T09:10:23.2620218+07:00 [INF] (///) Writing value of type '"PagedList`1"' as Json.
2025-06-06T09:10:23.2622154+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T09:10:23.2624017+07:00 [INF] (///) HTTP "GET" "/api/v1/students" responded 200 in 5.7908 ms
2025-06-06T09:10:23.2624887+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T09:10:23.2625324+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:10:23.2625566+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:10:23.2626068+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - 200 null "application/json; charset=utf-8" 6.4216ms
2025-06-06T09:10:23.2626645+07:00 [DBG] (///) Connection id ""0HND4JO54APJF"" disconnecting.
2025-06-06T09:10:23.2626870+07:00 [DBG] (///) Connection id ""0HND4JO54APJF"" stopped.
2025-06-06T09:10:23.2628129+07:00 [DBG] (///) Connection id ""0HND4JO54APJF"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:12:53.7473930+07:00 [DBG] (///) Connection id ""0HND4JO54APJG"" accepted.
2025-06-06T09:12:53.7474818+07:00 [DBG] (///) Connection id ""0HND4JO54APJG"" started.
2025-06-06T09:12:53.7477075+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T09:12:53.7478821+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T09:12:53.7479614+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T09:12:53.7480171+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:12:53.7481238+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:12:53.7481818+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:12:53.7490063+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T09:12:53.7494304+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T09:12:53.7494723+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T09:12:53.7495048+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:12:53.7495514+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:12:53.7497219+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T09:12:53.7497726+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:12:53.7498842+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:12:53.7499389+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T09:12:53.7520038+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T09:12:53.7522883+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:12:53.7523828+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T09:12:53.7524972+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:12:53.7525560+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:12:53.7526666+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T09:12:53.7527157+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T09:12:53.7529491+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:12:53.7530522+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 4.8742 ms
2025-06-06T09:12:53.7531581+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T09:12:53.7531942+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:12:53.7532249+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:12:53.7532801+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 5.5792ms
2025-06-06T09:12:53.7533546+07:00 [DBG] (///) Connection id ""0HND4JO54APJG"" disconnecting.
2025-06-06T09:12:53.7533868+07:00 [DBG] (///) Connection id ""0HND4JO54APJG"" stopped.
2025-06-06T09:12:53.7534569+07:00 [DBG] (///) Connection id ""0HND4JO54APJG"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:12:53.7586416+07:00 [DBG] (///) Connection id ""0HND4JO54APJH"" accepted.
2025-06-06T09:12:53.7587381+07:00 [DBG] (///) Connection id ""0HND4JO54APJH"" started.
2025-06-06T09:12:53.7589683+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T09:12:53.7591012+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T09:12:53.7591544+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T09:12:53.7591957+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:12:53.7592833+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:12:53.7593258+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:12:53.7600574+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T09:12:53.7604412+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T09:12:53.7604864+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T09:12:53.7605147+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:12:53.7605648+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:12:53.7607646+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T09:12:53.7607957+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:12:53.7608452+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:12:53.7609044+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T09:12:53.7624227+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T09:12:53.7627265+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:12:53.7628076+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T09:12:53.7629291+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:12:53.7629938+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:12:53.7631086+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T09:12:53.7631484+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T09:12:53.7633364+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:12:53.7634402+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 4.1021 ms
2025-06-06T09:12:53.7635298+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T09:12:53.7635802+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:12:53.7636086+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:12:53.7636720+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 4.6995ms
2025-06-06T09:12:53.7637359+07:00 [DBG] (///) Connection id ""0HND4JO54APJH"" disconnecting.
2025-06-06T09:12:53.7637632+07:00 [DBG] (///) Connection id ""0HND4JO54APJH"" stopped.
2025-06-06T09:12:53.7638300+07:00 [DBG] (///) Connection id ""0HND4JO54APJH"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:12:59.0940317+07:00 [DBG] (///) Connection id ""0HND4JO54APJI"" accepted.
2025-06-06T09:12:59.0940994+07:00 [DBG] (///) Connection id ""0HND4JO54APJI"" started.
2025-06-06T09:12:59.0943160+07:00 [INF] (///) Request starting "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - "application/json" 41
2025-06-06T09:12:59.0944842+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T09:12:59.0945512+07:00 [DBG] (///) Endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T09:12:59.0946035+07:00 [DBG] (///) Request matched endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:12:59.0947016+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:12:59.0947645+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T09:12:59.0947897+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T09:12:59.0948728+07:00 [INF] (///) Executing endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:12:59.0949626+07:00 [DBG] (///) Connection id ""0HND4JO54APJI"", Request id ""0HND4JO54APJI:00000001"": started reading request body.
2025-06-06T09:12:59.0949923+07:00 [DBG] (///) Connection id ""0HND4JO54APJI"", Request id ""0HND4JO54APJI:00000001"": done reading request body.
2025-06-06T09:12:59.0960824+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T09:12:59.0965024+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Tuition>()
    .Where(t => t.StudentCode == __studentCode_0 && __request_1
        .Any(r => r.AcademicYear == t.AcademicYear && r.Semester == t.Semester))"'
2025-06-06T09:12:59.0973931+07:00 [INF] (///) Executed endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:12:59.0976262+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression '__request_1
    .Any(e => e.AcademicYear == StructuralTypeShaperExpression(
        StructuralType: TuitionService.Domain.Entity.Tuition
        ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
        IsNullable: False).AcademicYear && e.Semester == StructuralTypeShaperExpression(
        StructuralType: TuitionService.Domain.Entity.Tuition
        ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
        IsNullable: False).Semester)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.<VisitMethodCall>g__TranslateAsSubquery|33_0(Expression expression, <>c__DisplayClass33_0&)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Query.Internal.NpgsqlSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Query.Internal.NpgsqlSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.Translate(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateExpression(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateLambdaExpression(ShapedQueryExpression shapedQueryExpression, LambdaExpression lambdaExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Query.Internal.NpgsqlQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Program.<>c.<<<Main>$>b__0_14>d.MoveNext() in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api/Program.cs:line 240
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-06T09:12:59.1047218+07:00 [ERR] (///) HTTP "DELETE" "/api/v1/students/N22DCCN888/tuitions" responded 500 in 9.9660 ms
2025-06-06T09:12:59.1048906+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T09:12:59.1049873+07:00 [INF] (///) Request finished "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - 500 null "application/problem+json" 10.6711ms
2025-06-06T09:12:59.1050600+07:00 [DBG] (///) Connection id ""0HND4JO54APJI"" disconnecting.
2025-06-06T09:12:59.1050783+07:00 [DBG] (///) Connection id ""0HND4JO54APJI"" stopped.
2025-06-06T09:12:59.1051903+07:00 [DBG] (///) Connection id ""0HND4JO54APJI"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:13:07.4366425+07:00 [DBG] (///) Connection id ""0HND4JO54APJJ"" accepted.
2025-06-06T09:13:07.4367631+07:00 [DBG] (///) Connection id ""0HND4JO54APJJ"" started.
2025-06-06T09:13:07.4376911+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T09:13:07.4378552+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T09:13:07.4379013+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T09:13:07.4379554+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:13:07.4380426+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:13:07.4380874+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:13:07.4390891+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T09:13:07.4396533+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T09:13:07.4397134+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T09:13:07.4397482+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:13:07.4399371+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:13:07.4400499+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T09:13:07.4401078+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:13:07.4401507+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:13:07.4403377+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T09:13:07.4422694+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T09:13:07.4426292+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:13:07.4427086+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T09:13:07.4428189+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:13:07.4428703+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:13:07.4429642+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T09:13:07.4430544+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T09:13:07.4432352+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:13:07.4433360+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 5.2486 ms
2025-06-06T09:13:07.4434402+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T09:13:07.4434728+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:13:07.4435010+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:13:07.4435603+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 5.8688ms
2025-06-06T09:13:07.4436111+07:00 [DBG] (///) Connection id ""0HND4JO54APJJ"" disconnecting.
2025-06-06T09:13:07.4436312+07:00 [DBG] (///) Connection id ""0HND4JO54APJJ"" stopped.
2025-06-06T09:13:07.4436617+07:00 [DBG] (///) Connection id ""0HND4JO54APJJ"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:13:20.2380827+07:00 [DBG] (///) Connection id ""0HND4JO54APJK"" accepted.
2025-06-06T09:13:20.2381472+07:00 [DBG] (///) Connection id ""0HND4JO54APJK"" started.
2025-06-06T09:13:20.2383718+07:00 [INF] (///) Request starting "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - "application/json" 41
2025-06-06T09:13:20.2385486+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T09:13:20.2386125+07:00 [DBG] (///) Endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T09:13:20.2386617+07:00 [DBG] (///) Request matched endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:13:20.2387878+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:13:20.2388481+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T09:13:20.2388650+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T09:13:20.2389102+07:00 [INF] (///) Executing endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:13:20.2389797+07:00 [DBG] (///) Connection id ""0HND4JO54APJK"", Request id ""0HND4JO54APJK:00000001"": started reading request body.
2025-06-06T09:13:20.2390056+07:00 [DBG] (///) Connection id ""0HND4JO54APJK"", Request id ""0HND4JO54APJK:00000001"": done reading request body.
2025-06-06T09:13:20.2398943+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T09:13:20.2401918+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Tuition>()
    .Where(t => t.StudentCode == __studentCode_0 && __request_1
        .Any(r => r.AcademicYear == t.AcademicYear && r.Semester == t.Semester))"'
2025-06-06T09:13:20.2411868+07:00 [INF] (///) Executed endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:13:20.2412432+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression '__request_1
    .Any(e => e.AcademicYear == StructuralTypeShaperExpression(
        StructuralType: TuitionService.Domain.Entity.Tuition
        ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
        IsNullable: False).AcademicYear && e.Semester == StructuralTypeShaperExpression(
        StructuralType: TuitionService.Domain.Entity.Tuition
        ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
        IsNullable: False).Semester)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.<VisitMethodCall>g__TranslateAsSubquery|33_0(Expression expression, <>c__DisplayClass33_0&)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Query.Internal.NpgsqlSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Query.Internal.NpgsqlSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.Translate(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateExpression(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateLambdaExpression(ShapedQueryExpression shapedQueryExpression, LambdaExpression lambdaExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Query.Internal.NpgsqlQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Program.<>c.<<<Main>$>b__0_14>d.MoveNext() in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api/Program.cs:line 240
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-06T09:13:20.2458321+07:00 [ERR] (///) HTTP "DELETE" "/api/v1/students/N22DCCN888/tuitions" responded 500 in 7.0170 ms
2025-06-06T09:13:20.2459092+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T09:13:20.2459594+07:00 [INF] (///) Request finished "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - 500 null "application/problem+json" 7.6159ms
2025-06-06T09:13:20.2459991+07:00 [DBG] (///) Connection id ""0HND4JO54APJK"" disconnecting.
2025-06-06T09:13:20.2460174+07:00 [DBG] (///) Connection id ""0HND4JO54APJK"" stopped.
2025-06-06T09:13:20.2460676+07:00 [DBG] (///) Connection id ""0HND4JO54APJK"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:21:19.8696839+07:00 [INF] (///) Application is shutting down...
2025-06-06T09:21:19.8705655+07:00 [DBG] (///) Hosting stopping
2025-06-06T09:21:19.8752045+07:00 [DBG] (///) Hosting stopped
2025-06-06T09:21:23.7032515+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-06T09:21:23.7721817+07:00 [INF] (///) No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-06-06T09:21:23.7760440+07:00 [DBG] (///) Hosting starting
2025-06-06T09:21:23.8995035+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-06T09:21:23.8998750+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-06T09:21:23.9605831+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-06T09:21:23.9622152+07:00 [WRN] (///) Overriding address(es) '"https://localhost:31001"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-06T09:21:23.9664324+07:00 [INF] (///) Now listening on: "http://localhost:14100"
2025-06-06T09:21:23.9669964+07:00 [INF] (///) Now listening on: "https://localhost:14101"
2025-06-06T09:21:23.9670902+07:00 [DBG] (///) Loaded hosting startup assembly "TuitionService.Api"
2025-06-06T09:21:23.9673344+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-06T09:21:23.9673832+07:00 [INF] (///) Hosting environment: "Development"
2025-06-06T09:21:23.9675765+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api"
2025-06-06T09:21:23.9676626+07:00 [DBG] (///) Hosting started
2025-06-06T09:21:25.8512219+07:00 [DBG] (///) Connection id ""0HND4K3B9GN57"" accepted.
2025-06-06T09:21:25.8521085+07:00 [DBG] (///) Connection id ""0HND4K3B9GN57"" started.
2025-06-06T09:21:25.8671177+07:00 [INF] (///) Request starting "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - "application/json" 41
2025-06-06T09:21:25.9155958+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T09:21:25.9183196+07:00 [DBG] (///) Endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T09:21:25.9209805+07:00 [DBG] (///) Request matched endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:21:25.9256846+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:21:25.9266414+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T09:21:25.9269310+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T09:21:25.9280015+07:00 [INF] (///) Executing endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:21:25.9344779+07:00 [DBG] (///) Connection id ""0HND4K3B9GN57"", Request id ""0HND4K3B9GN57:00000001"": started reading request body.
2025-06-06T09:21:25.9347637+07:00 [DBG] (///) Connection id ""0HND4K3B9GN57"", Request id ""0HND4K3B9GN57:00000001"": done reading request body.
2025-06-06T09:21:26.0256504+07:00 [INF] (///) Executed endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:21:26.0266358+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
Shared.Exception.BadInputException: Hc k phi l s nguyn t 1 n 4, nhng nhn c 2025
   at Shared.Domain.ValueObject.Semester..ctor(Int32 value) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Domain/ValueObject/Semester.cs:line 12
   at Program.<>c.<<Main>$>b__0_32(DeleteStudentTuitionRequest r) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api/Program.cs:line 240
   at System.Linq.Enumerable.ListSelectIterator`2.Fill(ReadOnlySpan`1 source, Span`1 destination, Func`2 func)
   at System.Linq.Enumerable.ListSelectIterator`2.ToList()
   at Program.<>c.<<<Main>$>b__0_14>d.MoveNext() in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api/Program.cs:line 240
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-06T09:21:26.0849766+07:00 [INF] (///) HTTP "DELETE" "/api/v1/students/N22DCCN888/tuitions" responded 400 in 158.4097 ms
2025-06-06T09:21:26.0922790+07:00 [DBG] (///) Connection id ""0HND4K3B9GN57"" received FIN.
2025-06-06T09:21:26.0927454+07:00 [DBG] (///) Connection id ""0HND4K3B9GN57"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:21:26.0974107+07:00 [DBG] (///) Connection id ""0HND4K3B9GN57"" disconnecting.
2025-06-06T09:21:26.0971698+07:00 [INF] (///) Request finished "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - 400 null "application/problem+json" 230.615ms
2025-06-06T09:21:26.1003399+07:00 [DBG] (///) Connection id ""0HND4K3B9GN57"" stopped.
2025-06-06T09:21:37.8894173+07:00 [DBG] (///) Connection id ""0HND4K3B9GN58"" accepted.
2025-06-06T09:21:37.8897958+07:00 [DBG] (///) Connection id ""0HND4K3B9GN58"" started.
2025-06-06T09:21:37.8914618+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - "application/json" null
2025-06-06T09:21:37.8929253+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students"'
2025-06-06T09:21:37.8932036+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students"' with route pattern '"/api/v{version:apiVersion}/students"' is valid for the request path '"/api/v1/students"'
2025-06-06T09:21:37.8934646+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T09:21:37.8938950+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:21:37.8940677+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T09:21:37.9416098+07:00 [DBG] (///) An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration changed for 'Core:EnableSensitiveDataLogging', configuration changed for 'Core:EnableDetailedErrors', configuration changed for 'Core:ConfigureWarnings', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseAdminDatabase', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:SetPostgresVersion', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseRedshift', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ReverseNullOrdering', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:RemoteCertificateValidationCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvideClientCertificatesCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvidePasswordCallback'".
2025-06-06T09:21:38.2838704+07:00 [DBG] (///) The index "{'StudentCode'}" was not created on entity type '"Tuition"' as the properties are already covered by the index "{'StudentCode', 'AcademicYear', 'Semester'}".
2025-06-06T09:21:38.2841610+07:00 [DBG] (///) The index "{'StudentCode', 'AcademicYear', 'Semester'}" was not created on entity type '"TuitionPayment"' as the properties are already covered by the index "{'StudentCode', 'AcademicYear', 'Semester', 'PaymentDate'}".
2025-06-06T09:21:38.3440874+07:00 [WRN] (///) Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-06-06T09:21:38.3616517+07:00 [WRN] (///) The foreign key property '"GlobalStudentCode"."StudentBasicInfoStudentCode1"' was created in shadow state because a conflicting property with the simple name '"StudentBasicInfoStudentCode"' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-06T09:21:38.4634628+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T09:21:38.5147628+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<StudentBasicInfo>()
    .AsNoTracking()
    .Select(s => new StudentBasicInfo{ 
        StudentCode = s.StudentCode, 
        LastName = s.LastName, 
        FirstName = s.FirstName, 
        ClassCode = s.ClassCode, 
        FacultyCode = s.FacultyCode 
    }
    )
    .Count()"'
2025-06-06T09:21:38.6902762+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT CAST(count(*) AS integer)
            FROM student_basic_info AS s) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT CAST(count(*) AS integer)
            FROM student_basic_info AS s, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = try { dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0) } catch (Exception) { ... } ;
            return (int)value1;
        }, 
        contextType: TuitionService.Domain.TuitionDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: True, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)"'
2025-06-06T09:21:38.7188735+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T09:21:38.7493290+07:00 [DBG] (///) Created DbConnection. (28ms).
2025-06-06T09:21:38.7530369+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:21:38.8242691+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:21:38.8298331+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T09:21:38.8356304+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (2ms).
2025-06-06T09:21:38.8368986+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (7ms).
2025-06-06T09:21:38.8432980+07:00 [DBG] (///) Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T09:21:38.8711531+07:00 [INF] (///) Executed DbCommand ("27"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T09:21:38.9166118+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:21:38.9249470+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 47ms reading results.
2025-06-06T09:21:38.9303928+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:21:38.9356972+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (5ms).
2025-06-06T09:21:38.9413449+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<StudentBasicInfo>()
    .AsNoTracking()
    .Select(s => new StudentBasicInfo{ 
        StudentCode = s.StudentCode, 
        LastName = s.LastName, 
        FirstName = s.FirstName, 
        ClassCode = s.ClassCode, 
        FacultyCode = s.FacultyCode 
    }
    )
    .Skip(__p_0)
    .Take(__p_1)"'
2025-06-06T09:21:38.9501861+07:00 [WRN] (///) The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-06T09:21:38.9514542+07:00 [WRN] (///) The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-06T09:21:38.9623248+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => SingleQueryingEnumerable.Create<StudentBasicInfo>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            StudentCode -> 0
            LastName -> 1
            FirstName -> 2
            ClassCode -> 3
            FacultyCode -> 4
        SELECT s.student_code AS StudentCode, s.last_name AS LastName, s.first_name AS FirstName, s.class_code AS ClassCode, s.faculty_code AS FacultyCode
        FROM student_basic_info AS s
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            StudentCode -> 0
            LastName -> 1
            FirstName -> 2
            ClassCode -> 3
            FacultyCode -> 4
        SELECT s.student_code AS StudentCode, s.last_name AS LastName, s.first_name AS FirstName, s.class_code AS ClassCode, s.faculty_code AS FacultyCode
        FROM student_basic_info AS s
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        string value1;
        string value2;
        string value3;
        string value4;
        string value5;
        value1 = try { dataReader.GetString(0) } catch (Exception) { ... } ;
        value2 = try { dataReader.GetString(1) } catch (Exception) { ... } ;
        value3 = try { dataReader.GetString(2) } catch (Exception) { ... } ;
        value4 = try { dataReader.GetString(3) } catch (Exception) { ... } ;
        value5 = try { dataReader.GetString(4) } catch (Exception) { ... } ;
        return new StudentBasicInfo{ 
            StudentCode = value1, 
            LastName = value2, 
            FirstName = value3, 
            ClassCode = value4, 
            FacultyCode = value5 
        }
        ;
    }, 
    contextType: TuitionService.Domain.TuitionDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: True, 
    threadSafetyChecksEnabled: True)"'
2025-06-06T09:21:38.9717834+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:21:38.9724606+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:21:38.9727173+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T09:21:38.9727953+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:21:38.9782872+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (5ms).
2025-06-06T09:21:38.9807344+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T09:21:38.9941135+07:00 [INF] (///) Executed DbCommand ("15"ms) [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T09:21:38.9980875+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:21:38.9982760+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 3ms reading results.
2025-06-06T09:21:38.9984585+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:21:38.9985315+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:21:38.9996280+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T09:21:39.0021212+07:00 [INF] (///) Writing value of type '"PagedList`1"' as Json.
2025-06-06T09:21:39.0082221+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T09:21:39.0100608+07:00 [INF] (///) HTTP "GET" "/api/v1/students" responded 200 in 1115.9776 ms
2025-06-06T09:21:39.0126394+07:00 [DBG] (///) Connection id ""0HND4K3B9GN58"" received FIN.
2025-06-06T09:21:39.0126314+07:00 [DBG] (///) Connection id ""0HND4K3B9GN59"" accepted.
2025-06-06T09:21:39.0128403+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T09:21:39.0128445+07:00 [DBG] (///) Connection id ""0HND4K3B9GN58"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:21:39.0129488+07:00 [DBG] (///) Connection id ""0HND4K3B9GN59"" started.
2025-06-06T09:21:39.0131477+07:00 [DBG] (///) Connection id ""0HND4K3B9GN58"" disconnecting.
2025-06-06T09:21:39.0134026+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - "application/json" null
2025-06-06T09:21:39.0137117+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students"'
2025-06-06T09:21:39.0138441+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students"' with route pattern '"/api/v{version:apiVersion}/students"' is valid for the request path '"/api/v1/students"'
2025-06-06T09:21:39.0139740+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T09:21:39.0141729+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:21:39.0143065+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T09:21:39.0185685+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:21:39.0322482+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (13ms).
2025-06-06T09:21:39.0326955+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - 200 null "application/json; charset=utf-8" 1141.2368ms
2025-06-06T09:21:39.0344300+07:00 [DBG] (///) Connection id ""0HND4K3B9GN58"" stopped.
2025-06-06T09:21:39.0380265+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T09:21:39.0406710+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T09:21:39.0407904+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T09:21:39.0408512+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:21:39.0409213+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:21:39.0411261+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T09:21:39.0412004+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:21:39.0412522+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:21:39.0413210+07:00 [DBG] (///) Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T09:21:39.0425950+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T09:21:39.0429206+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:21:39.0430170+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T09:21:39.0432076+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:21:39.0433001+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:21:39.0437680+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:21:39.0438310+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:21:39.0440168+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T09:21:39.0440694+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:21:39.0441349+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:21:39.0442194+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T09:21:39.0451265+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T09:21:39.0455988+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:21:39.0456729+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T09:21:39.0458507+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:21:39.0459336+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:21:39.0461584+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T09:21:39.0462314+07:00 [INF] (///) Writing value of type '"PagedList`1"' as Json.
2025-06-06T09:21:39.0464661+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T09:21:39.0466202+07:00 [INF] (///) HTTP "GET" "/api/v1/students" responded 200 in 32.3699 ms
2025-06-06T09:21:39.0467241+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T09:21:39.0468680+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:21:39.0469452+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:21:39.0471773+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - 200 null "application/json; charset=utf-8" 33.6561ms
2025-06-06T09:21:39.0472871+07:00 [DBG] (///) Connection id ""0HND4K3B9GN59"" disconnecting.
2025-06-06T09:21:39.0472621+07:00 [DBG] (///) Connection id ""0HND4K3B9GN59"" received FIN.
2025-06-06T09:21:39.0473725+07:00 [DBG] (///) Connection id ""0HND4K3B9GN59"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:21:39.0485163+07:00 [DBG] (///) Connection id ""0HND4K3B9GN59"" stopped.
2025-06-06T09:21:40.1992731+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5A"" accepted.
2025-06-06T09:21:40.1994404+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5A"" started.
2025-06-06T09:21:40.1997278+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T09:21:40.1999310+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T09:21:40.2000145+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T09:21:40.2000882+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:21:40.2002312+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:21:40.2003060+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:21:40.2353274+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T09:21:40.2380275+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<StudentBasicInfo>()
    .Where(s => s.StudentCode == __studentCode_0)
    .Select(s => new StudentDetailResponse{ 
        StudentCode = s.StudentCode, 
        LastName = s.LastName, 
        FirstName = s.FirstName, 
        ClassCode = s.ClassCode, 
        FacultyCode = s.FacultyCode, 
        Tuitions = s.Tuitions
            .Select(t => new TuitionResponse{ 
                AcademicYear = t.AcademicYear, 
                Semester = t.Semester.ToString(), 
                TuitionAmount = (decimal)t.TuitionFee, 
                TuitionPaid = (decimal)t.TuitionPayments
                    .Sum(p => p.AmountPaid) 
            }
            )
            .ToList() 
    }
    )
    .FirstOrDefault()"'
2025-06-06T09:21:40.3396267+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<StudentDetailResponse>(
    asyncEnumerable: SingleQueryingEnumerable.Create<StudentDetailResponse>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> 0
                1 -> 1
                2 -> 2
                3 -> 3
                4 -> 4
                5 -> 5
                6 -> 6
                7 -> 7
                8 -> 8
                9 -> 9
                10 -> 10
            SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, COALESCE(CAST(t.semester AS text), ''), CAST(t.tuition_fee AS numeric), CAST((
                SELECT CAST(sum(t0.amount_paid) AS integer)
                FROM tuition_payment AS t0
                WHERE (((t.student_code != NULL) && (t.academic_year != NULL)) && (t.semester != NULL)) && (((t.student_code == t0.student_code) && (t.academic_year == t0.academic_year)) && (t.semester == t0.semester))) AS numeric), t.student_code, t.semester
            FROM 
            (
                SELECT TOP(1) s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
                FROM student_basic_info AS s
                WHERE s.student_code == @__studentCode_0
            ) AS s0
            LEFT JOIN tuition AS t ON s0.student_code == t.student_code
            ORDER BY s0.student_code ASC, t.student_code ASC, t.academic_year ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> 0
                1 -> 1
                2 -> 2
                3 -> 3
                4 -> 4
                5 -> 5
                6 -> 6
                7 -> 7
                8 -> 8
                9 -> 9
                10 -> 10
            SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, COALESCE(CAST(t.semester AS text), ''), CAST(t.tuition_fee AS numeric), CAST((
                SELECT CAST(sum(t0.amount_paid) AS integer)
                FROM tuition_payment AS t0
                WHERE (((t.student_code != NULL) && (t.academic_year != NULL)) && (t.semester != NULL)) && (((t.student_code == t0.student_code) && (t.academic_year == t0.academic_year)) && (t.semester == t0.semester))) AS numeric), t.student_code, t.semester
            FROM 
            (
                SELECT TOP(1) s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
                FROM student_basic_info AS s
                WHERE s.student_code == @__studentCode_0
            ) AS s0
            LEFT JOIN tuition AS t ON s0.student_code == t.student_code
            ORDER BY s0.student_code ASC, t.student_code ASC, t.academic_year ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                string value1;
                string value2;
                string value3;
                string value4;
                string value5;
                List<TuitionResponse> namelessParameter{0};
                value1 = try { dataReader.GetString(0) } catch (Exception) { ... } ;
                value2 = try { dataReader.GetString(1) } catch (Exception) { ... } ;
                value3 = try { dataReader.GetString(2) } catch (Exception) { ... } ;
                value4 = try { dataReader.GetString(3) } catch (Exception) { ... } ;
                value5 = try { dataReader.GetString(4) } catch (Exception) { ... } ;
                namelessParameter{0} = ShaperProcessingExpressionVisitor.InitializeCollection<TuitionResponse, List<TuitionResponse>>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ try { dataReader.GetString(0) } catch (Exception) { ... }  }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ try { dataReader.GetString(0) } catch (Exception) { ... }  }], 
                    clrCollectionAccessor: default(IClrCollectionAccessor));
                return resultContext.Values = new object[]
                { 
                    value1, 
                    value2, 
                    value3, 
                    value4, 
                    value5, 
                    namelessParameter{0} 
                };
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateCollection<List<TuitionResponse>, TuitionResponse, TuitionResponse>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ try { dataReader.GetString(0) } catch (Exception) { ... }  }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ try { dataReader.GetString(0) } catch (Exception) { ... }  }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    try { dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9) } catch (Exception) { ... } , 
                    try { dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5) } catch (Exception) { ... } , 
                    (object)try { dataReader.IsDBNull(10) ? default(int?) : (int?)dataReader.GetInt32(10) } catch (Exception) { ... }  
                }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (string)left == (string)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (string)left == (string)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
                { 
                    (left, right) => left == null ? right == null : right != null && (string)left == (string)right, 
                    (left, right) => left == null ? right == null : right != null && (string)left == (string)right, 
                    (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
                }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    string value1;
                    string value2;
                    decimal? value3;
                    decimal? value4;
                    value1 = try { dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5) } catch (Exception) { ... } ;
                    value2 = try { dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6) } catch (Exception) { ... } ;
                    value3 = try { dataReader.IsDBNull(7) ? default(decimal?) : (decimal?)dataReader.GetDecimal(7) } catch (Exception) { ... } ;
                    value4 = try { dataReader.IsDBNull(8) ? default(decimal?) : (decimal?)dataReader.GetDecimal(8) } catch (Exception) { ... } ;
                    return new TuitionResponse{ 
                        AcademicYear = value1, 
                        Semester = value2, 
                        TuitionAmount = (decimal)value3, 
                        TuitionPaid = (decimal)value4 
                    }
                    ;
                });
            return IsTrue(resultCoordinator.ResultReady)
             ? new StudentDetailResponse{ 
                StudentCode = (string)(resultContext.Values[0]), 
                LastName = (string)(resultContext.Values[1]), 
                FirstName = (string)(resultContext.Values[2]), 
                ClassCode = (string)(resultContext.Values[3]), 
                FacultyCode = (string)(resultContext.Values[4]), 
                Tuitions = (List<TuitionResponse>)(resultContext.Values[5]) 
            }
             : default(StudentDetailResponse);
        }, 
        contextType: TuitionService.Domain.TuitionDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: True, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)"'
2025-06-06T09:21:40.3487420+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T09:21:40.3488417+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T09:21:40.3488666+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:21:40.3489191+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:21:40.3490957+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T09:21:40.3491335+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:21:40.3494466+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:21:40.3495437+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T09:21:40.3519982+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T09:21:40.3597903+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:21:40.3599512+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 7ms reading results.
2025-06-06T09:21:40.3601384+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:21:40.3602141+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:21:40.3605119+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T09:21:40.3650357+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T09:21:40.3691827+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:21:40.3693953+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 169.0621 ms
2025-06-06T09:21:40.3695907+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T09:21:40.3696618+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:21:40.3699019+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:21:40.3700494+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 170.2734ms
2025-06-06T09:21:40.3700650+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5A"" received FIN.
2025-06-06T09:21:40.3701581+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5A"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:21:40.3702796+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5A"" disconnecting.
2025-06-06T09:21:40.3703893+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5A"" stopped.
2025-06-06T09:21:40.3741787+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5B"" accepted.
2025-06-06T09:21:40.3742793+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5B"" started.
2025-06-06T09:21:40.3745519+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T09:21:40.3747032+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T09:21:40.3747899+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T09:21:40.3749664+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:21:40.3750840+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:21:40.3751548+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:21:40.3761941+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T09:21:40.3769780+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T09:21:40.3770515+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T09:21:40.3771126+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:21:40.3771808+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:21:40.3773659+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T09:21:40.3774317+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:21:40.3774930+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:21:40.3775634+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T09:21:40.3793919+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T09:21:40.3798643+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:21:40.3799896+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T09:21:40.3801695+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:21:40.3802518+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:21:40.3804420+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T09:21:40.3805197+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T09:21:40.3808408+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:21:40.3809862+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 5.8188 ms
2025-06-06T09:21:40.3810931+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T09:21:40.3811597+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:21:40.3813610+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:21:40.3814604+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 6.8964ms
2025-06-06T09:21:40.3815454+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5B"" disconnecting.
2025-06-06T09:21:40.3815930+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5B"" stopped.
2025-06-06T09:21:40.3817310+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5B"" received FIN.
2025-06-06T09:21:40.3817777+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5B"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:21:43.7974023+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5C"" accepted.
2025-06-06T09:21:43.7974761+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5C"" started.
2025-06-06T09:21:43.7978243+07:00 [INF] (///) Request starting "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - "application/json" 41
2025-06-06T09:21:43.7980281+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T09:21:43.7980912+07:00 [DBG] (///) Endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T09:21:43.7981623+07:00 [DBG] (///) Request matched endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:21:43.7982759+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:21:43.7984416+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T09:21:43.7984614+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T09:21:43.7985285+07:00 [INF] (///) Executing endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:21:43.7986705+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5C"", Request id ""0HND4K3B9GN5C:00000001"": started reading request body.
2025-06-06T09:21:43.7987572+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5C"", Request id ""0HND4K3B9GN5C:00000001"": done reading request body.
2025-06-06T09:21:43.7991641+07:00 [INF] (///) Executed endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:21:43.7992148+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
Shared.Exception.BadInputException: Hc k phi l s nguyn t 1 n 4, nhng nhn c 2025
   at Shared.Domain.ValueObject.Semester..ctor(Int32 value) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Domain/ValueObject/Semester.cs:line 12
   at Program.<>c.<<Main>$>b__0_32(DeleteStudentTuitionRequest r) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api/Program.cs:line 240
   at System.Linq.Enumerable.ListSelectIterator`2.Fill(ReadOnlySpan`1 source, Span`1 destination, Func`2 func)
   at System.Linq.Enumerable.ListSelectIterator`2.ToList()
   at Program.<>c.<<<Main>$>b__0_14>d.MoveNext() in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api/Program.cs:line 240
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-06T09:21:43.8025237+07:00 [INF] (///) HTTP "DELETE" "/api/v1/students/N22DCCN888/tuitions" responded 400 in 4.2139 ms
2025-06-06T09:21:43.8026305+07:00 [INF] (///) Request finished "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - 400 null "application/problem+json" 4.8055ms
2025-06-06T09:21:43.8027096+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5C"" disconnecting.
2025-06-06T09:21:43.8027465+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5C"" stopped.
2025-06-06T09:21:43.8028153+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5C"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:22:23.2437367+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5D"" accepted.
2025-06-06T09:22:23.2439705+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5D"" started.
2025-06-06T09:22:23.2442734+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" null
2025-06-06T09:22:23.2444035+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T09:22:23.2444497+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T09:22:23.2445957+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T09:22:23.2447043+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:22:23.2448216+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T09:22:23.2464946+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T09:22:23.2473859+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<TuitionPayment>()
    .Where(p => p.StudentCode == __studentCode_0 && p.AcademicYear == __academicYear_1 && p.Semester == __semester_2)
    .Select(p => new PaymentResponse{ 
        PaymentDate = p.PaymentDate.ToString(), 
        AmountPaid = (decimal)p.AmountPaid 
    }
    )"'
2025-06-06T09:22:23.2560849+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => SingleQueryingEnumerable.Create<PaymentResponse>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
        SELECT t.payment_date, CAST(t.amount_paid AS numeric)
        FROM tuition_payment AS t
        WHERE ((t.student_code == @__studentCode_0) && (t.academic_year == @__academicYear_1)) && (t.semester == @__semester_2)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> 0
            1 -> 1
        SELECT t.payment_date, CAST(t.amount_paid AS numeric)
        FROM tuition_payment AS t
        WHERE ((t.student_code == @__studentCode_0) && (t.academic_year == @__academicYear_1)) && (t.semester == @__semester_2), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        DateOnly? value1;
        decimal? value2;
        value1 = try { (DateOnly?)dataReader.GetFieldValue<DateOnly>(0) } catch (Exception) { ... } ;
        value2 = try { dataReader.IsDBNull(1) ? default(decimal?) : (decimal?)dataReader.GetDecimal(1) } catch (Exception) { ... } ;
        return new PaymentResponse{ 
            PaymentDate = value1 == default(DateOnly?) ? null : ((DateOnly)value1).ToString(), 
            AmountPaid = (decimal)value2 
        }
        ;
    }, 
    contextType: TuitionService.Domain.TuitionDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: True, 
    threadSafetyChecksEnabled: True)"'
2025-06-06T09:22:23.2579548+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T09:22:23.2580530+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T09:22:23.2580956+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:22:23.2581560+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:22:23.2583366+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T09:22:23.2583744+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:22:23.2584153+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:22:23.2584882+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T09:22:23.2598038+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T09:22:23.2601286+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:22:23.2602265+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T09:22:23.2603761+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:22:23.2604445+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:22:23.2606919+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T09:22:23.2612804+07:00 [INF] (///) Writing value of type '"List`1"' as Json.
2025-06-06T09:22:23.2618827+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T09:22:23.2621541+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 200 in 17.3817 ms
2025-06-06T09:22:23.2622543+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T09:22:23.2623329+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:22:23.2625275+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:22:23.2626343+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 200 null "application/json; charset=utf-8" 18.342ms
2025-06-06T09:22:23.2627078+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5D"" disconnecting.
2025-06-06T09:22:23.2627375+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5D"" stopped.
2025-06-06T09:22:23.2628092+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5D"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:22:44.6842885+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5E"" accepted.
2025-06-06T09:22:44.6843579+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5E"" started.
2025-06-06T09:22:44.6845829+07:00 [INF] (///) Request starting "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - "application/json" 41
2025-06-06T09:22:44.6847354+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T09:22:44.6847889+07:00 [DBG] (///) Endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T09:22:44.6848281+07:00 [DBG] (///) Request matched endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:22:44.6849162+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:22:44.6849613+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T09:22:44.6849774+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T09:22:44.6850132+07:00 [INF] (///) Executing endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:22:44.6850716+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5E"", Request id ""0HND4K3B9GN5E:00000001"": started reading request body.
2025-06-06T09:22:44.6850973+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5E"", Request id ""0HND4K3B9GN5E:00000001"": done reading request body.
2025-06-06T09:22:44.6856381+07:00 [INF] (///) Executed endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:22:44.6856820+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
Shared.Exception.BadInputException: Hc k phi l s nguyn t 1 n 4, nhng nhn c 2025
   at Shared.Domain.ValueObject.Semester..ctor(Int32 value) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Domain/ValueObject/Semester.cs:line 12
   at Program.<>c.<<Main>$>b__0_32(DeleteStudentTuitionRequest r) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api/Program.cs:line 240
   at System.Linq.Enumerable.ListSelectIterator`2.Fill(ReadOnlySpan`1 source, Span`1 destination, Func`2 func)
   at System.Linq.Enumerable.ListSelectIterator`2.ToList()
   at Program.<>c.<<<Main>$>b__0_14>d.MoveNext() in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api/Program.cs:line 240
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-06T09:22:44.6886796+07:00 [INF] (///) HTTP "DELETE" "/api/v1/students/N22DCCN888/tuitions" responded 400 in 3.7321 ms
2025-06-06T09:22:44.6888378+07:00 [INF] (///) Request finished "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - 400 null "application/problem+json" 4.2557ms
2025-06-06T09:22:44.6889066+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5E"" disconnecting.
2025-06-06T09:22:44.6889310+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5E"" stopped.
2025-06-06T09:22:44.6889747+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5E"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:23:06.4169837+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5F"" accepted.
2025-06-06T09:23:06.4170960+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5F"" started.
2025-06-06T09:23:06.4173528+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T09:23:06.4174797+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T09:23:06.4175268+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T09:23:06.4175732+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:23:06.4176783+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:23:06.4177228+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:23:06.4191503+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T09:23:06.4196380+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T09:23:06.4196950+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T09:23:06.4197239+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:23:06.4197788+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:23:06.4199629+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T09:23:06.4200007+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:23:06.4201108+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:23:06.4201681+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T09:23:06.4213852+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T09:23:06.4217093+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:23:06.4217867+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T09:23:06.4219180+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:23:06.4219652+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:23:06.4220749+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T09:23:06.4221091+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T09:23:06.4222711+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:23:06.4225143+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 4.7950 ms
2025-06-06T09:23:06.4226042+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T09:23:06.4226992+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:23:06.4227448+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:23:06.4228548+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 5.4563ms
2025-06-06T09:23:06.4229197+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5F"" disconnecting.
2025-06-06T09:23:06.4229434+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5F"" stopped.
2025-06-06T09:23:06.4229803+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5F"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:23:11.3404743+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5G"" accepted.
2025-06-06T09:23:11.3405551+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5G"" started.
2025-06-06T09:23:11.3407776+07:00 [INF] (///) Request starting "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - "application/json" 41
2025-06-06T09:23:11.3410455+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T09:23:11.3411134+07:00 [DBG] (///) Endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T09:23:11.3411664+07:00 [DBG] (///) Request matched endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:23:11.3412607+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:23:11.3413136+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T09:23:11.3413346+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T09:23:11.3413772+07:00 [INF] (///) Executing endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:23:11.3414416+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5G"", Request id ""0HND4K3B9GN5G:00000001"": started reading request body.
2025-06-06T09:23:11.3414752+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5G"", Request id ""0HND4K3B9GN5G:00000001"": done reading request body.
2025-06-06T09:23:11.3418635+07:00 [INF] (///) Executed endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:23:11.3419092+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
Shared.Exception.BadInputException: Hc k phi l s nguyn t 1 n 4, nhng nhn c 2025
   at Shared.Domain.ValueObject.Semester..ctor(Int32 value) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Domain/ValueObject/Semester.cs:line 12
   at Program.<>c.<<Main>$>b__0_32(DeleteStudentTuitionRequest r) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api/Program.cs:line 240
   at System.Linq.Enumerable.ListSelectIterator`2.Fill(ReadOnlySpan`1 source, Span`1 destination, Func`2 func)
   at System.Linq.Enumerable.ListSelectIterator`2.ToList()
   at Program.<>c.<<<Main>$>b__0_14>d.MoveNext() in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api/Program.cs:line 240
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-06T09:23:11.3452176+07:00 [INF] (///) HTTP "DELETE" "/api/v1/students/N22DCCN888/tuitions" responded 400 in 3.9159 ms
2025-06-06T09:23:11.3453897+07:00 [INF] (///) Request finished "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - 400 null "application/problem+json" 4.5619ms
2025-06-06T09:23:11.3455013+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5G"" disconnecting.
2025-06-06T09:23:11.3455326+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5G"" stopped.
2025-06-06T09:23:11.3455701+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5G"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:24:56.0944955+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5H"" accepted.
2025-06-06T09:24:56.0948325+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5H"" started.
2025-06-06T09:24:56.0950549+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T09:24:56.0952035+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T09:24:56.0952662+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T09:24:56.0953184+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:24:56.0954232+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:24:56.0954709+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:24:56.0961797+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T09:24:56.0966425+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T09:24:56.0966939+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T09:24:56.0967269+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:24:56.0967951+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:24:56.0970190+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T09:24:56.0970821+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:24:56.0971265+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:24:56.0971776+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T09:24:56.0989522+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T09:24:56.0993459+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:24:56.0994248+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T09:24:56.0995616+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:24:56.0996208+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:24:56.0997468+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T09:24:56.0997867+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T09:24:56.0999583+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:24:56.1001214+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 4.5903 ms
2025-06-06T09:24:56.1002145+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T09:24:56.1002624+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:24:56.1002983+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:24:56.1003566+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 5.2955ms
2025-06-06T09:24:56.1004192+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5H"" disconnecting.
2025-06-06T09:24:56.1006153+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5H"" stopped.
2025-06-06T09:24:56.1007376+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5H"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:25:05.6988021+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5I"" accepted.
2025-06-06T09:25:05.6988765+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5I"" started.
2025-06-06T09:25:05.6990975+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T09:25:05.6992291+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T09:25:05.6992825+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T09:25:05.6993284+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:25:05.6995198+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:25:05.6995992+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:25:05.7002325+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T09:25:05.7006223+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T09:25:05.7006735+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T09:25:05.7007204+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:25:05.7007851+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:25:05.7009745+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T09:25:05.7010703+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:25:05.7011328+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:25:05.7011996+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T09:25:05.7027437+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T09:25:05.7030446+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:25:05.7031111+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T09:25:05.7032472+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:25:05.7033149+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:25:05.7034805+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T09:25:05.7036223+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T09:25:05.7038141+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:25:05.7039424+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 4.3594 ms
2025-06-06T09:25:05.7040451+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T09:25:05.7040975+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:25:05.7041616+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:25:05.7042317+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 5.1311ms
2025-06-06T09:25:05.7043571+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5I"" disconnecting.
2025-06-06T09:25:05.7043889+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5I"" stopped.
2025-06-06T09:25:05.7044280+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5I"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:25:28.3489065+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5J"" accepted.
2025-06-06T09:25:28.3489993+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5J"" started.
2025-06-06T09:25:28.3492545+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T09:25:28.3494277+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T09:25:28.3494788+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T09:25:28.3495141+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:25:28.3495978+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:25:28.3496279+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:25:28.3504291+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T09:25:28.3508748+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T09:25:28.3509300+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T09:25:28.3509631+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:25:28.3510042+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:25:28.3512800+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T09:25:28.3513260+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:25:28.3515872+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:25:28.3516715+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T09:25:28.3538968+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T09:25:28.3542719+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:25:28.3543726+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T09:25:28.3545214+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:25:28.3545802+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:25:28.3547151+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T09:25:28.3547658+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T09:25:28.3549313+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:25:28.3550487+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 5.3970 ms
2025-06-06T09:25:28.3551459+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T09:25:28.3553776+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:25:28.3554356+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:25:28.3555137+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 6.24ms
2025-06-06T09:25:28.3555852+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5J"" disconnecting.
2025-06-06T09:25:28.3556234+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5J"" stopped.
2025-06-06T09:25:28.3556801+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5J"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:25:44.3173642+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5K"" accepted.
2025-06-06T09:25:44.3174633+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5K"" started.
2025-06-06T09:25:44.3176518+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T09:25:44.3177765+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T09:25:44.3178298+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T09:25:44.3178664+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:25:44.3179552+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:25:44.3179954+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:25:44.3186815+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T09:25:44.3191431+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T09:25:44.3191989+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T09:25:44.3192287+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:25:44.3192867+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:25:44.3194538+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T09:25:44.3194924+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:25:44.3195621+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:25:44.3196175+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T09:25:44.3211800+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T09:25:44.3214670+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:25:44.3215559+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T09:25:44.3217811+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:25:44.3218594+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:25:44.3220351+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T09:25:44.3220841+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T09:25:44.3222850+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:25:44.3224024+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 4.4035 ms
2025-06-06T09:25:44.3225187+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T09:25:44.3225766+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:25:44.3226148+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:25:44.3226878+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 5.0231ms
2025-06-06T09:25:44.3227695+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5K"" disconnecting.
2025-06-06T09:25:44.3228600+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5K"" stopped.
2025-06-06T09:25:44.3229904+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5K"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:25:55.9457007+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5L"" accepted.
2025-06-06T09:25:55.9457844+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5L"" started.
2025-06-06T09:25:55.9459619+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T09:25:55.9460817+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T09:25:55.9461315+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T09:25:55.9461694+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:25:55.9462528+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:25:55.9462977+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:25:55.9470462+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T09:25:55.9474696+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T09:25:55.9475173+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T09:25:55.9475525+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:25:55.9476000+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:25:55.9477826+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T09:25:55.9478652+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:25:55.9479053+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:25:55.9479651+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T09:25:55.9493264+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T09:25:55.9496145+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:25:55.9496791+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T09:25:55.9498099+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:25:55.9498722+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:25:55.9500093+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T09:25:55.9500508+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T09:25:55.9503166+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:25:55.9504405+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 4.1333 ms
2025-06-06T09:25:55.9505416+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T09:25:55.9505910+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:25:55.9506234+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:25:55.9506973+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 4.7255ms
2025-06-06T09:25:55.9507817+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5L"" disconnecting.
2025-06-06T09:25:55.9508203+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5L"" stopped.
2025-06-06T09:25:55.9508967+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5L"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:26:03.9918125+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5M"" accepted.
2025-06-06T09:26:03.9919060+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5M"" started.
2025-06-06T09:26:03.9921825+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T09:26:03.9923016+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T09:26:03.9923494+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T09:26:03.9923986+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:26:03.9924703+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:26:03.9925035+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:26:03.9932163+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T09:26:03.9935875+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T09:26:03.9936252+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T09:26:03.9936527+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:26:03.9937010+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:26:03.9939002+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T09:26:03.9939427+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:26:03.9939858+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:26:03.9940360+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T09:26:03.9956604+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T09:26:03.9959846+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:26:03.9960776+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T09:26:03.9962410+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:26:03.9963067+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:26:03.9964515+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T09:26:03.9965093+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T09:26:03.9967059+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:26:03.9968350+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 4.2967 ms
2025-06-06T09:26:03.9970759+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T09:26:03.9971312+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:26:03.9971837+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:26:03.9972990+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 5.0613ms
2025-06-06T09:26:03.9973988+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5M"" disconnecting.
2025-06-06T09:26:03.9974285+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5M"" stopped.
2025-06-06T09:26:03.9974795+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5M"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:26:15.4299860+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5N"" accepted.
2025-06-06T09:26:15.4300727+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5N"" started.
2025-06-06T09:26:15.4302705+07:00 [INF] (///) Request starting "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - "application/json" 43
2025-06-06T09:26:15.4304142+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T09:26:15.4304674+07:00 [DBG] (///) Endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T09:26:15.4305168+07:00 [DBG] (///) Request matched endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:26:15.4306070+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:26:15.4307276+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T09:26:15.4307470+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T09:26:15.4307936+07:00 [INF] (///) Executing endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:26:15.4308440+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5N"", Request id ""0HND4K3B9GN5N:00000001"": started reading request body.
2025-06-06T09:26:15.4308662+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5N"", Request id ""0HND4K3B9GN5N:00000001"": done reading request body.
2025-06-06T09:26:15.4320484+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T09:26:15.4325617+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Tuition>()
    .Where(t => t.StudentCode == __studentCode_0 && __academicYearSemesterPairs_1
        .Any(pair => t.AcademicYear == pair.AcademicYear && t.Semester == pair.Semester))"'
2025-06-06T09:26:15.4422231+07:00 [INF] (///) Executed endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:26:15.4423081+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression '__academicYearSemesterPairs_1
    .Any(e => StructuralTypeShaperExpression(
        StructuralType: TuitionService.Domain.Entity.Tuition
        ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
        IsNullable: False).AcademicYear == e.AcademicYear && StructuralTypeShaperExpression(
        StructuralType: TuitionService.Domain.Entity.Tuition
        ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
        IsNullable: False).Semester == e.Semester)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.<VisitMethodCall>g__TranslateAsSubquery|33_0(Expression expression, <>c__DisplayClass33_0&)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Query.Internal.NpgsqlSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Query.Internal.NpgsqlSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.Translate(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateExpression(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateLambdaExpression(ShapedQueryExpression shapedQueryExpression, LambdaExpression lambdaExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Query.Internal.NpgsqlQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Program.<>c.<<<Main>$>b__0_14>d.MoveNext() in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api/Program.cs:line 245
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-06T09:26:15.4488416+07:00 [ERR] (///) HTTP "DELETE" "/api/v1/students/N22DCCN888/tuitions" responded 500 in 18.2039 ms
2025-06-06T09:26:15.4489128+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T09:26:15.4489817+07:00 [INF] (///) Request finished "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - 500 null "application/problem+json" 18.7259ms
2025-06-06T09:26:15.4490448+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5N"" disconnecting.
2025-06-06T09:26:15.4490659+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5N"" stopped.
2025-06-06T09:26:15.4490942+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5N"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:26:20.4055635+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5O"" accepted.
2025-06-06T09:26:20.4056461+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5O"" started.
2025-06-06T09:26:20.4058433+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T09:26:20.4059791+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T09:26:20.4060321+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T09:26:20.4060705+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:26:20.4061657+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:26:20.4062061+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:26:20.4069962+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T09:26:20.4076000+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T09:26:20.4076629+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T09:26:20.4076922+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:26:20.4077466+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:26:20.4078979+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T09:26:20.4079304+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:26:20.4079680+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:26:20.4080139+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T09:26:20.4096372+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T09:26:20.4099416+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:26:20.4100208+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T09:26:20.4101257+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:26:20.4101714+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:26:20.4102740+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T09:26:20.4103202+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T09:26:20.4104629+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:26:20.4105588+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 4.3446 ms
2025-06-06T09:26:20.4106396+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T09:26:20.4106725+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:26:20.4106978+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:26:20.4107485+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 4.9051ms
2025-06-06T09:26:20.4107977+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5O"" disconnecting.
2025-06-06T09:26:20.4108163+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5O"" stopped.
2025-06-06T09:26:20.4108720+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5O"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:26:23.2267623+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5P"" accepted.
2025-06-06T09:26:23.2268454+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5P"" started.
2025-06-06T09:26:23.2271253+07:00 [INF] (///) Request starting "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - "application/json" 43
2025-06-06T09:26:23.2272718+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T09:26:23.2273470+07:00 [DBG] (///) Endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T09:26:23.2273991+07:00 [DBG] (///) Request matched endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:26:23.2274859+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:26:23.2275275+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T09:26:23.2275499+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T09:26:23.2275913+07:00 [INF] (///) Executing endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:26:23.2276512+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5P"", Request id ""0HND4K3B9GN5P:00000001"": started reading request body.
2025-06-06T09:26:23.2276708+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5P"", Request id ""0HND4K3B9GN5P:00000001"": done reading request body.
2025-06-06T09:26:23.2283495+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T09:26:23.2286608+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Tuition>()
    .Where(t => t.StudentCode == __studentCode_0 && __academicYearSemesterPairs_1
        .Any(pair => t.AcademicYear == pair.AcademicYear && t.Semester == pair.Semester))"'
2025-06-06T09:26:23.2293137+07:00 [INF] (///) Executed endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:26:23.2293518+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression '__academicYearSemesterPairs_1
    .Any(e => StructuralTypeShaperExpression(
        StructuralType: TuitionService.Domain.Entity.Tuition
        ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
        IsNullable: False).AcademicYear == e.AcademicYear && StructuralTypeShaperExpression(
        StructuralType: TuitionService.Domain.Entity.Tuition
        ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
        IsNullable: False).Semester == e.Semester)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.<VisitMethodCall>g__TranslateAsSubquery|33_0(Expression expression, <>c__DisplayClass33_0&)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Query.Internal.NpgsqlSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Query.Internal.NpgsqlSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.Translate(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateExpression(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateLambdaExpression(ShapedQueryExpression shapedQueryExpression, LambdaExpression lambdaExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Query.Internal.NpgsqlQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Program.<>c.<<<Main>$>b__0_14>d.MoveNext() in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api/Program.cs:line 245
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-06T09:26:23.2344716+07:00 [ERR] (///) HTTP "DELETE" "/api/v1/students/N22DCCN888/tuitions" responded 500 in 6.9616 ms
2025-06-06T09:26:23.2345389+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T09:26:23.2345948+07:00 [INF] (///) Request finished "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - 500 null "application/problem+json" 7.4735ms
2025-06-06T09:26:23.2346396+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5P"" disconnecting.
2025-06-06T09:26:23.2346611+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5P"" stopped.
2025-06-06T09:26:23.2346904+07:00 [DBG] (///) Connection id ""0HND4K3B9GN5P"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:31:53.3133077+07:00 [INF] (///) Application is shutting down...
2025-06-06T09:31:53.3142201+07:00 [DBG] (///) Hosting stopping
2025-06-06T09:31:53.3184015+07:00 [DBG] (///) Hosting stopped
2025-06-06T09:31:57.1474366+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-06T09:31:57.2084596+07:00 [INF] (///) No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-06-06T09:31:57.2119909+07:00 [DBG] (///) Hosting starting
2025-06-06T09:31:57.3430002+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-06T09:31:57.3433881+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-06T09:31:57.3914640+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-06T09:31:57.3929287+07:00 [WRN] (///) Overriding address(es) '"https://localhost:31001"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-06T09:31:57.3979071+07:00 [INF] (///) Now listening on: "http://localhost:14100"
2025-06-06T09:31:57.3983407+07:00 [INF] (///) Now listening on: "https://localhost:14101"
2025-06-06T09:31:57.3984263+07:00 [DBG] (///) Loaded hosting startup assembly "TuitionService.Api"
2025-06-06T09:31:57.3986519+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-06T09:31:57.3987143+07:00 [INF] (///) Hosting environment: "Development"
2025-06-06T09:31:57.3987553+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api"
2025-06-06T09:31:57.3988101+07:00 [DBG] (///) Hosting started
2025-06-06T09:32:03.7281743+07:00 [INF] (///) Application is shutting down...
2025-06-06T09:32:03.7288124+07:00 [DBG] (///) Hosting stopping
2025-06-06T09:32:03.7366203+07:00 [DBG] (///) Hosting stopped
2025-06-06T09:32:06.4101351+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-06T09:32:06.4790288+07:00 [INF] (///) No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-06-06T09:32:06.4830688+07:00 [DBG] (///) Hosting starting
2025-06-06T09:32:06.6088286+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-06T09:32:06.6091726+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-06T09:32:06.6589323+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-06T09:32:06.6604152+07:00 [WRN] (///) Overriding address(es) '"https://localhost:31001"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-06T09:32:06.6655996+07:00 [INF] (///) Now listening on: "http://localhost:14100"
2025-06-06T09:32:06.6662047+07:00 [INF] (///) Now listening on: "https://localhost:14101"
2025-06-06T09:32:06.6663269+07:00 [DBG] (///) Loaded hosting startup assembly "TuitionService.Api"
2025-06-06T09:32:06.6665393+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-06T09:32:06.6665790+07:00 [INF] (///) Hosting environment: "Development"
2025-06-06T09:32:06.6666145+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api"
2025-06-06T09:32:06.6666797+07:00 [DBG] (///) Hosting started
2025-06-06T09:32:14.7311084+07:00 [DBG] (///) Connection id ""0HND4K9CLN4IL"" accepted.
2025-06-06T09:32:14.7317180+07:00 [DBG] (///) Connection id ""0HND4K9CLN4IL"" started.
2025-06-06T09:32:14.7462289+07:00 [INF] (///) Request starting "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - "application/json" 43
2025-06-06T09:32:14.7964152+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T09:32:14.7991307+07:00 [DBG] (///) Endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T09:32:14.8018097+07:00 [DBG] (///) Request matched endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:32:14.8058315+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:32:14.8064472+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T09:32:14.8066172+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T09:32:14.8076302+07:00 [INF] (///) Executing endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:32:14.8126773+07:00 [DBG] (///) Connection id ""0HND4K9CLN4IL"", Request id ""0HND4K9CLN4IL:00000001"": started reading request body.
2025-06-06T09:32:14.8129534+07:00 [DBG] (///) Connection id ""0HND4K9CLN4IL"", Request id ""0HND4K9CLN4IL:00000001"": done reading request body.
2025-06-06T09:32:14.9199783+07:00 [DBG] (///) An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration changed for 'Core:EnableSensitiveDataLogging', configuration changed for 'Core:EnableDetailedErrors', configuration changed for 'Core:ConfigureWarnings', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseAdminDatabase', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:SetPostgresVersion', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseRedshift', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ReverseNullOrdering', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:RemoteCertificateValidationCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvideClientCertificatesCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvidePasswordCallback'".
2025-06-06T09:32:15.2669203+07:00 [DBG] (///) The index "{'StudentCode'}" was not created on entity type '"Tuition"' as the properties are already covered by the index "{'StudentCode', 'AcademicYear', 'Semester'}".
2025-06-06T09:32:15.2671716+07:00 [DBG] (///) The index "{'StudentCode', 'AcademicYear', 'Semester'}" was not created on entity type '"TuitionPayment"' as the properties are already covered by the index "{'StudentCode', 'AcademicYear', 'Semester', 'PaymentDate'}".
2025-06-06T09:32:15.3246781+07:00 [WRN] (///) Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-06-06T09:32:15.3411296+07:00 [WRN] (///) The foreign key property '"GlobalStudentCode"."StudentBasicInfoStudentCode1"' was created in shadow state because a conflicting property with the simple name '"StudentBasicInfoStudentCode"' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-06T09:32:15.4190359+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T09:32:15.4470268+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Tuition>()
    .Where(t => t.StudentCode == __studentCode_0 && __academicYearSemesterPairs_1.Contains(new { 
        AcademicYear = t.AcademicYear, 
        Semester = t.Semester
     }))"'
2025-06-06T09:32:15.5885782+07:00 [INF] (///) Executed endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:32:15.5895926+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression '__academicYearSemesterPairs_1
    .Contains(new { 
        AcademicYear = StructuralTypeShaperExpression(
            StructuralType: TuitionService.Domain.Entity.Tuition
            ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
            IsNullable: False).AcademicYear, 
        Semester = StructuralTypeShaperExpression(
            StructuralType: TuitionService.Domain.Entity.Tuition
            ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
            IsNullable: False).Semester
     })' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.<VisitMethodCall>g__TranslateAsSubquery|33_0(Expression expression, <>c__DisplayClass33_0&)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Query.Internal.NpgsqlSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Query.Internal.NpgsqlSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.Translate(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateExpression(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateLambdaExpression(ShapedQueryExpression shapedQueryExpression, LambdaExpression lambdaExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Query.Internal.NpgsqlQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Program.<>c.<<<Main>$>b__0_14>d.MoveNext() in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api/Program.cs:line 245
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-06T09:32:15.6349910+07:00 [ERR] (///) HTTP "DELETE" "/api/v1/students/N22DCCN888/tuitions" responded 500 in 827.7816 ms
2025-06-06T09:32:15.6416991+07:00 [DBG] (///) Connection id ""0HND4K9CLN4IL"" received FIN.
2025-06-06T09:32:15.6422153+07:00 [DBG] (///) Connection id ""0HND4K9CLN4IL"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:32:15.6452680+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T09:32:15.6452925+07:00 [DBG] (///) Connection id ""0HND4K9CLN4IL"" disconnecting.
2025-06-06T09:32:15.6478157+07:00 [INF] (///) Request finished "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - 500 null "application/problem+json" 902.4882ms
2025-06-06T09:32:15.6489921+07:00 [DBG] (///) Connection id ""0HND4K9CLN4IL"" stopped.
2025-06-06T09:35:33.2335031+07:00 [INF] (///) Application is shutting down...
2025-06-06T09:35:33.2344485+07:00 [DBG] (///) Hosting stopping
2025-06-06T09:35:33.2428459+07:00 [DBG] (///) Hosting stopped
2025-06-06T09:35:35.9131587+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-06T09:35:35.9905426+07:00 [INF] (///) No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-06-06T09:35:35.9943517+07:00 [DBG] (///) Hosting starting
2025-06-06T09:35:36.1491560+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-06T09:35:36.1497571+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-06T09:35:36.2076952+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-06T09:35:36.2093791+07:00 [WRN] (///) Overriding address(es) '"https://localhost:31001"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-06T09:35:36.2145723+07:00 [INF] (///) Now listening on: "http://localhost:14100"
2025-06-06T09:35:36.2150657+07:00 [INF] (///) Now listening on: "https://localhost:14101"
2025-06-06T09:35:36.2152029+07:00 [DBG] (///) Loaded hosting startup assembly "TuitionService.Api"
2025-06-06T09:35:36.2154347+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-06T09:35:36.2154833+07:00 [INF] (///) Hosting environment: "Development"
2025-06-06T09:35:36.2155203+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api"
2025-06-06T09:35:36.2155829+07:00 [DBG] (///) Hosting started
2025-06-06T09:35:41.6248381+07:00 [DBG] (///) Connection id ""0HND4KBAAQ2TL"" accepted.
2025-06-06T09:35:41.6254776+07:00 [DBG] (///) Connection id ""0HND4KBAAQ2TL"" started.
2025-06-06T09:35:41.6412424+07:00 [INF] (///) Request starting "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - "application/json" 43
2025-06-06T09:35:41.6929191+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T09:35:41.6957555+07:00 [DBG] (///) Endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T09:35:41.6984744+07:00 [DBG] (///) Request matched endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:35:41.7032950+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:35:41.7039717+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T09:35:41.7041966+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T09:35:41.7049123+07:00 [INF] (///) Executing endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:35:41.7098530+07:00 [DBG] (///) Connection id ""0HND4KBAAQ2TL"", Request id ""0HND4KBAAQ2TL:00000001"": started reading request body.
2025-06-06T09:35:41.7101229+07:00 [DBG] (///) Connection id ""0HND4KBAAQ2TL"", Request id ""0HND4KBAAQ2TL:00000001"": done reading request body.
2025-06-06T09:35:41.8155695+07:00 [DBG] (///) An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration changed for 'Core:EnableSensitiveDataLogging', configuration changed for 'Core:EnableDetailedErrors', configuration changed for 'Core:ConfigureWarnings', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseAdminDatabase', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:SetPostgresVersion', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseRedshift', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ReverseNullOrdering', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:RemoteCertificateValidationCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvideClientCertificatesCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvidePasswordCallback'".
2025-06-06T09:35:42.1503834+07:00 [DBG] (///) The index "{'StudentCode'}" was not created on entity type '"Tuition"' as the properties are already covered by the index "{'StudentCode', 'AcademicYear', 'Semester'}".
2025-06-06T09:35:42.1507005+07:00 [DBG] (///) The index "{'StudentCode', 'AcademicYear', 'Semester'}" was not created on entity type '"TuitionPayment"' as the properties are already covered by the index "{'StudentCode', 'AcademicYear', 'Semester', 'PaymentDate'}".
2025-06-06T09:35:42.2083566+07:00 [WRN] (///) Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-06-06T09:35:42.2247302+07:00 [WRN] (///) The foreign key property '"GlobalStudentCode"."StudentBasicInfoStudentCode1"' was created in shadow state because a conflicting property with the simple name '"StudentBasicInfoStudentCode"' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-06T09:35:42.3039265+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T09:35:42.3323257+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Tuition>()
    .Where(t => t.StudentCode == __studentCode_0 && __academicYearSemesterPairs_1.Contains(new { 
        AcademicYear = t.AcademicYear, 
        Semester = t.Semester
     }))
    .ExecuteDelete()"'
2025-06-06T09:35:42.4728612+07:00 [INF] (///) Executed endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:35:42.4739824+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression '__academicYearSemesterPairs_1
    .Contains(new { 
        AcademicYear = StructuralTypeShaperExpression(
            StructuralType: TuitionService.Domain.Entity.Tuition
            ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
            IsNullable: False).AcademicYear, 
        Semester = StructuralTypeShaperExpression(
            StructuralType: TuitionService.Domain.Entity.Tuition
            ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
            IsNullable: False).Semester
     })' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.<VisitMethodCall>g__TranslateAsSubquery|33_0(Expression expression, <>c__DisplayClass33_0&)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Query.Internal.NpgsqlSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Query.Internal.NpgsqlSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.Translate(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateExpression(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateLambdaExpression(ShapedQueryExpression shapedQueryExpression, LambdaExpression lambdaExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Query.Internal.NpgsqlQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteDeleteAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Program.<>c.<<<Main>$>b__0_14>d.MoveNext() in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api/Program.cs:line 245
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-06T09:35:42.5174303+07:00 [ERR] (///) HTTP "DELETE" "/api/v1/students/N22DCCN888/tuitions" responded 500 in 812.9935 ms
2025-06-06T09:35:42.5244758+07:00 [DBG] (///) Connection id ""0HND4KBAAQ2TL"" received FIN.
2025-06-06T09:35:42.5248919+07:00 [DBG] (///) Connection id ""0HND4KBAAQ2TL"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:35:42.5273762+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T09:35:42.5283178+07:00 [DBG] (///) Connection id ""0HND4KBAAQ2TL"" disconnecting.
2025-06-06T09:35:42.5302575+07:00 [INF] (///) Request finished "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - 500 null "application/problem+json" 890.3037ms
2025-06-06T09:35:42.5317607+07:00 [DBG] (///) Connection id ""0HND4KBAAQ2TL"" stopped.
2025-06-06T09:37:41.5376053+07:00 [INF] (///) Application is shutting down...
2025-06-06T09:37:41.5386901+07:00 [DBG] (///) Hosting stopping
2025-06-06T09:37:41.5449012+07:00 [DBG] (///) Hosting stopped
2025-06-06T09:37:42.6704766+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-06T09:37:42.7324221+07:00 [INF] (///) No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-06-06T09:37:42.7360442+07:00 [DBG] (///) Hosting starting
2025-06-06T09:37:42.8657686+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-06T09:37:42.8661904+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-06T09:37:42.9285031+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-06T09:37:42.9302969+07:00 [WRN] (///) Overriding address(es) '"https://localhost:31001"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-06T09:37:42.9355833+07:00 [INF] (///) Now listening on: "http://localhost:14100"
2025-06-06T09:37:42.9360689+07:00 [INF] (///) Now listening on: "https://localhost:14101"
2025-06-06T09:37:42.9361896+07:00 [DBG] (///) Loaded hosting startup assembly "TuitionService.Api"
2025-06-06T09:37:42.9363826+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-06T09:37:42.9364301+07:00 [INF] (///) Hosting environment: "Development"
2025-06-06T09:37:42.9364615+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api"
2025-06-06T09:37:42.9365141+07:00 [DBG] (///) Hosting started
2025-06-06T09:37:46.5259428+07:00 [DBG] (///) Connection id ""0HND4KCFHURDA"" accepted.
2025-06-06T09:37:46.5267820+07:00 [DBG] (///) Connection id ""0HND4KCFHURDA"" started.
2025-06-06T09:37:46.5527467+07:00 [INF] (///) Request starting "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - "application/json" 43
2025-06-06T09:37:46.6161056+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T09:37:46.6188953+07:00 [DBG] (///) Endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T09:37:46.6217767+07:00 [DBG] (///) Request matched endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:37:46.6262030+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:37:46.6268908+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T09:37:46.6270983+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T09:37:46.6277575+07:00 [INF] (///) Executing endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:37:46.6342771+07:00 [DBG] (///) Connection id ""0HND4KCFHURDA"", Request id ""0HND4KCFHURDA:00000001"": started reading request body.
2025-06-06T09:37:46.6344919+07:00 [DBG] (///) Connection id ""0HND4KCFHURDA"", Request id ""0HND4KCFHURDA:00000001"": done reading request body.
2025-06-06T09:37:46.7493175+07:00 [DBG] (///) An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration changed for 'Core:EnableSensitiveDataLogging', configuration changed for 'Core:EnableDetailedErrors', configuration changed for 'Core:ConfigureWarnings', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseAdminDatabase', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:SetPostgresVersion', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseRedshift', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ReverseNullOrdering', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:RemoteCertificateValidationCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvideClientCertificatesCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvidePasswordCallback'".
2025-06-06T09:37:47.0835469+07:00 [DBG] (///) The index "{'StudentCode'}" was not created on entity type '"Tuition"' as the properties are already covered by the index "{'StudentCode', 'AcademicYear', 'Semester'}".
2025-06-06T09:37:47.0837898+07:00 [DBG] (///) The index "{'StudentCode', 'AcademicYear', 'Semester'}" was not created on entity type '"TuitionPayment"' as the properties are already covered by the index "{'StudentCode', 'AcademicYear', 'Semester', 'PaymentDate'}".
2025-06-06T09:37:47.1398034+07:00 [WRN] (///) Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-06-06T09:37:47.1559807+07:00 [WRN] (///) The foreign key property '"GlobalStudentCode"."StudentBasicInfoStudentCode1"' was created in shadow state because a conflicting property with the simple name '"StudentBasicInfoStudentCode"' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-06T09:37:47.2319429+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T09:37:47.2583531+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Tuition>()
    .Where(t => t.StudentCode == __studentCode_0 && __academicYearSemesterPairs_1.Contains(new { 
        AcademicYear = t.AcademicYear, 
        Semester = t.Semester
     }))
    .ExecuteDelete()"'
2025-06-06T09:37:47.3876218+07:00 [INF] (///) Executed endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:37:47.3884921+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression '__academicYearSemesterPairs_1
    .Contains(new { 
        AcademicYear = StructuralTypeShaperExpression(
            StructuralType: TuitionService.Domain.Entity.Tuition
            ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
            IsNullable: False).AcademicYear, 
        Semester = StructuralTypeShaperExpression(
            StructuralType: TuitionService.Domain.Entity.Tuition
            ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
            IsNullable: False).Semester
     })' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.<VisitMethodCall>g__TranslateAsSubquery|33_0(Expression expression, <>c__DisplayClass33_0&)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Query.Internal.NpgsqlSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Query.Internal.NpgsqlSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.Translate(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateExpression(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateLambdaExpression(ShapedQueryExpression shapedQueryExpression, LambdaExpression lambdaExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Query.Internal.NpgsqlQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteDeleteAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Program.<>c.<<<Main>$>b__0_14>d.MoveNext() in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api/Program.cs:line 245
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-06T09:37:47.4387692+07:00 [ERR] (///) HTTP "DELETE" "/api/v1/students/N22DCCN888/tuitions" responded 500 in 811.1012 ms
2025-06-06T09:37:47.4454808+07:00 [DBG] (///) Connection id ""0HND4KCFHURDA"" received FIN.
2025-06-06T09:37:47.4459014+07:00 [DBG] (///) Connection id ""0HND4KCFHURDA"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:37:47.4486850+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T09:37:47.4498386+07:00 [DBG] (///) Connection id ""0HND4KCFHURDA"" disconnecting.
2025-06-06T09:37:47.4527774+07:00 [INF] (///) Request finished "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - 500 null "application/problem+json" 900.6072ms
2025-06-06T09:37:47.4541097+07:00 [DBG] (///) Connection id ""0HND4KCFHURDA"" stopped.
2025-06-06T09:39:59.1916611+07:00 [INF] (///) Application is shutting down...
2025-06-06T09:39:59.1925842+07:00 [DBG] (///) Hosting stopping
2025-06-06T09:39:59.1967191+07:00 [DBG] (///) Hosting stopped
2025-06-06T09:40:01.7639326+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-06T09:40:01.8231448+07:00 [INF] (///) No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-06-06T09:40:01.8268274+07:00 [DBG] (///) Hosting starting
2025-06-06T09:40:01.9473097+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-06T09:40:01.9476531+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-06T09:40:02.0118635+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-06T09:40:02.0148198+07:00 [WRN] (///) Overriding address(es) '"https://localhost:31001"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-06T09:40:02.0203821+07:00 [INF] (///) Now listening on: "http://localhost:14100"
2025-06-06T09:40:02.0208763+07:00 [INF] (///) Now listening on: "https://localhost:14101"
2025-06-06T09:40:02.0210382+07:00 [DBG] (///) Loaded hosting startup assembly "TuitionService.Api"
2025-06-06T09:40:02.0212962+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-06T09:40:02.0213491+07:00 [INF] (///) Hosting environment: "Development"
2025-06-06T09:40:02.0213808+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api"
2025-06-06T09:40:02.0214409+07:00 [DBG] (///) Hosting started
2025-06-06T09:40:17.6337118+07:00 [DBG] (///) Connection id ""0HND4KDSJ1ADO"" accepted.
2025-06-06T09:40:17.6346951+07:00 [DBG] (///) Connection id ""0HND4KDSJ1ADO"" started.
2025-06-06T09:40:17.6502025+07:00 [INF] (///) Request starting "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - "application/json" 43
2025-06-06T09:40:17.7020567+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T09:40:17.7047416+07:00 [DBG] (///) Endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T09:40:17.7078971+07:00 [DBG] (///) Request matched endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:40:17.7124819+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:40:17.7131877+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T09:40:17.7134192+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T09:40:17.7141164+07:00 [INF] (///) Executing endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:40:17.7185592+07:00 [DBG] (///) Connection id ""0HND4KDSJ1ADO"", Request id ""0HND4KDSJ1ADO:00000001"": started reading request body.
2025-06-06T09:40:17.7187048+07:00 [DBG] (///) Connection id ""0HND4KDSJ1ADO"", Request id ""0HND4KDSJ1ADO:00000001"": done reading request body.
2025-06-06T09:40:17.8207744+07:00 [DBG] (///) An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration changed for 'Core:EnableSensitiveDataLogging', configuration changed for 'Core:EnableDetailedErrors', configuration changed for 'Core:ConfigureWarnings', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseAdminDatabase', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:SetPostgresVersion', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseRedshift', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ReverseNullOrdering', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:RemoteCertificateValidationCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvideClientCertificatesCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvidePasswordCallback'".
2025-06-06T09:40:18.1308780+07:00 [DBG] (///) The index "{'StudentCode'}" was not created on entity type '"Tuition"' as the properties are already covered by the index "{'StudentCode', 'AcademicYear', 'Semester'}".
2025-06-06T09:40:18.1311359+07:00 [DBG] (///) The index "{'StudentCode', 'AcademicYear', 'Semester'}" was not created on entity type '"TuitionPayment"' as the properties are already covered by the index "{'StudentCode', 'AcademicYear', 'Semester', 'PaymentDate'}".
2025-06-06T09:40:18.1856709+07:00 [WRN] (///) Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-06-06T09:40:18.2036545+07:00 [DBG] (///) The property '"GlobalStudentCode"."StudentBasicInfoStudentCode"' was created in shadow state because there are no eligible CLR members with a matching name.
2025-06-06T09:40:18.2791167+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T09:40:18.3053543+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Tuition>()
    .Where(t => t.StudentCode == __studentCode_0 && __academicYears_1.Contains(t.AcademicYear) && __semesters_2.Contains(t.Semester))
    .ExecuteDelete()"'
2025-06-06T09:40:18.4730542+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => RelationalShapedQueryCompilingExpressionVisitor.NonQueryResultAsync(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        DELETE FROM tuition AS t
        SELECT 1
        FROM tuition AS t
        WHERE ((t.student_code == @__studentCode_0) && t.academic_year = ANY(@__academicYears_1)) && t.semester = ANY(@__semesters_2)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        DELETE FROM tuition AS t
        SELECT 1
        FROM tuition AS t
        WHERE ((t.student_code == @__studentCode_0) && t.academic_year = ANY(@__academicYears_1)) && t.semester = ANY(@__semesters_2), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    contextType: TuitionService.Domain.TuitionDbContext, 
    commandSource: ExecuteDelete, 
    threadSafetyChecksEnabled: True)"'
2025-06-06T09:40:18.4954212+07:00 [DBG] (///) Creating DbCommand for '"ExecuteNonQuery"'.
2025-06-06T09:40:18.4967741+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T09:40:18.5210751+07:00 [DBG] (///) Created DbConnection. (22ms).
2025-06-06T09:40:18.5257159+07:00 [DBG] (///) Created DbCommand for '"ExecuteNonQuery"' (28ms).
2025-06-06T09:40:18.5301344+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteNonQuery"' (35ms).
2025-06-06T09:40:18.5332016+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:40:18.5977341+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:40:18.6080448+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888', @__academicYears_1={ '2024-2025' } (DbType = Object), @__semesters_2={ '2' } (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM tuition AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = ANY (@__academicYears_1) AND t.semester = ANY (@__semesters_2)"
2025-06-06T09:40:18.7479343+07:00 [INF] (///) Executed DbCommand ("138"ms) [Parameters=["@__studentCode_0='N22DCCN888', @__academicYears_1={ '2024-2025' } (DbType = Object), @__semesters_2={ '2' } (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM tuition AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = ANY (@__academicYears_1) AND t.semester = ANY (@__semesters_2)"
2025-06-06T09:40:18.7517563+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:40:18.7583813+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (3ms).
2025-06-06T09:40:18.7605884+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T09:40:18.7611312+07:00 [INF] (///) Writing value of type '"Int32"' as Json.
2025-06-06T09:40:18.7709951+07:00 [INF] (///) Executed endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:40:18.7773016+07:00 [INF] (///) HTTP "DELETE" "/api/v1/students/N22DCCN888/tuitions" responded 200 in 1062.4759 ms
2025-06-06T09:40:18.7824781+07:00 [DBG] (///) Connection id ""0HND4KDSJ1ADO"" received FIN.
2025-06-06T09:40:18.7829705+07:00 [DBG] (///) Connection id ""0HND4KDSJ1ADO"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:40:18.7863471+07:00 [DBG] (///) Connection id ""0HND4KDSJ1ADO"" disconnecting.
2025-06-06T09:40:18.7872944+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T09:40:18.7904229+07:00 [DBG] (///) Connection id ""0HND4KDSJ1ADP"" accepted.
2025-06-06T09:40:18.7906133+07:00 [DBG] (///) Connection id ""0HND4KDSJ1ADP"" started.
2025-06-06T09:40:18.7915236+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T09:40:18.7916024+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:40:18.7923753+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T09:40:18.7925187+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T09:40:18.7926429+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:40:18.7928646+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:40:18.7929893+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:40:18.7935312+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (1ms).
2025-06-06T09:40:18.7947518+07:00 [INF] (///) Request finished "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - 200 null "application/json; charset=utf-8" 1145.6921ms
2025-06-06T09:40:18.7993690+07:00 [DBG] (///) Connection id ""0HND4KDSJ1ADO"" stopped.
2025-06-06T09:40:18.8124694+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T09:40:18.8266803+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<StudentBasicInfo>()
    .Where(s => s.StudentCode == __studentCode_0)
    .Select(s => new StudentDetailResponse{ 
        StudentCode = s.StudentCode, 
        LastName = s.LastName, 
        FirstName = s.FirstName, 
        ClassCode = s.ClassCode, 
        FacultyCode = s.FacultyCode, 
        Tuitions = s.Tuitions
            .Select(t => new TuitionResponse{ 
                AcademicYear = t.AcademicYear, 
                Semester = t.Semester.ToString(), 
                TuitionAmount = (decimal)t.TuitionFee, 
                TuitionPaid = (decimal)t.TuitionPayments
                    .Sum(p => p.AmountPaid) 
            }
            )
            .ToList() 
    }
    )
    .FirstOrDefault()"'
2025-06-06T09:40:18.9170040+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<StudentDetailResponse>(
    asyncEnumerable: SingleQueryingEnumerable.Create<StudentDetailResponse>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> 0
                1 -> 1
                2 -> 2
                3 -> 3
                4 -> 4
                5 -> 5
                6 -> 6
                7 -> 7
                8 -> 8
                9 -> 9
                10 -> 10
            SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, COALESCE(CAST(t.semester AS text), ''), CAST(t.tuition_fee AS numeric), CAST((
                SELECT CAST(sum(t0.amount_paid) AS integer)
                FROM tuition_payment AS t0
                WHERE (((t.student_code != NULL) && (t.academic_year != NULL)) && (t.semester != NULL)) && (((t.student_code == t0.student_code) && (t.academic_year == t0.academic_year)) && (t.semester == t0.semester))) AS numeric), t.student_code, t.semester
            FROM 
            (
                SELECT TOP(1) s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
                FROM student_basic_info AS s
                WHERE s.student_code == @__studentCode_0
            ) AS s0
            LEFT JOIN tuition AS t ON s0.student_code == t.student_code
            ORDER BY s0.student_code ASC, t.student_code ASC, t.academic_year ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> 0
                1 -> 1
                2 -> 2
                3 -> 3
                4 -> 4
                5 -> 5
                6 -> 6
                7 -> 7
                8 -> 8
                9 -> 9
                10 -> 10
            SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, COALESCE(CAST(t.semester AS text), ''), CAST(t.tuition_fee AS numeric), CAST((
                SELECT CAST(sum(t0.amount_paid) AS integer)
                FROM tuition_payment AS t0
                WHERE (((t.student_code != NULL) && (t.academic_year != NULL)) && (t.semester != NULL)) && (((t.student_code == t0.student_code) && (t.academic_year == t0.academic_year)) && (t.semester == t0.semester))) AS numeric), t.student_code, t.semester
            FROM 
            (
                SELECT TOP(1) s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
                FROM student_basic_info AS s
                WHERE s.student_code == @__studentCode_0
            ) AS s0
            LEFT JOIN tuition AS t ON s0.student_code == t.student_code
            ORDER BY s0.student_code ASC, t.student_code ASC, t.academic_year ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                string value1;
                string value2;
                string value3;
                string value4;
                string value5;
                List<TuitionResponse> namelessParameter{0};
                value1 = try { dataReader.GetString(0) } catch (Exception) { ... } ;
                value2 = try { dataReader.GetString(1) } catch (Exception) { ... } ;
                value3 = try { dataReader.GetString(2) } catch (Exception) { ... } ;
                value4 = try { dataReader.GetString(3) } catch (Exception) { ... } ;
                value5 = try { dataReader.GetString(4) } catch (Exception) { ... } ;
                namelessParameter{0} = ShaperProcessingExpressionVisitor.InitializeCollection<TuitionResponse, List<TuitionResponse>>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ try { dataReader.GetString(0) } catch (Exception) { ... }  }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ try { dataReader.GetString(0) } catch (Exception) { ... }  }], 
                    clrCollectionAccessor: default(IClrCollectionAccessor));
                return resultContext.Values = new object[]
                { 
                    value1, 
                    value2, 
                    value3, 
                    value4, 
                    value5, 
                    namelessParameter{0} 
                };
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateCollection<List<TuitionResponse>, TuitionResponse, TuitionResponse>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ try { dataReader.GetString(0) } catch (Exception) { ... }  }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ try { dataReader.GetString(0) } catch (Exception) { ... }  }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    try { dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9) } catch (Exception) { ... } , 
                    try { dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5) } catch (Exception) { ... } , 
                    (object)try { dataReader.IsDBNull(10) ? default(int?) : (int?)dataReader.GetInt32(10) } catch (Exception) { ... }  
                }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (string)left == (string)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (string)left == (string)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
                { 
                    (left, right) => left == null ? right == null : right != null && (string)left == (string)right, 
                    (left, right) => left == null ? right == null : right != null && (string)left == (string)right, 
                    (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
                }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    string value1;
                    string value2;
                    decimal? value3;
                    decimal? value4;
                    value1 = try { dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5) } catch (Exception) { ... } ;
                    value2 = try { dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6) } catch (Exception) { ... } ;
                    value3 = try { dataReader.IsDBNull(7) ? default(decimal?) : (decimal?)dataReader.GetDecimal(7) } catch (Exception) { ... } ;
                    value4 = try { dataReader.IsDBNull(8) ? default(decimal?) : (decimal?)dataReader.GetDecimal(8) } catch (Exception) { ... } ;
                    return new TuitionResponse{ 
                        AcademicYear = value1, 
                        Semester = value2, 
                        TuitionAmount = (decimal)value3, 
                        TuitionPaid = (decimal)value4 
                    }
                    ;
                });
            return IsTrue(resultCoordinator.ResultReady)
             ? new StudentDetailResponse{ 
                StudentCode = (string)(resultContext.Values[0]), 
                LastName = (string)(resultContext.Values[1]), 
                FirstName = (string)(resultContext.Values[2]), 
                ClassCode = (string)(resultContext.Values[3]), 
                FacultyCode = (string)(resultContext.Values[4]), 
                Tuitions = (List<TuitionResponse>)(resultContext.Values[5]) 
            }
             : default(StudentDetailResponse);
        }, 
        contextType: TuitionService.Domain.TuitionDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: True, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)"'
2025-06-06T09:40:18.9333378+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T09:40:18.9334907+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T09:40:18.9335327+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:40:18.9339827+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:40:18.9341858+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T09:40:18.9342746+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:40:18.9343417+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:40:18.9347459+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T09:40:18.9409171+07:00 [INF] (///) Executed DbCommand ("6"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T09:40:18.9533812+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:40:18.9559565+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 13ms reading results.
2025-06-06T09:40:18.9574052+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:40:18.9575345+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:40:18.9578699+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T09:40:18.9616748+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T09:40:18.9654511+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:40:18.9656579+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 172.6950 ms
2025-06-06T09:40:18.9658581+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T09:40:18.9659651+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:40:18.9660424+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:40:18.9661692+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 174.634ms
2025-06-06T09:40:18.9662907+07:00 [DBG] (///) Connection id ""0HND4KDSJ1ADP"" disconnecting.
2025-06-06T09:40:18.9663534+07:00 [DBG] (///) Connection id ""0HND4KDSJ1ADP"" stopped.
2025-06-06T09:40:18.9664465+07:00 [DBG] (///) Connection id ""0HND4KDSJ1ADP"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:40:22.4866495+07:00 [DBG] (///) Connection id ""0HND4KDSJ1ADQ"" accepted.
2025-06-06T09:40:22.4869642+07:00 [DBG] (///) Connection id ""0HND4KDSJ1ADQ"" started.
2025-06-06T09:40:22.4873133+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - "application/json" null
2025-06-06T09:40:22.4878429+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students"'
2025-06-06T09:40:22.4879897+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students"' with route pattern '"/api/v{version:apiVersion}/students"' is valid for the request path '"/api/v1/students"'
2025-06-06T09:40:22.4881154+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T09:40:22.4883088+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:40:22.4884080+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T09:40:22.5395949+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T09:40:22.5431662+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<StudentBasicInfo>()
    .AsNoTracking()
    .Select(s => new StudentBasicInfo{ 
        StudentCode = s.StudentCode, 
        LastName = s.LastName, 
        FirstName = s.FirstName, 
        ClassCode = s.ClassCode, 
        FacultyCode = s.FacultyCode 
    }
    )
    .Count()"'
2025-06-06T09:40:22.5475213+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT CAST(count(*) AS integer)
            FROM student_basic_info AS s) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT CAST(count(*) AS integer)
            FROM student_basic_info AS s, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = try { dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0) } catch (Exception) { ... } ;
            return (int)value1;
        }, 
        contextType: TuitionService.Domain.TuitionDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: True, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)"'
2025-06-06T09:40:22.5512178+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T09:40:22.5513473+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T09:40:22.5513930+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:40:22.5514739+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:40:22.5516399+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T09:40:22.5516977+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:40:22.5517452+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:40:22.5518369+07:00 [DBG] (///) Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T09:40:22.5530023+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T09:40:22.5552895+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:40:22.5554516+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 2ms reading results.
2025-06-06T09:40:22.5556192+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:40:22.5557125+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:40:22.5592711+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<StudentBasicInfo>()
    .AsNoTracking()
    .Select(s => new StudentBasicInfo{ 
        StudentCode = s.StudentCode, 
        LastName = s.LastName, 
        FirstName = s.FirstName, 
        ClassCode = s.ClassCode, 
        FacultyCode = s.FacultyCode 
    }
    )
    .Skip(__p_0)
    .Take(__p_1)"'
2025-06-06T09:40:22.5615097+07:00 [WRN] (///) The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-06T09:40:22.5624061+07:00 [WRN] (///) The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-06T09:40:22.5648583+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => SingleQueryingEnumerable.Create<StudentBasicInfo>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            StudentCode -> 0
            LastName -> 1
            FirstName -> 2
            ClassCode -> 3
            FacultyCode -> 4
        SELECT s.student_code AS StudentCode, s.last_name AS LastName, s.first_name AS FirstName, s.class_code AS ClassCode, s.faculty_code AS FacultyCode
        FROM student_basic_info AS s
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            StudentCode -> 0
            LastName -> 1
            FirstName -> 2
            ClassCode -> 3
            FacultyCode -> 4
        SELECT s.student_code AS StudentCode, s.last_name AS LastName, s.first_name AS FirstName, s.class_code AS ClassCode, s.faculty_code AS FacultyCode
        FROM student_basic_info AS s
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        string value1;
        string value2;
        string value3;
        string value4;
        string value5;
        value1 = try { dataReader.GetString(0) } catch (Exception) { ... } ;
        value2 = try { dataReader.GetString(1) } catch (Exception) { ... } ;
        value3 = try { dataReader.GetString(2) } catch (Exception) { ... } ;
        value4 = try { dataReader.GetString(3) } catch (Exception) { ... } ;
        value5 = try { dataReader.GetString(4) } catch (Exception) { ... } ;
        return new StudentBasicInfo{ 
            StudentCode = value1, 
            LastName = value2, 
            FirstName = value3, 
            ClassCode = value4, 
            FacultyCode = value5 
        }
        ;
    }, 
    contextType: TuitionService.Domain.TuitionDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: True, 
    threadSafetyChecksEnabled: True)"'
2025-06-06T09:40:22.5660269+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:40:22.5661445+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:40:22.5664427+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T09:40:22.5665008+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:40:22.5665733+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:40:22.5667168+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T09:40:22.5682022+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T09:40:22.5693942+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:40:22.5694734+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 1ms reading results.
2025-06-06T09:40:22.5695980+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:40:22.5696637+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:40:22.5703496+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T09:40:22.5733794+07:00 [INF] (///) Writing value of type '"PagedList`1"' as Json.
2025-06-06T09:40:22.5779759+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T09:40:22.5783561+07:00 [INF] (///) HTTP "GET" "/api/v1/students" responded 200 in 89.8371 ms
2025-06-06T09:40:22.5785573+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T09:40:22.5786382+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:40:22.5786996+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:40:22.5788808+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - 200 null "application/json; charset=utf-8" 91.4621ms
2025-06-06T09:40:22.5789655+07:00 [DBG] (///) Connection id ""0HND4KDSJ1ADQ"" disconnecting.
2025-06-06T09:40:22.5789691+07:00 [DBG] (///) Connection id ""0HND4KDSJ1ADQ"" received FIN.
2025-06-06T09:40:22.5790223+07:00 [DBG] (///) Connection id ""0HND4KDSJ1ADQ"" stopped.
2025-06-06T09:40:22.5791071+07:00 [DBG] (///) Connection id ""0HND4KDSJ1ADQ"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:40:22.5832784+07:00 [DBG] (///) Connection id ""0HND4KDSJ1ADR"" accepted.
2025-06-06T09:40:22.5833942+07:00 [DBG] (///) Connection id ""0HND4KDSJ1ADR"" started.
2025-06-06T09:40:22.5836111+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - "application/json" null
2025-06-06T09:40:22.5837605+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students"'
2025-06-06T09:40:22.5838534+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students"' with route pattern '"/api/v{version:apiVersion}/students"' is valid for the request path '"/api/v1/students"'
2025-06-06T09:40:22.5839376+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T09:40:22.5841184+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:40:22.5842767+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T09:40:22.5850517+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T09:40:22.5875684+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T09:40:22.5876692+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T09:40:22.5877198+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:40:22.5878047+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:40:22.5880274+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T09:40:22.5881025+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:40:22.5881664+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:40:22.5882596+07:00 [DBG] (///) Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T09:40:22.5895747+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T09:40:22.5899106+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:40:22.5899982+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T09:40:22.5901870+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:40:22.5902954+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:40:22.5907583+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:40:22.5908250+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:40:22.5910050+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T09:40:22.5910514+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:40:22.5911256+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:40:22.5912334+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T09:40:22.5921373+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T09:40:22.5923163+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:40:22.5923745+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T09:40:22.5924782+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:40:22.5925450+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:40:22.5927450+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T09:40:22.5928119+07:00 [INF] (///) Writing value of type '"PagedList`1"' as Json.
2025-06-06T09:40:22.5930449+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T09:40:22.5931770+07:00 [INF] (///) HTTP "GET" "/api/v1/students" responded 200 in 8.9826 ms
2025-06-06T09:40:22.5932699+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T09:40:22.5933310+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:40:22.5933853+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:40:22.5935083+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - 200 null "application/json; charset=utf-8" 9.8576ms
2025-06-06T09:40:22.5936188+07:00 [DBG] (///) Connection id ""0HND4KDSJ1ADR"" disconnecting.
2025-06-06T09:40:22.5936831+07:00 [DBG] (///) Connection id ""0HND4KDSJ1ADR"" stopped.
2025-06-06T09:40:22.5937471+07:00 [DBG] (///) Connection id ""0HND4KDSJ1ADR"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:40:23.9229326+07:00 [DBG] (///) Connection id ""0HND4KDSJ1ADS"" accepted.
2025-06-06T09:40:23.9230199+07:00 [DBG] (///) Connection id ""0HND4KDSJ1ADS"" started.
2025-06-06T09:40:23.9232767+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T09:40:23.9235350+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T09:40:23.9235927+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T09:40:23.9236425+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:40:23.9237914+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:40:23.9238588+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:40:23.9252074+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T09:40:23.9263855+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T09:40:23.9264952+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T09:40:23.9265455+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:40:23.9267232+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:40:23.9269430+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T09:40:23.9269952+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:40:23.9270627+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:40:23.9271447+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T09:40:23.9290270+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T09:40:23.9294374+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:40:23.9295199+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T09:40:23.9296673+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:40:23.9297280+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:40:23.9299087+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T09:40:23.9299623+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T09:40:23.9302154+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:40:23.9303505+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 6.4835 ms
2025-06-06T09:40:23.9304771+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T09:40:23.9305370+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:40:23.9305747+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:40:23.9306588+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 7.3749ms
2025-06-06T09:40:23.9307455+07:00 [DBG] (///) Connection id ""0HND4KDSJ1ADS"" disconnecting.
2025-06-06T09:40:23.9307888+07:00 [DBG] (///) Connection id ""0HND4KDSJ1ADS"" stopped.
2025-06-06T09:40:23.9308708+07:00 [DBG] (///) Connection id ""0HND4KDSJ1ADS"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:40:23.9365675+07:00 [DBG] (///) Connection id ""0HND4KDSJ1ADT"" accepted.
2025-06-06T09:40:23.9366248+07:00 [DBG] (///) Connection id ""0HND4KDSJ1ADT"" started.
2025-06-06T09:40:23.9368606+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T09:40:23.9370062+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T09:40:23.9370624+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T09:40:23.9371137+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:40:23.9372134+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:40:23.9372536+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:40:23.9381518+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T09:40:23.9387043+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T09:40:23.9388001+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T09:40:23.9388438+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:40:23.9389052+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:40:23.9391032+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T09:40:23.9391376+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:40:23.9391844+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:40:23.9392433+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T09:40:23.9407042+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T09:40:23.9411062+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:40:23.9412087+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T09:40:23.9414525+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:40:23.9415327+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:40:23.9417348+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T09:40:23.9418041+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T09:40:23.9421058+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:40:23.9422759+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 4.9529 ms
2025-06-06T09:40:23.9424086+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T09:40:23.9424734+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:40:23.9425201+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:40:23.9425998+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 5.72ms
2025-06-06T09:40:23.9426727+07:00 [DBG] (///) Connection id ""0HND4KDSJ1ADT"" disconnecting.
2025-06-06T09:40:23.9427074+07:00 [DBG] (///) Connection id ""0HND4KDSJ1ADT"" stopped.
2025-06-06T09:40:23.9427848+07:00 [DBG] (///) Connection id ""0HND4KDSJ1ADT"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:40:39.1084521+07:00 [DBG] (///) Connection id ""0HND4KDSJ1ADU"" accepted.
2025-06-06T09:40:39.1085360+07:00 [DBG] (///) Connection id ""0HND4KDSJ1ADU"" started.
2025-06-06T09:40:39.1088490+07:00 [INF] (///) Request starting "HTTP/1.1" "POST" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - "application/json" 89
2025-06-06T09:40:39.1091105+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T09:40:39.1091718+07:00 [DBG] (///) Endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T09:40:39.1092601+07:00 [DBG] (///) Request matched endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:40:39.1094124+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:40:39.1096846+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T09:40:39.1097036+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T09:40:39.1097761+07:00 [INF] (///) Executing endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:40:39.1100190+07:00 [DBG] (///) Connection id ""0HND4KDSJ1ADU"", Request id ""0HND4KDSJ1ADU:00000001"": started reading request body.
2025-06-06T09:40:39.1100821+07:00 [DBG] (///) Connection id ""0HND4KDSJ1ADU"", Request id ""0HND4KDSJ1ADU:00000001"": done reading request body.
2025-06-06T09:40:39.1179311+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T09:40:39.1750544+07:00 [DBG] (///) Context '"TuitionDbContext"' started tracking '"Tuition"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2}"'.
2025-06-06T09:40:39.1771846+07:00 [DBG] (///) SaveChanges starting for '"TuitionDbContext"'.
2025-06-06T09:40:39.1786069+07:00 [DBG] (///) DetectChanges starting for '"TuitionDbContext"'.
2025-06-06T09:40:39.1836969+07:00 [DBG] (///) DetectChanges completed for '"TuitionDbContext"'.
2025-06-06T09:40:39.2288266+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T09:40:39.2288898+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T09:40:39.2289137+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:40:39.2289542+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:40:39.2302274+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T09:40:39.2302617+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:40:39.2302994+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:40:39.2303631+07:00 [DBG] (///) Executing DbCommand [Parameters=["@p0='2024-2025' (Nullable = false), @p1='2', @p2='N22DCCN888' (Nullable = false), @p3='8508544'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tuition (academic_year, semester, student_code, tuition_fee)
VALUES (@p0, @p1, @p2, @p3);"
2025-06-06T09:40:39.2396630+07:00 [INF] (///) Executed DbCommand ("9"ms) [Parameters=["@p0='2024-2025' (Nullable = false), @p1='2', @p2='N22DCCN888' (Nullable = false), @p3='8508544'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tuition (academic_year, semester, student_code, tuition_fee)
VALUES (@p0, @p1, @p2, @p3);"
2025-06-06T09:40:39.2418790+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:40:39.2419411+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 2ms reading results.
2025-06-06T09:40:39.2425584+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:40:39.2426066+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:40:39.2488026+07:00 [DBG] (///) The '"Tuition"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2}"' tracked by '"TuitionDbContext"' changed state from 'Added' to 'Unchanged'.
2025-06-06T09:40:39.2501456+07:00 [DBG] (///) SaveChanges completed for '"TuitionDbContext"' with 1 entities written to the database.
2025-06-06T09:40:39.2506172+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T09:40:39.2506726+07:00 [INF] (///) Executed endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:40:39.2507952+07:00 [INF] (///) HTTP "POST" "/api/v1/students/N22DCCN888/tuitions" responded 200 in 141.3135 ms
2025-06-06T09:40:39.2509987+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T09:40:39.2510375+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:40:39.2510758+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:40:39.2511431+07:00 [INF] (///) Request finished "HTTP/1.1" "POST" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - 200 0 null 142.2894ms
2025-06-06T09:40:39.2512278+07:00 [DBG] (///) Connection id ""0HND4KDSJ1ADU"" disconnecting.
2025-06-06T09:40:39.2512549+07:00 [DBG] (///) Connection id ""0HND4KDSJ1ADU"" stopped.
2025-06-06T09:40:39.2512830+07:00 [DBG] (///) Connection id ""0HND4KDSJ1ADU"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:41:09.5703642+07:00 [DBG] (///) Connection id ""0HND4KDSJ1ADV"" accepted.
2025-06-06T09:41:09.5706948+07:00 [DBG] (///) Connection id ""0HND4KDSJ1ADV"" started.
2025-06-06T09:41:09.5709798+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - "application/json" null
2025-06-06T09:41:09.5711130+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students"'
2025-06-06T09:41:09.5711739+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students"' with route pattern '"/api/v{version:apiVersion}/students"' is valid for the request path '"/api/v1/students"'
2025-06-06T09:41:09.5712401+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T09:41:09.5713445+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:41:09.5714621+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T09:41:09.5721737+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T09:41:09.5725578+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T09:41:09.5726135+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T09:41:09.5726516+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:41:09.5729097+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:41:09.5731332+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T09:41:09.5731706+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:41:09.5731946+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:41:09.5733235+07:00 [DBG] (///) Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T09:41:09.5743637+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T09:41:09.5745888+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:41:09.5746617+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T09:41:09.5747924+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:41:09.5748688+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:41:09.5752760+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:41:09.5753381+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:41:09.5754974+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T09:41:09.5755450+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:41:09.5758722+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:41:09.5759657+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T09:41:09.5774494+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T09:41:09.5778077+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:41:09.5778841+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T09:41:09.5780248+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:41:09.5780828+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:41:09.5782140+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T09:41:09.5782593+07:00 [INF] (///) Writing value of type '"PagedList`1"' as Json.
2025-06-06T09:41:09.5785650+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T09:41:09.5787629+07:00 [INF] (///) HTTP "GET" "/api/v1/students" responded 200 in 7.2895 ms
2025-06-06T09:41:09.5788850+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T09:41:09.5791102+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:41:09.5791507+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:41:09.5792220+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - 200 null "application/json; charset=utf-8" 8.2249ms
2025-06-06T09:41:09.5792869+07:00 [DBG] (///) Connection id ""0HND4KDSJ1ADV"" disconnecting.
2025-06-06T09:41:09.5793152+07:00 [DBG] (///) Connection id ""0HND4KDSJ1ADV"" stopped.
2025-06-06T09:41:09.5793656+07:00 [DBG] (///) Connection id ""0HND4KDSJ1ADV"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:41:09.5869842+07:00 [DBG] (///) Connection id ""0HND4KDSJ1AE0"" accepted.
2025-06-06T09:41:09.5870786+07:00 [DBG] (///) Connection id ""0HND4KDSJ1AE0"" started.
2025-06-06T09:41:09.5873307+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - "application/json" null
2025-06-06T09:41:09.5874979+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students"'
2025-06-06T09:41:09.5875600+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students"' with route pattern '"/api/v{version:apiVersion}/students"' is valid for the request path '"/api/v1/students"'
2025-06-06T09:41:09.5876055+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T09:41:09.5878742+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:41:09.5879641+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T09:41:09.5889589+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T09:41:09.5894284+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T09:41:09.5894790+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T09:41:09.5895176+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:41:09.5895649+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:41:09.5897467+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T09:41:09.5897883+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:41:09.5898126+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:41:09.5898699+07:00 [DBG] (///) Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T09:41:09.5911836+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T09:41:09.5914394+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:41:09.5915102+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T09:41:09.5918918+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:41:09.5920650+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:41:09.5926331+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:41:09.5927032+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:41:09.5928557+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T09:41:09.5928989+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:41:09.5929470+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:41:09.5930145+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T09:41:09.5942935+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T09:41:09.5946161+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:41:09.5946909+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T09:41:09.5948142+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:41:09.5948678+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:41:09.5949847+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T09:41:09.5951086+07:00 [INF] (///) Writing value of type '"PagedList`1"' as Json.
2025-06-06T09:41:09.5954999+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T09:41:09.5956444+07:00 [INF] (///) HTTP "GET" "/api/v1/students" responded 200 in 7.8689 ms
2025-06-06T09:41:09.5957658+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T09:41:09.5958149+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:41:09.5958495+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:41:09.5959513+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - 200 null "application/json; charset=utf-8" 8.5831ms
2025-06-06T09:41:09.5960274+07:00 [DBG] (///) Connection id ""0HND4KDSJ1AE0"" disconnecting.
2025-06-06T09:41:09.5960605+07:00 [DBG] (///) Connection id ""0HND4KDSJ1AE0"" stopped.
2025-06-06T09:41:09.5961292+07:00 [DBG] (///) Connection id ""0HND4KDSJ1AE0"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:41:10.9625547+07:00 [DBG] (///) Connection id ""0HND4KDSJ1AE1"" accepted.
2025-06-06T09:41:10.9626149+07:00 [DBG] (///) Connection id ""0HND4KDSJ1AE1"" started.
2025-06-06T09:41:10.9628348+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T09:41:10.9629728+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T09:41:10.9630286+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T09:41:10.9631030+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:41:10.9631991+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:41:10.9632498+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:41:10.9639280+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T09:41:10.9644255+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T09:41:10.9644673+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T09:41:10.9644997+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:41:10.9645574+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:41:10.9647308+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T09:41:10.9647783+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:41:10.9648297+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:41:10.9648902+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T09:41:10.9665390+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T09:41:10.9717750+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:41:10.9718952+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 5ms reading results.
2025-06-06T09:41:10.9720426+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:41:10.9721043+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:41:10.9722521+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T09:41:10.9722914+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T09:41:10.9745816+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:41:10.9746690+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 11.4348 ms
2025-06-06T09:41:10.9747707+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T09:41:10.9748236+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:41:10.9749793+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:41:10.9750844+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 12.2159ms
2025-06-06T09:41:10.9751467+07:00 [DBG] (///) Connection id ""0HND4KDSJ1AE1"" disconnecting.
2025-06-06T09:41:10.9751682+07:00 [DBG] (///) Connection id ""0HND4KDSJ1AE1"" stopped.
2025-06-06T09:41:10.9752257+07:00 [DBG] (///) Connection id ""0HND4KDSJ1AE1"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:41:10.9799915+07:00 [DBG] (///) Connection id ""0HND4KDSJ1AE2"" accepted.
2025-06-06T09:41:10.9800561+07:00 [DBG] (///) Connection id ""0HND4KDSJ1AE2"" started.
2025-06-06T09:41:10.9802617+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T09:41:10.9804014+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T09:41:10.9804602+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T09:41:10.9805120+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:41:10.9806981+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:41:10.9807506+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:41:10.9813139+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T09:41:10.9817466+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T09:41:10.9817903+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T09:41:10.9818256+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:41:10.9818842+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:41:10.9820827+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T09:41:10.9821154+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:41:10.9821649+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:41:10.9822142+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T09:41:10.9833779+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T09:41:10.9835859+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:41:10.9836432+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T09:41:10.9837531+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:41:10.9837914+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:41:10.9838946+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T09:41:10.9839277+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T09:41:10.9840885+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T09:41:10.9841797+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 3.4351 ms
2025-06-06T09:41:10.9842665+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T09:41:10.9843219+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:41:10.9843527+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:41:10.9844236+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 4.1564ms
2025-06-06T09:41:10.9844968+07:00 [DBG] (///) Connection id ""0HND4KDSJ1AE2"" disconnecting.
2025-06-06T09:41:10.9845371+07:00 [DBG] (///) Connection id ""0HND4KDSJ1AE2"" stopped.
2025-06-06T09:41:10.9845997+07:00 [DBG] (///) Connection id ""0HND4KDSJ1AE2"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:41:15.4668905+07:00 [DBG] (///) Connection id ""0HND4KDSJ1AE3"" accepted.
2025-06-06T09:41:15.4669971+07:00 [DBG] (///) Connection id ""0HND4KDSJ1AE3"" started.
2025-06-06T09:41:15.4673096+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" null
2025-06-06T09:41:15.4674838+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T09:41:15.4675526+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T09:41:15.4676224+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T09:41:15.4677589+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:41:15.4678400+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T09:41:15.4694763+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T09:41:15.4701612+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<TuitionPayment>()
    .Where(p => p.StudentCode == __studentCode_0 && p.AcademicYear == __academicYear_1 && p.Semester == __semester_2)
    .Select(p => new PaymentResponse{ 
        PaymentDate = p.PaymentDate.ToString(), 
        AmountPaid = (decimal)p.AmountPaid 
    }
    )"'
2025-06-06T09:41:15.4792220+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => SingleQueryingEnumerable.Create<PaymentResponse>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
        SELECT t.payment_date, CAST(t.amount_paid AS numeric)
        FROM tuition_payment AS t
        WHERE ((t.student_code == @__studentCode_0) && (t.academic_year == @__academicYear_1)) && (t.semester == @__semester_2)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> 0
            1 -> 1
        SELECT t.payment_date, CAST(t.amount_paid AS numeric)
        FROM tuition_payment AS t
        WHERE ((t.student_code == @__studentCode_0) && (t.academic_year == @__academicYear_1)) && (t.semester == @__semester_2), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        DateOnly? value1;
        decimal? value2;
        value1 = try { (DateOnly?)dataReader.GetFieldValue<DateOnly>(0) } catch (Exception) { ... } ;
        value2 = try { dataReader.IsDBNull(1) ? default(decimal?) : (decimal?)dataReader.GetDecimal(1) } catch (Exception) { ... } ;
        return new PaymentResponse{ 
            PaymentDate = value1 == default(DateOnly?) ? null : ((DateOnly)value1).ToString(), 
            AmountPaid = (decimal)value2 
        }
        ;
    }, 
    contextType: TuitionService.Domain.TuitionDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: True, 
    threadSafetyChecksEnabled: True)"'
2025-06-06T09:41:15.4806440+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T09:41:15.4806954+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T09:41:15.4807249+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:41:15.4808384+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:41:15.4809892+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T09:41:15.4810288+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:41:15.4810755+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:41:15.4812008+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T09:41:15.4821040+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T09:41:15.4823011+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:41:15.4823621+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T09:41:15.4824621+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:41:15.4825187+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:41:15.4827432+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T09:41:15.4833136+07:00 [INF] (///) Writing value of type '"List`1"' as Json.
2025-06-06T09:41:15.4837899+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T09:41:15.4839008+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 200 in 16.1083 ms
2025-06-06T09:41:15.4839878+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T09:41:15.4840299+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:41:15.4840647+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:41:15.4841366+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 200 null "application/json; charset=utf-8" 16.8178ms
2025-06-06T09:41:15.4842067+07:00 [DBG] (///) Connection id ""0HND4KDSJ1AE3"" disconnecting.
2025-06-06T09:41:15.4842519+07:00 [DBG] (///) Connection id ""0HND4KDSJ1AE3"" stopped.
2025-06-06T09:41:15.4842996+07:00 [DBG] (///) Connection id ""0HND4KDSJ1AE3"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:41:34.7672910+07:00 [INF] (///) Application is shutting down...
2025-06-06T09:41:34.7680891+07:00 [DBG] (///) Hosting stopping
2025-06-06T09:41:34.7722457+07:00 [DBG] (///) Hosting stopped
2025-06-06T09:41:36.9976970+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-06T09:41:37.0618555+07:00 [INF] (///) No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-06-06T09:41:37.0663868+07:00 [DBG] (///) Hosting starting
2025-06-06T09:41:37.1942853+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-06T09:41:37.1946744+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-06T09:41:37.2454754+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-06T09:41:37.2469349+07:00 [WRN] (///) Overriding address(es) '"https://localhost:31001"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-06T09:41:37.2515884+07:00 [INF] (///) Now listening on: "http://localhost:14100"
2025-06-06T09:41:37.2524741+07:00 [INF] (///) Now listening on: "https://localhost:14101"
2025-06-06T09:41:37.2526461+07:00 [DBG] (///) Loaded hosting startup assembly "TuitionService.Api"
2025-06-06T09:41:37.2529216+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-06T09:41:37.2529724+07:00 [INF] (///) Hosting environment: "Development"
2025-06-06T09:41:37.2530110+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api"
2025-06-06T09:41:37.2530792+07:00 [DBG] (///) Hosting started
2025-06-06T09:41:38.7485929+07:00 [DBG] (///) Connection id ""0HND4KEKOJJK7"" accepted.
2025-06-06T09:41:38.7492890+07:00 [DBG] (///) Connection id ""0HND4KEKOJJK7"" started.
2025-06-06T09:41:38.7644030+07:00 [INF] (///) Request starting "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - "application/json" 43
2025-06-06T09:41:38.8144956+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T09:41:38.8170749+07:00 [DBG] (///) Endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T09:41:38.8196173+07:00 [DBG] (///) Request matched endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:41:38.8238493+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:41:38.8245430+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T09:41:38.8247683+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T09:41:38.8255027+07:00 [INF] (///) Executing endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:41:38.8320089+07:00 [DBG] (///) Connection id ""0HND4KEKOJJK7"", Request id ""0HND4KEKOJJK7:00000001"": started reading request body.
2025-06-06T09:41:38.8322322+07:00 [DBG] (///) Connection id ""0HND4KEKOJJK7"", Request id ""0HND4KEKOJJK7:00000001"": done reading request body.
2025-06-06T09:41:38.9450959+07:00 [DBG] (///) An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration changed for 'Core:EnableSensitiveDataLogging', configuration changed for 'Core:EnableDetailedErrors', configuration changed for 'Core:ConfigureWarnings', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseAdminDatabase', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:SetPostgresVersion', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseRedshift', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ReverseNullOrdering', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:RemoteCertificateValidationCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvideClientCertificatesCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvidePasswordCallback'".
2025-06-06T09:41:39.2708937+07:00 [DBG] (///) The index "{'StudentCode'}" was not created on entity type '"Tuition"' as the properties are already covered by the index "{'StudentCode', 'AcademicYear', 'Semester'}".
2025-06-06T09:41:39.2711526+07:00 [DBG] (///) The index "{'StudentCode', 'AcademicYear', 'Semester'}" was not created on entity type '"TuitionPayment"' as the properties are already covered by the index "{'StudentCode', 'AcademicYear', 'Semester', 'PaymentDate'}".
2025-06-06T09:41:39.3267172+07:00 [WRN] (///) Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-06-06T09:41:39.3435817+07:00 [DBG] (///) The property '"GlobalStudentCode"."StudentBasicInfoStudentCode"' was created in shadow state because there are no eligible CLR members with a matching name.
2025-06-06T09:41:39.4206746+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T09:41:39.4475820+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Tuition>()
    .Where(t => t.StudentCode == __studentCode_0 && __academicYearSemesterPairs_1.Contains(new { 
        AcademicYear = t.AcademicYear, 
        Semester = t.Semester
     }))
    .ExecuteDelete()"'
2025-06-06T09:41:39.5846917+07:00 [INF] (///) Executed endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:41:39.5855646+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression '__academicYearSemesterPairs_1
    .Contains(new { 
        AcademicYear = StructuralTypeShaperExpression(
            StructuralType: TuitionService.Domain.Entity.Tuition
            ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
            IsNullable: False).AcademicYear, 
        Semester = StructuralTypeShaperExpression(
            StructuralType: TuitionService.Domain.Entity.Tuition
            ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
            IsNullable: False).Semester
     })' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.<VisitMethodCall>g__TranslateAsSubquery|33_0(Expression expression, <>c__DisplayClass33_0&)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Query.Internal.NpgsqlSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Query.Internal.NpgsqlSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.Translate(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateExpression(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateLambdaExpression(ShapedQueryExpression shapedQueryExpression, LambdaExpression lambdaExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Query.Internal.NpgsqlQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteDeleteAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Program.<>c.<<<Main>$>b__0_14>d.MoveNext() in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api/Program.cs:line 245
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-06T09:41:39.6371066+07:00 [ERR] (///) HTTP "DELETE" "/api/v1/students/N22DCCN888/tuitions" responded 500 in 811.8142 ms
2025-06-06T09:41:39.6438699+07:00 [DBG] (///) Connection id ""0HND4KEKOJJK7"" received FIN.
2025-06-06T09:41:39.6442992+07:00 [DBG] (///) Connection id ""0HND4KEKOJJK7"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:41:39.6469221+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T09:41:39.6475420+07:00 [DBG] (///) Connection id ""0HND4KEKOJJK7"" disconnecting.
2025-06-06T09:41:39.6499534+07:00 [INF] (///) Request finished "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - 500 null "application/problem+json" 886.4722ms
2025-06-06T09:41:39.6511128+07:00 [DBG] (///) Connection id ""0HND4KEKOJJK7"" stopped.
2025-06-06T09:42:29.3814637+07:00 [DBG] (///) Connection id ""0HND4KEKOJJK8"" accepted.
2025-06-06T09:42:29.3820195+07:00 [DBG] (///) Connection id ""0HND4KEKOJJK8"" started.
2025-06-06T09:42:29.3826805+07:00 [INF] (///) Request starting "HTTP/1.1" "POST" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - "application/json" 89
2025-06-06T09:42:29.3836268+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T09:42:29.3837949+07:00 [DBG] (///) Endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T09:42:29.3839765+07:00 [DBG] (///) Request matched endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:42:29.3842694+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:42:29.3844206+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T09:42:29.3844687+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T09:42:29.3845779+07:00 [INF] (///) Executing endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:42:29.3848306+07:00 [DBG] (///) Connection id ""0HND4KEKOJJK8"", Request id ""0HND4KEKOJJK8:00000001"": started reading request body.
2025-06-06T09:42:29.3849359+07:00 [DBG] (///) Connection id ""0HND4KEKOJJK8"", Request id ""0HND4KEKOJJK8:00000001"": done reading request body.
2025-06-06T09:42:29.4166385+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T09:42:29.4837008+07:00 [DBG] (///) Context '"TuitionDbContext"' started tracking '"Tuition"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 1}"'.
2025-06-06T09:42:29.4867538+07:00 [DBG] (///) SaveChanges starting for '"TuitionDbContext"'.
2025-06-06T09:42:29.4901430+07:00 [DBG] (///) DetectChanges starting for '"TuitionDbContext"'.
2025-06-06T09:42:29.4962484+07:00 [DBG] (///) DetectChanges completed for '"TuitionDbContext"'.
2025-06-06T09:42:29.5491463+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T09:42:29.5749948+07:00 [DBG] (///) Created DbConnection. (23ms).
2025-06-06T09:42:29.5772798+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:42:29.6434384+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:42:29.6512538+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T09:42:29.6563556+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (2ms).
2025-06-06T09:42:29.6621797+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (11ms).
2025-06-06T09:42:29.6686517+07:00 [DBG] (///) Executing DbCommand [Parameters=["@p0='2024-2025' (Nullable = false), @p1='1', @p2='N22DCCN888' (Nullable = false), @p3='8508544'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tuition (academic_year, semester, student_code, tuition_fee)
VALUES (@p0, @p1, @p2, @p3);"
2025-06-06T09:42:29.7335462+07:00 [INF] (///) Executed DbCommand ("66"ms) [Parameters=["@p0='2024-2025' (Nullable = false), @p1='1', @p2='N22DCCN888' (Nullable = false), @p3='8508544'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tuition (academic_year, semester, student_code, tuition_fee)
VALUES (@p0, @p1, @p2, @p3);"
2025-06-06T09:42:29.7387232+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:42:29.7435122+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 5ms reading results.
2025-06-06T09:42:29.7475137+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:42:29.7506301+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (3ms).
2025-06-06T09:42:29.7578902+07:00 [DBG] (///) The '"Tuition"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 1}"' tracked by '"TuitionDbContext"' changed state from 'Added' to 'Unchanged'.
2025-06-06T09:42:29.7594695+07:00 [DBG] (///) SaveChanges completed for '"TuitionDbContext"' with 1 entities written to the database.
2025-06-06T09:42:29.7606528+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T09:42:29.7614525+07:00 [INF] (///) Executed endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:42:29.7635488+07:00 [INF] (///) HTTP "POST" "/api/v1/students/N22DCCN888/tuitions" responded 200 in 379.1225 ms
2025-06-06T09:42:29.7680199+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T09:42:29.7688027+07:00 [DBG] (///) Connection id ""0HND4KEKOJJK8"" received FIN.
2025-06-06T09:42:29.7689251+07:00 [DBG] (///) Connection id ""0HND4KEKOJJK8"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T09:42:29.7690499+07:00 [DBG] (///) Connection id ""0HND4KEKOJJK8"" disconnecting.
2025-06-06T09:42:29.7707648+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:42:29.7727838+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (2ms).
2025-06-06T09:42:29.7730710+07:00 [INF] (///) Request finished "HTTP/1.1" "POST" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - 200 0 null 390.3348ms
2025-06-06T09:42:29.7754893+07:00 [DBG] (///) Connection id ""0HND4KEKOJJK8"" stopped.
2025-06-06T09:43:34.9572792+07:00 [DBG] (///) Connection id ""0HND4KEKOJJK9"" accepted.
2025-06-06T09:43:34.9576629+07:00 [DBG] (///) Connection id ""0HND4KEKOJJK9"" started.
2025-06-06T09:43:34.9579918+07:00 [INF] (///) Request starting "HTTP/1.1" "POST" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - "application/json" 89
2025-06-06T09:43:34.9582624+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T09:43:34.9583231+07:00 [DBG] (///) Endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T09:43:34.9583920+07:00 [DBG] (///) Request matched endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:43:34.9585611+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T09:43:34.9586383+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T09:43:34.9586638+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T09:43:34.9587186+07:00 [INF] (///) Executing endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:43:34.9588074+07:00 [DBG] (///) Connection id ""0HND4KEKOJJK9"", Request id ""0HND4KEKOJJK9:00000001"": started reading request body.
2025-06-06T09:43:34.9588427+07:00 [DBG] (///) Connection id ""0HND4KEKOJJK9"", Request id ""0HND4KEKOJJK9:00000001"": done reading request body.
2025-06-06T09:43:34.9933625+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T09:43:34.9938834+07:00 [DBG] (///) Context '"TuitionDbContext"' started tracking '"Tuition"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 1}"'.
2025-06-06T09:43:34.9939462+07:00 [DBG] (///) SaveChanges starting for '"TuitionDbContext"'.
2025-06-06T09:43:34.9945240+07:00 [DBG] (///) DetectChanges starting for '"TuitionDbContext"'.
2025-06-06T09:43:34.9946471+07:00 [DBG] (///) DetectChanges completed for '"TuitionDbContext"'.
2025-06-06T09:43:34.9951563+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T09:43:34.9952097+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T09:43:34.9952454+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:43:34.9956472+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:43:34.9958170+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T09:43:34.9958501+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:43:34.9959190+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T09:43:34.9960209+07:00 [DBG] (///) Executing DbCommand [Parameters=["@p0='2024-2025' (Nullable = false), @p1='1', @p2='N22DCCN888' (Nullable = false), @p3='8508544'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tuition (academic_year, semester, student_code, tuition_fee)
VALUES (@p0, @p1, @p2, @p3);"
2025-06-06T09:43:35.0014151+07:00 [ERR] (///) Failed executing DbCommand ("5"ms) [Parameters=["@p0='2024-2025' (Nullable = false), @p1='1', @p2='N22DCCN888' (Nullable = false), @p3='8508544'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tuition (academic_year, semester, student_code, tuition_fee)
VALUES (@p0, @p1, @p2, @p3);"
2025-06-06T09:43:35.0035898+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:43:35.0039373+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:43:35.0082016+07:00 [ERR] (///) An exception occurred in the database while saving changes for context type '"TuitionService.Domain.TuitionDbContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint \"pk_tuition\"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint \"pk_tuition\"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: tuition
    ConstraintName: pk_tuition
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "pk_tuition"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "pk_tuition"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: tuition
    ConstraintName: pk_tuition
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-06-06T09:43:35.0199158+07:00 [INF] (///) Executed endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T09:43:35.0201314+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
EntityFramework.Exceptions.Common.UniqueConstraintException: Unique constraint violation
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "pk_tuition"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "pk_tuition"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: tuition
    ConstraintName: pk_tuition
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at EntityFramework.Exceptions.Common.ExceptionProcessorInterceptor`1.SaveChangesFailedAsync(DbContextErrorEventData eventData, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Diagnostics.CoreLoggerExtensions.SaveChangesFailedAsync(IDiagnosticsLogger`1 diagnostics, DbContext context, Exception exception, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Program.<>c.<<<Main>$>b__0_9>d.MoveNext() in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api/Program.cs:line 163
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-06T09:43:35.0253014+07:00 [ERR] (///) HTTP "POST" "/api/v1/students/N22DCCN888/tuitions" responded 500 in 66.6921 ms
2025-06-06T09:43:35.0253973+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T09:43:35.0254579+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T09:43:35.0256014+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T09:43:35.0256573+07:00 [INF] (///) Request finished "HTTP/1.1" "POST" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - 500 null "application/problem+json" 67.665ms
2025-06-06T09:43:35.0257198+07:00 [DBG] (///) Connection id ""0HND4KEKOJJK9"" disconnecting.
2025-06-06T09:43:35.0257527+07:00 [DBG] (///) Connection id ""0HND4KEKOJJK9"" stopped.
2025-06-06T09:43:35.0258108+07:00 [DBG] (///) Connection id ""0HND4KEKOJJK9"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T10:14:54.3853668+07:00 [INF] (///) Application is shutting down...
2025-06-06T10:14:54.3871216+07:00 [DBG] (///) Hosting stopping
2025-06-06T10:14:54.3928960+07:00 [DBG] (///) Hosting stopped
2025-06-06T15:51:26.2325631+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-06T15:51:26.3098962+07:00 [INF] (///) No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-06-06T15:51:26.3145299+07:00 [DBG] (///) Hosting starting
2025-06-06T15:51:26.4577071+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-06T15:51:26.4581507+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-06T15:51:26.5387153+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-06T15:51:26.5402210+07:00 [WRN] (///) Overriding address(es) '"https://localhost:31001"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-06T15:51:26.5458638+07:00 [INF] (///) Now listening on: "http://localhost:14100"
2025-06-06T15:51:26.5465594+07:00 [INF] (///) Now listening on: "https://localhost:14101"
2025-06-06T15:51:26.5467477+07:00 [DBG] (///) Loaded hosting startup assembly "TuitionService.Api"
2025-06-06T15:51:26.5472108+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-06T15:51:26.5475652+07:00 [INF] (///) Hosting environment: "Development"
2025-06-06T15:51:26.5477928+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api"
2025-06-06T15:51:26.5481123+07:00 [DBG] (///) Hosting started
2025-06-06T15:52:42.3661267+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9D"" accepted.
2025-06-06T15:52:42.3702850+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9D"" started.
2025-06-06T15:52:42.4099199+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - "application/json" null
2025-06-06T15:52:42.5457581+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students"'
2025-06-06T15:52:42.5568452+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students"' with route pattern '"/api/v{version:apiVersion}/students"' is valid for the request path '"/api/v1/students"'
2025-06-06T15:52:42.5668121+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T15:52:42.5806012+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T15:52:42.5822143+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T15:52:42.9416065+07:00 [DBG] (///) An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration changed for 'Core:EnableSensitiveDataLogging', configuration changed for 'Core:EnableDetailedErrors', configuration changed for 'Core:ConfigureWarnings', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseAdminDatabase', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:SetPostgresVersion', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseRedshift', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ReverseNullOrdering', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:RemoteCertificateValidationCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvideClientCertificatesCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvidePasswordCallback'".
2025-06-06T15:52:43.9930297+07:00 [DBG] (///) The index "{'StudentCode'}" was not created on entity type '"Tuition"' as the properties are already covered by the index "{'StudentCode', 'AcademicYear', 'Semester'}".
2025-06-06T15:52:43.9934901+07:00 [DBG] (///) The index "{'StudentCode', 'AcademicYear', 'Semester'}" was not created on entity type '"TuitionPayment"' as the properties are already covered by the index "{'StudentCode', 'AcademicYear', 'Semester', 'PaymentDate'}".
2025-06-06T15:52:44.1624881+07:00 [WRN] (///) Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-06-06T15:52:44.2268246+07:00 [DBG] (///) The property '"GlobalStudentCode"."StudentBasicInfoStudentCode"' was created in shadow state because there are no eligible CLR members with a matching name.
2025-06-06T15:52:44.4898221+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T15:52:44.5982375+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<StudentBasicInfo>()
    .AsNoTracking()
    .Select(s => new StudentBasicInfo{ 
        StudentCode = s.StudentCode, 
        LastName = s.LastName, 
        FirstName = s.FirstName, 
        ClassCode = s.ClassCode, 
        FacultyCode = s.FacultyCode 
    }
    )
    .Count()"'
2025-06-06T15:52:45.0656978+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT CAST(count(*) AS integer)
            FROM student_basic_info AS s) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT CAST(count(*) AS integer)
            FROM student_basic_info AS s, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = try { dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0) } catch (Exception) { ... } ;
            return (int)value1;
        }, 
        contextType: TuitionService.Domain.TuitionDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: True, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)"'
2025-06-06T15:52:45.1418055+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T15:52:45.2300556+07:00 [DBG] (///) Created DbConnection. (82ms).
2025-06-06T15:52:45.2384168+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:52:45.4247573+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:52:45.4379949+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T15:52:45.4513377+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (4ms).
2025-06-06T15:52:45.4548754+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (16ms).
2025-06-06T15:52:45.4697848+07:00 [DBG] (///) Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T15:52:45.5512313+07:00 [INF] (///) Executed DbCommand ("71"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T15:52:45.6566936+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:52:45.6781844+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 110ms reading results.
2025-06-06T15:52:45.6904783+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:52:45.7026073+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (12ms).
2025-06-06T15:52:45.7138588+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<StudentBasicInfo>()
    .AsNoTracking()
    .Select(s => new StudentBasicInfo{ 
        StudentCode = s.StudentCode, 
        LastName = s.LastName, 
        FirstName = s.FirstName, 
        ClassCode = s.ClassCode, 
        FacultyCode = s.FacultyCode 
    }
    )
    .Skip(__p_0)
    .Take(__p_1)"'
2025-06-06T15:52:45.7318636+07:00 [WRN] (///) The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-06T15:52:45.7333579+07:00 [WRN] (///) The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-06T15:52:45.7527908+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => SingleQueryingEnumerable.Create<StudentBasicInfo>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            StudentCode -> 0
            LastName -> 1
            FirstName -> 2
            ClassCode -> 3
            FacultyCode -> 4
        SELECT s.student_code AS StudentCode, s.last_name AS LastName, s.first_name AS FirstName, s.class_code AS ClassCode, s.faculty_code AS FacultyCode
        FROM student_basic_info AS s
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            StudentCode -> 0
            LastName -> 1
            FirstName -> 2
            ClassCode -> 3
            FacultyCode -> 4
        SELECT s.student_code AS StudentCode, s.last_name AS LastName, s.first_name AS FirstName, s.class_code AS ClassCode, s.faculty_code AS FacultyCode
        FROM student_basic_info AS s
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        string value1;
        string value2;
        string value3;
        string value4;
        string value5;
        value1 = try { dataReader.GetString(0) } catch (Exception) { ... } ;
        value2 = try { dataReader.GetString(1) } catch (Exception) { ... } ;
        value3 = try { dataReader.GetString(2) } catch (Exception) { ... } ;
        value4 = try { dataReader.GetString(3) } catch (Exception) { ... } ;
        value5 = try { dataReader.GetString(4) } catch (Exception) { ... } ;
        return new StudentBasicInfo{ 
            StudentCode = value1, 
            LastName = value2, 
            FirstName = value3, 
            ClassCode = value4, 
            FacultyCode = value5 
        }
        ;
    }, 
    contextType: TuitionService.Domain.TuitionDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: True, 
    threadSafetyChecksEnabled: True)"'
2025-06-06T15:52:45.7722616+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:52:45.7737375+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:52:45.7742030+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T15:52:45.7743135+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:52:45.7853226+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (11ms).
2025-06-06T15:52:45.7892031+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T15:52:45.8130776+07:00 [INF] (///) Executed DbCommand ("27"ms) [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T15:52:45.8196689+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:52:45.8199034+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 6ms reading results.
2025-06-06T15:52:45.8201260+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:52:45.8202448+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T15:52:45.8221676+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T15:52:45.8282911+07:00 [INF] (///) Writing value of type '"PagedList`1"' as Json.
2025-06-06T15:52:45.8595306+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T15:52:45.8720664+07:00 [INF] (///) HTTP "GET" "/api/v1/students" responded 200 in 3288.5397 ms
2025-06-06T15:52:45.8826222+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9D"" received FIN.
2025-06-06T15:52:45.8832285+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9D"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T15:52:45.8835478+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9D"" disconnecting.
2025-06-06T15:52:45.8908777+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T15:52:45.8972697+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:52:45.8999915+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (2ms).
2025-06-06T15:52:45.9021458+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - 200 null "application/json; charset=utf-8" 3494.7051ms
2025-06-06T15:52:45.9071196+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9D"" stopped.
2025-06-06T15:52:51.0115631+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9E"" accepted.
2025-06-06T15:52:51.0119123+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9E"" started.
2025-06-06T15:52:51.0139449+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - "application/json" null
2025-06-06T15:52:51.0159428+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students"'
2025-06-06T15:52:51.0162030+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students"' with route pattern '"/api/v{version:apiVersion}/students"' is valid for the request path '"/api/v1/students"'
2025-06-06T15:52:51.0164155+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T15:52:51.0167873+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T15:52:51.0169575+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T15:52:51.0588468+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T15:52:51.0684598+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T15:52:51.0687542+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T15:52:51.0688795+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:52:51.0690291+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:52:51.0693175+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T15:52:51.0694342+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:52:51.0696327+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:52:51.0720809+07:00 [DBG] (///) Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T15:52:51.0754758+07:00 [INF] (///) Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T15:52:51.0760367+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:52:51.0761910+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T15:52:51.0764087+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:52:51.0765121+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T15:52:51.0772853+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:52:51.0774235+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:52:51.0776605+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T15:52:51.0777562+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:52:51.0778566+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:52:51.0780269+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T15:52:51.0800003+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T15:52:51.0825220+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:52:51.0828562+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 2ms reading results.
2025-06-06T15:52:51.0831390+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:52:51.0832840+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T15:52:51.0836228+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T15:52:51.0837704+07:00 [INF] (///) Writing value of type '"PagedList`1"' as Json.
2025-06-06T15:52:51.0847553+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T15:52:51.0852398+07:00 [INF] (///) HTTP "GET" "/api/v1/students" responded 200 in 68.1394 ms
2025-06-06T15:52:51.0857154+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T15:52:51.0859146+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:52:51.0860583+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T15:52:51.0864835+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - 200 null "application/json; charset=utf-8" 72.5201ms
2025-06-06T15:52:51.0867194+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9E"" disconnecting.
2025-06-06T15:52:51.0868477+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9E"" stopped.
2025-06-06T15:52:51.0869991+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9E"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T15:52:52.1080326+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9F"" accepted.
2025-06-06T15:52:52.1081633+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9F"" started.
2025-06-06T15:52:52.1084791+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - "application/json" null
2025-06-06T15:52:52.1086687+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students"'
2025-06-06T15:52:52.1087447+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students"' with route pattern '"/api/v{version:apiVersion}/students"' is valid for the request path '"/api/v1/students"'
2025-06-06T15:52:52.1088050+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T15:52:52.1089239+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T15:52:52.1090045+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T15:52:52.1955728+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T15:52:52.1982213+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T15:52:52.1984938+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T15:52:52.1985668+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:52:52.1986622+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:52:52.1989482+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T15:52:52.1990163+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:52:52.1990620+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:52:52.1991308+07:00 [DBG] (///) Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T15:52:52.2007361+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T15:52:52.2010460+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:52:52.2011563+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T15:52:52.2013408+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:52:52.2014261+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T15:52:52.2019607+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:52:52.2020458+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:52:52.2022824+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T15:52:52.2023365+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:52:52.2023970+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:52:52.2024771+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T15:52:52.2037769+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T15:52:52.2040656+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:52:52.2041499+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T15:52:52.2043109+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:52:52.2043876+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T15:52:52.2045701+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T15:52:52.2047108+07:00 [INF] (///) Writing value of type '"PagedList`1"' as Json.
2025-06-06T15:52:52.2049902+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T15:52:52.2051500+07:00 [INF] (///) HTTP "GET" "/api/v1/students" responded 200 in 96.1213 ms
2025-06-06T15:52:52.2052786+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T15:52:52.2053394+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:52:52.2053869+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T15:52:52.2055096+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - 200 null "application/json; charset=utf-8" 96.9765ms
2025-06-06T15:52:52.2056000+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9F"" disconnecting.
2025-06-06T15:52:52.2056494+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9F"" stopped.
2025-06-06T15:52:52.2057081+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9F"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T15:52:53.1636699+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9G"" accepted.
2025-06-06T15:52:53.1637705+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9G"" started.
2025-06-06T15:52:53.1641763+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - "application/json" null
2025-06-06T15:52:53.1643620+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students"'
2025-06-06T15:52:53.1644224+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students"' with route pattern '"/api/v{version:apiVersion}/students"' is valid for the request path '"/api/v1/students"'
2025-06-06T15:52:53.1644786+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T15:52:53.1645838+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T15:52:53.1646489+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T15:52:53.1656725+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T15:52:53.1661246+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T15:52:53.1662102+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T15:52:53.1662645+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:52:53.1663255+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:52:53.1665510+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T15:52:53.1666221+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:52:53.1666589+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:52:53.1667132+07:00 [DBG] (///) Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T15:52:53.1680938+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T15:52:53.1683436+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:52:53.1684209+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T15:52:53.1685613+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:52:53.1686287+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T15:52:53.1691388+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:52:53.1692124+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:52:53.1693998+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T15:52:53.1694452+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:52:53.1694921+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:52:53.1696297+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T15:52:53.1709550+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T15:52:53.1711264+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:52:53.1711904+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T15:52:53.1713767+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:52:53.1714613+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T15:52:53.1716594+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T15:52:53.1717265+07:00 [INF] (///) Writing value of type '"PagedList`1"' as Json.
2025-06-06T15:52:53.1719690+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T15:52:53.1721241+07:00 [INF] (///) HTTP "GET" "/api/v1/students" responded 200 in 7.4485 ms
2025-06-06T15:52:53.1722822+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T15:52:53.1723355+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:52:53.1725764+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T15:52:53.1726811+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - 200 null "application/json; charset=utf-8" 8.489ms
2025-06-06T15:52:53.1727891+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9G"" disconnecting.
2025-06-06T15:52:53.1728357+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9G"" stopped.
2025-06-06T15:52:53.1729427+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9G"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T15:53:51.4092476+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9H"" accepted.
2025-06-06T15:53:51.4095530+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9H"" started.
2025-06-06T15:53:51.4116021+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - "application/json" null
2025-06-06T15:53:51.4118460+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students"'
2025-06-06T15:53:51.4119154+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students"' with route pattern '"/api/v{version:apiVersion}/students"' is valid for the request path '"/api/v1/students"'
2025-06-06T15:53:51.4119875+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T15:53:51.4120934+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T15:53:51.4121462+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T15:53:51.4143802+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T15:53:51.4148856+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T15:53:51.4149732+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T15:53:51.4150377+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:53:51.4151106+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:53:51.4154632+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T15:53:51.4155345+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:53:51.4155676+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:53:51.4156163+07:00 [DBG] (///) Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T15:53:51.4176969+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T15:53:51.4180260+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:53:51.4181262+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T15:53:51.4182770+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:53:51.4183483+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T15:53:51.4188534+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:53:51.4189313+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:53:51.4191193+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T15:53:51.4191582+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:53:51.4192210+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:53:51.4193001+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T15:53:51.4209784+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T15:53:51.4271041+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:53:51.4272454+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 6ms reading results.
2025-06-06T15:53:51.4274354+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:53:51.4275125+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T15:53:51.4276937+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T15:53:51.4277434+07:00 [INF] (///) Writing value of type '"PagedList`1"' as Json.
2025-06-06T15:53:51.4302652+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T15:53:51.4305315+07:00 [INF] (///) HTTP "GET" "/api/v1/students" responded 200 in 18.2631 ms
2025-06-06T15:53:51.4306468+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T15:53:51.4307347+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:53:51.4307895+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T15:53:51.4308830+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - 200 null "application/json; charset=utf-8" 19.2805ms
2025-06-06T15:53:51.4309767+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9H"" disconnecting.
2025-06-06T15:53:51.4310157+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9H"" stopped.
2025-06-06T15:53:51.4311002+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9H"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T15:53:54.7026932+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9I"" accepted.
2025-06-06T15:53:54.7028467+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9I"" started.
2025-06-06T15:53:54.7031423+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T15:53:54.7038739+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T15:53:54.7040305+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T15:53:54.7041161+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T15:53:54.7042598+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T15:53:54.7043233+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T15:53:54.7075084+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T15:53:54.7116971+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<StudentBasicInfo>()
    .Where(s => s.StudentCode == __studentCode_0)
    .Select(s => new StudentDetailResponse{ 
        StudentCode = s.StudentCode, 
        LastName = s.LastName, 
        FirstName = s.FirstName, 
        ClassCode = s.ClassCode, 
        FacultyCode = s.FacultyCode, 
        Tuitions = s.Tuitions
            .Select(t => new TuitionResponse{ 
                AcademicYear = t.AcademicYear, 
                Semester = t.Semester.ToString(), 
                TuitionAmount = (decimal)t.TuitionFee, 
                TuitionPaid = (decimal)t.TuitionPayments
                    .Sum(p => p.AmountPaid) 
            }
            )
            .ToList() 
    }
    )
    .FirstOrDefault()"'
2025-06-06T15:53:54.9385343+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<StudentDetailResponse>(
    asyncEnumerable: SingleQueryingEnumerable.Create<StudentDetailResponse>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> 0
                1 -> 1
                2 -> 2
                3 -> 3
                4 -> 4
                5 -> 5
                6 -> 6
                7 -> 7
                8 -> 8
                9 -> 9
                10 -> 10
            SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, COALESCE(CAST(t.semester AS text), ''), CAST(t.tuition_fee AS numeric), CAST((
                SELECT CAST(sum(t0.amount_paid) AS integer)
                FROM tuition_payment AS t0
                WHERE (((t.student_code != NULL) && (t.academic_year != NULL)) && (t.semester != NULL)) && (((t.student_code == t0.student_code) && (t.academic_year == t0.academic_year)) && (t.semester == t0.semester))) AS numeric), t.student_code, t.semester
            FROM 
            (
                SELECT TOP(1) s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
                FROM student_basic_info AS s
                WHERE s.student_code == @__studentCode_0
            ) AS s0
            LEFT JOIN tuition AS t ON s0.student_code == t.student_code
            ORDER BY s0.student_code ASC, t.student_code ASC, t.academic_year ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> 0
                1 -> 1
                2 -> 2
                3 -> 3
                4 -> 4
                5 -> 5
                6 -> 6
                7 -> 7
                8 -> 8
                9 -> 9
                10 -> 10
            SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, COALESCE(CAST(t.semester AS text), ''), CAST(t.tuition_fee AS numeric), CAST((
                SELECT CAST(sum(t0.amount_paid) AS integer)
                FROM tuition_payment AS t0
                WHERE (((t.student_code != NULL) && (t.academic_year != NULL)) && (t.semester != NULL)) && (((t.student_code == t0.student_code) && (t.academic_year == t0.academic_year)) && (t.semester == t0.semester))) AS numeric), t.student_code, t.semester
            FROM 
            (
                SELECT TOP(1) s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
                FROM student_basic_info AS s
                WHERE s.student_code == @__studentCode_0
            ) AS s0
            LEFT JOIN tuition AS t ON s0.student_code == t.student_code
            ORDER BY s0.student_code ASC, t.student_code ASC, t.academic_year ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                string value1;
                string value2;
                string value3;
                string value4;
                string value5;
                List<TuitionResponse> namelessParameter{0};
                value1 = try { dataReader.GetString(0) } catch (Exception) { ... } ;
                value2 = try { dataReader.GetString(1) } catch (Exception) { ... } ;
                value3 = try { dataReader.GetString(2) } catch (Exception) { ... } ;
                value4 = try { dataReader.GetString(3) } catch (Exception) { ... } ;
                value5 = try { dataReader.GetString(4) } catch (Exception) { ... } ;
                namelessParameter{0} = ShaperProcessingExpressionVisitor.InitializeCollection<TuitionResponse, List<TuitionResponse>>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ try { dataReader.GetString(0) } catch (Exception) { ... }  }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ try { dataReader.GetString(0) } catch (Exception) { ... }  }], 
                    clrCollectionAccessor: default(IClrCollectionAccessor));
                return resultContext.Values = new object[]
                { 
                    value1, 
                    value2, 
                    value3, 
                    value4, 
                    value5, 
                    namelessParameter{0} 
                };
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateCollection<List<TuitionResponse>, TuitionResponse, TuitionResponse>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ try { dataReader.GetString(0) } catch (Exception) { ... }  }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ try { dataReader.GetString(0) } catch (Exception) { ... }  }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    try { dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9) } catch (Exception) { ... } , 
                    try { dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5) } catch (Exception) { ... } , 
                    (object)try { dataReader.IsDBNull(10) ? default(int?) : (int?)dataReader.GetInt32(10) } catch (Exception) { ... }  
                }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (string)left == (string)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (string)left == (string)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
                { 
                    (left, right) => left == null ? right == null : right != null && (string)left == (string)right, 
                    (left, right) => left == null ? right == null : right != null && (string)left == (string)right, 
                    (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
                }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    string value1;
                    string value2;
                    decimal? value3;
                    decimal? value4;
                    value1 = try { dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5) } catch (Exception) { ... } ;
                    value2 = try { dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6) } catch (Exception) { ... } ;
                    value3 = try { dataReader.IsDBNull(7) ? default(decimal?) : (decimal?)dataReader.GetDecimal(7) } catch (Exception) { ... } ;
                    value4 = try { dataReader.IsDBNull(8) ? default(decimal?) : (decimal?)dataReader.GetDecimal(8) } catch (Exception) { ... } ;
                    return new TuitionResponse{ 
                        AcademicYear = value1, 
                        Semester = value2, 
                        TuitionAmount = (decimal)value3, 
                        TuitionPaid = (decimal)value4 
                    }
                    ;
                });
            return IsTrue(resultCoordinator.ResultReady)
             ? new StudentDetailResponse{ 
                StudentCode = (string)(resultContext.Values[0]), 
                LastName = (string)(resultContext.Values[1]), 
                FirstName = (string)(resultContext.Values[2]), 
                ClassCode = (string)(resultContext.Values[3]), 
                FacultyCode = (string)(resultContext.Values[4]), 
                Tuitions = (List<TuitionResponse>)(resultContext.Values[5]) 
            }
             : default(StudentDetailResponse);
        }, 
        contextType: TuitionService.Domain.TuitionDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: True, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)"'
2025-06-06T15:53:54.9720238+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T15:53:54.9722237+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T15:53:54.9722754+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:53:54.9723444+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:53:54.9725389+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T15:53:54.9725998+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:53:54.9736915+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (1ms).
2025-06-06T15:53:54.9738670+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T15:53:54.9799468+07:00 [INF] (///) Executed DbCommand ("6"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T15:53:54.9875651+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:53:54.9877221+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 7ms reading results.
2025-06-06T15:53:54.9879790+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:53:54.9880796+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T15:53:54.9885300+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T15:53:54.9995581+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T15:53:55.0043664+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T15:53:55.0045597+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 300.2167 ms
2025-06-06T15:53:55.0047011+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T15:53:55.0047763+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:53:55.0048360+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T15:53:55.0049474+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 301.793ms
2025-06-06T15:53:55.0050411+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9I"" disconnecting.
2025-06-06T15:53:55.0050788+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9I"" stopped.
2025-06-06T15:53:55.0051717+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9I"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T15:53:55.0133794+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9J"" accepted.
2025-06-06T15:53:55.0134915+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9J"" started.
2025-06-06T15:53:55.0137101+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T15:53:55.0140082+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T15:53:55.0140811+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T15:53:55.0141507+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T15:53:55.0142454+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T15:53:55.0142966+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T15:53:55.0151983+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T15:53:55.0160418+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T15:53:55.0160954+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T15:53:55.0161314+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:53:55.0161851+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:53:55.0163297+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T15:53:55.0163744+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:53:55.0164331+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:53:55.0164949+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T15:53:55.0184476+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T15:53:55.0187671+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:53:55.0188360+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T15:53:55.0190020+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:53:55.0190667+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T15:53:55.0192091+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T15:53:55.0192562+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T15:53:55.0195150+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T15:53:55.0196408+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 5.3244 ms
2025-06-06T15:53:55.0197443+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T15:53:55.0199663+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:53:55.0200182+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T15:53:55.0201064+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 6.3776ms
2025-06-06T15:53:55.0201847+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9J"" disconnecting.
2025-06-06T15:53:55.0202190+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9J"" stopped.
2025-06-06T15:53:55.0203087+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9J"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T15:54:01.2054852+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9K"" accepted.
2025-06-06T15:54:01.2056018+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9K"" started.
2025-06-06T15:54:01.2067135+07:00 [INF] (///) Request starting "HTTP/1.1" "POST" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - "application/json" 89
2025-06-06T15:54:01.2072550+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T15:54:01.2073218+07:00 [DBG] (///) Endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T15:54:01.2073941+07:00 [DBG] (///) Request matched endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T15:54:01.2074961+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T15:54:01.2083363+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T15:54:01.2085812+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T15:54:01.2090987+07:00 [INF] (///) Executing endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T15:54:01.2158144+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9K"", Request id ""0HND4QTVR0E9K:00000001"": started reading request body.
2025-06-06T15:54:01.2160317+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9K"", Request id ""0HND4QTVR0E9K:00000001"": done reading request body.
2025-06-06T15:54:01.2382516+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T15:54:01.4123996+07:00 [DBG] (///) Context '"TuitionDbContext"' started tracking '"Tuition"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 1}"'.
2025-06-06T15:54:01.4180816+07:00 [DBG] (///) SaveChanges starting for '"TuitionDbContext"'.
2025-06-06T15:54:01.4247254+07:00 [DBG] (///) DetectChanges starting for '"TuitionDbContext"'.
2025-06-06T15:54:01.4427602+07:00 [DBG] (///) DetectChanges completed for '"TuitionDbContext"'.
2025-06-06T15:54:01.5892024+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T15:54:01.5893418+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T15:54:01.5893939+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:54:01.5894645+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:54:01.5932500+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T15:54:01.5933399+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:54:01.5934023+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:54:01.5934966+07:00 [DBG] (///) Executing DbCommand [Parameters=["@p0='2024-2025' (Nullable = false), @p1='1', @p2='N22DCCN888' (Nullable = false), @p3='8508544'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tuition (academic_year, semester, student_code, tuition_fee)
VALUES (@p0, @p1, @p2, @p3);"
2025-06-06T15:54:01.6039114+07:00 [INF] (///) Executed DbCommand ("10"ms) [Parameters=["@p0='2024-2025' (Nullable = false), @p1='1', @p2='N22DCCN888' (Nullable = false), @p3='8508544'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tuition (academic_year, semester, student_code, tuition_fee)
VALUES (@p0, @p1, @p2, @p3);"
2025-06-06T15:54:01.6074659+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:54:01.6075505+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 3ms reading results.
2025-06-06T15:54:01.6085630+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:54:01.6086488+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T15:54:01.6261159+07:00 [DBG] (///) The '"Tuition"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 1}"' tracked by '"TuitionDbContext"' changed state from 'Added' to 'Unchanged'.
2025-06-06T15:54:01.6312395+07:00 [DBG] (///) SaveChanges completed for '"TuitionDbContext"' with 1 entities written to the database.
2025-06-06T15:54:01.6327348+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T15:54:01.6342064+07:00 [INF] (///) Executed endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T15:54:01.6344657+07:00 [INF] (///) HTTP "POST" "/api/v1/students/N22DCCN888/tuitions" responded 200 in 426.8054 ms
2025-06-06T15:54:01.6351272+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T15:54:01.6352105+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:54:01.6352807+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T15:54:01.6355038+07:00 [INF] (///) Request finished "HTTP/1.1" "POST" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - 200 0 null 428.6879ms
2025-06-06T15:54:01.6356779+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9K"" disconnecting.
2025-06-06T15:54:01.6357252+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9K"" stopped.
2025-06-06T15:54:01.6357943+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9K"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T15:54:26.4396074+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9L"" accepted.
2025-06-06T15:54:26.4397131+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9L"" started.
2025-06-06T15:54:26.4399409+07:00 [INF] (///) Request starting "HTTP/1.1" "POST" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - "application/json" 89
2025-06-06T15:54:26.4401272+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T15:54:26.4401880+07:00 [DBG] (///) Endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T15:54:26.4402339+07:00 [DBG] (///) Request matched endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T15:54:26.4404145+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T15:54:26.4406471+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T15:54:26.4406728+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T15:54:26.4407376+07:00 [INF] (///) Executing endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T15:54:26.4408797+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9L"", Request id ""0HND4QTVR0E9L:00000001"": started reading request body.
2025-06-06T15:54:26.4409496+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9L"", Request id ""0HND4QTVR0E9L:00000001"": done reading request body.
2025-06-06T15:54:26.4418687+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T15:54:26.4423939+07:00 [DBG] (///) Context '"TuitionDbContext"' started tracking '"Tuition"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2}"'.
2025-06-06T15:54:26.4424745+07:00 [DBG] (///) SaveChanges starting for '"TuitionDbContext"'.
2025-06-06T15:54:26.4425881+07:00 [DBG] (///) DetectChanges starting for '"TuitionDbContext"'.
2025-06-06T15:54:26.4426769+07:00 [DBG] (///) DetectChanges completed for '"TuitionDbContext"'.
2025-06-06T15:54:26.4433164+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T15:54:26.4433774+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T15:54:26.4434164+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:54:26.4436175+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:54:26.4437639+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T15:54:26.4438117+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:54:26.4438661+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:54:26.4439402+07:00 [DBG] (///) Executing DbCommand [Parameters=["@p0='2024-2025' (Nullable = false), @p1='2', @p2='N22DCCN888' (Nullable = false), @p3='8508544'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tuition (academic_year, semester, student_code, tuition_fee)
VALUES (@p0, @p1, @p2, @p3);"
2025-06-06T15:54:26.4461846+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@p0='2024-2025' (Nullable = false), @p1='2', @p2='N22DCCN888' (Nullable = false), @p3='8508544'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tuition (academic_year, semester, student_code, tuition_fee)
VALUES (@p0, @p1, @p2, @p3);"
2025-06-06T15:54:26.4464353+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:54:26.4465017+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T15:54:26.4466618+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:54:26.4467384+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T15:54:26.4470975+07:00 [DBG] (///) The '"Tuition"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2}"' tracked by '"TuitionDbContext"' changed state from 'Added' to 'Unchanged'.
2025-06-06T15:54:26.4472376+07:00 [DBG] (///) SaveChanges completed for '"TuitionDbContext"' with 1 entities written to the database.
2025-06-06T15:54:26.4473495+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T15:54:26.4474011+07:00 [INF] (///) Executed endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T15:54:26.4475490+07:00 [INF] (///) HTTP "POST" "/api/v1/students/N22DCCN888/tuitions" responded 200 in 7.0559 ms
2025-06-06T15:54:26.4478014+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T15:54:26.4478750+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:54:26.4479162+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T15:54:26.4479910+07:00 [INF] (///) Request finished "HTTP/1.1" "POST" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - 200 0 null 8.0391ms
2025-06-06T15:54:26.4480740+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9L"" disconnecting.
2025-06-06T15:54:26.4481134+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9L"" stopped.
2025-06-06T15:54:26.4481651+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9L"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T15:58:27.8804051+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9M"" accepted.
2025-06-06T15:58:27.8848667+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9M"" started.
2025-06-06T15:58:27.8851370+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T15:58:27.8853108+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T15:58:27.8853747+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T15:58:27.8854191+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T15:58:27.8854940+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T15:58:27.8855358+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T15:58:27.8864324+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T15:58:27.8871610+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T15:58:27.8872257+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T15:58:27.8872666+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:58:27.8976103+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:58:27.8978919+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T15:58:27.8979423+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:58:27.8979884+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:58:27.8980578+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T15:58:27.9037236+07:00 [INF] (///) Executed DbCommand ("6"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T15:58:27.9122873+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:58:27.9124405+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 8ms reading results.
2025-06-06T15:58:27.9126387+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:58:27.9127166+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T15:58:27.9129543+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T15:58:27.9130305+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T15:58:27.9179997+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T15:58:27.9181655+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 32.5984 ms
2025-06-06T15:58:27.9182805+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T15:58:27.9183445+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:58:27.9183977+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T15:58:27.9184836+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 33.3386ms
2025-06-06T15:58:27.9185643+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9M"" disconnecting.
2025-06-06T15:58:27.9186102+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9M"" stopped.
2025-06-06T15:58:27.9186822+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9M"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T15:58:38.3898173+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9N"" accepted.
2025-06-06T15:58:38.3899064+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9N"" started.
2025-06-06T15:58:38.3901504+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T15:58:38.3902899+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T15:58:38.3903489+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T15:58:38.3904014+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T15:58:38.3904944+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T15:58:38.3905472+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T15:58:38.3915415+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T15:58:38.3921714+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T15:58:38.3922328+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T15:58:38.3922891+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:58:38.3923483+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:58:38.3925380+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T15:58:38.3925892+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:58:38.3926444+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:58:38.3928273+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T15:58:38.3949765+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T15:58:38.3954800+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:58:38.3955926+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T15:58:38.3957405+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:58:38.3958202+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T15:58:38.3959860+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T15:58:38.3960487+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T15:58:38.3963374+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T15:58:38.3965281+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 5.9500 ms
2025-06-06T15:58:38.3966614+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T15:58:38.3967107+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:58:38.3967586+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T15:58:38.3970779+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 6.9119ms
2025-06-06T15:58:38.3972524+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9N"" disconnecting.
2025-06-06T15:58:38.3973158+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9N"" stopped.
2025-06-06T15:58:38.3974285+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9N"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T15:58:48.7347948+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9O"" accepted.
2025-06-06T15:58:48.7349109+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9O"" started.
2025-06-06T15:58:48.7352346+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T15:58:48.7354113+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T15:58:48.7354948+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T15:58:48.7355543+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T15:58:48.7356690+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T15:58:48.7357183+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T15:58:48.7367795+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T15:58:48.7375573+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T15:58:48.7376591+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T15:58:48.7377116+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:58:48.7377970+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:58:48.7380807+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T15:58:48.7381950+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:58:48.7382625+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:58:48.7383502+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T15:58:48.7409135+07:00 [INF] (///) Executed DbCommand ("3"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T15:58:48.7413504+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:58:48.7415315+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T15:58:48.7416793+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:58:48.7417692+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T15:58:48.7419196+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T15:58:48.7419672+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T15:58:48.7421665+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T15:58:48.7422935+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 6.5591 ms
2025-06-06T15:58:48.7424114+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T15:58:48.7424655+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:58:48.7425090+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T15:58:48.7425988+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 7.3696ms
2025-06-06T15:58:48.7427467+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9O"" disconnecting.
2025-06-06T15:58:48.7428167+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9O"" stopped.
2025-06-06T15:58:48.7429421+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9O"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T15:58:56.4428730+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9P"" accepted.
2025-06-06T15:58:56.4429653+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9P"" started.
2025-06-06T15:58:56.4432089+07:00 [INF] (///) Request starting "HTTP/1.1" "POST" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - "application/json" 89
2025-06-06T15:58:56.4433769+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T15:58:56.4434279+07:00 [DBG] (///) Endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T15:58:56.4434722+07:00 [DBG] (///) Request matched endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T15:58:56.4436252+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T15:58:56.4437972+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T15:58:56.4438252+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T15:58:56.4438745+07:00 [INF] (///) Executing endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T15:58:56.4439505+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9P"", Request id ""0HND4QTVR0E9P:00000001"": started reading request body.
2025-06-06T15:58:56.4439796+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9P"", Request id ""0HND4QTVR0E9P:00000001"": done reading request body.
2025-06-06T15:58:56.4450103+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T15:58:56.4452902+07:00 [DBG] (///) Context '"TuitionDbContext"' started tracking '"Tuition"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 4}"'.
2025-06-06T15:58:56.4453558+07:00 [DBG] (///) SaveChanges starting for '"TuitionDbContext"'.
2025-06-06T15:58:56.4454083+07:00 [DBG] (///) DetectChanges starting for '"TuitionDbContext"'.
2025-06-06T15:58:56.4454717+07:00 [DBG] (///) DetectChanges completed for '"TuitionDbContext"'.
2025-06-06T15:58:56.4458027+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T15:58:56.4458546+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T15:58:56.4458751+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:58:56.4459253+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:58:56.4461189+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T15:58:56.4461707+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:58:56.4462198+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:58:56.4464430+07:00 [DBG] (///) Executing DbCommand [Parameters=["@p0='2024-2025' (Nullable = false), @p1='4', @p2='N22DCCN888' (Nullable = false), @p3='8508544'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tuition (academic_year, semester, student_code, tuition_fee)
VALUES (@p0, @p1, @p2, @p3);"
2025-06-06T15:58:56.4717155+07:00 [INF] (///) Executed DbCommand ("25"ms) [Parameters=["@p0='2024-2025' (Nullable = false), @p1='4', @p2='N22DCCN888' (Nullable = false), @p3='8508544'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tuition (academic_year, semester, student_code, tuition_fee)
VALUES (@p0, @p1, @p2, @p3);"
2025-06-06T15:58:56.4719841+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:58:56.4720672+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T15:58:56.4722217+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:58:56.4723067+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T15:58:56.4725526+07:00 [DBG] (///) The '"Tuition"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 4}"' tracked by '"TuitionDbContext"' changed state from 'Added' to 'Unchanged'.
2025-06-06T15:58:56.4726240+07:00 [DBG] (///) SaveChanges completed for '"TuitionDbContext"' with 1 entities written to the database.
2025-06-06T15:58:56.4727065+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T15:58:56.4727524+07:00 [INF] (///) Executed endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T15:58:56.4731270+07:00 [INF] (///) HTTP "POST" "/api/v1/students/N22DCCN888/tuitions" responded 200 in 29.4013 ms
2025-06-06T15:58:56.4733264+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T15:58:56.4733774+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:58:56.4734315+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T15:58:56.4735361+07:00 [INF] (///) Request finished "HTTP/1.1" "POST" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - 200 0 null 30.3173ms
2025-06-06T15:58:56.4736425+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9P"" disconnecting.
2025-06-06T15:58:56.4736809+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9P"" stopped.
2025-06-06T15:58:56.4737475+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9P"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T15:58:56.4805140+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9Q"" accepted.
2025-06-06T15:58:56.4805960+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9Q"" started.
2025-06-06T15:58:56.4807996+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T15:58:56.4810380+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T15:58:56.4811095+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T15:58:56.4811611+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T15:58:56.4812704+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T15:58:56.4813370+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T15:58:56.4820818+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T15:58:56.4825310+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T15:58:56.4825825+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T15:58:56.4826100+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:58:56.4826654+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:58:56.4828503+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T15:58:56.4828909+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:58:56.4829434+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:58:56.4829899+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T15:58:56.4848789+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T15:58:56.4851671+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:58:56.4852332+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T15:58:56.4853645+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:58:56.4854215+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T15:58:56.4855362+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T15:58:56.4855742+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T15:58:56.4858711+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T15:58:56.4859974+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 4.6880 ms
2025-06-06T15:58:56.4861086+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T15:58:56.4861551+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:58:56.4861917+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T15:58:56.4862607+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 5.4566ms
2025-06-06T15:58:56.4863360+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9Q"" disconnecting.
2025-06-06T15:58:56.4863671+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9Q"" stopped.
2025-06-06T15:58:56.4864365+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9Q"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T15:59:02.5072316+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9R"" accepted.
2025-06-06T15:59:02.5073179+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9R"" started.
2025-06-06T15:59:02.5075621+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T15:59:02.5077177+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T15:59:02.5077796+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T15:59:02.5078396+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T15:59:02.5079281+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T15:59:02.5079777+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T15:59:02.5088353+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T15:59:02.5095040+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T15:59:02.5095690+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T15:59:02.5096024+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:59:02.5096524+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:59:02.5098523+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T15:59:02.5099272+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:59:02.5099802+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:59:02.5100291+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T15:59:02.5122910+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T15:59:02.5126840+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:59:02.5127762+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T15:59:02.5129406+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:59:02.5130894+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T15:59:02.5132338+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T15:59:02.5132846+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T15:59:02.5134835+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T15:59:02.5136381+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 5.6224 ms
2025-06-06T15:59:02.5137367+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T15:59:02.5137798+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:59:02.5138199+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T15:59:02.5138906+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 6.324ms
2025-06-06T15:59:02.5139591+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9R"" disconnecting.
2025-06-06T15:59:02.5139864+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9R"" stopped.
2025-06-06T15:59:02.5140414+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9R"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T15:59:06.3806414+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9S"" accepted.
2025-06-06T15:59:06.3807288+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9S"" started.
2025-06-06T15:59:06.3810036+07:00 [INF] (///) Request starting "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - "application/json" 127
2025-06-06T15:59:06.3811954+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T15:59:06.3812612+07:00 [DBG] (///) Endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T15:59:06.3813221+07:00 [DBG] (///) Request matched endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T15:59:06.3814435+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T15:59:06.3814971+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T15:59:06.3815240+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T15:59:06.3815761+07:00 [INF] (///) Executing endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T15:59:06.3817809+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9S"", Request id ""0HND4QTVR0E9S:00000001"": started reading request body.
2025-06-06T15:59:06.3819258+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9S"", Request id ""0HND4QTVR0E9S:00000001"": done reading request body.
2025-06-06T15:59:06.3895280+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T15:59:06.3909510+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Tuition>()
    .Where(t => t.StudentCode == __studentCode_0 && __academicYears_1.Contains(t.AcademicYear) && __semesters_2.Contains(t.Semester))
    .ExecuteDelete()"'
2025-06-06T15:59:06.4711642+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => RelationalShapedQueryCompilingExpressionVisitor.NonQueryResultAsync(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        DELETE FROM tuition AS t
        SELECT 1
        FROM tuition AS t
        WHERE ((t.student_code == @__studentCode_0) && t.academic_year = ANY(@__academicYears_1)) && t.semester = ANY(@__semesters_2)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        DELETE FROM tuition AS t
        SELECT 1
        FROM tuition AS t
        WHERE ((t.student_code == @__studentCode_0) && t.academic_year = ANY(@__academicYears_1)) && t.semester = ANY(@__semesters_2), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    contextType: TuitionService.Domain.TuitionDbContext, 
    commandSource: ExecuteDelete, 
    threadSafetyChecksEnabled: True)"'
2025-06-06T15:59:06.4844611+07:00 [DBG] (///) Creating DbCommand for '"ExecuteNonQuery"'.
2025-06-06T15:59:06.4845813+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T15:59:06.4846324+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T15:59:06.4846893+07:00 [DBG] (///) Created DbCommand for '"ExecuteNonQuery"' (0ms).
2025-06-06T15:59:06.4872777+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteNonQuery"' (2ms).
2025-06-06T15:59:06.4873606+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:59:06.4874245+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:59:06.4887690+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888', @__academicYears_1={ '2024-2025', '2024-2025', '2024-2025' } (DbType = Object), @__semesters_2={ '1', '2', '4' } (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM tuition AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = ANY (@__academicYears_1) AND t.semester = ANY (@__semesters_2)"
2025-06-06T15:59:06.6538412+07:00 [INF] (///) Executed DbCommand ("166"ms) [Parameters=["@__studentCode_0='N22DCCN888', @__academicYears_1={ '2024-2025', '2024-2025', '2024-2025' } (DbType = Object), @__semesters_2={ '1', '2', '4' } (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM tuition AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = ANY (@__academicYears_1) AND t.semester = ANY (@__semesters_2)"
2025-06-06T15:59:06.6550810+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:59:06.6551553+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T15:59:06.6568814+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T15:59:06.6573179+07:00 [INF] (///) Writing value of type '"Int32"' as Json.
2025-06-06T15:59:06.6613076+07:00 [INF] (///) Executed endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T15:59:06.6614966+07:00 [INF] (///) HTTP "DELETE" "/api/v1/students/N22DCCN888/tuitions" responded 200 in 279.9656 ms
2025-06-06T15:59:06.6616469+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T15:59:06.6617075+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:59:06.6617765+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T15:59:06.6619146+07:00 [INF] (///) Request finished "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - 200 null "application/json; charset=utf-8" 280.894ms
2025-06-06T15:59:06.6620484+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9S"" disconnecting.
2025-06-06T15:59:06.6620951+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9S"" stopped.
2025-06-06T15:59:06.6621591+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9S"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T15:59:06.6709333+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9T"" accepted.
2025-06-06T15:59:06.6710474+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9T"" started.
2025-06-06T15:59:06.6713216+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T15:59:06.6714514+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T15:59:06.6715214+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T15:59:06.6715722+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T15:59:06.6716534+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T15:59:06.6716876+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T15:59:06.6723964+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T15:59:06.6727966+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T15:59:06.6728440+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T15:59:06.6728707+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:59:06.6729172+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:59:06.6730548+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T15:59:06.6730945+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:59:06.6731427+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:59:06.6731849+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T15:59:06.6748737+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T15:59:06.6751157+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:59:06.6751884+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T15:59:06.6753293+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:59:06.6754005+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T15:59:06.6755647+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T15:59:06.6756136+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T15:59:06.6757585+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T15:59:06.6758678+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 4.1597 ms
2025-06-06T15:59:06.6759574+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T15:59:06.6760007+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:59:06.6760370+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T15:59:06.6761153+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 4.787ms
2025-06-06T15:59:06.6762051+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9T"" disconnecting.
2025-06-06T15:59:06.6762356+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9T"" stopped.
2025-06-06T15:59:06.6762778+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9T"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T15:59:16.6155887+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9U"" accepted.
2025-06-06T15:59:16.6156945+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9U"" started.
2025-06-06T15:59:16.6159833+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T15:59:16.6161388+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T15:59:16.6162032+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T15:59:16.6162739+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T15:59:16.6163827+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T15:59:16.6164316+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T15:59:16.6172659+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T15:59:16.6177184+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T15:59:16.6177900+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T15:59:16.6178203+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:59:16.6178629+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:59:16.6180149+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T15:59:16.6180562+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:59:16.6181157+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:59:16.6181651+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T15:59:16.6203280+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T15:59:16.6206327+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:59:16.6207239+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T15:59:16.6208501+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:59:16.6209071+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T15:59:16.6211240+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T15:59:16.6211731+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T15:59:16.6213696+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T15:59:16.6214984+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 5.0673 ms
2025-06-06T15:59:16.6216081+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T15:59:16.6216647+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:59:16.6217035+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T15:59:16.6217771+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 5.7964ms
2025-06-06T15:59:16.6219908+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9U"" disconnecting.
2025-06-06T15:59:16.6220264+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9U"" stopped.
2025-06-06T15:59:16.6221092+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9U"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T15:59:16.6502215+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9V"" accepted.
2025-06-06T15:59:16.6503026+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9V"" started.
2025-06-06T15:59:16.6505069+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T15:59:16.6506558+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T15:59:16.6507098+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T15:59:16.6507604+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T15:59:16.6508502+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T15:59:16.6508930+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T15:59:16.6516808+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T15:59:16.6522164+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T15:59:16.6522726+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T15:59:16.6523117+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:59:16.6523600+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:59:16.6524964+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T15:59:16.6525354+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:59:16.6525802+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:59:16.6526213+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T15:59:16.6542835+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T15:59:16.6544889+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:59:16.6545391+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T15:59:16.6546900+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:59:16.6547337+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T15:59:16.6548517+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T15:59:16.6548988+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T15:59:16.6550395+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T15:59:16.6551459+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 4.2465 ms
2025-06-06T15:59:16.6552242+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T15:59:16.6552620+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:59:16.6552971+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T15:59:16.6553583+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 4.8455ms
2025-06-06T15:59:16.6554133+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9V"" disconnecting.
2025-06-06T15:59:16.6554406+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9V"" stopped.
2025-06-06T15:59:16.6554699+07:00 [DBG] (///) Connection id ""0HND4QTVR0E9V"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T15:59:24.7555105+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA0"" accepted.
2025-06-06T15:59:24.7556125+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA0"" started.
2025-06-06T15:59:24.7559103+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - "application/json" null
2025-06-06T15:59:24.7560684+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students"'
2025-06-06T15:59:24.7562598+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students"' with route pattern '"/api/v{version:apiVersion}/students"' is valid for the request path '"/api/v1/students"'
2025-06-06T15:59:24.7563291+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T15:59:24.7564558+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T15:59:24.7565104+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T15:59:24.7576104+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T15:59:24.7580649+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T15:59:24.7581752+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T15:59:24.7582313+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:59:24.7583089+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:59:24.7585503+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T15:59:24.7586105+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:59:24.7586567+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:59:24.7587161+07:00 [DBG] (///) Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T15:59:24.7600837+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T15:59:24.7602513+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:59:24.7603267+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T15:59:24.7604323+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:59:24.7604774+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T15:59:24.7608062+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:59:24.7608610+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:59:24.7609908+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T15:59:24.7610264+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:59:24.7610814+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:59:24.7611821+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T15:59:24.7622389+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T15:59:24.7624964+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:59:24.7625590+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T15:59:24.7626855+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:59:24.7627425+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T15:59:24.7629003+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T15:59:24.7629543+07:00 [INF] (///) Writing value of type '"PagedList`1"' as Json.
2025-06-06T15:59:24.7631261+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T15:59:24.7632578+07:00 [INF] (///) HTTP "GET" "/api/v1/students" responded 200 in 6.7656 ms
2025-06-06T15:59:24.7633480+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T15:59:24.7634040+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:59:24.7634457+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T15:59:24.7635346+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - 200 null "application/json; charset=utf-8" 7.6088ms
2025-06-06T15:59:24.7636091+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA0"" disconnecting.
2025-06-06T15:59:24.7636481+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA0"" stopped.
2025-06-06T15:59:24.7636825+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA0"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T15:59:24.7698426+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA1"" accepted.
2025-06-06T15:59:24.7699300+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA1"" started.
2025-06-06T15:59:24.7701324+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - "application/json" null
2025-06-06T15:59:24.7702951+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students"'
2025-06-06T15:59:24.7703500+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students"' with route pattern '"/api/v{version:apiVersion}/students"' is valid for the request path '"/api/v1/students"'
2025-06-06T15:59:24.7704079+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T15:59:24.7704964+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T15:59:24.7705469+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T15:59:24.7713730+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T15:59:24.7717260+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T15:59:24.7717841+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T15:59:24.7718243+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:59:24.7718730+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:59:24.7720516+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T15:59:24.7720939+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:59:24.7721148+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:59:24.7721537+07:00 [DBG] (///) Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T15:59:24.7733471+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T15:59:24.7735426+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:59:24.7736345+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T15:59:24.7737616+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:59:24.7738272+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T15:59:24.7742655+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:59:24.7743323+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:59:24.7745796+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T15:59:24.7746257+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:59:24.7746705+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:59:24.7747203+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T15:59:24.7759973+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T15:59:24.7762249+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:59:24.7763087+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T15:59:24.7764335+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:59:24.7764869+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T15:59:24.7766221+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T15:59:24.7766755+07:00 [INF] (///) Writing value of type '"PagedList`1"' as Json.
2025-06-06T15:59:24.7768743+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T15:59:24.7770967+07:00 [INF] (///) HTTP "GET" "/api/v1/students" responded 200 in 6.4326 ms
2025-06-06T15:59:24.7771899+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T15:59:24.7772300+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:59:24.7772847+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T15:59:24.7774011+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - 200 null "application/json; charset=utf-8" 7.2145ms
2025-06-06T15:59:24.7774905+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA1"" disconnecting.
2025-06-06T15:59:24.7775258+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA1"" stopped.
2025-06-06T15:59:24.7776083+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA1"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T15:59:26.0561161+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA2"" accepted.
2025-06-06T15:59:26.0562030+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA2"" started.
2025-06-06T15:59:26.0564284+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T15:59:26.0565524+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T15:59:26.0566123+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T15:59:26.0567509+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T15:59:26.0568431+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T15:59:26.0568895+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T15:59:26.0576997+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T15:59:26.0582101+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T15:59:26.0582643+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T15:59:26.0583024+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:59:26.0583492+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:59:26.0585292+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T15:59:26.0586009+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:59:26.0586487+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:59:26.0586904+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T15:59:26.0604286+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T15:59:26.0606635+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:59:26.0607253+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T15:59:26.0608668+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:59:26.0609239+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T15:59:26.0610598+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T15:59:26.0611067+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T15:59:26.0612528+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T15:59:26.0613641+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 4.4747 ms
2025-06-06T15:59:26.0614503+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T15:59:26.0615121+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:59:26.0615498+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T15:59:26.0617513+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 5.2102ms
2025-06-06T15:59:26.0618262+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA2"" disconnecting.
2025-06-06T15:59:26.0618688+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA2"" stopped.
2025-06-06T15:59:26.0619325+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA2"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T15:59:26.0683559+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA3"" accepted.
2025-06-06T15:59:26.0684459+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA3"" started.
2025-06-06T15:59:26.0686393+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T15:59:26.0687677+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T15:59:26.0688259+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T15:59:26.0688735+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T15:59:26.0689455+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T15:59:26.0689781+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T15:59:26.0696867+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T15:59:26.0701457+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T15:59:26.0701976+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T15:59:26.0702200+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:59:26.0702583+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:59:26.0704158+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T15:59:26.0704634+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:59:26.0705057+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T15:59:26.0705480+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T15:59:26.0720975+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T15:59:26.0722955+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:59:26.0723579+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T15:59:26.0724822+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:59:26.0725394+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T15:59:26.0726562+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T15:59:26.0726991+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T15:59:26.0728441+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T15:59:26.0729312+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 3.9471 ms
2025-06-06T15:59:26.0730220+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T15:59:26.0730643+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T15:59:26.0730905+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T15:59:26.0731499+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 4.5071ms
2025-06-06T15:59:26.0732090+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA3"" disconnecting.
2025-06-06T15:59:26.0732397+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA3"" stopped.
2025-06-06T15:59:26.0732984+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA3"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T16:00:52.2882871+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA4"" accepted.
2025-06-06T16:00:52.2885356+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA4"" started.
2025-06-06T16:00:52.2887574+07:00 [INF] (///) Request starting "HTTP/1.1" "POST" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - "application/json" 89
2025-06-06T16:00:52.2889544+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T16:00:52.2890527+07:00 [DBG] (///) Endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T16:00:52.2891253+07:00 [DBG] (///) Request matched endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T16:00:52.2892308+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T16:00:52.2892850+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T16:00:52.2893147+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T16:00:52.2896382+07:00 [INF] (///) Executing endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T16:00:52.2897603+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA4"", Request id ""0HND4QTVR0EA4:00000001"": started reading request body.
2025-06-06T16:00:52.2898282+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA4"", Request id ""0HND4QTVR0EA4:00000001"": done reading request body.
2025-06-06T16:00:52.2907308+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T16:00:52.2911743+07:00 [DBG] (///) Context '"TuitionDbContext"' started tracking '"Tuition"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2}"'.
2025-06-06T16:00:52.2912335+07:00 [DBG] (///) SaveChanges starting for '"TuitionDbContext"'.
2025-06-06T16:00:52.2912787+07:00 [DBG] (///) DetectChanges starting for '"TuitionDbContext"'.
2025-06-06T16:00:52.2913563+07:00 [DBG] (///) DetectChanges completed for '"TuitionDbContext"'.
2025-06-06T16:00:52.2917205+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T16:00:52.2917711+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T16:00:52.2918063+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:00:52.2918994+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:00:52.2920774+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T16:00:52.2921386+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:00:52.2922078+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:00:52.2923598+07:00 [DBG] (///) Executing DbCommand [Parameters=["@p0='2024-2025' (Nullable = false), @p1='2', @p2='N22DCCN888' (Nullable = false), @p3='8508544'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tuition (academic_year, semester, student_code, tuition_fee)
VALUES (@p0, @p1, @p2, @p3);"
2025-06-06T16:00:52.2945703+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@p0='2024-2025' (Nullable = false), @p1='2', @p2='N22DCCN888' (Nullable = false), @p3='8508544'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tuition (academic_year, semester, student_code, tuition_fee)
VALUES (@p0, @p1, @p2, @p3);"
2025-06-06T16:00:52.2947228+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:00:52.2947784+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T16:00:52.2948968+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:00:52.2949568+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:00:52.2951628+07:00 [DBG] (///) The '"Tuition"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2}"' tracked by '"TuitionDbContext"' changed state from 'Added' to 'Unchanged'.
2025-06-06T16:00:52.2952354+07:00 [DBG] (///) SaveChanges completed for '"TuitionDbContext"' with 1 entities written to the database.
2025-06-06T16:00:52.2952987+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T16:00:52.2953507+07:00 [INF] (///) Executed endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T16:00:52.2954537+07:00 [INF] (///) HTTP "POST" "/api/v1/students/N22DCCN888/tuitions" responded 200 in 6.1726 ms
2025-06-06T16:00:52.2956146+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T16:00:52.2958686+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:00:52.2958978+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:00:52.2960122+07:00 [INF] (///) Request finished "HTTP/1.1" "POST" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - 200 0 null 7.2239ms
2025-06-06T16:00:52.2960975+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA4"" disconnecting.
2025-06-06T16:00:52.2961337+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA4"" stopped.
2025-06-06T16:00:52.2961906+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA4"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T16:00:52.3092187+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA5"" accepted.
2025-06-06T16:00:52.3093193+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA5"" started.
2025-06-06T16:00:52.3095659+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T16:00:52.3097624+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:00:52.3098357+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:00:52.3098928+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:00:52.3101245+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T16:00:52.3101881+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:00:52.3111406+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T16:00:52.3117034+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T16:00:52.3117760+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T16:00:52.3118220+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:00:52.3118850+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:00:52.3120810+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T16:00:52.3122177+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:00:52.3123442+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:00:52.3124147+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:00:52.3149015+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:00:52.3152238+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:00:52.3153227+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T16:00:52.3155858+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:00:52.3157431+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:00:52.3160057+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T16:00:52.3160716+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T16:00:52.3162462+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:00:52.3163496+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 6.1750 ms
2025-06-06T16:00:52.3164431+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T16:00:52.3164823+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:00:52.3165340+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:00:52.3166076+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 7.0392ms
2025-06-06T16:00:52.3168363+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA5"" disconnecting.
2025-06-06T16:00:52.3168716+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA5"" stopped.
2025-06-06T16:00:52.3169426+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA5"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T16:00:55.7198455+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA6"" accepted.
2025-06-06T16:00:55.7199283+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA6"" started.
2025-06-06T16:00:55.7204173+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T16:00:55.7205658+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:00:55.7206306+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:00:55.7206794+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:00:55.7207721+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T16:00:55.7208193+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:00:55.7214756+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T16:00:55.7220283+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T16:00:55.7220737+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T16:00:55.7221152+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:00:55.7221788+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:00:55.7223269+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T16:00:55.7223826+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:00:55.7224447+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:00:55.7225129+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:00:55.7246997+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:00:55.7251034+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:00:55.7251963+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T16:00:55.7253280+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:00:55.7253809+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:00:55.7255258+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T16:00:55.7255768+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T16:00:55.7257514+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:00:55.7258575+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 5.0322 ms
2025-06-06T16:00:55.7261337+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T16:00:55.7262008+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:00:55.7262448+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:00:55.7263153+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 5.8992ms
2025-06-06T16:00:55.7264036+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA6"" disconnecting.
2025-06-06T16:00:55.7264337+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA6"" stopped.
2025-06-06T16:00:55.7265084+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA6"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T16:00:55.7330538+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA7"" accepted.
2025-06-06T16:00:55.7331383+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA7"" started.
2025-06-06T16:00:55.7333788+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T16:00:55.7335653+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:00:55.7336492+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:00:55.7337221+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:00:55.7338442+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T16:00:55.7339092+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:00:55.7347516+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T16:00:55.7351901+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T16:00:55.7352394+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T16:00:55.7352715+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:00:55.7354452+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:00:55.7355824+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T16:00:55.7356278+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:00:55.7356768+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:00:55.7357252+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:00:55.7375316+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:00:55.7377790+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:00:55.7378576+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T16:00:55.7379876+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:00:55.7380482+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:00:55.7382636+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T16:00:55.7383169+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T16:00:55.7384760+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:00:55.7386066+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 4.7236 ms
2025-06-06T16:00:55.7387049+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T16:00:55.7387457+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:00:55.7387797+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:00:55.7388475+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 5.4679ms
2025-06-06T16:00:55.7389148+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA7"" disconnecting.
2025-06-06T16:00:55.7389473+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA7"" stopped.
2025-06-06T16:00:55.7390010+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA7"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T16:01:23.2123595+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA8"" accepted.
2025-06-06T16:01:23.2128136+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA8"" started.
2025-06-06T16:01:23.2130191+07:00 [INF] (///) Request starting "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - "application/json" 43
2025-06-06T16:01:23.2131720+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T16:01:23.2132328+07:00 [DBG] (///) Endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T16:01:23.2133485+07:00 [DBG] (///) Request matched endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T16:01:23.2134258+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T16:01:23.2134627+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T16:01:23.2134806+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T16:01:23.2135264+07:00 [INF] (///) Executing endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T16:01:23.2135915+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA8"", Request id ""0HND4QTVR0EA8:00000001"": started reading request body.
2025-06-06T16:01:23.2136238+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA8"", Request id ""0HND4QTVR0EA8:00000001"": done reading request body.
2025-06-06T16:01:23.2145100+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T16:01:23.2149604+07:00 [DBG] (///) Creating DbCommand for '"ExecuteNonQuery"'.
2025-06-06T16:01:23.2150023+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T16:01:23.2150398+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T16:01:23.2150766+07:00 [DBG] (///) Created DbCommand for '"ExecuteNonQuery"' (0ms).
2025-06-06T16:01:23.2151442+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteNonQuery"' (0ms).
2025-06-06T16:01:23.2151946+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:23.2152426+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:23.2155946+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888', @__academicYears_1={ '2024-2025' } (DbType = Object), @__semesters_2={ '2' } (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM tuition AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = ANY (@__academicYears_1) AND t.semester = ANY (@__semesters_2)"
2025-06-06T16:01:23.2250088+07:00 [INF] (///) Executed DbCommand ("9"ms) [Parameters=["@__studentCode_0='N22DCCN888', @__academicYears_1={ '2024-2025' } (DbType = Object), @__semesters_2={ '2' } (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM tuition AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = ANY (@__academicYears_1) AND t.semester = ANY (@__semesters_2)"
2025-06-06T16:01:23.2252442+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:23.2253060+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:01:23.2254896+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T16:01:23.2255325+07:00 [INF] (///) Writing value of type '"Int32"' as Json.
2025-06-06T16:01:23.2256715+07:00 [INF] (///) Executed endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T16:01:23.2257782+07:00 [INF] (///) HTTP "DELETE" "/api/v1/students/N22DCCN888/tuitions" responded 200 in 12.2932 ms
2025-06-06T16:01:23.2258626+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T16:01:23.2259088+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:23.2259370+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:01:23.2259996+07:00 [INF] (///) Request finished "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - 200 null "application/json; charset=utf-8" 12.9802ms
2025-06-06T16:01:23.2261783+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA8"" disconnecting.
2025-06-06T16:01:23.2262039+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA8"" stopped.
2025-06-06T16:01:23.2263024+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA8"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T16:01:23.2364550+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA9"" accepted.
2025-06-06T16:01:23.2365495+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA9"" started.
2025-06-06T16:01:23.2367322+07:00 [INF] (///) Request starting "HTTP/1.1" "POST" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - "application/json" 90
2025-06-06T16:01:23.2368746+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T16:01:23.2369342+07:00 [DBG] (///) Endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T16:01:23.2370203+07:00 [DBG] (///) Request matched endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T16:01:23.2371042+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T16:01:23.2371494+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T16:01:23.2371679+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T16:01:23.2373028+07:00 [INF] (///) Executing endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T16:01:23.2373737+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA9"", Request id ""0HND4QTVR0EA9:00000001"": started reading request body.
2025-06-06T16:01:23.2374048+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA9"", Request id ""0HND4QTVR0EA9:00000001"": done reading request body.
2025-06-06T16:01:23.2382597+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T16:01:23.2385195+07:00 [DBG] (///) Context '"TuitionDbContext"' started tracking '"Tuition"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2}"'.
2025-06-06T16:01:23.2386373+07:00 [DBG] (///) SaveChanges starting for '"TuitionDbContext"'.
2025-06-06T16:01:23.2386846+07:00 [DBG] (///) DetectChanges starting for '"TuitionDbContext"'.
2025-06-06T16:01:23.2387526+07:00 [DBG] (///) DetectChanges completed for '"TuitionDbContext"'.
2025-06-06T16:01:23.2391396+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T16:01:23.2391853+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T16:01:23.2392157+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:23.2392616+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:23.2397777+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T16:01:23.2398321+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:01:23.2398776+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:01:23.2399355+07:00 [DBG] (///) Executing DbCommand [Parameters=["@p0='2024-2025' (Nullable = false), @p1='2', @p2='N22DCCN888' (Nullable = false), @p3='85087777'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tuition (academic_year, semester, student_code, tuition_fee)
VALUES (@p0, @p1, @p2, @p3);"
2025-06-06T16:01:23.2417920+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@p0='2024-2025' (Nullable = false), @p1='2', @p2='N22DCCN888' (Nullable = false), @p3='85087777'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tuition (academic_year, semester, student_code, tuition_fee)
VALUES (@p0, @p1, @p2, @p3);"
2025-06-06T16:01:23.2419656+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:23.2420224+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T16:01:23.2421206+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:23.2421674+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:01:23.2423442+07:00 [DBG] (///) The '"Tuition"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2}"' tracked by '"TuitionDbContext"' changed state from 'Added' to 'Unchanged'.
2025-06-06T16:01:23.2424455+07:00 [DBG] (///) SaveChanges completed for '"TuitionDbContext"' with 1 entities written to the database.
2025-06-06T16:01:23.2425128+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T16:01:23.2426159+07:00 [INF] (///) Executed endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T16:01:23.2428856+07:00 [INF] (///) HTTP "POST" "/api/v1/students/N22DCCN888/tuitions" responded 200 in 5.5743 ms
2025-06-06T16:01:23.2430484+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T16:01:23.2431008+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:23.2431412+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:01:23.2432121+07:00 [INF] (///) Request finished "HTTP/1.1" "POST" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - 200 0 null 6.4707ms
2025-06-06T16:01:23.2432942+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA9"" disconnecting.
2025-06-06T16:01:23.2433236+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA9"" stopped.
2025-06-06T16:01:23.2434060+07:00 [DBG] (///) Connection id ""0HND4QTVR0EA9"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T16:01:23.4565642+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAA"" accepted.
2025-06-06T16:01:23.4566548+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAA"" started.
2025-06-06T16:01:23.4568610+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T16:01:23.4569932+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:01:23.4570921+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:01:23.4571450+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:01:23.4573138+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T16:01:23.4573621+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:01:23.4579931+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T16:01:23.4585560+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T16:01:23.4586159+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T16:01:23.4586456+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:23.4586929+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:23.4588679+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T16:01:23.4589183+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:01:23.4589566+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:01:23.4590041+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:01:23.4607941+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:01:23.4610784+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:23.4611508+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T16:01:23.4612722+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:23.4613143+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:01:23.4614605+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T16:01:23.4615158+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T16:01:23.4616821+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:01:23.4617841+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 4.5102 ms
2025-06-06T16:01:23.4618754+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T16:01:23.4619182+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:23.4619458+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:01:23.4620117+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 5.1464ms
2025-06-06T16:01:23.4621242+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAA"" disconnecting.
2025-06-06T16:01:23.4621605+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAA"" stopped.
2025-06-06T16:01:23.4622529+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAA"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T16:01:23.4691061+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAB"" accepted.
2025-06-06T16:01:23.4692077+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAB"" started.
2025-06-06T16:01:23.4694625+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T16:01:23.4695951+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:01:23.4696595+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:01:23.4697330+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:01:23.4698347+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T16:01:23.4698752+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:01:23.4706424+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T16:01:23.4710694+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T16:01:23.4711216+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T16:01:23.4711506+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:23.4711827+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:23.4712798+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T16:01:23.4713100+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:01:23.4713435+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:01:23.4713857+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:01:23.4730669+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:01:23.4732966+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:23.4734189+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T16:01:23.4735063+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:23.4735454+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:01:23.4736860+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T16:01:23.4737303+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T16:01:23.4739464+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:01:23.4740700+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 4.1725 ms
2025-06-06T16:01:23.4741906+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T16:01:23.4742369+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:23.4742766+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:01:23.4744343+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 4.8945ms
2025-06-06T16:01:23.4745225+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAB"" disconnecting.
2025-06-06T16:01:23.4745537+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAB"" stopped.
2025-06-06T16:01:23.4746301+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAB"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T16:01:26.6845297+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAC"" accepted.
2025-06-06T16:01:26.6846113+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAC"" started.
2025-06-06T16:01:26.6848478+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T16:01:26.6850449+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:01:26.6855709+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:01:26.6856552+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:01:26.6857762+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T16:01:26.6858318+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:01:26.6865999+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T16:01:26.6870339+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T16:01:26.6870776+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T16:01:26.6871092+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:26.6871466+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:26.6873194+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T16:01:26.6873512+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:01:26.6873867+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:01:26.6874237+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:01:26.6889649+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:01:26.6891821+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:26.6892242+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T16:01:26.6893241+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:26.6893808+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:01:26.6895127+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T16:01:26.6896221+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T16:01:26.6897768+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:01:26.6898887+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 4.0594 ms
2025-06-06T16:01:26.6899955+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T16:01:26.6900482+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:26.6900797+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:01:26.6901848+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 5.3076ms
2025-06-06T16:01:26.6902464+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAC"" disconnecting.
2025-06-06T16:01:26.6902789+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAC"" stopped.
2025-06-06T16:01:26.6903156+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAC"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T16:01:26.6962382+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAD"" accepted.
2025-06-06T16:01:26.6963066+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAD"" started.
2025-06-06T16:01:26.6965153+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T16:01:26.6966883+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:01:26.6967387+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:01:26.6967809+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:01:26.6968510+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T16:01:26.6968926+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:01:26.6976186+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T16:01:26.6980397+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T16:01:26.6980984+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T16:01:26.6981293+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:26.6981710+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:26.6983146+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T16:01:26.6983549+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:01:26.6984105+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:01:26.6985313+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:01:26.7002353+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:01:26.7004822+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:26.7005400+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T16:01:26.7006757+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:26.7007162+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:01:26.7008399+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T16:01:26.7008752+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T16:01:26.7010262+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:01:26.7011211+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 4.2183 ms
2025-06-06T16:01:26.7012815+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T16:01:26.7013245+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:26.7013544+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:01:26.7014278+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 4.9049ms
2025-06-06T16:01:26.7014975+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAD"" disconnecting.
2025-06-06T16:01:26.7015241+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAD"" stopped.
2025-06-06T16:01:26.7015823+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAD"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T16:01:29.1644200+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAE"" accepted.
2025-06-06T16:01:29.1645355+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAE"" started.
2025-06-06T16:01:29.1649530+07:00 [INF] (///) Request starting "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - "application/json" 43
2025-06-06T16:01:29.1651810+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T16:01:29.1652734+07:00 [DBG] (///) Endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T16:01:29.1653355+07:00 [DBG] (///) Request matched endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T16:01:29.1654205+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T16:01:29.1654797+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T16:01:29.1655103+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T16:01:29.1655594+07:00 [INF] (///) Executing endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T16:01:29.1656488+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAE"", Request id ""0HND4QTVR0EAE:00000001"": started reading request body.
2025-06-06T16:01:29.1656928+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAE"", Request id ""0HND4QTVR0EAE:00000001"": done reading request body.
2025-06-06T16:01:29.1668103+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T16:01:29.1671550+07:00 [DBG] (///) Creating DbCommand for '"ExecuteNonQuery"'.
2025-06-06T16:01:29.1671925+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T16:01:29.1672224+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T16:01:29.1672497+07:00 [DBG] (///) Created DbCommand for '"ExecuteNonQuery"' (0ms).
2025-06-06T16:01:29.1673185+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteNonQuery"' (0ms).
2025-06-06T16:01:29.1673532+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:29.1673920+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:29.1675476+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888', @__academicYears_1={ '2024-2025' } (DbType = Object), @__semesters_2={ '2' } (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM tuition AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = ANY (@__academicYears_1) AND t.semester = ANY (@__semesters_2)"
2025-06-06T16:01:29.1697272+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888', @__academicYears_1={ '2024-2025' } (DbType = Object), @__semesters_2={ '2' } (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM tuition AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = ANY (@__academicYears_1) AND t.semester = ANY (@__semesters_2)"
2025-06-06T16:01:29.1698759+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:29.1699244+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:01:29.1701264+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T16:01:29.1702151+07:00 [INF] (///) Writing value of type '"Int32"' as Json.
2025-06-06T16:01:29.1703434+07:00 [INF] (///) Executed endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T16:01:29.1704412+07:00 [INF] (///) HTTP "DELETE" "/api/v1/students/N22DCCN888/tuitions" responded 200 in 4.9621 ms
2025-06-06T16:01:29.1705106+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T16:01:29.1705423+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:29.1705876+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:01:29.1706796+07:00 [INF] (///) Request finished "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - 200 null "application/json; charset=utf-8" 5.7002ms
2025-06-06T16:01:29.1902878+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAE"" received FIN.
2025-06-06T16:01:29.1903638+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAE"" disconnecting.
2025-06-06T16:01:29.1905003+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAE"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T16:01:29.1915605+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAE"" stopped.
2025-06-06T16:01:29.1919557+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAF"" accepted.
2025-06-06T16:01:29.1920152+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAF"" started.
2025-06-06T16:01:29.1921564+07:00 [INF] (///) Request starting "HTTP/1.1" "POST" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - "application/json" 88
2025-06-06T16:01:29.1922759+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T16:01:29.1923244+07:00 [DBG] (///) Endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T16:01:29.1923693+07:00 [DBG] (///) Request matched endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T16:01:29.1924222+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T16:01:29.1925465+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T16:01:29.1925664+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T16:01:29.1926060+07:00 [INF] (///) Executing endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T16:01:29.1926657+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAF"", Request id ""0HND4QTVR0EAF:00000001"": started reading request body.
2025-06-06T16:01:29.1926930+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAF"", Request id ""0HND4QTVR0EAF:00000001"": done reading request body.
2025-06-06T16:01:29.1933187+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T16:01:29.1935870+07:00 [DBG] (///) Context '"TuitionDbContext"' started tracking '"Tuition"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2}"'.
2025-06-06T16:01:29.1936309+07:00 [DBG] (///) SaveChanges starting for '"TuitionDbContext"'.
2025-06-06T16:01:29.1936646+07:00 [DBG] (///) DetectChanges starting for '"TuitionDbContext"'.
2025-06-06T16:01:29.1937270+07:00 [DBG] (///) DetectChanges completed for '"TuitionDbContext"'.
2025-06-06T16:01:29.1940284+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T16:01:29.1940725+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T16:01:29.1941014+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:29.1941403+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:29.1942886+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T16:01:29.1943199+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:01:29.1945096+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:01:29.1945764+07:00 [DBG] (///) Executing DbCommand [Parameters=["@p0='2024-2025' (Nullable = false), @p1='2', @p2='N22DCCN888' (Nullable = false), @p3='850877'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tuition (academic_year, semester, student_code, tuition_fee)
VALUES (@p0, @p1, @p2, @p3);"
2025-06-06T16:01:29.1965055+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@p0='2024-2025' (Nullable = false), @p1='2', @p2='N22DCCN888' (Nullable = false), @p3='850877'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tuition (academic_year, semester, student_code, tuition_fee)
VALUES (@p0, @p1, @p2, @p3);"
2025-06-06T16:01:29.1967247+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:29.1967667+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T16:01:29.1968688+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:29.1969135+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:01:29.1971056+07:00 [DBG] (///) The '"Tuition"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2}"' tracked by '"TuitionDbContext"' changed state from 'Added' to 'Unchanged'.
2025-06-06T16:01:29.1971890+07:00 [DBG] (///) SaveChanges completed for '"TuitionDbContext"' with 1 entities written to the database.
2025-06-06T16:01:29.1972607+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T16:01:29.1973009+07:00 [INF] (///) Executed endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T16:01:29.1974105+07:00 [INF] (///) HTTP "POST" "/api/v1/students/N22DCCN888/tuitions" responded 200 in 4.9095 ms
2025-06-06T16:01:29.1976728+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T16:01:29.1977239+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:29.1977532+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:01:29.1978032+07:00 [INF] (///) Request finished "HTTP/1.1" "POST" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - 200 0 null 5.6396ms
2025-06-06T16:01:29.1978640+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAF"" disconnecting.
2025-06-06T16:01:29.1978896+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAF"" stopped.
2025-06-06T16:01:29.1979379+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAF"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T16:01:29.4125377+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAG"" accepted.
2025-06-06T16:01:29.4126165+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAG"" started.
2025-06-06T16:01:29.4127338+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T16:01:29.4128491+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:01:29.4128945+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:01:29.4130251+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:01:29.4130799+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T16:01:29.4131169+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:01:29.4137127+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T16:01:29.4140918+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T16:01:29.4141329+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T16:01:29.4141588+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:29.4141965+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:29.4143120+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T16:01:29.4143382+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:01:29.4143751+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:01:29.4144146+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:01:29.4164472+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:01:29.4166727+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:29.4167356+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T16:01:29.4168475+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:29.4168874+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:01:29.4170007+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T16:01:29.4170352+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T16:01:29.4171694+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:01:29.4172587+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 4.1311 ms
2025-06-06T16:01:29.4173262+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T16:01:29.4173605+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:29.4175309+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:01:29.4175783+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 4.8383ms
2025-06-06T16:01:29.4176404+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAG"" disconnecting.
2025-06-06T16:01:29.4176687+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAG"" stopped.
2025-06-06T16:01:29.4176972+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAG"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T16:01:29.4243175+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAH"" accepted.
2025-06-06T16:01:29.4243952+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAH"" started.
2025-06-06T16:01:29.4245377+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T16:01:29.4246502+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:01:29.4247031+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:01:29.4247451+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:01:29.4248046+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T16:01:29.4248589+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:01:29.4255862+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T16:01:29.4260582+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T16:01:29.4261070+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T16:01:29.4261328+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:29.4261762+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:29.4263077+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T16:01:29.4263411+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:01:29.4263702+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:01:29.4264169+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:01:29.4283715+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:01:29.4285838+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:29.4287072+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T16:01:29.4288017+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:29.4288543+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:01:29.4289715+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T16:01:29.4290160+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T16:01:29.4291712+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:01:29.4292850+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 4.4346 ms
2025-06-06T16:01:29.4293609+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T16:01:29.4293982+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:29.4294298+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:01:29.4294824+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 4.9407ms
2025-06-06T16:01:29.4295335+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAH"" disconnecting.
2025-06-06T16:01:29.4295609+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAH"" stopped.
2025-06-06T16:01:29.4296095+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAH"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T16:01:32.6995549+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAI"" accepted.
2025-06-06T16:01:32.6996219+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAI"" started.
2025-06-06T16:01:32.6997554+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - "application/json" null
2025-06-06T16:01:32.6998789+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students"'
2025-06-06T16:01:32.6999180+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students"' with route pattern '"/api/v{version:apiVersion}/students"' is valid for the request path '"/api/v1/students"'
2025-06-06T16:01:32.6999587+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T16:01:32.7000132+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T16:01:32.7000463+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T16:01:32.7006222+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T16:01:32.7008887+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T16:01:32.7009231+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T16:01:32.7009620+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:32.7010004+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:32.7011321+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T16:01:32.7011605+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:01:32.7011791+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:01:32.7012176+07:00 [DBG] (///) Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T16:01:32.7023022+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T16:01:32.7024727+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:32.7025371+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T16:01:32.7026591+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:32.7027084+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:01:32.7030475+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:32.7030921+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:32.7032197+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T16:01:32.7032543+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:01:32.7032875+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:01:32.7033346+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T16:01:32.7043975+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T16:01:32.7045340+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:32.7045879+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T16:01:32.7046846+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:32.7047220+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:01:32.7048515+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T16:01:32.7048955+07:00 [INF] (///) Writing value of type '"PagedList`1"' as Json.
2025-06-06T16:01:32.7050930+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T16:01:32.7052602+07:00 [INF] (///) HTTP "GET" "/api/v1/students" responded 200 in 5.2065 ms
2025-06-06T16:01:32.7053380+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T16:01:32.7053809+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:32.7054087+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:01:32.7054579+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - 200 null "application/json; charset=utf-8" 5.6961ms
2025-06-06T16:01:32.7055084+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAI"" disconnecting.
2025-06-06T16:01:32.7055333+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAI"" stopped.
2025-06-06T16:01:32.7055703+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAI"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T16:01:32.7119404+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAJ"" accepted.
2025-06-06T16:01:32.7120054+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAJ"" started.
2025-06-06T16:01:32.7121309+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - "application/json" null
2025-06-06T16:01:32.7122276+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students"'
2025-06-06T16:01:32.7122715+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students"' with route pattern '"/api/v{version:apiVersion}/students"' is valid for the request path '"/api/v1/students"'
2025-06-06T16:01:32.7123144+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T16:01:32.7124469+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T16:01:32.7124888+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T16:01:32.7131418+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T16:01:32.7133778+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T16:01:32.7134104+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T16:01:32.7134375+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:32.7134783+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:32.7136045+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T16:01:32.7136356+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:01:32.7136518+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:01:32.7136905+07:00 [DBG] (///) Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T16:01:32.7147163+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T16:01:32.7148893+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:32.7149373+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T16:01:32.7150268+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:32.7150608+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:01:32.7153263+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:32.7153754+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:32.7154988+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T16:01:32.7155300+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:01:32.7155563+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:01:32.7155977+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T16:01:32.7163996+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T16:01:32.7165164+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:32.7166087+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T16:01:32.7166967+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:32.7167305+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:01:32.7168347+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T16:01:32.7168731+07:00 [INF] (///) Writing value of type '"PagedList`1"' as Json.
2025-06-06T16:01:32.7169900+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T16:01:32.7170715+07:00 [INF] (///) HTTP "GET" "/api/v1/students" responded 200 in 4.5843 ms
2025-06-06T16:01:32.7171977+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T16:01:32.7172527+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:32.7172902+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:01:32.7173432+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - 200 null "application/json; charset=utf-8" 5.2059ms
2025-06-06T16:01:32.7174076+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAJ"" disconnecting.
2025-06-06T16:01:32.7174326+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAJ"" stopped.
2025-06-06T16:01:32.7174632+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAJ"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T16:01:33.8863634+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAK"" accepted.
2025-06-06T16:01:33.8864669+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAK"" started.
2025-06-06T16:01:33.8867446+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T16:01:33.8868681+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:01:33.8869211+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:01:33.8869664+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:01:33.8870225+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T16:01:33.8870618+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:01:33.8877315+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T16:01:33.8881647+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T16:01:33.8882096+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T16:01:33.8882386+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:33.8882802+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:33.8884081+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T16:01:33.8884430+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:01:33.8884724+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:01:33.8885143+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:01:33.8904455+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:01:33.8906945+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:33.8907525+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T16:01:33.8908718+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:33.8909129+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:01:33.8910346+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T16:01:33.8910695+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T16:01:33.8912973+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:01:33.8914853+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 4.3186 ms
2025-06-06T16:01:33.8915697+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T16:01:33.8916094+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:33.8916413+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:01:33.8916909+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 4.9425ms
2025-06-06T16:01:33.8917389+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAK"" disconnecting.
2025-06-06T16:01:33.8917652+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAK"" stopped.
2025-06-06T16:01:33.8918214+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAK"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T16:01:33.8983346+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAL"" accepted.
2025-06-06T16:01:33.8984087+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAL"" started.
2025-06-06T16:01:33.8985580+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T16:01:33.8986913+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:01:33.8987499+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:01:33.8987971+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:01:33.8988666+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T16:01:33.8989153+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:01:33.8996591+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T16:01:33.9001493+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T16:01:33.9001901+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T16:01:33.9002155+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:33.9002551+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:33.9004588+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T16:01:33.9004921+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:01:33.9005257+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:01:33.9005703+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:01:33.9021749+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:01:33.9024132+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:33.9024900+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T16:01:33.9026118+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:33.9026570+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:01:33.9028318+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T16:01:33.9028815+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T16:01:33.9030153+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:01:33.9031150+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 4.2054 ms
2025-06-06T16:01:33.9031945+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T16:01:33.9032339+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:33.9032658+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:01:33.9033096+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 4.7503ms
2025-06-06T16:01:33.9033589+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAL"" disconnecting.
2025-06-06T16:01:33.9033830+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAL"" stopped.
2025-06-06T16:01:33.9034340+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAL"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T16:01:46.1884745+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAM"" accepted.
2025-06-06T16:01:46.1885574+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAM"" started.
2025-06-06T16:01:46.1886942+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - "application/json" null
2025-06-06T16:01:46.1887943+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students"'
2025-06-06T16:01:46.1888397+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students"' with route pattern '"/api/v{version:apiVersion}/students"' is valid for the request path '"/api/v1/students"'
2025-06-06T16:01:46.1888773+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T16:01:46.1889290+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T16:01:46.1889649+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T16:01:46.1896646+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T16:01:46.1899620+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T16:01:46.1900044+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T16:01:46.1900349+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:46.1900760+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:46.1902750+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T16:01:46.1903103+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:01:46.1903337+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:01:46.1903745+07:00 [DBG] (///) Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T16:01:46.1914907+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T16:01:46.1916525+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:46.1917086+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T16:01:46.1918225+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:46.1918643+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:01:46.1921940+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:46.1922346+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:46.1923622+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T16:01:46.1923932+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:01:46.1924216+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:01:46.1924703+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T16:01:46.1935015+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T16:01:46.1936525+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:46.1937113+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T16:01:46.1938202+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:46.1938568+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:01:46.1939773+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T16:01:46.1940282+07:00 [INF] (///) Writing value of type '"PagedList`1"' as Json.
2025-06-06T16:01:46.1941547+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T16:01:46.1942435+07:00 [INF] (///) HTTP "GET" "/api/v1/students" responded 200 in 5.2664 ms
2025-06-06T16:01:46.1944151+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T16:01:46.1944502+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:46.1944821+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:01:46.1945318+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - 200 null "application/json; charset=utf-8" 5.8309ms
2025-06-06T16:01:46.1946506+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAM"" disconnecting.
2025-06-06T16:01:46.1947018+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAM"" stopped.
2025-06-06T16:01:46.1947855+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAM"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T16:01:46.2009342+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAN"" accepted.
2025-06-06T16:01:46.2010296+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAN"" started.
2025-06-06T16:01:46.2011686+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - "application/json" null
2025-06-06T16:01:46.2012651+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students"'
2025-06-06T16:01:46.2013085+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students"' with route pattern '"/api/v{version:apiVersion}/students"' is valid for the request path '"/api/v1/students"'
2025-06-06T16:01:46.2013488+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T16:01:46.2014862+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T16:01:46.2015264+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T16:01:46.2020550+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T16:01:46.2023101+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T16:01:46.2023468+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T16:01:46.2023706+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:46.2024076+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:46.2025367+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T16:01:46.2025654+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:01:46.2025843+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:01:46.2026198+07:00 [DBG] (///) Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T16:01:46.2036719+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T16:01:46.2038266+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:46.2038859+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T16:01:46.2040411+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:46.2040876+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:01:46.2043659+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:46.2044051+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:46.2045126+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T16:01:46.2045392+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:01:46.2045689+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:01:46.2046139+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T16:01:46.2054497+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T16:01:46.2055885+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:46.2056332+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T16:01:46.2057318+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:46.2058288+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:01:46.2059380+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T16:01:46.2059693+07:00 [INF] (///) Writing value of type '"PagedList`1"' as Json.
2025-06-06T16:01:46.2060793+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T16:01:46.2061674+07:00 [INF] (///) HTTP "GET" "/api/v1/students" responded 200 in 4.7256 ms
2025-06-06T16:01:46.2062320+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T16:01:46.2062645+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:46.2062953+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:01:46.2063415+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - 200 null "application/json; charset=utf-8" 5.1685ms
2025-06-06T16:01:46.2063883+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAN"" disconnecting.
2025-06-06T16:01:46.2064119+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAN"" stopped.
2025-06-06T16:01:46.2064376+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAN"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T16:01:47.8518645+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAO"" accepted.
2025-06-06T16:01:47.8519437+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAO"" started.
2025-06-06T16:01:47.8521307+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T16:01:47.8522753+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:01:47.8523399+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:01:47.8523986+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:01:47.8524790+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T16:01:47.8525385+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:01:47.8532971+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T16:01:47.8536970+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T16:01:47.8537415+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T16:01:47.8537673+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:47.8538111+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:47.8539361+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T16:01:47.8540139+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:01:47.8540428+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:01:47.8540913+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:01:47.8567942+07:00 [INF] (///) Executed DbCommand ("3"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:01:47.8570581+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:47.8571190+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T16:01:47.8572233+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:47.8572714+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:01:47.8573856+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T16:01:47.8574253+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T16:01:47.8575524+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:01:47.8577214+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 5.2002 ms
2025-06-06T16:01:47.8578200+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T16:01:47.8578598+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:47.8578896+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:01:47.8579370+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 5.8061ms
2025-06-06T16:01:47.8579864+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAO"" disconnecting.
2025-06-06T16:01:47.8580090+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAO"" stopped.
2025-06-06T16:01:47.8580370+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAO"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T16:01:47.8647497+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAP"" accepted.
2025-06-06T16:01:47.8648357+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAP"" started.
2025-06-06T16:01:47.8649764+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T16:01:47.8650940+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:01:47.8651455+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:01:47.8651884+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:01:47.8652552+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T16:01:47.8652962+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:01:47.8659579+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T16:01:47.8663634+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T16:01:47.8664182+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T16:01:47.8664557+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:47.8665038+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:47.8666320+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T16:01:47.8666706+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:01:47.8667009+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:01:47.8667452+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:01:47.8691530+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:01:47.8694106+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:47.8694921+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T16:01:47.8696169+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:47.8696676+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:01:47.8697847+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T16:01:47.8698195+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T16:01:47.8699407+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:01:47.8700314+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 4.7273 ms
2025-06-06T16:01:47.8701115+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T16:01:47.8701503+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:01:47.8701819+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:01:47.8702324+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 5.2534ms
2025-06-06T16:01:47.8702800+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAP"" disconnecting.
2025-06-06T16:01:47.8703071+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAP"" stopped.
2025-06-06T16:01:47.8703579+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAP"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T16:16:35.2795674+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAQ"" accepted.
2025-06-06T16:16:35.2801280+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAQ"" started.
2025-06-06T16:16:35.2802676+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T16:16:35.2803813+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:16:35.2804289+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:16:35.2804671+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:16:35.2805258+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T16:16:35.2806420+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:16:35.2813475+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T16:16:35.2817655+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T16:16:35.2818211+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T16:16:35.2818519+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:16:35.2920901+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:16:35.2922972+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T16:16:35.2923360+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:16:35.2923653+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:16:35.2924162+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:16:35.2977159+07:00 [INF] (///) Executed DbCommand ("5"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:16:35.2980063+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:16:35.2980920+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T16:16:35.2982162+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:16:35.2982615+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:16:35.2983797+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T16:16:35.2984196+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T16:16:35.2986220+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:16:35.2987326+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 18.1517 ms
2025-06-06T16:16:35.2988180+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T16:16:35.2988583+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:16:35.2988897+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:16:35.2989406+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 18.6694ms
2025-06-06T16:16:35.2989917+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAQ"" disconnecting.
2025-06-06T16:16:35.2990186+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAQ"" stopped.
2025-06-06T16:16:35.2990909+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAQ"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T16:16:55.7784819+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAR"" accepted.
2025-06-06T16:16:55.7785659+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAR"" started.
2025-06-06T16:16:55.7787143+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T16:16:55.7788453+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:16:55.7788935+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:16:55.7789369+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:16:55.7789930+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T16:16:55.7790334+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:16:55.7798620+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T16:16:55.7803835+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T16:16:55.7804438+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T16:16:55.7804766+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:16:55.7805200+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:16:55.7806506+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T16:16:55.7806867+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:16:55.7807144+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:16:55.7807584+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:16:55.7831771+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:16:55.7834819+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:16:55.7836208+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T16:16:55.7837163+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:16:55.7837624+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:16:55.7838866+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T16:16:55.7839237+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T16:16:55.7840533+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:16:55.7841593+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 5.1139 ms
2025-06-06T16:16:55.7842417+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T16:16:55.7842841+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:16:55.7843137+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:16:55.7843637+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 5.6468ms
2025-06-06T16:16:55.7844198+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAR"" disconnecting.
2025-06-06T16:16:55.7844496+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAR"" stopped.
2025-06-06T16:16:55.7844902+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAR"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T16:17:31.9828045+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAS"" accepted.
2025-06-06T16:17:31.9832420+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAS"" started.
2025-06-06T16:17:31.9833803+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T16:17:31.9834933+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:17:31.9835372+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:17:31.9835743+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:17:31.9836225+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T16:17:31.9836567+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:17:31.9843606+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T16:17:31.9847364+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T16:17:31.9847807+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T16:17:31.9849048+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:17:31.9849453+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:17:31.9850389+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T16:17:31.9850671+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:17:31.9850908+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:17:31.9851291+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:17:31.9872034+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:17:31.9876272+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:17:31.9877218+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T16:17:31.9878860+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:17:31.9879469+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:17:31.9881167+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T16:17:31.9881487+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T16:17:31.9882673+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:17:31.9883555+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 4.6851 ms
2025-06-06T16:17:31.9884230+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T16:17:31.9884624+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:17:31.9884920+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:17:31.9885366+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 5.1536ms
2025-06-06T16:17:31.9885821+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAS"" disconnecting.
2025-06-06T16:17:31.9886069+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAS"" stopped.
2025-06-06T16:17:31.9886471+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAS"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T16:18:26.9318185+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAT"" accepted.
2025-06-06T16:18:26.9321205+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAT"" started.
2025-06-06T16:18:26.9322511+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T16:18:26.9323839+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:18:26.9325023+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:18:26.9325433+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:18:26.9325961+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T16:18:26.9326300+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:18:26.9333483+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T16:18:26.9337627+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T16:18:26.9338234+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T16:18:26.9338542+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:18:26.9338952+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:18:26.9340273+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T16:18:26.9340608+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:18:26.9340890+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:18:26.9341263+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:18:26.9367191+07:00 [INF] (///) Executed DbCommand ("3"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:18:26.9377283+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:18:26.9378238+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T16:18:26.9379296+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:18:26.9379751+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:18:26.9380624+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T16:18:26.9380942+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T16:18:26.9381948+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:18:26.9382771+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 5.6335 ms
2025-06-06T16:18:26.9383466+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T16:18:26.9383773+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:18:26.9385329+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:18:26.9385838+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 6.3286ms
2025-06-06T16:18:26.9386297+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAT"" disconnecting.
2025-06-06T16:18:26.9386524+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAT"" stopped.
2025-06-06T16:18:26.9387143+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAT"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T16:18:39.8237354+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAU"" accepted.
2025-06-06T16:18:39.8238274+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAU"" started.
2025-06-06T16:18:39.8239706+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T16:18:39.8240816+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:18:39.8241362+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:18:39.8241764+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:18:39.8242307+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T16:18:39.8243709+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:18:39.8250817+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T16:18:39.8254782+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T16:18:39.8255246+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T16:18:39.8255543+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:18:39.8256109+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:18:39.8257297+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T16:18:39.8257626+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:18:39.8257934+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:18:39.8258408+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:18:39.8276500+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:18:39.8280011+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:18:39.8280744+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T16:18:39.8281725+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:18:39.8282151+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:18:39.8283110+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T16:18:39.8283452+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T16:18:39.8284596+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:18:39.8285554+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 4.2776 ms
2025-06-06T16:18:39.8286231+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T16:18:39.8286582+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:18:39.8286858+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:18:39.8287356+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 4.7632ms
2025-06-06T16:18:39.8289083+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAU"" disconnecting.
2025-06-06T16:18:39.8289357+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAU"" stopped.
2025-06-06T16:18:39.8289658+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAU"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T16:19:56.0254338+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAV"" accepted.
2025-06-06T16:19:56.0255457+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAV"" started.
2025-06-06T16:19:56.0267561+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T16:19:56.0269043+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:19:56.0269627+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:19:56.0270077+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:19:56.0270680+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T16:19:56.0271128+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:19:56.0279711+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T16:19:56.0283943+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T16:19:56.0284463+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T16:19:56.0284755+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:19:56.0285114+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:19:56.0286357+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T16:19:56.0286728+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:19:56.0286983+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:19:56.0287481+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:19:56.0309596+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:19:56.0312343+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:19:56.0312968+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T16:19:56.0314036+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:19:56.0314587+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:19:56.0315498+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T16:19:56.0315778+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T16:19:56.0316797+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:19:56.0317581+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 4.6533 ms
2025-06-06T16:19:56.0319151+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T16:19:56.0319479+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:19:56.0319755+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:19:56.0320184+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 5.2618ms
2025-06-06T16:19:56.0320648+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAV"" disconnecting.
2025-06-06T16:19:56.0320869+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAV"" stopped.
2025-06-06T16:19:56.0321131+07:00 [DBG] (///) Connection id ""0HND4QTVR0EAV"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T16:23:27.5118228+07:00 [DBG] (///) Connection id ""0HND4QTVR0EB0"" accepted.
2025-06-06T16:23:27.5122203+07:00 [DBG] (///) Connection id ""0HND4QTVR0EB0"" started.
2025-06-06T16:23:27.5123689+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T16:23:27.5124763+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:23:27.5125183+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:23:27.5126017+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:23:27.5126499+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T16:23:27.5126821+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:23:27.5137428+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T16:23:27.5141772+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T16:23:27.5142312+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T16:23:27.5142661+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:23:27.5205132+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:23:27.5207096+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T16:23:27.5207463+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:23:27.5207725+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:23:27.5208165+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:23:27.5255972+07:00 [INF] (///) Executed DbCommand ("5"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:23:27.5258769+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:23:27.5259301+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T16:23:27.5260369+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:23:27.5260758+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:23:27.5261872+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T16:23:27.5262247+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T16:23:27.5263533+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:23:27.5265191+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 13.8224 ms
2025-06-06T16:23:27.5265971+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T16:23:27.5266353+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:23:27.5270354+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:23:27.5271096+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 14.7349ms
2025-06-06T16:23:27.5271665+07:00 [DBG] (///) Connection id ""0HND4QTVR0EB0"" disconnecting.
2025-06-06T16:23:27.5271963+07:00 [DBG] (///) Connection id ""0HND4QTVR0EB0"" stopped.
2025-06-06T16:23:27.5272534+07:00 [DBG] (///) Connection id ""0HND4QTVR0EB0"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T16:23:45.9429249+07:00 [DBG] (///) Connection id ""0HND4QTVR0EB1"" accepted.
2025-06-06T16:23:45.9430244+07:00 [DBG] (///) Connection id ""0HND4QTVR0EB1"" started.
2025-06-06T16:23:45.9431369+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T16:23:45.9433548+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:23:45.9434074+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:23:45.9434488+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:23:45.9435034+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T16:23:45.9435420+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:23:45.9444237+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T16:23:45.9448538+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T16:23:45.9449051+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T16:23:45.9449306+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:23:45.9449602+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:23:45.9450960+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T16:23:45.9451230+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:23:45.9451474+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:23:45.9451820+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:23:45.9474395+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:23:45.9477435+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:23:45.9478128+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T16:23:45.9479181+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:23:45.9479542+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:23:45.9480443+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T16:23:45.9480784+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T16:23:45.9481889+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:23:45.9482851+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 4.7260 ms
2025-06-06T16:23:45.9483612+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T16:23:45.9484009+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:23:45.9485850+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:23:45.9486416+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 5.502ms
2025-06-06T16:23:45.9486985+07:00 [DBG] (///) Connection id ""0HND4QTVR0EB1"" disconnecting.
2025-06-06T16:23:45.9487229+07:00 [DBG] (///) Connection id ""0HND4QTVR0EB1"" stopped.
2025-06-06T16:23:45.9488670+07:00 [DBG] (///) Connection id ""0HND4QTVR0EB1"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T16:23:59.1346729+07:00 [DBG] (///) Connection id ""0HND4QTVR0EB2"" accepted.
2025-06-06T16:23:59.1347960+07:00 [DBG] (///) Connection id ""0HND4QTVR0EB2"" started.
2025-06-06T16:23:59.1350128+07:00 [INF] (///) Request starting "HTTP/1.1" "PUT" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""?paymentDate=2025-06-02&amountPaid=850877" - "application/json" 0
2025-06-06T16:23:59.1351623+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T16:23:59.1352052+07:00 [DBG] (///) Endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T16:23:59.1352508+07:00 [DBG] (///) Request matched endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T16:23:59.1353312+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T16:23:59.1353774+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T16:23:59.1353941+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T16:23:59.1354371+07:00 [INF] (///) Executing endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T16:23:59.1406981+07:00 [INF] (///) Executed endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T16:23:59.1420910+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
Shared.Exception.BadInputException: Nm bt u khng hp l. Nm bt u phi c nh dng yyyy.
   at Shared.Domain.ValueObject.AcademicYearCode..ctor(String startYear) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Domain/ValueObject/AcademicYearCode.cs:line 21
   at Program.<>c.<<<Main>$>b__0_16>d.MoveNext() in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api/Program.cs:line 282
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-06T16:23:59.2247369+07:00 [INF] (///) HTTP "PUT" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 400 in 89.3439 ms
2025-06-06T16:23:59.2248978+07:00 [INF] (///) Request finished "HTTP/1.1" "PUT" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""?paymentDate=2025-06-02&amountPaid=850877" - 400 null "application/problem+json" 89.8821ms
2025-06-06T16:23:59.2249673+07:00 [DBG] (///) Connection id ""0HND4QTVR0EB2"" disconnecting.
2025-06-06T16:23:59.2250003+07:00 [DBG] (///) Connection id ""0HND4QTVR0EB2"" stopped.
2025-06-06T16:23:59.2250584+07:00 [DBG] (///) Connection id ""0HND4QTVR0EB2"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T16:24:16.6557628+07:00 [DBG] (///) Connection id ""0HND4QTVR0EB3"" accepted.
2025-06-06T16:24:16.6564241+07:00 [DBG] (///) Connection id ""0HND4QTVR0EB3"" started.
2025-06-06T16:24:16.6566293+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T16:24:16.6568038+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:24:16.6568943+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:24:16.6569606+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:24:16.6570369+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T16:24:16.6570836+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:24:16.6578732+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T16:24:16.6583012+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T16:24:16.6585062+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T16:24:16.6585594+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:24:16.6586068+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:24:16.6587513+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T16:24:16.6587870+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:24:16.6588274+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:24:16.6588835+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:24:16.6608705+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:24:16.6611820+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:24:16.6612353+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T16:24:16.6613167+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:24:16.6613468+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:24:16.6614781+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T16:24:16.6615136+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T16:24:16.6616127+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:24:16.6616867+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 4.6125 ms
2025-06-06T16:24:16.6617496+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T16:24:16.6617799+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:24:16.6618054+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:24:16.6618463+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 5.2221ms
2025-06-06T16:24:16.6618881+07:00 [DBG] (///) Connection id ""0HND4QTVR0EB3"" disconnecting.
2025-06-06T16:24:16.6619091+07:00 [DBG] (///) Connection id ""0HND4QTVR0EB3"" stopped.
2025-06-06T16:24:16.6619650+07:00 [DBG] (///) Connection id ""0HND4QTVR0EB3"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T16:25:24.5860683+07:00 [INF] (///) Application is shutting down...
2025-06-06T16:25:24.5872403+07:00 [DBG] (///) Hosting stopping
2025-06-06T16:25:24.5945205+07:00 [DBG] (///) Hosting stopped
2025-06-06T16:25:33.5869832+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-06T16:25:33.6620682+07:00 [INF] (///) No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-06-06T16:25:33.6662394+07:00 [DBG] (///) Hosting starting
2025-06-06T16:25:33.8316968+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-06T16:25:33.8321283+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-06T16:25:33.8983410+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-06T16:25:33.9003154+07:00 [WRN] (///) Overriding address(es) '"https://localhost:31001"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-06T16:25:33.9057771+07:00 [INF] (///) Now listening on: "http://localhost:14100"
2025-06-06T16:25:33.9066113+07:00 [INF] (///) Now listening on: "https://localhost:14101"
2025-06-06T16:25:33.9067680+07:00 [DBG] (///) Loaded hosting startup assembly "TuitionService.Api"
2025-06-06T16:25:33.9069781+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-06T16:25:33.9070286+07:00 [INF] (///) Hosting environment: "Development"
2025-06-06T16:25:33.9070527+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api"
2025-06-06T16:25:33.9071010+07:00 [DBG] (///) Hosting started
2025-06-06T16:25:34.0017483+07:00 [DBG] (///) Connection id ""0HND4RGBDVU2R"" accepted.
2025-06-06T16:25:34.0022284+07:00 [DBG] (///) Connection id ""0HND4RGBDVU2R"" started.
2025-06-06T16:25:34.0202324+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" null
2025-06-06T16:25:34.0443778+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Duplicate endpoint name 'CreateTuitionPayment' found on 'HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments' and 'HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments'. Endpoint names must be globally unique.
   at Microsoft.AspNetCore.Routing.Matching.DataSourceDependentMatcher.CreateMatcher(IReadOnlyList`1 endpoints)
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.Initialize()
   at System.Threading.LazyInitializer.EnsureInitializedCore[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)
   at Microsoft.AspNetCore.Routing.Matching.DataSourceDependentMatcher..ctor(EndpointDataSource dataSource, Lifetime lifetime, Func`1 matcherBuilderFactory)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherFactory.CreateMatcher(EndpointDataSource dataSource)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.InitializeCoreAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.<Invoke>g__AwaitMatcher|10_0(EndpointRoutingMiddleware middleware, HttpContext httpContext, Task`1 matcherTask)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-06T16:25:34.1158390+07:00 [DBG] (///) Connection id ""0HND4RGBDVU2R"" received FIN.
2025-06-06T16:25:34.1184720+07:00 [DBG] (///) Connection id ""0HND4RGBDVU2R"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T16:25:34.1140845+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 500 null "application/problem+json" 94.8701ms
2025-06-06T16:25:34.1214596+07:00 [DBG] (///) Connection id ""0HND4RGBDVU2R"" disconnecting.
2025-06-06T16:25:34.1227872+07:00 [DBG] (///) Connection id ""0HND4RGBDVU2R"" stopped.
2025-06-06T16:25:41.1832035+07:00 [DBG] (///) Connection id ""0HND4RGBDVU2S"" accepted.
2025-06-06T16:25:41.1836422+07:00 [DBG] (///) Connection id ""0HND4RGBDVU2S"" started.
2025-06-06T16:25:41.1846529+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" null
2025-06-06T16:25:41.1853319+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Duplicate endpoint name 'CreateTuitionPayment' found on 'HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments' and 'HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments'. Endpoint names must be globally unique.
   at Microsoft.AspNetCore.Routing.Matching.DataSourceDependentMatcher.CreateMatcher(IReadOnlyList`1 endpoints)
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.Initialize()
   at System.Threading.LazyInitializer.EnsureInitializedCore[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)
   at Microsoft.AspNetCore.Routing.Matching.DataSourceDependentMatcher..ctor(EndpointDataSource dataSource, Lifetime lifetime, Func`1 matcherBuilderFactory)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherFactory.CreateMatcher(EndpointDataSource dataSource)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.InitializeCoreAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.<Invoke>g__AwaitMatcher|10_0(EndpointRoutingMiddleware middleware, HttpContext httpContext, Task`1 matcherTask)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-06T16:25:41.1877541+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 500 null "application/problem+json" 3.1182ms
2025-06-06T16:25:41.1880028+07:00 [DBG] (///) Connection id ""0HND4RGBDVU2S"" disconnecting.
2025-06-06T16:25:41.1881372+07:00 [DBG] (///) Connection id ""0HND4RGBDVU2S"" stopped.
2025-06-06T16:25:41.1883220+07:00 [DBG] (///) Connection id ""0HND4RGBDVU2S"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T16:26:00.7249707+07:00 [DBG] (///) Connection id ""0HND4RGBDVU2T"" accepted.
2025-06-06T16:26:00.7252840+07:00 [DBG] (///) Connection id ""0HND4RGBDVU2T"" started.
2025-06-06T16:26:00.7267924+07:00 [INF] (///) Request starting "HTTP/1.1" "PUT" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""?paymentDate=2025-06-06&amountPaid=850877" - "application/json" 0
2025-06-06T16:26:00.7274673+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Duplicate endpoint name 'CreateTuitionPayment' found on 'HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments' and 'HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments'. Endpoint names must be globally unique.
   at Microsoft.AspNetCore.Routing.Matching.DataSourceDependentMatcher.CreateMatcher(IReadOnlyList`1 endpoints)
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.Initialize()
   at System.Threading.LazyInitializer.EnsureInitializedCore[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)
   at Microsoft.AspNetCore.Routing.Matching.DataSourceDependentMatcher..ctor(EndpointDataSource dataSource, Lifetime lifetime, Func`1 matcherBuilderFactory)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherFactory.CreateMatcher(EndpointDataSource dataSource)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.InitializeCoreAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.<Invoke>g__AwaitMatcher|10_0(EndpointRoutingMiddleware middleware, HttpContext httpContext, Task`1 matcherTask)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-06T16:26:00.7372756+07:00 [INF] (///) Request finished "HTTP/1.1" "PUT" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""?paymentDate=2025-06-06&amountPaid=850877" - 500 null "application/problem+json" 10.4609ms
2025-06-06T16:26:00.7374717+07:00 [DBG] (///) Connection id ""0HND4RGBDVU2T"" disconnecting.
2025-06-06T16:26:00.7375495+07:00 [DBG] (///) Connection id ""0HND4RGBDVU2T"" stopped.
2025-06-06T16:26:00.7376574+07:00 [DBG] (///) Connection id ""0HND4RGBDVU2T"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T16:26:51.7626613+07:00 [INF] (///) Application is shutting down...
2025-06-06T16:26:51.7639274+07:00 [DBG] (///) Hosting stopping
2025-06-06T16:26:51.7712671+07:00 [DBG] (///) Hosting stopped
2025-06-06T16:26:57.5689889+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-06T16:26:57.7033604+07:00 [INF] (///) No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-06-06T16:26:57.7102778+07:00 [DBG] (///) Hosting starting
2025-06-06T16:26:57.9822556+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-06T16:26:57.9828414+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-06T16:26:58.0762767+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-06T16:26:58.0788322+07:00 [WRN] (///) Overriding address(es) '"https://localhost:31001"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-06T16:26:58.0861027+07:00 [INF] (///) Now listening on: "http://localhost:14100"
2025-06-06T16:26:58.0869375+07:00 [INF] (///) Now listening on: "https://localhost:14101"
2025-06-06T16:26:58.0871143+07:00 [DBG] (///) Loaded hosting startup assembly "TuitionService.Api"
2025-06-06T16:26:58.0873971+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-06T16:26:58.0874633+07:00 [INF] (///) Hosting environment: "Development"
2025-06-06T16:26:58.0874919+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api"
2025-06-06T16:26:58.0875570+07:00 [DBG] (///) Hosting started
2025-06-06T16:27:04.6886445+07:00 [DBG] (///) Connection id ""0HND4RH6ERB52"" accepted.
2025-06-06T16:27:04.6895506+07:00 [DBG] (///) Connection id ""0HND4RH6ERB52"" started.
2025-06-06T16:27:04.7314596+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T16:27:04.9002953+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:27:04.9083893+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:27:04.9145516+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:27:04.9267902+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T16:27:04.9286631+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:27:05.2363061+07:00 [DBG] (///) An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration changed for 'Core:EnableSensitiveDataLogging', configuration changed for 'Core:EnableDetailedErrors', configuration changed for 'Core:ConfigureWarnings', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseAdminDatabase', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:SetPostgresVersion', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseRedshift', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ReverseNullOrdering', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:RemoteCertificateValidationCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvideClientCertificatesCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvidePasswordCallback'".
2025-06-06T16:27:06.2772874+07:00 [DBG] (///) The index "{'StudentCode'}" was not created on entity type '"Tuition"' as the properties are already covered by the index "{'StudentCode', 'AcademicYear', 'Semester'}".
2025-06-06T16:27:06.2779513+07:00 [DBG] (///) The index "{'StudentCode', 'AcademicYear', 'Semester'}" was not created on entity type '"TuitionPayment"' as the properties are already covered by the index "{'StudentCode', 'AcademicYear', 'Semester', 'PaymentDate'}".
2025-06-06T16:27:06.4607313+07:00 [WRN] (///) Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-06-06T16:27:06.5238260+07:00 [DBG] (///) The property '"GlobalStudentCode"."StudentBasicInfoStudentCode"' was created in shadow state because there are no eligible CLR members with a matching name.
2025-06-06T16:27:06.7315992+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T16:27:06.8503099+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<StudentBasicInfo>()
    .Where(s => s.StudentCode == __studentCode_0)
    .Select(s => new StudentDetailResponse{ 
        StudentCode = s.StudentCode, 
        LastName = s.LastName, 
        FirstName = s.FirstName, 
        ClassCode = s.ClassCode, 
        FacultyCode = s.FacultyCode, 
        Tuitions = s.Tuitions
            .Select(t => new TuitionResponse{ 
                AcademicYear = t.AcademicYear, 
                Semester = t.Semester.ToString(), 
                TuitionAmount = (decimal)t.TuitionFee, 
                TuitionPaid = (decimal)t.TuitionPayments
                    .Sum(p => p.AmountPaid) 
            }
            )
            .ToList() 
    }
    )
    .FirstOrDefault()"'
2025-06-06T16:27:07.5689183+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<StudentDetailResponse>(
    asyncEnumerable: SingleQueryingEnumerable.Create<StudentDetailResponse>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> 0
                1 -> 1
                2 -> 2
                3 -> 3
                4 -> 4
                5 -> 5
                6 -> 6
                7 -> 7
                8 -> 8
                9 -> 9
                10 -> 10
            SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, COALESCE(CAST(t.semester AS text), ''), CAST(t.tuition_fee AS numeric), CAST((
                SELECT CAST(sum(t0.amount_paid) AS integer)
                FROM tuition_payment AS t0
                WHERE (((t.student_code != NULL) && (t.academic_year != NULL)) && (t.semester != NULL)) && (((t.student_code == t0.student_code) && (t.academic_year == t0.academic_year)) && (t.semester == t0.semester))) AS numeric), t.student_code, t.semester
            FROM 
            (
                SELECT TOP(1) s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
                FROM student_basic_info AS s
                WHERE s.student_code == @__studentCode_0
            ) AS s0
            LEFT JOIN tuition AS t ON s0.student_code == t.student_code
            ORDER BY s0.student_code ASC, t.student_code ASC, t.academic_year ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> 0
                1 -> 1
                2 -> 2
                3 -> 3
                4 -> 4
                5 -> 5
                6 -> 6
                7 -> 7
                8 -> 8
                9 -> 9
                10 -> 10
            SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, COALESCE(CAST(t.semester AS text), ''), CAST(t.tuition_fee AS numeric), CAST((
                SELECT CAST(sum(t0.amount_paid) AS integer)
                FROM tuition_payment AS t0
                WHERE (((t.student_code != NULL) && (t.academic_year != NULL)) && (t.semester != NULL)) && (((t.student_code == t0.student_code) && (t.academic_year == t0.academic_year)) && (t.semester == t0.semester))) AS numeric), t.student_code, t.semester
            FROM 
            (
                SELECT TOP(1) s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
                FROM student_basic_info AS s
                WHERE s.student_code == @__studentCode_0
            ) AS s0
            LEFT JOIN tuition AS t ON s0.student_code == t.student_code
            ORDER BY s0.student_code ASC, t.student_code ASC, t.academic_year ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                string value1;
                string value2;
                string value3;
                string value4;
                string value5;
                List<TuitionResponse> namelessParameter{0};
                value1 = try { dataReader.GetString(0) } catch (Exception) { ... } ;
                value2 = try { dataReader.GetString(1) } catch (Exception) { ... } ;
                value3 = try { dataReader.GetString(2) } catch (Exception) { ... } ;
                value4 = try { dataReader.GetString(3) } catch (Exception) { ... } ;
                value5 = try { dataReader.GetString(4) } catch (Exception) { ... } ;
                namelessParameter{0} = ShaperProcessingExpressionVisitor.InitializeCollection<TuitionResponse, List<TuitionResponse>>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ try { dataReader.GetString(0) } catch (Exception) { ... }  }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ try { dataReader.GetString(0) } catch (Exception) { ... }  }], 
                    clrCollectionAccessor: default(IClrCollectionAccessor));
                return resultContext.Values = new object[]
                { 
                    value1, 
                    value2, 
                    value3, 
                    value4, 
                    value5, 
                    namelessParameter{0} 
                };
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateCollection<List<TuitionResponse>, TuitionResponse, TuitionResponse>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ try { dataReader.GetString(0) } catch (Exception) { ... }  }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ try { dataReader.GetString(0) } catch (Exception) { ... }  }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    try { dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9) } catch (Exception) { ... } , 
                    try { dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5) } catch (Exception) { ... } , 
                    (object)try { dataReader.IsDBNull(10) ? default(int?) : (int?)dataReader.GetInt32(10) } catch (Exception) { ... }  
                }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (string)left == (string)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (string)left == (string)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
                { 
                    (left, right) => left == null ? right == null : right != null && (string)left == (string)right, 
                    (left, right) => left == null ? right == null : right != null && (string)left == (string)right, 
                    (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
                }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    string value1;
                    string value2;
                    decimal? value3;
                    decimal? value4;
                    value1 = try { dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5) } catch (Exception) { ... } ;
                    value2 = try { dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6) } catch (Exception) { ... } ;
                    value3 = try { dataReader.IsDBNull(7) ? default(decimal?) : (decimal?)dataReader.GetDecimal(7) } catch (Exception) { ... } ;
                    value4 = try { dataReader.IsDBNull(8) ? default(decimal?) : (decimal?)dataReader.GetDecimal(8) } catch (Exception) { ... } ;
                    return new TuitionResponse{ 
                        AcademicYear = value1, 
                        Semester = value2, 
                        TuitionAmount = (decimal)value3, 
                        TuitionPaid = (decimal)value4 
                    }
                    ;
                });
            return IsTrue(resultCoordinator.ResultReady)
             ? new StudentDetailResponse{ 
                StudentCode = (string)(resultContext.Values[0]), 
                LastName = (string)(resultContext.Values[1]), 
                FirstName = (string)(resultContext.Values[2]), 
                ClassCode = (string)(resultContext.Values[3]), 
                FacultyCode = (string)(resultContext.Values[4]), 
                Tuitions = (List<TuitionResponse>)(resultContext.Values[5]) 
            }
             : default(StudentDetailResponse);
        }, 
        contextType: TuitionService.Domain.TuitionDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: True, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)"'
2025-06-06T16:27:07.6765031+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T16:27:07.7567569+07:00 [DBG] (///) Created DbConnection. (74ms).
2025-06-06T16:27:07.7646772+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:27:07.9786290+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:27:07.9895360+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T16:27:08.0030462+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (4ms).
2025-06-06T16:27:08.0192519+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (29ms).
2025-06-06T16:27:08.0327251+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:27:08.2511134+07:00 [INF] (///) Executed DbCommand ("201"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:27:08.3426322+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:27:08.3700666+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 100ms reading results.
2025-06-06T16:27:08.3874899+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:27:08.4013329+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (13ms).
2025-06-06T16:27:08.4059262+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T16:27:08.4215775+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T16:27:08.4769048+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:27:08.5026923+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 3565.2168 ms
2025-06-06T16:27:08.5216038+07:00 [DBG] (///) Connection id ""0HND4RH6ERB52"" received FIN.
2025-06-06T16:27:08.5223229+07:00 [DBG] (///) Connection id ""0HND4RH6ERB52"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T16:27:08.5282371+07:00 [DBG] (///) Connection id ""0HND4RH6ERB52"" disconnecting.
2025-06-06T16:27:08.5341728+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T16:27:08.5447065+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:27:08.5510046+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (6ms).
2025-06-06T16:27:08.5557026+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 3825.7532ms
2025-06-06T16:27:08.5661382+07:00 [DBG] (///) Connection id ""0HND4RH6ERB52"" stopped.
2025-06-06T16:27:11.9067206+07:00 [DBG] (///) Connection id ""0HND4RH6ERB53"" accepted.
2025-06-06T16:27:11.9069700+07:00 [DBG] (///) Connection id ""0HND4RH6ERB53"" started.
2025-06-06T16:27:11.9083607+07:00 [INF] (///) Request starting "HTTP/1.1" "PUT" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""?paymentDate=2025-06-06&amountPaid=850877" - "application/json" 0
2025-06-06T16:27:11.9101279+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T16:27:11.9103208+07:00 [DBG] (///) Endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T16:27:11.9105244+07:00 [DBG] (///) Request matched endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T16:27:11.9108765+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T16:27:11.9116519+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T16:27:11.9119733+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T16:27:11.9124392+07:00 [INF] (///) Executing endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T16:27:11.9140607+07:00 [INF] (///) Executed endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T16:27:11.9150776+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Http.BadHttpRequestException: Required parameter "CreatePaymentRequest request" was not provided from body.
   at lambda_method421(Closure, Object, HttpContext, Object)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-06T16:27:12.0058690+07:00 [ERR] (///) HTTP "PUT" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 500 in 94.5956 ms
2025-06-06T16:27:12.0066017+07:00 [INF] (///) Request finished "HTTP/1.1" "PUT" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""?paymentDate=2025-06-06&amountPaid=850877" - 500 null "application/problem+json" 98.1671ms
2025-06-06T16:27:12.0068039+07:00 [DBG] (///) Connection id ""0HND4RH6ERB53"" received FIN.
2025-06-06T16:27:12.0069072+07:00 [DBG] (///) Connection id ""0HND4RH6ERB53"" disconnecting.
2025-06-06T16:27:12.0071162+07:00 [DBG] (///) Connection id ""0HND4RH6ERB53"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T16:27:12.0082864+07:00 [DBG] (///) Connection id ""0HND4RH6ERB53"" stopped.
2025-06-06T16:30:09.6605725+07:00 [DBG] (///) Connection id ""0HND4RH6ERB54"" accepted.
2025-06-06T16:30:09.6609096+07:00 [DBG] (///) Connection id ""0HND4RH6ERB54"" started.
2025-06-06T16:30:09.6614816+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T16:30:09.6617263+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:30:09.6618381+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:30:09.6619552+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:30:09.6621812+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T16:30:09.6623683+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:30:09.7283719+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T16:30:09.7369266+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T16:30:09.7371260+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T16:30:09.7372204+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:30:09.7383859+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:30:09.7387934+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T16:30:09.7389868+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:30:09.7391243+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:30:09.7393183+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:30:09.7476370+07:00 [INF] (///) Executed DbCommand ("8"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:30:09.7481300+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:30:09.7482451+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T16:30:09.7484283+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:30:09.7485216+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:30:09.7487539+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T16:30:09.7488442+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T16:30:09.7491331+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:30:09.7493132+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 87.0521 ms
2025-06-06T16:30:09.7494759+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T16:30:09.7496019+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:30:09.7496954+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:30:09.7498163+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 88.3155ms
2025-06-06T16:30:09.7499538+07:00 [DBG] (///) Connection id ""0HND4RH6ERB54"" disconnecting.
2025-06-06T16:30:09.7500298+07:00 [DBG] (///) Connection id ""0HND4RH6ERB54"" stopped.
2025-06-06T16:30:09.7501706+07:00 [DBG] (///) Connection id ""0HND4RH6ERB54"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T16:31:46.0587042+07:00 [DBG] (///) Connection id ""0HND4RH6ERB55"" accepted.
2025-06-06T16:31:46.0590479+07:00 [DBG] (///) Connection id ""0HND4RH6ERB55"" started.
2025-06-06T16:31:46.0594710+07:00 [INF] (///) Request starting "HTTP/1.1" "PUT" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" 57
2025-06-06T16:31:46.0597252+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T16:31:46.0597956+07:00 [DBG] (///) Endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T16:31:46.0598566+07:00 [DBG] (///) Request matched endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T16:31:46.0599770+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T16:31:46.0602097+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T16:31:46.0603031+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T16:31:46.0603834+07:00 [INF] (///) Executing endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T16:31:46.0648202+07:00 [DBG] (///) Connection id ""0HND4RH6ERB55"", Request id ""0HND4RH6ERB55:00000001"": started reading request body.
2025-06-06T16:31:46.0650699+07:00 [DBG] (///) Connection id ""0HND4RH6ERB55"", Request id ""0HND4RH6ERB55:00000001"": done reading request body.
2025-06-06T16:31:46.0840422+07:00 [INF] (///) Executed endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T16:31:46.0842267+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
Shared.Exception.BadInputException: Nm bt u khng hp l. Nm bt u phi c nh dng yyyy.
   at Shared.Domain.ValueObject.AcademicYearCode..ctor(String startYear) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Domain/ValueObject/AcademicYearCode.cs:line 21
   at Program.<>c.<<<Main>$>b__0_16>d.MoveNext() in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api/Program.cs:line 283
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-06T16:31:46.0927313+07:00 [INF] (///) HTTP "PUT" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 400 in 32.6271 ms
2025-06-06T16:31:46.0929602+07:00 [INF] (///) Request finished "HTTP/1.1" "PUT" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 400 null "application/problem+json" 33.4508ms
2025-06-06T16:31:46.0931555+07:00 [DBG] (///) Connection id ""0HND4RH6ERB55"" disconnecting.
2025-06-06T16:31:46.0932202+07:00 [DBG] (///) Connection id ""0HND4RH6ERB55"" stopped.
2025-06-06T16:31:46.0933316+07:00 [DBG] (///) Connection id ""0HND4RH6ERB55"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T16:31:52.4060565+07:00 [DBG] (///) Connection id ""0HND4RH6ERB56"" accepted.
2025-06-06T16:31:52.4061574+07:00 [DBG] (///) Connection id ""0HND4RH6ERB56"" started.
2025-06-06T16:31:52.4073433+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T16:31:52.4075302+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:31:52.4076032+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:31:52.4076583+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:31:52.4078437+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T16:31:52.4079047+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:31:52.5052525+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T16:31:52.5070299+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T16:31:52.5071237+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T16:31:52.5071671+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:31:52.5072438+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:31:52.5075025+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T16:31:52.5075561+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:31:52.5076131+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:31:52.5076853+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:31:52.5105521+07:00 [INF] (///) Executed DbCommand ("3"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:31:52.5112367+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:31:52.5114147+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T16:31:52.5116600+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:31:52.5117388+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:31:52.5119461+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T16:31:52.5120068+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T16:31:52.5122392+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:31:52.5124749+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 104.5231 ms
2025-06-06T16:31:52.5126067+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T16:31:52.5126857+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:31:52.5127431+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:31:52.5128362+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 105.4785ms
2025-06-06T16:31:52.5129283+07:00 [DBG] (///) Connection id ""0HND4RH6ERB56"" disconnecting.
2025-06-06T16:31:52.5129652+07:00 [DBG] (///) Connection id ""0HND4RH6ERB56"" stopped.
2025-06-06T16:31:52.5131705+07:00 [DBG] (///) Connection id ""0HND4RH6ERB56"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T16:31:54.9638970+07:00 [DBG] (///) Connection id ""0HND4RH6ERB57"" accepted.
2025-06-06T16:31:54.9640271+07:00 [DBG] (///) Connection id ""0HND4RH6ERB57"" started.
2025-06-06T16:31:54.9642453+07:00 [INF] (///) Request starting "HTTP/1.1" "PUT" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" 57
2025-06-06T16:31:54.9644863+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T16:31:54.9645293+07:00 [DBG] (///) Endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T16:31:54.9645727+07:00 [DBG] (///) Request matched endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T16:31:54.9646683+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T16:31:54.9649858+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T16:31:54.9650124+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T16:31:54.9650543+07:00 [INF] (///) Executing endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T16:31:54.9651399+07:00 [DBG] (///) Connection id ""0HND4RH6ERB57"", Request id ""0HND4RH6ERB57:00000001"": started reading request body.
2025-06-06T16:31:54.9653884+07:00 [DBG] (///) Connection id ""0HND4RH6ERB57"", Request id ""0HND4RH6ERB57:00000001"": done reading request body.
2025-06-06T16:31:54.9658433+07:00 [INF] (///) Executed endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T16:31:54.9659018+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
Shared.Exception.BadInputException: Nm bt u khng hp l. Nm bt u phi c nh dng yyyy.
   at Shared.Domain.ValueObject.AcademicYearCode..ctor(String startYear) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Domain/ValueObject/AcademicYearCode.cs:line 21
   at Program.<>c.<<<Main>$>b__0_16>d.MoveNext() in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api/Program.cs:line 283
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-06T16:31:54.9699027+07:00 [INF] (///) HTTP "PUT" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 400 in 5.1721 ms
2025-06-06T16:31:54.9700454+07:00 [INF] (///) Request finished "HTTP/1.1" "PUT" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 400 null "application/problem+json" 5.7919ms
2025-06-06T16:31:54.9701191+07:00 [DBG] (///) Connection id ""0HND4RH6ERB57"" disconnecting.
2025-06-06T16:31:54.9701511+07:00 [DBG] (///) Connection id ""0HND4RH6ERB57"" stopped.
2025-06-06T16:31:54.9702033+07:00 [DBG] (///) Connection id ""0HND4RH6ERB57"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T16:33:11.0837093+07:00 [DBG] (///) Connection id ""0HND4RH6ERB58"" accepted.
2025-06-06T16:33:11.0838249+07:00 [DBG] (///) Connection id ""0HND4RH6ERB58"" started.
2025-06-06T16:33:11.0841430+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T16:33:11.0844132+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:33:11.0844830+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:33:11.0845419+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:33:11.0846683+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T16:33:11.0847340+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:33:11.0860518+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T16:33:11.0866685+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T16:33:11.0867681+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T16:33:11.0868111+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:33:11.0982045+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:33:11.0984840+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T16:33:11.0985513+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:33:11.0986007+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:33:11.0986764+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:33:11.1036144+07:00 [INF] (///) Executed DbCommand ("5"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:33:11.1041409+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:33:11.1042617+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T16:33:11.1044585+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:33:11.1045342+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:33:11.1047197+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T16:33:11.1047736+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T16:33:11.1050351+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:33:11.1051690+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 20.4387 ms
2025-06-06T16:33:11.1052836+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T16:33:11.1053389+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:33:11.1053813+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:33:11.1056944+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 21.5456ms
2025-06-06T16:33:11.1057972+07:00 [DBG] (///) Connection id ""0HND4RH6ERB58"" disconnecting.
2025-06-06T16:33:11.1058352+07:00 [DBG] (///) Connection id ""0HND4RH6ERB58"" stopped.
2025-06-06T16:33:11.1059078+07:00 [DBG] (///) Connection id ""0HND4RH6ERB58"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T16:34:50.7212807+07:00 [DBG] (///) Connection id ""0HND4RH6ERB59"" accepted.
2025-06-06T16:34:50.7216556+07:00 [DBG] (///) Connection id ""0HND4RH6ERB59"" started.
2025-06-06T16:34:50.7219502+07:00 [INF] (///) Request starting "HTTP/1.1" "PUT" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" 43
2025-06-06T16:34:50.7221126+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T16:34:50.7221676+07:00 [DBG] (///) Endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T16:34:50.7222180+07:00 [DBG] (///) Request matched endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T16:34:50.7224233+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T16:34:50.7224670+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T16:34:50.7224884+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T16:34:50.7227663+07:00 [INF] (///) Executing endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T16:34:50.7228735+07:00 [DBG] (///) Connection id ""0HND4RH6ERB59"", Request id ""0HND4RH6ERB59:00000001"": started reading request body.
2025-06-06T16:34:50.7229044+07:00 [DBG] (///) Connection id ""0HND4RH6ERB59"", Request id ""0HND4RH6ERB59:00000001"": done reading request body.
2025-06-06T16:34:50.7234342+07:00 [INF] (///) Executed endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T16:34:50.7234897+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
Shared.Exception.BadInputException: Nm bt u khng hp l. Nm bt u phi c nh dng yyyy.
   at Shared.Domain.ValueObject.AcademicYearCode..ctor(String startYear) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Domain/ValueObject/AcademicYearCode.cs:line 21
   at Program.<>c.<<<Main>$>b__0_16>d.MoveNext() in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api/Program.cs:line 283
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-06T16:34:50.7257924+07:00 [INF] (///) HTTP "PUT" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 400 in 3.3661 ms
2025-06-06T16:34:50.7260195+07:00 [INF] (///) Request finished "HTTP/1.1" "PUT" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 400 null "application/problem+json" 3.9914ms
2025-06-06T16:34:50.7260973+07:00 [DBG] (///) Connection id ""0HND4RH6ERB59"" disconnecting.
2025-06-06T16:34:50.7261206+07:00 [DBG] (///) Connection id ""0HND4RH6ERB59"" stopped.
2025-06-06T16:34:50.7262084+07:00 [DBG] (///) Connection id ""0HND4RH6ERB59"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T16:34:57.4458966+07:00 [DBG] (///) Connection id ""0HND4RH6ERB5A"" accepted.
2025-06-06T16:34:57.4460285+07:00 [DBG] (///) Connection id ""0HND4RH6ERB5A"" started.
2025-06-06T16:34:57.4464688+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T16:34:57.4466981+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:34:57.4467591+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T16:34:57.4468272+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:34:57.4469261+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T16:34:57.4469677+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:34:57.4498300+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T16:34:57.4507359+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T16:34:57.4508584+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T16:34:57.4509134+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:34:57.4509991+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:34:57.4512964+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T16:34:57.4513660+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:34:57.4514382+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:34:57.4515265+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:34:57.4548153+07:00 [INF] (///) Executed DbCommand ("3"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T16:34:57.4552249+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:34:57.4553145+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T16:34:57.4554433+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:34:57.4555004+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:34:57.4556420+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T16:34:57.4556873+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T16:34:57.4558938+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T16:34:57.4560373+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 9.0279 ms
2025-06-06T16:34:57.4561355+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T16:34:57.4561775+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:34:57.4562129+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:34:57.4565207+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 10.0344ms
2025-06-06T16:34:57.4566417+07:00 [DBG] (///) Connection id ""0HND4RH6ERB5A"" disconnecting.
2025-06-06T16:34:57.4566855+07:00 [DBG] (///) Connection id ""0HND4RH6ERB5A"" stopped.
2025-06-06T16:34:57.4568036+07:00 [DBG] (///) Connection id ""0HND4RH6ERB5A"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T16:34:59.9048446+07:00 [DBG] (///) Connection id ""0HND4RH6ERB5B"" accepted.
2025-06-06T16:34:59.9049340+07:00 [DBG] (///) Connection id ""0HND4RH6ERB5B"" started.
2025-06-06T16:34:59.9051193+07:00 [INF] (///) Request starting "HTTP/1.1" "PUT" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" 43
2025-06-06T16:34:59.9052830+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T16:34:59.9053413+07:00 [DBG] (///) Endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T16:34:59.9053835+07:00 [DBG] (///) Request matched endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T16:34:59.9055484+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T16:34:59.9056277+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T16:34:59.9056542+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T16:34:59.9056958+07:00 [INF] (///) Executing endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T16:34:59.9057701+07:00 [DBG] (///) Connection id ""0HND4RH6ERB5B"", Request id ""0HND4RH6ERB5B:00000001"": started reading request body.
2025-06-06T16:34:59.9058001+07:00 [DBG] (///) Connection id ""0HND4RH6ERB5B"", Request id ""0HND4RH6ERB5B:00000001"": done reading request body.
2025-06-06T16:34:59.9062131+07:00 [INF] (///) Executed endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T16:34:59.9062830+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
Shared.Exception.BadInputException: Nm bt u khng hp l. Nm bt u phi c nh dng yyyy.
   at Shared.Domain.ValueObject.AcademicYearCode..ctor(String startYear) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Domain/ValueObject/AcademicYearCode.cs:line 21
   at Program.<>c.<<<Main>$>b__0_16>d.MoveNext() in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api/Program.cs:line 283
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-06T16:34:59.9095142+07:00 [INF] (///) HTTP "PUT" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 400 in 3.9413 ms
2025-06-06T16:34:59.9097084+07:00 [INF] (///) Request finished "HTTP/1.1" "PUT" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 400 null "application/problem+json" 4.5726ms
2025-06-06T16:34:59.9098277+07:00 [DBG] (///) Connection id ""0HND4RH6ERB5B"" disconnecting.
2025-06-06T16:34:59.9098712+07:00 [DBG] (///) Connection id ""0HND4RH6ERB5B"" stopped.
2025-06-06T16:34:59.9099357+07:00 [DBG] (///) Connection id ""0HND4RH6ERB5B"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T16:35:08.8659085+07:00 [DBG] (///) Connection id ""0HND4RH6ERB5C"" accepted.
2025-06-06T16:35:08.8660445+07:00 [DBG] (///) Connection id ""0HND4RH6ERB5C"" started.
2025-06-06T16:35:08.8662633+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" null
2025-06-06T16:35:08.8664043+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T16:35:08.8664668+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T16:35:08.8665432+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T16:35:08.8666693+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T16:35:08.8667326+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T16:35:08.8702040+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T16:35:08.8787121+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<TuitionPayment>()
    .Where(p => p.StudentCode == __studentCode_0 && p.AcademicYear == __academicYear_1 && p.Semester == __semester_2)
    .Select(p => new PaymentResponse{ 
        PaymentDate = p.PaymentDate.ToString(), 
        AmountPaid = (decimal)p.AmountPaid 
    }
    )"'
2025-06-06T16:35:08.9019469+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => SingleQueryingEnumerable.Create<PaymentResponse>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
        SELECT t.payment_date, CAST(t.amount_paid AS numeric)
        FROM tuition_payment AS t
        WHERE ((t.student_code == @__studentCode_0) && (t.academic_year == @__academicYear_1)) && (t.semester == @__semester_2)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> 0
            1 -> 1
        SELECT t.payment_date, CAST(t.amount_paid AS numeric)
        FROM tuition_payment AS t
        WHERE ((t.student_code == @__studentCode_0) && (t.academic_year == @__academicYear_1)) && (t.semester == @__semester_2), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        DateOnly? value1;
        decimal? value2;
        value1 = try { (DateOnly?)dataReader.GetFieldValue<DateOnly>(0) } catch (Exception) { ... } ;
        value2 = try { dataReader.IsDBNull(1) ? default(decimal?) : (decimal?)dataReader.GetDecimal(1) } catch (Exception) { ... } ;
        return new PaymentResponse{ 
            PaymentDate = value1 == default(DateOnly?) ? null : ((DateOnly)value1).ToString(), 
            AmountPaid = (decimal)value2 
        }
        ;
    }, 
    contextType: TuitionService.Domain.TuitionDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: True, 
    threadSafetyChecksEnabled: True)"'
2025-06-06T16:35:08.9062160+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T16:35:08.9063057+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T16:35:08.9063504+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:35:08.9064166+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:35:08.9066043+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T16:35:08.9066573+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:35:08.9067223+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T16:35:08.9068586+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T16:35:08.9099059+07:00 [INF] (///) Executed DbCommand ("3"ms) [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T16:35:08.9115667+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:35:08.9116475+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 1ms reading results.
2025-06-06T16:35:08.9117457+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:35:08.9118352+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:35:08.9120325+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T16:35:08.9126990+07:00 [INF] (///) Writing value of type '"List`1"' as Json.
2025-06-06T16:35:08.9133605+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T16:35:08.9134762+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 200 in 46.7435 ms
2025-06-06T16:35:08.9135826+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T16:35:08.9136335+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T16:35:08.9136685+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T16:35:08.9137415+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 200 null "application/json; charset=utf-8" 47.469ms
2025-06-06T16:35:08.9138480+07:00 [DBG] (///) Connection id ""0HND4RH6ERB5C"" disconnecting.
2025-06-06T16:35:08.9139838+07:00 [DBG] (///) Connection id ""0HND4RH6ERB5C"" stopped.
2025-06-06T16:35:08.9140401+07:00 [DBG] (///) Connection id ""0HND4RH6ERB5C"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T16:36:03.5112742+07:00 [INF] (///) Application is shutting down...
2025-06-06T16:36:03.5125151+07:00 [DBG] (///) Hosting stopping
2025-06-06T16:36:03.5218659+07:00 [DBG] (///) Hosting stopped
2025-06-06T16:36:10.0838449+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-06T16:36:10.2695334+07:00 [INF] (///) No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-06-06T16:36:10.2757569+07:00 [DBG] (///) Hosting starting
2025-06-06T16:36:10.6394072+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-06T16:36:10.6402945+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-06T16:36:10.7535846+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-06T16:36:10.7561112+07:00 [WRN] (///) Overriding address(es) '"https://localhost:31001"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-06T16:36:10.7642962+07:00 [INF] (///) Now listening on: "http://localhost:14100"
2025-06-06T16:36:10.7650329+07:00 [INF] (///) Now listening on: "https://localhost:14101"
2025-06-06T16:36:10.7652257+07:00 [DBG] (///) Loaded hosting startup assembly "TuitionService.Api"
2025-06-06T16:36:10.7655377+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-06T16:36:10.7656138+07:00 [INF] (///) Hosting environment: "Development"
2025-06-06T16:36:10.7656592+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api"
2025-06-06T16:36:10.7657329+07:00 [DBG] (///) Hosting started
2025-06-06T16:36:17.4986139+07:00 [DBG] (///) Connection id ""0HND4RMB6RH0N"" accepted.
2025-06-06T16:36:17.4995667+07:00 [DBG] (///) Connection id ""0HND4RMB6RH0N"" started.
2025-06-06T16:36:17.5430045+07:00 [INF] (///) Request starting "HTTP/1.1" "PUT" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" 43
2025-06-06T16:36:17.6967252+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T16:36:17.7024436+07:00 [DBG] (///) Endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T16:36:17.7110316+07:00 [DBG] (///) Request matched endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T16:36:17.7241588+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T16:36:17.7257079+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T16:36:17.7261921+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T16:36:17.7280852+07:00 [INF] (///) Executing endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T16:36:17.7410105+07:00 [DBG] (///) Connection id ""0HND4RMB6RH0N"", Request id ""0HND4RMB6RH0N:00000001"": started reading request body.
2025-06-06T16:36:17.7415294+07:00 [DBG] (///) Connection id ""0HND4RMB6RH0N"", Request id ""0HND4RMB6RH0N:00000001"": done reading request body.
2025-06-06T16:36:18.0854124+07:00 [DBG] (///) An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration changed for 'Core:EnableSensitiveDataLogging', configuration changed for 'Core:EnableDetailedErrors', configuration changed for 'Core:ConfigureWarnings', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseAdminDatabase', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:SetPostgresVersion', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseRedshift', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ReverseNullOrdering', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:RemoteCertificateValidationCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvideClientCertificatesCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvidePasswordCallback'".
2025-06-06T16:36:19.1665351+07:00 [DBG] (///) The index "{'StudentCode'}" was not created on entity type '"Tuition"' as the properties are already covered by the index "{'StudentCode', 'AcademicYear', 'Semester'}".
2025-06-06T16:36:19.1672092+07:00 [DBG] (///) The index "{'StudentCode', 'AcademicYear', 'Semester'}" was not created on entity type '"TuitionPayment"' as the properties are already covered by the index "{'StudentCode', 'AcademicYear', 'Semester', 'PaymentDate'}".
2025-06-06T16:36:19.3360292+07:00 [WRN] (///) Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-06-06T16:36:19.3923305+07:00 [DBG] (///) The property '"GlobalStudentCode"."StudentBasicInfoStudentCode"' was created in shadow state because there are no eligible CLR members with a matching name.
2025-06-06T16:36:19.6419603+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T16:36:19.7609265+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Tuition>()
    .Include(t => t.TuitionPayments)
    .Where(t => t.StudentCode == __studentCode_0 && t.AcademicYear == __academicYearRequest_1 && (Semester)t.Semester == __semesterRequest_2)
    .FirstOrDefault()"'
2025-06-06T16:36:19.8666670+07:00 [DBG] (///) Including navigation: '"Tuition.TuitionPayments"'.
2025-06-06T16:36:20.1463197+07:00 [INF] (///) Executed endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T16:36:20.1488203+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<Tuition>()
    .Where(t => t.StudentCode == __studentCode_0 && t.AcademicYear == __academicYearRequest_1 && (Semester)t.Semester == __semesterRequest_2)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Program.<>c.<<<Main>$>b__0_16>d.MoveNext() in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api/Program.cs:line 285
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-06T16:36:20.2819460+07:00 [ERR] (///) HTTP "PUT" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 500 in 2553.8426 ms
2025-06-06T16:36:20.3021408+07:00 [DBG] (///) Connection id ""0HND4RMB6RH0N"" received FIN.
2025-06-06T16:36:20.3028130+07:00 [DBG] (///) Connection id ""0HND4RMB6RH0N"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T16:36:20.3107509+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T16:36:20.3118267+07:00 [DBG] (///) Connection id ""0HND4RMB6RH0N"" disconnecting.
2025-06-06T16:36:20.3191908+07:00 [INF] (///) Request finished "HTTP/1.1" "PUT" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 500 null "application/problem+json" 2779.1459ms
2025-06-06T16:36:20.3221475+07:00 [DBG] (///) Connection id ""0HND4RMB6RH0N"" stopped.
2025-06-06T16:36:37.7720045+07:00 [INF] (///) Application is shutting down...
2025-06-06T16:36:37.7737318+07:00 [DBG] (///) Hosting stopping
2025-06-06T16:36:37.8255725+07:00 [DBG] (///) Hosting stopped
2025-06-06T17:47:32.0741096+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-06T17:47:32.1512338+07:00 [INF] (///) No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-06-06T17:47:32.1553262+07:00 [DBG] (///) Hosting starting
2025-06-06T17:47:32.3155656+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-06T17:47:32.3159838+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-06T17:47:32.4039258+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-06T17:47:32.4059588+07:00 [WRN] (///) Overriding address(es) '"https://localhost:31001"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-06T17:47:32.4149523+07:00 [INF] (///) Now listening on: "http://localhost:14100"
2025-06-06T17:47:32.4158081+07:00 [INF] (///) Now listening on: "https://localhost:14101"
2025-06-06T17:47:32.4160235+07:00 [DBG] (///) Loaded hosting startup assembly "TuitionService.Api"
2025-06-06T17:47:32.4163285+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-06T17:47:32.4164060+07:00 [INF] (///) Hosting environment: "Development"
2025-06-06T17:47:32.4164442+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api"
2025-06-06T17:47:32.4165311+07:00 [DBG] (///) Hosting started
2025-06-06T17:47:33.8019746+07:00 [DBG] (///) Connection id ""0HND4SU5KRP96"" accepted.
2025-06-06T17:47:33.8028434+07:00 [DBG] (///) Connection id ""0HND4SU5KRP96"" started.
2025-06-06T17:47:33.8351497+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - "application/json" null
2025-06-06T17:47:33.9886042+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students"'
2025-06-06T17:47:33.9952818+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students"' with route pattern '"/api/v{version:apiVersion}/students"' is valid for the request path '"/api/v1/students"'
2025-06-06T17:47:34.0008334+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T17:47:34.0094172+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T17:47:34.0110740+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T17:47:34.2908048+07:00 [DBG] (///) An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration changed for 'Core:EnableSensitiveDataLogging', configuration changed for 'Core:EnableDetailedErrors', configuration changed for 'Core:ConfigureWarnings', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseAdminDatabase', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:SetPostgresVersion', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseRedshift', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ReverseNullOrdering', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:RemoteCertificateValidationCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvideClientCertificatesCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvidePasswordCallback'".
2025-06-06T17:47:35.2020804+07:00 [DBG] (///) The index "{'StudentCode'}" was not created on entity type '"Tuition"' as the properties are already covered by the index "{'StudentCode', 'AcademicYear', 'Semester'}".
2025-06-06T17:47:35.2027183+07:00 [DBG] (///) The index "{'StudentCode', 'AcademicYear', 'Semester'}" was not created on entity type '"TuitionPayment"' as the properties are already covered by the index "{'StudentCode', 'AcademicYear', 'Semester', 'PaymentDate'}".
2025-06-06T17:47:35.3547116+07:00 [WRN] (///) Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-06-06T17:47:35.3891996+07:00 [DBG] (///) The property '"GlobalStudentCode"."StudentBasicInfoStudentCode"' was created in shadow state because there are no eligible CLR members with a matching name.
2025-06-06T17:47:35.5700650+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T17:47:35.6642506+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<StudentBasicInfo>()
    .AsNoTracking()
    .Select(s => new StudentBasicInfo{ 
        StudentCode = s.StudentCode, 
        LastName = s.LastName, 
        FirstName = s.FirstName, 
        ClassCode = s.ClassCode, 
        FacultyCode = s.FacultyCode 
    }
    )
    .Count()"'
2025-06-06T17:47:36.0017084+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT CAST(count(*) AS integer)
            FROM student_basic_info AS s) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT CAST(count(*) AS integer)
            FROM student_basic_info AS s, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = try { dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0) } catch (Exception) { ... } ;
            return (int)value1;
        }, 
        contextType: TuitionService.Domain.TuitionDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: True, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)"'
2025-06-06T17:47:36.0491774+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T17:47:36.1159115+07:00 [DBG] (///) Created DbConnection. (62ms).
2025-06-06T17:47:36.1210807+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T17:47:36.3014156+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T17:47:36.3128172+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T17:47:36.3242594+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (5ms).
2025-06-06T17:47:36.3265075+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (14ms).
2025-06-06T17:47:36.3378632+07:00 [DBG] (///) Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T17:47:36.3972682+07:00 [INF] (///) Executed DbCommand ("52"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T17:47:36.5060740+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T17:47:36.5242369+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 111ms reading results.
2025-06-06T17:47:36.5365117+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T17:47:36.5523866+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (15ms).
2025-06-06T17:47:36.5683643+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<StudentBasicInfo>()
    .AsNoTracking()
    .Select(s => new StudentBasicInfo{ 
        StudentCode = s.StudentCode, 
        LastName = s.LastName, 
        FirstName = s.FirstName, 
        ClassCode = s.ClassCode, 
        FacultyCode = s.FacultyCode 
    }
    )
    .Skip(__p_0)
    .Take(__p_1)"'
2025-06-06T17:47:36.5957202+07:00 [WRN] (///) The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-06T17:47:36.5986809+07:00 [WRN] (///) The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-06T17:47:36.6306168+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => SingleQueryingEnumerable.Create<StudentBasicInfo>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            StudentCode -> 0
            LastName -> 1
            FirstName -> 2
            ClassCode -> 3
            FacultyCode -> 4
        SELECT s.student_code AS StudentCode, s.last_name AS LastName, s.first_name AS FirstName, s.class_code AS ClassCode, s.faculty_code AS FacultyCode
        FROM student_basic_info AS s
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            StudentCode -> 0
            LastName -> 1
            FirstName -> 2
            ClassCode -> 3
            FacultyCode -> 4
        SELECT s.student_code AS StudentCode, s.last_name AS LastName, s.first_name AS FirstName, s.class_code AS ClassCode, s.faculty_code AS FacultyCode
        FROM student_basic_info AS s
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        string value1;
        string value2;
        string value3;
        string value4;
        string value5;
        value1 = try { dataReader.GetString(0) } catch (Exception) { ... } ;
        value2 = try { dataReader.GetString(1) } catch (Exception) { ... } ;
        value3 = try { dataReader.GetString(2) } catch (Exception) { ... } ;
        value4 = try { dataReader.GetString(3) } catch (Exception) { ... } ;
        value5 = try { dataReader.GetString(4) } catch (Exception) { ... } ;
        return new StudentBasicInfo{ 
            StudentCode = value1, 
            LastName = value2, 
            FirstName = value3, 
            ClassCode = value4, 
            FacultyCode = value5 
        }
        ;
    }, 
    contextType: TuitionService.Domain.TuitionDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: True, 
    threadSafetyChecksEnabled: True)"'
2025-06-06T17:47:36.6551087+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T17:47:36.6566907+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T17:47:36.6573279+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T17:47:36.6574824+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T17:47:36.6751036+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (17ms).
2025-06-06T17:47:36.6829060+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T17:47:36.7405899+07:00 [INF] (///) Executed DbCommand ("65"ms) [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T17:47:36.7495449+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T17:47:36.7497917+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 8ms reading results.
2025-06-06T17:47:36.7499906+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T17:47:36.7500911+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T17:47:36.7521622+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T17:47:36.7708816+07:00 [INF] (///) Writing value of type '"PagedList`1"' as Json.
2025-06-06T17:47:36.8334423+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T17:47:36.8514109+07:00 [INF] (///) HTTP "GET" "/api/v1/students" responded 200 in 2833.5322 ms
2025-06-06T17:47:36.8673265+07:00 [DBG] (///) Connection id ""0HND4SU5KRP96"" received FIN.
2025-06-06T17:47:36.8680295+07:00 [DBG] (///) Connection id ""0HND4SU5KRP96"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T17:47:36.8729068+07:00 [DBG] (///) Connection id ""0HND4SU5KRP96"" disconnecting.
2025-06-06T17:47:36.8760707+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T17:47:36.8825142+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T17:47:36.8860818+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (3ms).
2025-06-06T17:47:36.8885176+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - 200 null "application/json; charset=utf-8" 3055.9761ms
2025-06-06T17:47:36.8935702+07:00 [DBG] (///) Connection id ""0HND4SU5KRP96"" stopped.
2025-06-06T18:11:53.5476596+07:00 [DBG] (///) Connection id ""0HND4SU5KRP97"" accepted.
2025-06-06T18:11:53.5486078+07:00 [DBG] (///) Connection id ""0HND4SU5KRP97"" started.
2025-06-06T18:11:53.5495581+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T18:11:53.5516664+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T18:11:53.5520351+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T18:11:53.5522864+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T18:11:53.5526975+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T18:11:53.5528994+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T18:11:53.6250257+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T18:11:53.6334253+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<StudentBasicInfo>()
    .Where(s => s.StudentCode == __studentCode_0)
    .Select(s => new StudentDetailResponse{ 
        StudentCode = s.StudentCode, 
        LastName = s.LastName, 
        FirstName = s.FirstName, 
        ClassCode = s.ClassCode, 
        FacultyCode = s.FacultyCode, 
        Tuitions = s.Tuitions
            .Select(t => new TuitionResponse{ 
                AcademicYear = t.AcademicYear, 
                Semester = t.Semester.ToString(), 
                TuitionAmount = (decimal)t.TuitionFee, 
                TuitionPaid = (decimal)t.TuitionPayments
                    .Sum(p => p.AmountPaid) 
            }
            )
            .ToList() 
    }
    )
    .FirstOrDefault()"'
2025-06-06T18:11:53.8528865+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<StudentDetailResponse>(
    asyncEnumerable: SingleQueryingEnumerable.Create<StudentDetailResponse>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> 0
                1 -> 1
                2 -> 2
                3 -> 3
                4 -> 4
                5 -> 5
                6 -> 6
                7 -> 7
                8 -> 8
                9 -> 9
                10 -> 10
            SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, COALESCE(CAST(t.semester AS text), ''), CAST(t.tuition_fee AS numeric), CAST((
                SELECT CAST(sum(t0.amount_paid) AS integer)
                FROM tuition_payment AS t0
                WHERE (((t.student_code != NULL) && (t.academic_year != NULL)) && (t.semester != NULL)) && (((t.student_code == t0.student_code) && (t.academic_year == t0.academic_year)) && (t.semester == t0.semester))) AS numeric), t.student_code, t.semester
            FROM 
            (
                SELECT TOP(1) s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
                FROM student_basic_info AS s
                WHERE s.student_code == @__studentCode_0
            ) AS s0
            LEFT JOIN tuition AS t ON s0.student_code == t.student_code
            ORDER BY s0.student_code ASC, t.student_code ASC, t.academic_year ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> 0
                1 -> 1
                2 -> 2
                3 -> 3
                4 -> 4
                5 -> 5
                6 -> 6
                7 -> 7
                8 -> 8
                9 -> 9
                10 -> 10
            SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, COALESCE(CAST(t.semester AS text), ''), CAST(t.tuition_fee AS numeric), CAST((
                SELECT CAST(sum(t0.amount_paid) AS integer)
                FROM tuition_payment AS t0
                WHERE (((t.student_code != NULL) && (t.academic_year != NULL)) && (t.semester != NULL)) && (((t.student_code == t0.student_code) && (t.academic_year == t0.academic_year)) && (t.semester == t0.semester))) AS numeric), t.student_code, t.semester
            FROM 
            (
                SELECT TOP(1) s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
                FROM student_basic_info AS s
                WHERE s.student_code == @__studentCode_0
            ) AS s0
            LEFT JOIN tuition AS t ON s0.student_code == t.student_code
            ORDER BY s0.student_code ASC, t.student_code ASC, t.academic_year ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                string value1;
                string value2;
                string value3;
                string value4;
                string value5;
                List<TuitionResponse> namelessParameter{0};
                value1 = try { dataReader.GetString(0) } catch (Exception) { ... } ;
                value2 = try { dataReader.GetString(1) } catch (Exception) { ... } ;
                value3 = try { dataReader.GetString(2) } catch (Exception) { ... } ;
                value4 = try { dataReader.GetString(3) } catch (Exception) { ... } ;
                value5 = try { dataReader.GetString(4) } catch (Exception) { ... } ;
                namelessParameter{0} = ShaperProcessingExpressionVisitor.InitializeCollection<TuitionResponse, List<TuitionResponse>>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ try { dataReader.GetString(0) } catch (Exception) { ... }  }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ try { dataReader.GetString(0) } catch (Exception) { ... }  }], 
                    clrCollectionAccessor: default(IClrCollectionAccessor));
                return resultContext.Values = new object[]
                { 
                    value1, 
                    value2, 
                    value3, 
                    value4, 
                    value5, 
                    namelessParameter{0} 
                };
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateCollection<List<TuitionResponse>, TuitionResponse, TuitionResponse>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ try { dataReader.GetString(0) } catch (Exception) { ... }  }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ try { dataReader.GetString(0) } catch (Exception) { ... }  }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    try { dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9) } catch (Exception) { ... } , 
                    try { dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5) } catch (Exception) { ... } , 
                    (object)try { dataReader.IsDBNull(10) ? default(int?) : (int?)dataReader.GetInt32(10) } catch (Exception) { ... }  
                }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (string)left == (string)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (string)left == (string)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
                { 
                    (left, right) => left == null ? right == null : right != null && (string)left == (string)right, 
                    (left, right) => left == null ? right == null : right != null && (string)left == (string)right, 
                    (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
                }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    string value1;
                    string value2;
                    decimal? value3;
                    decimal? value4;
                    value1 = try { dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5) } catch (Exception) { ... } ;
                    value2 = try { dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6) } catch (Exception) { ... } ;
                    value3 = try { dataReader.IsDBNull(7) ? default(decimal?) : (decimal?)dataReader.GetDecimal(7) } catch (Exception) { ... } ;
                    value4 = try { dataReader.IsDBNull(8) ? default(decimal?) : (decimal?)dataReader.GetDecimal(8) } catch (Exception) { ... } ;
                    return new TuitionResponse{ 
                        AcademicYear = value1, 
                        Semester = value2, 
                        TuitionAmount = (decimal)value3, 
                        TuitionPaid = (decimal)value4 
                    }
                    ;
                });
            return IsTrue(resultCoordinator.ResultReady)
             ? new StudentDetailResponse{ 
                StudentCode = (string)(resultContext.Values[0]), 
                LastName = (string)(resultContext.Values[1]), 
                FirstName = (string)(resultContext.Values[2]), 
                ClassCode = (string)(resultContext.Values[3]), 
                FacultyCode = (string)(resultContext.Values[4]), 
                Tuitions = (List<TuitionResponse>)(resultContext.Values[5]) 
            }
             : default(StudentDetailResponse);
        }, 
        contextType: TuitionService.Domain.TuitionDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: True, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)"'
2025-06-06T18:11:53.8830931+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T18:11:53.8833862+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T18:11:53.8835174+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T18:11:53.8937027+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T18:11:53.8941976+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T18:11:53.8942986+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T18:11:53.8950124+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T18:11:53.8952529+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T18:11:53.9039730+07:00 [INF] (///) Executed DbCommand ("9"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T18:11:53.9231401+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T18:11:53.9234774+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 19ms reading results.
2025-06-06T18:11:53.9238675+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T18:11:53.9240403+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T18:11:53.9246764+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T18:11:53.9364647+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T18:11:53.9479931+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T18:11:53.9486575+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 395.5634 ms
2025-06-06T18:11:53.9491890+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T18:11:53.9494152+07:00 [DBG] (///) Connection id ""0HND4SU5KRP97"" received FIN.
2025-06-06T18:11:53.9495003+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T18:11:53.9496983+07:00 [DBG] (///) Connection id ""0HND4SU5KRP97"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T18:11:53.9497162+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T18:11:53.9498795+07:00 [DBG] (///) Connection id ""0HND4SU5KRP97"" disconnecting.
2025-06-06T18:11:53.9500952+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 400.52ms
2025-06-06T18:11:53.9505041+07:00 [DBG] (///) Connection id ""0HND4SU5KRP97"" stopped.
2025-06-06T18:11:53.9551707+07:00 [DBG] (///) Connection id ""0HND4SU5KRP98"" accepted.
2025-06-06T18:11:53.9553243+07:00 [DBG] (///) Connection id ""0HND4SU5KRP98"" started.
2025-06-06T18:11:53.9556462+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T18:11:53.9559638+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T18:11:53.9560914+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T18:11:53.9563031+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T18:11:53.9564847+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T18:11:53.9565987+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T18:11:54.0447676+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T18:11:54.0504790+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T18:11:54.0507059+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T18:11:54.0508246+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T18:11:54.0509798+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T18:11:54.0513647+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T18:11:54.0514987+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T18:11:54.0516103+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T18:11:54.0517377+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T18:11:54.0537138+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T18:11:54.0541576+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T18:11:54.0542906+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T18:11:54.0544895+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T18:11:54.0545935+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T18:11:54.0547968+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T18:11:54.0549219+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T18:11:54.0552489+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T18:11:54.0554510+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 98.8622 ms
2025-06-06T18:11:54.0556002+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T18:11:54.0556798+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T18:11:54.0557477+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T18:11:54.0558549+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 100.207ms
2025-06-06T18:11:54.0559739+07:00 [DBG] (///) Connection id ""0HND4SU5KRP98"" disconnecting.
2025-06-06T18:11:54.0560344+07:00 [DBG] (///) Connection id ""0HND4SU5KRP98"" stopped.
2025-06-06T18:11:54.0561960+07:00 [DBG] (///) Connection id ""0HND4SU5KRP98"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T18:11:56.9712324+07:00 [DBG] (///) Connection id ""0HND4SU5KRP99"" accepted.
2025-06-06T18:11:56.9713725+07:00 [DBG] (///) Connection id ""0HND4SU5KRP99"" started.
2025-06-06T18:11:56.9730410+07:00 [INF] (///) Request starting "HTTP/1.1" "PUT" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" 43
2025-06-06T18:11:56.9738964+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T18:11:56.9739892+07:00 [DBG] (///) Endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T18:11:56.9740726+07:00 [DBG] (///) Request matched endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T18:11:56.9743345+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T18:11:56.9752620+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T18:11:56.9754803+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T18:11:56.9758937+07:00 [INF] (///) Executing endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T18:11:56.9822176+07:00 [DBG] (///) Connection id ""0HND4SU5KRP99"", Request id ""0HND4SU5KRP99:00000001"": started reading request body.
2025-06-06T18:11:56.9823968+07:00 [DBG] (///) Connection id ""0HND4SU5KRP99"", Request id ""0HND4SU5KRP99:00000001"": done reading request body.
2025-06-06T18:11:57.0013714+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T18:11:57.0035777+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Tuition>()
    .Include(t => t.TuitionPayments)
    .Where(t => t.StudentCode == __studentCode_0 && t.AcademicYear == __academicYearRequest_1 && (Semester)t.Semester == __semesterRequest_2)
    .FirstOrDefault()"'
2025-06-06T18:11:57.0147251+07:00 [DBG] (///) Including navigation: '"Tuition.TuitionPayments"'.
2025-06-06T18:11:57.0205651+07:00 [INF] (///) Executed endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T18:11:57.0221939+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<Tuition>()
    .Where(t => t.StudentCode == __studentCode_0 && t.AcademicYear == __academicYearRequest_1 && (Semester)t.Semester == __semesterRequest_2)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Program.<>c.<<<Main>$>b__0_16>d.MoveNext() in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api/Program.cs:line 285
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-06T18:11:57.1204505+07:00 [ERR] (///) HTTP "PUT" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 500 in 145.9531 ms
2025-06-06T18:11:57.1206520+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T18:11:57.1207750+07:00 [INF] (///) Request finished "HTTP/1.1" "PUT" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 500 null "application/problem+json" 147.7192ms
2025-06-06T18:11:57.1209100+07:00 [DBG] (///) Connection id ""0HND4SU5KRP99"" disconnecting.
2025-06-06T18:11:57.1209515+07:00 [DBG] (///) Connection id ""0HND4SU5KRP99"" stopped.
2025-06-06T18:11:57.1210088+07:00 [DBG] (///) Connection id ""0HND4SU5KRP99"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T19:45:03.1224522+07:00 [DBG] (///) Connection id ""0HND4SU5KRP9A"" accepted.
2025-06-06T19:45:03.1227547+07:00 [DBG] (///) Connection id ""0HND4SU5KRP9A"" started.
2025-06-06T19:45:03.1229831+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T19:45:03.1232183+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T19:45:03.1232732+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T19:45:03.1233181+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T19:45:03.1234116+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T19:45:03.1234533+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T19:45:03.1243786+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T19:45:03.1251038+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T19:45:03.1265881+07:00 [DBG] (///) Created DbConnection. (1ms).
2025-06-06T19:45:03.1267077+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T19:45:03.1326893+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T19:45:03.1329343+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T19:45:03.1329814+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T19:45:03.1330190+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T19:45:03.1331026+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T19:45:03.1370857+07:00 [INF] (///) Executed DbCommand ("4"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T19:45:03.1374451+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T19:45:03.1375110+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T19:45:03.1376137+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T19:45:03.1376567+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T19:45:03.1378189+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T19:45:03.1378650+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T19:45:03.1381176+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T19:45:03.1382433+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 14.7528 ms
2025-06-06T19:45:03.1383293+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T19:45:03.1383804+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T19:45:03.1384081+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T19:45:03.1384552+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 15.4716ms
2025-06-06T19:45:03.1385063+07:00 [DBG] (///) Connection id ""0HND4SU5KRP9A"" disconnecting.
2025-06-06T19:45:03.1385291+07:00 [DBG] (///) Connection id ""0HND4SU5KRP9A"" stopped.
2025-06-06T19:45:03.1385770+07:00 [DBG] (///) Connection id ""0HND4SU5KRP9A"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T19:45:05.9083041+07:00 [DBG] (///) Connection id ""0HND4SU5KRP9B"" accepted.
2025-06-06T19:45:05.9083915+07:00 [DBG] (///) Connection id ""0HND4SU5KRP9B"" started.
2025-06-06T19:45:05.9085936+07:00 [INF] (///) Request starting "HTTP/1.1" "PUT" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" 43
2025-06-06T19:45:05.9087956+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T19:45:05.9088385+07:00 [DBG] (///) Endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T19:45:05.9088767+07:00 [DBG] (///) Request matched endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T19:45:05.9089626+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T19:45:05.9091374+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T19:45:05.9091578+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T19:45:05.9092038+07:00 [INF] (///) Executing endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T19:45:05.9093270+07:00 [DBG] (///) Connection id ""0HND4SU5KRP9B"", Request id ""0HND4SU5KRP9B:00000001"": started reading request body.
2025-06-06T19:45:05.9093770+07:00 [DBG] (///) Connection id ""0HND4SU5KRP9B"", Request id ""0HND4SU5KRP9B:00000001"": done reading request body.
2025-06-06T19:45:05.9103335+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T19:45:05.9106691+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Tuition>()
    .Include(t => t.TuitionPayments)
    .Where(t => t.StudentCode == __studentCode_0 && t.AcademicYear == __academicYearRequest_1 && (Semester)t.Semester == __semesterRequest_2)
    .FirstOrDefault()"'
2025-06-06T19:45:05.9112497+07:00 [DBG] (///) Including navigation: '"Tuition.TuitionPayments"'.
2025-06-06T19:45:05.9118540+07:00 [INF] (///) Executed endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T19:45:05.9119089+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<Tuition>()
    .Where(t => t.StudentCode == __studentCode_0 && t.AcademicYear == __academicYearRequest_1 && (Semester)t.Semester == __semesterRequest_2)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Program.<>c.<<<Main>$>b__0_16>d.MoveNext() in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api/Program.cs:line 285
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-06T19:45:05.9153459+07:00 [ERR] (///) HTTP "PUT" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 500 in 6.3371 ms
2025-06-06T19:45:05.9154345+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T19:45:05.9155236+07:00 [INF] (///) Request finished "HTTP/1.1" "PUT" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 500 null "application/problem+json" 6.9023ms
2025-06-06T19:45:05.9155794+07:00 [DBG] (///) Connection id ""0HND4SU5KRP9B"" disconnecting.
2025-06-06T19:45:05.9156033+07:00 [DBG] (///) Connection id ""0HND4SU5KRP9B"" stopped.
2025-06-06T19:45:05.9156346+07:00 [DBG] (///) Connection id ""0HND4SU5KRP9B"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T19:46:09.2773205+07:00 [INF] (///) Application is shutting down...
2025-06-06T19:46:09.2783494+07:00 [DBG] (///) Hosting stopping
2025-06-06T19:46:09.2837870+07:00 [DBG] (///) Hosting stopped
2025-06-06T19:46:14.9732810+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-06T19:46:15.0474543+07:00 [INF] (///) No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-06-06T19:46:15.0516275+07:00 [DBG] (///) Hosting starting
2025-06-06T19:46:15.2184125+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-06T19:46:15.2188369+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-06T19:46:15.2822324+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-06T19:46:15.2842061+07:00 [WRN] (///) Overriding address(es) '"https://localhost:31001"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-06T19:46:15.2906076+07:00 [INF] (///) Now listening on: "http://localhost:14100"
2025-06-06T19:46:15.2913136+07:00 [INF] (///) Now listening on: "https://localhost:14101"
2025-06-06T19:46:15.2915210+07:00 [DBG] (///) Loaded hosting startup assembly "TuitionService.Api"
2025-06-06T19:46:15.2918184+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-06T19:46:15.2919042+07:00 [INF] (///) Hosting environment: "Development"
2025-06-06T19:46:15.2919335+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api"
2025-06-06T19:46:15.2919980+07:00 [DBG] (///) Hosting started
2025-06-06T19:46:21.1022337+07:00 [DBG] (///) Connection id ""0HND4V0HO37HE"" accepted.
2025-06-06T19:46:21.1030754+07:00 [DBG] (///) Connection id ""0HND4V0HO37HE"" started.
2025-06-06T19:46:21.1206451+07:00 [INF] (///) Request starting "HTTP/1.1" "PUT" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" 43
2025-06-06T19:46:21.1843703+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T19:46:21.1878087+07:00 [DBG] (///) Endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T19:46:21.1914693+07:00 [DBG] (///) Request matched endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T19:46:21.1972913+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T19:46:21.1980710+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T19:46:21.1983164+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T19:46:21.1991525+07:00 [INF] (///) Executing endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T19:46:21.2049594+07:00 [DBG] (///) Connection id ""0HND4V0HO37HE"", Request id ""0HND4V0HO37HE:00000001"": started reading request body.
2025-06-06T19:46:21.2051892+07:00 [DBG] (///) Connection id ""0HND4V0HO37HE"", Request id ""0HND4V0HO37HE:00000001"": done reading request body.
2025-06-06T19:46:21.3377537+07:00 [DBG] (///) An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration changed for 'Core:EnableSensitiveDataLogging', configuration changed for 'Core:EnableDetailedErrors', configuration changed for 'Core:ConfigureWarnings', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseAdminDatabase', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:SetPostgresVersion', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseRedshift', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ReverseNullOrdering', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:RemoteCertificateValidationCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvideClientCertificatesCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvidePasswordCallback'".
2025-06-06T19:46:21.7448388+07:00 [DBG] (///) The index "{'StudentCode'}" was not created on entity type '"Tuition"' as the properties are already covered by the index "{'StudentCode', 'AcademicYear', 'Semester'}".
2025-06-06T19:46:21.7451548+07:00 [DBG] (///) The index "{'StudentCode', 'AcademicYear', 'Semester'}" was not created on entity type '"TuitionPayment"' as the properties are already covered by the index "{'StudentCode', 'AcademicYear', 'Semester', 'PaymentDate'}".
2025-06-06T19:46:21.8172299+07:00 [WRN] (///) Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-06-06T19:46:21.8384567+07:00 [DBG] (///) The property '"GlobalStudentCode"."StudentBasicInfoStudentCode"' was created in shadow state because there are no eligible CLR members with a matching name.
2025-06-06T19:46:21.9359659+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T19:46:21.9854338+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Tuition>()
    .Include(t => t.TuitionPayments)
    .Where(t => t.StudentCode == __studentCode_0 && t.AcademicYear == __academicYearRequest_1 && t.Semester == __semesterRequest_2)
    .FirstOrDefault()"'
2025-06-06T19:46:22.0262595+07:00 [DBG] (///) Including navigation: '"Tuition.TuitionPayments"'.
2025-06-06T19:46:22.3094487+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Tuition>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Tuition>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Tuition.StudentCode (string) Required PK FK AfterSave:Throw MaxLength(10), 0], [Property: Tuition.AcademicYear (string) Required PK Index AfterSave:Throw MaxLength(9), 1], [Property: Tuition.Semester (int) Required PK Index AfterSave:Throw, 2], [Property: Tuition.TuitionFee (int) Required, 3] }
                1 -> 0
                2 -> 1
                3 -> 2
                4 -> Dictionary<IProperty, int> { [Property: TuitionPayment.StudentCode (string) Required PK FK Index AfterSave:Throw MaxLength(10), 4], [Property: TuitionPayment.AcademicYear (string) Required PK FK Index AfterSave:Throw MaxLength(9), 5], [Property: TuitionPayment.Semester (int) Required PK FK Index AfterSave:Throw, 6], [Property: TuitionPayment.PaymentDate (DateOnly) Required PK Index AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: TuitionPayment.AmountPaid (int) Required, 8] }
                5 -> 4
                6 -> 5
                7 -> 6
                8 -> 7
            SELECT t1.student_code, t1.academic_year, t1.semester, t1.tuition_fee, t0.student_code, t0.academic_year, t0.semester, t0.payment_date, t0.amount_paid
            FROM 
            (
                SELECT TOP(1) t.student_code, t.academic_year, t.semester, t.tuition_fee
                FROM tuition AS t
                WHERE ((t.student_code == @__studentCode_0) && (t.academic_year == @__academicYearRequest_1)) && (t.semester == @__semesterRequest_2)
            ) AS t1
            LEFT JOIN tuition_payment AS t0 ON ((t1.student_code == t0.student_code) && (t1.academic_year == t0.academic_year)) && (t1.semester == t0.semester)
            ORDER BY t1.student_code ASC, t1.academic_year ASC, t1.semester ASC, t0.student_code ASC, t0.academic_year ASC, t0.semester ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Tuition.StudentCode (string) Required PK FK AfterSave:Throw MaxLength(10), 0], [Property: Tuition.AcademicYear (string) Required PK Index AfterSave:Throw MaxLength(9), 1], [Property: Tuition.Semester (int) Required PK Index AfterSave:Throw, 2], [Property: Tuition.TuitionFee (int) Required, 3] }
                1 -> 0
                2 -> 1
                3 -> 2
                4 -> Dictionary<IProperty, int> { [Property: TuitionPayment.StudentCode (string) Required PK FK Index AfterSave:Throw MaxLength(10), 4], [Property: TuitionPayment.AcademicYear (string) Required PK FK Index AfterSave:Throw MaxLength(9), 5], [Property: TuitionPayment.Semester (int) Required PK FK Index AfterSave:Throw, 6], [Property: TuitionPayment.PaymentDate (DateOnly) Required PK Index AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: TuitionPayment.AmountPaid (int) Required, 8] }
                5 -> 4
                6 -> 5
                7 -> 6
                8 -> 7
            SELECT t1.student_code, t1.academic_year, t1.semester, t1.tuition_fee, t0.student_code, t0.academic_year, t0.semester, t0.payment_date, t0.amount_paid
            FROM 
            (
                SELECT TOP(1) t.student_code, t.academic_year, t.semester, t.tuition_fee
                FROM tuition AS t
                WHERE ((t.student_code == @__studentCode_0) && (t.academic_year == @__academicYearRequest_1)) && (t.semester == @__semesterRequest_2)
            ) AS t1
            LEFT JOIN tuition_payment AS t0 ON ((t1.student_code == t0.student_code) && (t1.academic_year == t0.academic_year)) && (t1.semester == t0.semester)
            ORDER BY t1.student_code ASC, t1.academic_year ASC, t1.semester ASC, t0.student_code ASC, t0.academic_year ASC, t0.semester ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                Tuition entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    Tuition instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(Tuition);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Tuition.StudentCode, Tuition.AcademicYear, Tuition.Semester PK | Resolver: c => c.Dependencies.Model.FindEntityType(\"TuitionService.Domain.Entity.Tuition\").FindPrimaryKey()], 
                        keyValues: new object[]
                        { 
                            try { (object)dataReader.GetString(0) } catch (Exception) { ... } , 
                            try { (object)dataReader.GetString(1) } catch (Exception) { ... } , 
                            try { (object)dataReader.GetInt32(2) } catch (Exception) { ... }  
                        }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (Tuition)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: Tuition | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType(\"TuitionService.Domain.Entity.Tuition\")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: Tuition | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType(\"TuitionService.Domain.Entity.Tuition\")]: 
                                {
                                    return 
                                    {
                                        Tuition instance;
                                        instance = new Tuition();
                                        instance.<StudentCode>k__BackingField = try { dataReader.GetString(0) } catch (Exception) { ... } ;
                                        instance.<AcademicYear>k__BackingField = try { dataReader.GetString(1) } catch (Exception) { ... } ;
                                        instance.<Semester>k__BackingField = try { dataReader.GetInt32(2) } catch (Exception) { ... } ;
                                        instance.<TuitionFee>k__BackingField = try { dataReader.GetInt32(3) } catch (Exception) { ... } ;
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Tuition | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType(\"TuitionService.Domain.Entity.Tuition\")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Tuition)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Tuition, Tuition>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (Tuition)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                    { 
                        try { dataReader.GetString(0) } catch (Exception) { ... } , 
                        try { dataReader.GetString(1) } catch (Exception) { ... } , 
                        (object)try { (int?)dataReader.GetInt32(2) } catch (Exception) { ... }  
                    }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                    { 
                        try { dataReader.GetString(0) } catch (Exception) { ... } , 
                        try { dataReader.GetString(1) } catch (Exception) { ... } , 
                        (object)try { (int?)dataReader.GetInt32(2) } catch (Exception) { ... }  
                    }], 
                    navigation: [LIFTABLE Constant: Navigation: Tuition.TuitionPayments (ICollection<TuitionPayment>) Collection ToDependent TuitionPayment Inverse: Tuition | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType(\"TuitionService.Domain.Entity.Tuition\").FindNavigation(\"TuitionPayments\")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Tuition, ICollection<TuitionPayment>, TuitionPayment> | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType(\"TuitionService.Domain.Entity.Tuition\").FindNavigation(\"TuitionPayments\").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Tuition, TuitionPayment>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    try { dataReader.GetString(0) } catch (Exception) { ... } , 
                    try { dataReader.GetString(1) } catch (Exception) { ... } , 
                    (object)try { (int?)dataReader.GetInt32(2) } catch (Exception) { ... }  
                }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    try { dataReader.GetString(0) } catch (Exception) { ... } , 
                    try { dataReader.GetString(1) } catch (Exception) { ... } , 
                    (object)try { (int?)dataReader.GetInt32(2) } catch (Exception) { ... }  
                }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    try { dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4) } catch (Exception) { ... } , 
                    try { dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5) } catch (Exception) { ... } , 
                    (object)try { dataReader.IsDBNull(6) ? default(int?) : (int?)dataReader.GetInt32(6) } catch (Exception) { ... } , 
                    (object)try { dataReader.IsDBNull(7) ? default(DateOnly?) : (DateOnly?)dataReader.GetFieldValue<DateOnly>(7) } catch (Exception) { ... }  
                }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
                { 
                    (left, right) => left == null ? right == null : right != null && (string)left == (string)right, 
                    (left, right) => left == null ? right == null : right != null && (string)left == (string)right, 
                    (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
                }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
                { 
                    (left, right) => left == null ? right == null : right != null && (string)left == (string)right, 
                    (left, right) => left == null ? right == null : right != null && (string)left == (string)right, 
                    (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
                }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
                { 
                    (left, right) => left == null ? right == null : right != null && (string)left == (string)right, 
                    (left, right) => left == null ? right == null : right != null && (string)left == (string)right, 
                    (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                    (left, right) => left == null ? right == null : right != null && ((DateOnly)left).Equals((DateOnly)right) 
                }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    TuitionPayment entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        TuitionPayment instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(TuitionPayment);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: TuitionPayment.StudentCode, TuitionPayment.AcademicYear, TuitionPayment.Semester, TuitionPayment.PaymentDate PK | Resolver: c => c.Dependencies.Model.FindEntityType(\"TuitionService.Domain.Entity.TuitionPayment\").FindPrimaryKey()], 
                            keyValues: new object[]
                            { 
                                try { dataReader.IsDBNull(4) ? default(object) : (object)dataReader.GetString(4) } catch (Exception) { ... } , 
                                try { dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetString(5) } catch (Exception) { ... } , 
                                try { dataReader.IsDBNull(6) ? default(object) : (object)dataReader.GetInt32(6) } catch (Exception) { ... } , 
                                try { dataReader.IsDBNull(7) ? default(object) : (object)dataReader.GetFieldValue<DateOnly>(7) } catch (Exception) { ... }  
                            }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (TuitionPayment)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: TuitionPayment | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType(\"TuitionService.Domain.Entity.TuitionPayment\")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: TuitionPayment | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType(\"TuitionService.Domain.Entity.TuitionPayment\")]: 
                                    {
                                        return 
                                        {
                                            TuitionPayment instance;
                                            instance = new TuitionPayment();
                                            instance.<StudentCode>k__BackingField = try { dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4) } catch (Exception) { ... } ;
                                            instance.<AcademicYear>k__BackingField = try { dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5) } catch (Exception) { ... } ;
                                            instance.<Semester>k__BackingField = try { dataReader.IsDBNull(6) ? default(int) : dataReader.GetInt32(6) } catch (Exception) { ... } ;
                                            instance.<PaymentDate>k__BackingField = try { dataReader.IsDBNull(7) ? default(DateOnly) : dataReader.GetFieldValue<DateOnly>(7) } catch (Exception) { ... } ;
                                            instance.<AmountPaid>k__BackingField = try { dataReader.IsDBNull(8) ? default(int) : dataReader.GetInt32(8) } catch (Exception) { ... } ;
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: TuitionPayment | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType(\"TuitionService.Domain.Entity.TuitionPayment\")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(TuitionPayment)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: [LIFTABLE Constant: Navigation: TuitionPayment.Tuition (Tuition) ToPrincipal Tuition Inverse: TuitionPayments | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType(\"TuitionService.Domain.Entity.TuitionPayment\").FindNavigation(\"Tuition\")], 
                fixup: (namelessParameter{9}, namelessParameter{10}) => 
                {
                    [LIFTABLE Constant: ClrICollectionAccessor<Tuition, ICollection<TuitionPayment>, TuitionPayment> | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType(\"TuitionService.Domain.Entity.Tuition\").FindNavigation(\"TuitionPayments\").GetCollectionAccessor()].Add(
                        entity: namelessParameter{9}, 
                        value: namelessParameter{10}, 
                        forMaterialization: True);
                    return namelessParameter{10}.<Tuition>k__BackingField = namelessParameter{9};
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (Tuition)(resultContext.Values[0]) : default(Tuition);
        }, 
        contextType: TuitionService.Domain.TuitionDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: True, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)"'
2025-06-06T19:46:22.3479513+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T19:46:22.3811297+07:00 [DBG] (///) Created DbConnection. (31ms).
2025-06-06T19:46:22.3843365+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T19:46:22.4762391+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T19:46:22.4830080+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T19:46:22.4890088+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (2ms).
2025-06-06T19:46:22.4965442+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (13ms).
2025-06-06T19:46:22.5051020+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888', @__academicYearRequest_1='2024-2025', @__semesterRequest_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t1.student_code, t1.academic_year, t1.semester, t1.tuition_fee, t0.student_code, t0.academic_year, t0.semester, t0.payment_date, t0.amount_paid
FROM (
    SELECT t.student_code, t.academic_year, t.semester, t.tuition_fee
    FROM tuition AS t
    WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYearRequest_1 AND t.semester = @__semesterRequest_2
    LIMIT 1
) AS t1
LEFT JOIN tuition_payment AS t0 ON t1.student_code = t0.student_code AND t1.academic_year = t0.academic_year AND t1.semester = t0.semester
ORDER BY t1.student_code, t1.academic_year, t1.semester, t0.student_code, t0.academic_year, t0.semester"
2025-06-06T19:46:22.5851282+07:00 [INF] (///) Executed DbCommand ("77"ms) [Parameters=["@__studentCode_0='N22DCCN888', @__academicYearRequest_1='2024-2025', @__semesterRequest_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t1.student_code, t1.academic_year, t1.semester, t1.tuition_fee, t0.student_code, t0.academic_year, t0.semester, t0.payment_date, t0.amount_paid
FROM (
    SELECT t.student_code, t.academic_year, t.semester, t.tuition_fee
    FROM tuition AS t
    WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYearRequest_1 AND t.semester = @__semesterRequest_2
    LIMIT 1
) AS t1
LEFT JOIN tuition_payment AS t0 ON t1.student_code = t0.student_code AND t1.academic_year = t0.academic_year AND t1.semester = t0.semester
ORDER BY t1.student_code, t1.academic_year, t1.semester, t0.student_code, t0.academic_year, t0.semester"
2025-06-06T19:46:22.6382686+07:00 [DBG] (///) Context '"TuitionDbContext"' started tracking '"Tuition"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2}"'.
2025-06-06T19:46:22.6752743+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T19:46:22.6855027+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 92ms reading results.
2025-06-06T19:46:22.6918054+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T19:46:22.6983265+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (6ms).
2025-06-06T19:46:22.7036952+07:00 [DBG] (///) SaveChanges starting for '"TuitionDbContext"'.
2025-06-06T19:46:22.7078593+07:00 [DBG] (///) DetectChanges starting for '"TuitionDbContext"'.
2025-06-06T19:46:22.7236518+07:00 [DBG] (///) 1 entities were added and 0 entities were removed from navigation '"Tuition"."TuitionPayments"' on entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2}"'.
2025-06-06T19:46:22.7676537+07:00 [DBG] (///) The navigation '"TuitionPayment"."Tuition"' for entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2, PaymentDate: 06/06/2025}"' was detected as changed.
2025-06-06T19:46:22.7731839+07:00 [DBG] (///) Context '"TuitionDbContext"' started tracking '"TuitionPayment"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2, PaymentDate: 06/06/2025}"'.
2025-06-06T19:46:22.7760703+07:00 [DBG] (///) DetectChanges completed for '"TuitionDbContext"'.
2025-06-06T19:46:22.8387688+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T19:46:22.8394923+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T19:46:22.8418440+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T19:46:22.8419922+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T19:46:22.8423391+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T19:46:22.8425336+07:00 [DBG] (///) Executing DbCommand [Parameters=["@p1='2024-2025' (Nullable = false), @p2='06/06/2025' (DbType = Date), @p3='2', @p4='N22DCCN888' (Nullable = false), @p0='850877'"], CommandType='Text', CommandTimeout='30']"
""UPDATE tuition_payment SET amount_paid = @p0
WHERE academic_year = @p1 AND payment_date = @p2 AND semester = @p3 AND student_code = @p4;"
2025-06-06T19:46:22.8672673+07:00 [INF] (///) Executed DbCommand ("25"ms) [Parameters=["@p1='2024-2025' (Nullable = false), @p2='06/06/2025' (DbType = Date), @p3='2', @p4='N22DCCN888' (Nullable = false), @p0='850877'"], CommandType='Text', CommandTimeout='30']"
""UPDATE tuition_payment SET amount_paid = @p0
WHERE academic_year = @p1 AND payment_date = @p2 AND semester = @p3 AND student_code = @p4;"
2025-06-06T19:46:22.8728966+07:00 [DBG] (///) "Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions."
2025-06-06T19:46:22.8751718+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T19:46:22.8753929+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 7ms reading results.
2025-06-06T19:46:22.8764449+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T19:46:22.8765881+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T19:46:22.8835195+07:00 [INF] (///) Executed endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T19:46:22.8853644+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Npgsql.EntityFrameworkCore.PostgreSQL.Update.Internal.NpgsqlModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Update.Internal.NpgsqlModificationCommandBatch.Consume(RelationalDataReader reader, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Program.<>c.<<<Main>$>b__0_16>d.MoveNext() in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api/Program.cs:line 314
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-06T19:46:22.9749994+07:00 [ERR] (///) HTTP "PUT" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 500 in 1772.8902 ms
2025-06-06T19:46:22.9830917+07:00 [DBG] (///) Connection id ""0HND4V0HO37HE"" received FIN.
2025-06-06T19:46:22.9834023+07:00 [DBG] (///) Connection id ""0HND4V0HO37HE"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T19:46:22.9865511+07:00 [DBG] (///) Connection id ""0HND4V0HO37HE"" disconnecting.
2025-06-06T19:46:22.9904980+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T19:46:22.9965222+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T19:46:23.0003055+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (2ms).
2025-06-06T19:46:23.0040897+07:00 [INF] (///) Request finished "HTTP/1.1" "PUT" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 500 null "application/problem+json" 1884.2534ms
2025-06-06T19:46:23.0102979+07:00 [DBG] (///) Connection id ""0HND4V0HO37HE"" stopped.
2025-06-06T19:48:31.5953768+07:00 [DBG] (///) Connection id ""0HND4V0HO37HF"" accepted.
2025-06-06T19:48:31.5955766+07:00 [DBG] (///) Connection id ""0HND4V0HO37HF"" started.
2025-06-06T19:48:31.5965528+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" null
2025-06-06T19:48:31.5975211+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T19:48:31.5976867+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T19:48:31.5978484+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T19:48:31.5981077+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T19:48:31.5982179+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T19:48:31.6278291+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T19:48:31.6337067+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<TuitionPayment>()
    .Where(p => p.StudentCode == __studentCode_0 && p.AcademicYear == __academicYear_1 && p.Semester == __semester_2)
    .Select(p => new PaymentResponse{ 
        PaymentDate = p.PaymentDate.ToString(), 
        AmountPaid = (decimal)p.AmountPaid 
    }
    )"'
2025-06-06T19:48:31.6498065+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => SingleQueryingEnumerable.Create<PaymentResponse>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
        SELECT t.payment_date, CAST(t.amount_paid AS numeric)
        FROM tuition_payment AS t
        WHERE ((t.student_code == @__studentCode_0) && (t.academic_year == @__academicYear_1)) && (t.semester == @__semester_2)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> 0
            1 -> 1
        SELECT t.payment_date, CAST(t.amount_paid AS numeric)
        FROM tuition_payment AS t
        WHERE ((t.student_code == @__studentCode_0) && (t.academic_year == @__academicYear_1)) && (t.semester == @__semester_2), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        DateOnly? value1;
        decimal? value2;
        value1 = try { (DateOnly?)dataReader.GetFieldValue<DateOnly>(0) } catch (Exception) { ... } ;
        value2 = try { dataReader.IsDBNull(1) ? default(decimal?) : (decimal?)dataReader.GetDecimal(1) } catch (Exception) { ... } ;
        return new PaymentResponse{ 
            PaymentDate = value1 == default(DateOnly?) ? null : ((DateOnly)value1).ToString(), 
            AmountPaid = (decimal)value2 
        }
        ;
    }, 
    contextType: TuitionService.Domain.TuitionDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: True, 
    threadSafetyChecksEnabled: True)"'
2025-06-06T19:48:31.6521913+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T19:48:31.6523083+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T19:48:31.6523539+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T19:48:31.6524380+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T19:48:31.6525985+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T19:48:31.6526593+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T19:48:31.6527053+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T19:48:31.6528167+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T19:48:31.6540508+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T19:48:31.6548996+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T19:48:31.6549948+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T19:48:31.6551424+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T19:48:31.6552044+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T19:48:31.6556839+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T19:48:31.6593500+07:00 [INF] (///) Writing value of type '"List`1"' as Json.
2025-06-06T19:48:31.6634802+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T19:48:31.6637754+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 200 in 65.4937 ms
2025-06-06T19:48:31.6640428+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T19:48:31.6641479+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T19:48:31.6642932+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T19:48:31.6644469+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 200 null "application/json; charset=utf-8" 67.8615ms
2025-06-06T19:48:31.6644693+07:00 [DBG] (///) Connection id ""0HND4V0HO37HF"" received FIN.
2025-06-06T19:48:31.6645758+07:00 [DBG] (///) Connection id ""0HND4V0HO37HF"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T19:48:31.6646984+07:00 [DBG] (///) Connection id ""0HND4V0HO37HF"" disconnecting.
2025-06-06T19:48:31.6658865+07:00 [DBG] (///) Connection id ""0HND4V0HO37HF"" stopped.
2025-06-06T19:48:34.3138450+07:00 [DBG] (///) Connection id ""0HND4V0HO37HG"" accepted.
2025-06-06T19:48:34.3139415+07:00 [DBG] (///) Connection id ""0HND4V0HO37HG"" started.
2025-06-06T19:48:34.3141778+07:00 [INF] (///) Request starting "HTTP/1.1" "PUT" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" 43
2025-06-06T19:48:34.3146149+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T19:48:34.3146760+07:00 [DBG] (///) Endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T19:48:34.3147235+07:00 [DBG] (///) Request matched endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T19:48:34.3148438+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T19:48:34.3150482+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T19:48:34.3150728+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T19:48:34.3151406+07:00 [INF] (///) Executing endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T19:48:34.3152668+07:00 [DBG] (///) Connection id ""0HND4V0HO37HG"", Request id ""0HND4V0HO37HG:00000001"": started reading request body.
2025-06-06T19:48:34.3153291+07:00 [DBG] (///) Connection id ""0HND4V0HO37HG"", Request id ""0HND4V0HO37HG:00000001"": done reading request body.
2025-06-06T19:48:34.3556053+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T19:48:34.3585741+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T19:48:34.3586350+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T19:48:34.3586641+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T19:48:34.3587082+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T19:48:34.3588556+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T19:48:34.3588885+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T19:48:34.3589235+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T19:48:34.3589736+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888', @__academicYearRequest_1='2024-2025', @__semesterRequest_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t1.student_code, t1.academic_year, t1.semester, t1.tuition_fee, t0.student_code, t0.academic_year, t0.semester, t0.payment_date, t0.amount_paid
FROM (
    SELECT t.student_code, t.academic_year, t.semester, t.tuition_fee
    FROM tuition AS t
    WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYearRequest_1 AND t.semester = @__semesterRequest_2
    LIMIT 1
) AS t1
LEFT JOIN tuition_payment AS t0 ON t1.student_code = t0.student_code AND t1.academic_year = t0.academic_year AND t1.semester = t0.semester
ORDER BY t1.student_code, t1.academic_year, t1.semester, t0.student_code, t0.academic_year, t0.semester"
2025-06-06T19:48:34.3604957+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888', @__academicYearRequest_1='2024-2025', @__semesterRequest_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t1.student_code, t1.academic_year, t1.semester, t1.tuition_fee, t0.student_code, t0.academic_year, t0.semester, t0.payment_date, t0.amount_paid
FROM (
    SELECT t.student_code, t.academic_year, t.semester, t.tuition_fee
    FROM tuition AS t
    WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYearRequest_1 AND t.semester = @__semesterRequest_2
    LIMIT 1
) AS t1
LEFT JOIN tuition_payment AS t0 ON t1.student_code = t0.student_code AND t1.academic_year = t0.academic_year AND t1.semester = t0.semester
ORDER BY t1.student_code, t1.academic_year, t1.semester, t0.student_code, t0.academic_year, t0.semester"
2025-06-06T19:48:34.3609060+07:00 [DBG] (///) Context '"TuitionDbContext"' started tracking '"Tuition"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2}"'.
2025-06-06T19:48:34.3610723+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T19:48:34.3611261+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T19:48:34.3612206+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T19:48:34.3612635+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T19:48:34.3613533+07:00 [DBG] (///) SaveChanges starting for '"TuitionDbContext"'.
2025-06-06T19:48:34.3614152+07:00 [DBG] (///) DetectChanges starting for '"TuitionDbContext"'.
2025-06-06T19:48:34.3615459+07:00 [DBG] (///) 1 entities were added and 0 entities were removed from navigation '"Tuition"."TuitionPayments"' on entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2}"'.
2025-06-06T19:48:34.3626158+07:00 [DBG] (///) The navigation '"TuitionPayment"."Tuition"' for entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2, PaymentDate: 06/06/2025}"' was detected as changed.
2025-06-06T19:48:34.3627450+07:00 [DBG] (///) Context '"TuitionDbContext"' started tracking '"TuitionPayment"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2, PaymentDate: 06/06/2025}"'.
2025-06-06T19:48:34.3627922+07:00 [DBG] (///) DetectChanges completed for '"TuitionDbContext"'.
2025-06-06T19:48:34.3633525+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T19:48:34.3634009+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T19:48:34.3635294+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T19:48:34.3635543+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T19:48:34.3636039+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T19:48:34.3636605+07:00 [DBG] (///) Executing DbCommand [Parameters=["@p1='2024-2025' (Nullable = false), @p2='06/06/2025' (DbType = Date), @p3='2', @p4='N22DCCN888' (Nullable = false), @p0='850877'"], CommandType='Text', CommandTimeout='30']"
""UPDATE tuition_payment SET amount_paid = @p0
WHERE academic_year = @p1 AND payment_date = @p2 AND semester = @p3 AND student_code = @p4;"
2025-06-06T19:48:34.3645382+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@p1='2024-2025' (Nullable = false), @p2='06/06/2025' (DbType = Date), @p3='2', @p4='N22DCCN888' (Nullable = false), @p0='850877'"], CommandType='Text', CommandTimeout='30']"
""UPDATE tuition_payment SET amount_paid = @p0
WHERE academic_year = @p1 AND payment_date = @p2 AND semester = @p3 AND student_code = @p4;"
2025-06-06T19:48:34.3647510+07:00 [DBG] (///) "Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions."
2025-06-06T19:48:34.3648880+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T19:48:34.3649239+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T19:48:34.3650297+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T19:48:34.3650699+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T19:48:34.3653238+07:00 [INF] (///) Executed endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T19:48:34.3653781+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Npgsql.EntityFrameworkCore.PostgreSQL.Update.Internal.NpgsqlModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Update.Internal.NpgsqlModificationCommandBatch.Consume(RelationalDataReader reader, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Program.<>c.<<<Main>$>b__0_16>d.MoveNext() in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api/Program.cs:line 314
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-06T19:48:34.3704261+07:00 [ERR] (///) HTTP "PUT" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 500 in 55.5077 ms
2025-06-06T19:48:34.3705495+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T19:48:34.3706242+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T19:48:34.3706626+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T19:48:34.3708217+07:00 [INF] (///) Request finished "HTTP/1.1" "PUT" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 500 null "application/problem+json" 56.5437ms
2025-06-06T19:48:34.3708979+07:00 [DBG] (///) Connection id ""0HND4V0HO37HG"" disconnecting.
2025-06-06T19:48:34.3709198+07:00 [DBG] (///) Connection id ""0HND4V0HO37HG"" stopped.
2025-06-06T19:48:34.3709963+07:00 [DBG] (///) Connection id ""0HND4V0HO37HG"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T19:57:58.2416769+07:00 [INF] (///) Application is shutting down...
2025-06-06T19:57:58.2431224+07:00 [DBG] (///) Hosting stopping
2025-06-06T19:57:58.2510104+07:00 [DBG] (///) Hosting stopped
2025-06-06T19:58:02.3496868+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-06T19:58:02.4840464+07:00 [INF] (///) No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-06-06T19:58:02.4892783+07:00 [DBG] (///) Hosting starting
2025-06-06T19:58:02.7008174+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-06T19:58:02.7013722+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-06T19:58:02.7909142+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-06T19:58:02.7936591+07:00 [WRN] (///) Overriding address(es) '"https://localhost:31001"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-06T19:58:02.8100266+07:00 [INF] (///) Now listening on: "http://localhost:14100"
2025-06-06T19:58:02.8110197+07:00 [INF] (///) Now listening on: "https://localhost:14101"
2025-06-06T19:58:02.8112497+07:00 [DBG] (///) Loaded hosting startup assembly "TuitionService.Api"
2025-06-06T19:58:02.8117019+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-06T19:58:02.8117663+07:00 [INF] (///) Hosting environment: "Development"
2025-06-06T19:58:02.8117936+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api"
2025-06-06T19:58:02.8118526+07:00 [DBG] (///) Hosting started
2025-06-06T19:58:24.1070862+07:00 [DBG] (///) Connection id ""0HND4V7976NU6"" accepted.
2025-06-06T19:58:24.1080438+07:00 [DBG] (///) Connection id ""0HND4V7976NU6"" started.
2025-06-06T19:58:24.1369052+07:00 [INF] (///) Request starting "HTTP/1.1" "PUT" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" 43
2025-06-06T19:58:24.1990433+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T19:58:24.2034157+07:00 [DBG] (///) Endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T19:58:24.2066093+07:00 [DBG] (///) Request matched endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T19:58:24.2129358+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T19:58:24.2138682+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T19:58:24.2140578+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T19:58:24.2151748+07:00 [INF] (///) Executing endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T19:58:24.2223365+07:00 [DBG] (///) Connection id ""0HND4V7976NU6"", Request id ""0HND4V7976NU6:00000001"": started reading request body.
2025-06-06T19:58:24.2227383+07:00 [DBG] (///) Connection id ""0HND4V7976NU6"", Request id ""0HND4V7976NU6:00000001"": done reading request body.
2025-06-06T19:58:24.4486387+07:00 [DBG] (///) An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration changed for 'Core:EnableSensitiveDataLogging', configuration changed for 'Core:EnableDetailedErrors', configuration changed for 'Core:ConfigureWarnings', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseAdminDatabase', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:SetPostgresVersion', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseRedshift', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ReverseNullOrdering', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:RemoteCertificateValidationCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvideClientCertificatesCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvidePasswordCallback'".
2025-06-06T19:58:25.0231513+07:00 [DBG] (///) The index "{'StudentCode'}" was not created on entity type '"Tuition"' as the properties are already covered by the index "{'StudentCode', 'AcademicYear', 'Semester'}".
2025-06-06T19:58:25.0240292+07:00 [DBG] (///) The index "{'StudentCode', 'AcademicYear', 'Semester'}" was not created on entity type '"TuitionPayment"' as the properties are already covered by the index "{'StudentCode', 'AcademicYear', 'Semester', 'PaymentDate'}".
2025-06-06T19:58:25.1054606+07:00 [WRN] (///) Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-06-06T19:58:25.1300987+07:00 [DBG] (///) The property '"GlobalStudentCode"."StudentBasicInfoStudentCode"' was created in shadow state because there are no eligible CLR members with a matching name.
2025-06-06T19:58:25.2595080+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T19:58:25.3279761+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Tuition>()
    .Include(t => t.TuitionPayments)
    .Where(t => t.StudentCode == __studentCode_0 && t.AcademicYear == __academicYearRequest_1 && t.Semester == __semesterRequest_2)
    .FirstOrDefault()"'
2025-06-06T19:58:25.3882162+07:00 [DBG] (///) Including navigation: '"Tuition.TuitionPayments"'.
2025-06-06T19:58:25.7222735+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Tuition>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Tuition>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Tuition.StudentCode (string) Required PK FK AfterSave:Throw MaxLength(10), 0], [Property: Tuition.AcademicYear (string) Required PK Index AfterSave:Throw MaxLength(9), 1], [Property: Tuition.Semester (int) Required PK Index AfterSave:Throw, 2], [Property: Tuition.TuitionFee (int) Required, 3] }
                1 -> 0
                2 -> 1
                3 -> 2
                4 -> Dictionary<IProperty, int> { [Property: TuitionPayment.StudentCode (string) Required PK FK Index AfterSave:Throw MaxLength(10), 4], [Property: TuitionPayment.AcademicYear (string) Required PK FK Index AfterSave:Throw MaxLength(9), 5], [Property: TuitionPayment.Semester (int) Required PK FK Index AfterSave:Throw, 6], [Property: TuitionPayment.PaymentDate (DateOnly) Required PK Index AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: TuitionPayment.AmountPaid (int) Required, 8] }
                5 -> 4
                6 -> 5
                7 -> 6
                8 -> 7
            SELECT t1.student_code, t1.academic_year, t1.semester, t1.tuition_fee, t0.student_code, t0.academic_year, t0.semester, t0.payment_date, t0.amount_paid
            FROM 
            (
                SELECT TOP(1) t.student_code, t.academic_year, t.semester, t.tuition_fee
                FROM tuition AS t
                WHERE ((t.student_code == @__studentCode_0) && (t.academic_year == @__academicYearRequest_1)) && (t.semester == @__semesterRequest_2)
            ) AS t1
            LEFT JOIN tuition_payment AS t0 ON ((t1.student_code == t0.student_code) && (t1.academic_year == t0.academic_year)) && (t1.semester == t0.semester)
            ORDER BY t1.student_code ASC, t1.academic_year ASC, t1.semester ASC, t0.student_code ASC, t0.academic_year ASC, t0.semester ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Tuition.StudentCode (string) Required PK FK AfterSave:Throw MaxLength(10), 0], [Property: Tuition.AcademicYear (string) Required PK Index AfterSave:Throw MaxLength(9), 1], [Property: Tuition.Semester (int) Required PK Index AfterSave:Throw, 2], [Property: Tuition.TuitionFee (int) Required, 3] }
                1 -> 0
                2 -> 1
                3 -> 2
                4 -> Dictionary<IProperty, int> { [Property: TuitionPayment.StudentCode (string) Required PK FK Index AfterSave:Throw MaxLength(10), 4], [Property: TuitionPayment.AcademicYear (string) Required PK FK Index AfterSave:Throw MaxLength(9), 5], [Property: TuitionPayment.Semester (int) Required PK FK Index AfterSave:Throw, 6], [Property: TuitionPayment.PaymentDate (DateOnly) Required PK Index AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: TuitionPayment.AmountPaid (int) Required, 8] }
                5 -> 4
                6 -> 5
                7 -> 6
                8 -> 7
            SELECT t1.student_code, t1.academic_year, t1.semester, t1.tuition_fee, t0.student_code, t0.academic_year, t0.semester, t0.payment_date, t0.amount_paid
            FROM 
            (
                SELECT TOP(1) t.student_code, t.academic_year, t.semester, t.tuition_fee
                FROM tuition AS t
                WHERE ((t.student_code == @__studentCode_0) && (t.academic_year == @__academicYearRequest_1)) && (t.semester == @__semesterRequest_2)
            ) AS t1
            LEFT JOIN tuition_payment AS t0 ON ((t1.student_code == t0.student_code) && (t1.academic_year == t0.academic_year)) && (t1.semester == t0.semester)
            ORDER BY t1.student_code ASC, t1.academic_year ASC, t1.semester ASC, t0.student_code ASC, t0.academic_year ASC, t0.semester ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                Tuition entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    Tuition instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(Tuition);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Tuition.StudentCode, Tuition.AcademicYear, Tuition.Semester PK | Resolver: c => c.Dependencies.Model.FindEntityType(\"TuitionService.Domain.Entity.Tuition\").FindPrimaryKey()], 
                        keyValues: new object[]
                        { 
                            try { (object)dataReader.GetString(0) } catch (Exception) { ... } , 
                            try { (object)dataReader.GetString(1) } catch (Exception) { ... } , 
                            try { (object)dataReader.GetInt32(2) } catch (Exception) { ... }  
                        }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (Tuition)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: Tuition | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType(\"TuitionService.Domain.Entity.Tuition\")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: Tuition | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType(\"TuitionService.Domain.Entity.Tuition\")]: 
                                {
                                    return 
                                    {
                                        Tuition instance;
                                        instance = new Tuition();
                                        instance.<StudentCode>k__BackingField = try { dataReader.GetString(0) } catch (Exception) { ... } ;
                                        instance.<AcademicYear>k__BackingField = try { dataReader.GetString(1) } catch (Exception) { ... } ;
                                        instance.<Semester>k__BackingField = try { dataReader.GetInt32(2) } catch (Exception) { ... } ;
                                        instance.<TuitionFee>k__BackingField = try { dataReader.GetInt32(3) } catch (Exception) { ... } ;
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Tuition | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType(\"TuitionService.Domain.Entity.Tuition\")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Tuition)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Tuition, Tuition>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (Tuition)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                    { 
                        try { dataReader.GetString(0) } catch (Exception) { ... } , 
                        try { dataReader.GetString(1) } catch (Exception) { ... } , 
                        (object)try { (int?)dataReader.GetInt32(2) } catch (Exception) { ... }  
                    }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                    { 
                        try { dataReader.GetString(0) } catch (Exception) { ... } , 
                        try { dataReader.GetString(1) } catch (Exception) { ... } , 
                        (object)try { (int?)dataReader.GetInt32(2) } catch (Exception) { ... }  
                    }], 
                    navigation: [LIFTABLE Constant: Navigation: Tuition.TuitionPayments (ICollection<TuitionPayment>) Collection ToDependent TuitionPayment Inverse: Tuition | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType(\"TuitionService.Domain.Entity.Tuition\").FindNavigation(\"TuitionPayments\")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Tuition, ICollection<TuitionPayment>, TuitionPayment> | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType(\"TuitionService.Domain.Entity.Tuition\").FindNavigation(\"TuitionPayments\").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Tuition, TuitionPayment>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    try { dataReader.GetString(0) } catch (Exception) { ... } , 
                    try { dataReader.GetString(1) } catch (Exception) { ... } , 
                    (object)try { (int?)dataReader.GetInt32(2) } catch (Exception) { ... }  
                }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    try { dataReader.GetString(0) } catch (Exception) { ... } , 
                    try { dataReader.GetString(1) } catch (Exception) { ... } , 
                    (object)try { (int?)dataReader.GetInt32(2) } catch (Exception) { ... }  
                }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    try { dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4) } catch (Exception) { ... } , 
                    try { dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5) } catch (Exception) { ... } , 
                    (object)try { dataReader.IsDBNull(6) ? default(int?) : (int?)dataReader.GetInt32(6) } catch (Exception) { ... } , 
                    (object)try { dataReader.IsDBNull(7) ? default(DateOnly?) : (DateOnly?)dataReader.GetFieldValue<DateOnly>(7) } catch (Exception) { ... }  
                }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
                { 
                    (left, right) => left == null ? right == null : right != null && (string)left == (string)right, 
                    (left, right) => left == null ? right == null : right != null && (string)left == (string)right, 
                    (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
                }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
                { 
                    (left, right) => left == null ? right == null : right != null && (string)left == (string)right, 
                    (left, right) => left == null ? right == null : right != null && (string)left == (string)right, 
                    (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
                }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
                { 
                    (left, right) => left == null ? right == null : right != null && (string)left == (string)right, 
                    (left, right) => left == null ? right == null : right != null && (string)left == (string)right, 
                    (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                    (left, right) => left == null ? right == null : right != null && ((DateOnly)left).Equals((DateOnly)right) 
                }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    TuitionPayment entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        TuitionPayment instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(TuitionPayment);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: TuitionPayment.StudentCode, TuitionPayment.AcademicYear, TuitionPayment.Semester, TuitionPayment.PaymentDate PK | Resolver: c => c.Dependencies.Model.FindEntityType(\"TuitionService.Domain.Entity.TuitionPayment\").FindPrimaryKey()], 
                            keyValues: new object[]
                            { 
                                try { dataReader.IsDBNull(4) ? default(object) : (object)dataReader.GetString(4) } catch (Exception) { ... } , 
                                try { dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetString(5) } catch (Exception) { ... } , 
                                try { dataReader.IsDBNull(6) ? default(object) : (object)dataReader.GetInt32(6) } catch (Exception) { ... } , 
                                try { dataReader.IsDBNull(7) ? default(object) : (object)dataReader.GetFieldValue<DateOnly>(7) } catch (Exception) { ... }  
                            }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (TuitionPayment)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: TuitionPayment | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType(\"TuitionService.Domain.Entity.TuitionPayment\")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: TuitionPayment | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType(\"TuitionService.Domain.Entity.TuitionPayment\")]: 
                                    {
                                        return 
                                        {
                                            TuitionPayment instance;
                                            instance = new TuitionPayment();
                                            instance.<StudentCode>k__BackingField = try { dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4) } catch (Exception) { ... } ;
                                            instance.<AcademicYear>k__BackingField = try { dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5) } catch (Exception) { ... } ;
                                            instance.<Semester>k__BackingField = try { dataReader.IsDBNull(6) ? default(int) : dataReader.GetInt32(6) } catch (Exception) { ... } ;
                                            instance.<PaymentDate>k__BackingField = try { dataReader.IsDBNull(7) ? default(DateOnly) : dataReader.GetFieldValue<DateOnly>(7) } catch (Exception) { ... } ;
                                            instance.<AmountPaid>k__BackingField = try { dataReader.IsDBNull(8) ? default(int) : dataReader.GetInt32(8) } catch (Exception) { ... } ;
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: TuitionPayment | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType(\"TuitionService.Domain.Entity.TuitionPayment\")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(TuitionPayment)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: [LIFTABLE Constant: Navigation: TuitionPayment.Tuition (Tuition) ToPrincipal Tuition Inverse: TuitionPayments | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType(\"TuitionService.Domain.Entity.TuitionPayment\").FindNavigation(\"Tuition\")], 
                fixup: (namelessParameter{9}, namelessParameter{10}) => 
                {
                    [LIFTABLE Constant: ClrICollectionAccessor<Tuition, ICollection<TuitionPayment>, TuitionPayment> | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType(\"TuitionService.Domain.Entity.Tuition\").FindNavigation(\"TuitionPayments\").GetCollectionAccessor()].Add(
                        entity: namelessParameter{9}, 
                        value: namelessParameter{10}, 
                        forMaterialization: True);
                    return namelessParameter{10}.<Tuition>k__BackingField = namelessParameter{9};
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (Tuition)(resultContext.Values[0]) : default(Tuition);
        }, 
        contextType: TuitionService.Domain.TuitionDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: True, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)"'
2025-06-06T19:58:25.7667534+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T19:58:25.8091940+07:00 [DBG] (///) Created DbConnection. (40ms).
2025-06-06T19:58:25.8131385+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T19:58:25.9200365+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T19:58:25.9300763+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T19:58:25.9382339+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (4ms).
2025-06-06T19:58:25.9477572+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (17ms).
2025-06-06T19:58:25.9575436+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888', @__academicYearRequest_1='2024-2025', @__semesterRequest_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t1.student_code, t1.academic_year, t1.semester, t1.tuition_fee, t0.student_code, t0.academic_year, t0.semester, t0.payment_date, t0.amount_paid
FROM (
    SELECT t.student_code, t.academic_year, t.semester, t.tuition_fee
    FROM tuition AS t
    WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYearRequest_1 AND t.semester = @__semesterRequest_2
    LIMIT 1
) AS t1
LEFT JOIN tuition_payment AS t0 ON t1.student_code = t0.student_code AND t1.academic_year = t0.academic_year AND t1.semester = t0.semester
ORDER BY t1.student_code, t1.academic_year, t1.semester, t0.student_code, t0.academic_year, t0.semester"
2025-06-06T19:58:26.0690142+07:00 [INF] (///) Executed DbCommand ("108"ms) [Parameters=["@__studentCode_0='N22DCCN888', @__academicYearRequest_1='2024-2025', @__semesterRequest_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t1.student_code, t1.academic_year, t1.semester, t1.tuition_fee, t0.student_code, t0.academic_year, t0.semester, t0.payment_date, t0.amount_paid
FROM (
    SELECT t.student_code, t.academic_year, t.semester, t.tuition_fee
    FROM tuition AS t
    WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYearRequest_1 AND t.semester = @__semesterRequest_2
    LIMIT 1
) AS t1
LEFT JOIN tuition_payment AS t0 ON t1.student_code = t0.student_code AND t1.academic_year = t0.academic_year AND t1.semester = t0.semester
ORDER BY t1.student_code, t1.academic_year, t1.semester, t0.student_code, t0.academic_year, t0.semester"
2025-06-06T19:58:26.1402687+07:00 [DBG] (///) Context '"TuitionDbContext"' started tracking '"Tuition"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2}"'.
2025-06-06T19:58:26.1845475+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T19:58:26.1965711+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 118ms reading results.
2025-06-06T19:58:26.2045209+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T19:58:26.2123655+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (7ms).
2025-06-06T19:58:56.5592083+07:00 [DBG] (///) Connection id ""0HND4V7976NU6"" received FIN.
2025-06-06T19:58:56.5605802+07:00 [DBG] (///) Connection id ""0HND4V7976NU6"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T19:59:43.3423744+07:00 [DBG] (///) Connection id ""0HND4V7976NU6"" disconnecting.
2025-06-06T19:59:43.3429838+07:00 [DBG] (///) SaveChanges starting for '"TuitionDbContext"'.
2025-06-06T19:59:43.3488480+07:00 [DBG] (///) DetectChanges starting for '"TuitionDbContext"'.
2025-06-06T19:59:43.3669070+07:00 [DBG] (///) 1 entities were added and 0 entities were removed from navigation '"Tuition"."TuitionPayments"' on entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2}"'.
2025-06-06T19:59:43.4122819+07:00 [DBG] (///) The navigation '"TuitionPayment"."Tuition"' for entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2, PaymentDate: 06/06/2025}"' was detected as changed.
2025-06-06T19:59:43.4185757+07:00 [DBG] (///) Context '"TuitionDbContext"' started tracking '"TuitionPayment"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2, PaymentDate: 06/06/2025}"'.
2025-06-06T19:59:43.4222613+07:00 [DBG] (///) DetectChanges completed for '"TuitionDbContext"'.
2025-06-06T19:59:43.4937564+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T19:59:43.4945709+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T19:59:43.4970857+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T19:59:43.4971703+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T19:59:43.4975362+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T19:59:43.4977593+07:00 [DBG] (///) Executing DbCommand [Parameters=["@p1='2024-2025' (Nullable = false), @p2='06/06/2025' (DbType = Date), @p3='2', @p4='N22DCCN888' (Nullable = false), @p0='850877'"], CommandType='Text', CommandTimeout='30']"
""UPDATE tuition_payment SET amount_paid = @p0
WHERE academic_year = @p1 AND payment_date = @p2 AND semester = @p3 AND student_code = @p4;"
2025-06-06T19:59:43.5072388+07:00 [INF] (///) Executed DbCommand ("9"ms) [Parameters=["@p1='2024-2025' (Nullable = false), @p2='06/06/2025' (DbType = Date), @p3='2', @p4='N22DCCN888' (Nullable = false), @p0='850877'"], CommandType='Text', CommandTimeout='30']"
""UPDATE tuition_payment SET amount_paid = @p0
WHERE academic_year = @p1 AND payment_date = @p2 AND semester = @p3 AND student_code = @p4;"
2025-06-06T19:59:43.5133741+07:00 [DBG] (///) "Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions."
2025-06-06T19:59:43.5210639+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T19:59:43.5529397+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 19ms reading results.
2025-06-06T19:59:43.5602263+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T19:59:43.5604479+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T19:59:58.9928174+07:00 [INF] (///) Executed endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T19:59:58.9961946+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Npgsql.EntityFrameworkCore.PostgreSQL.Update.Internal.NpgsqlModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Update.Internal.NpgsqlModificationCommandBatch.Consume(RelationalDataReader reader, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Program.<>c.<<<Main>$>b__0_16>d.MoveNext() in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api/Program.cs:line 314
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-06T20:01:24.4989283+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-06T20:01:24.5740639+07:00 [INF] (///) No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-06-06T20:01:24.5786269+07:00 [DBG] (///) Hosting starting
2025-06-06T20:01:24.7392729+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-06T20:01:24.7397556+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-06T20:01:24.8048463+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-06T20:01:24.8067863+07:00 [WRN] (///) Overriding address(es) '"https://localhost:31001"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-06T20:01:24.8140470+07:00 [INF] (///) Now listening on: "http://localhost:14100"
2025-06-06T20:01:24.8146968+07:00 [INF] (///) Now listening on: "https://localhost:14101"
2025-06-06T20:01:24.8148710+07:00 [DBG] (///) Loaded hosting startup assembly "TuitionService.Api"
2025-06-06T20:01:24.8150946+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-06T20:01:24.8151622+07:00 [INF] (///) Hosting environment: "Development"
2025-06-06T20:01:24.8151885+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api"
2025-06-06T20:01:24.8152285+07:00 [DBG] (///) Hosting started
2025-06-06T20:01:28.1051852+07:00 [DBG] (///) Connection id ""0HND4V901UI8Q"" accepted.
2025-06-06T20:01:28.1057190+07:00 [DBG] (///) Connection id ""0HND4V901UI8Q"" started.
2025-06-06T20:01:28.1226346+07:00 [INF] (///) Request starting "HTTP/1.1" "PUT" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" 43
2025-06-06T20:01:28.1798721+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:01:28.1831438+07:00 [DBG] (///) Endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:01:28.1865884+07:00 [DBG] (///) Request matched endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:01:28.1916623+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:01:28.1923575+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T20:01:28.1925644+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T20:01:28.1933227+07:00 [INF] (///) Executing endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:01:28.2008427+07:00 [DBG] (///) Connection id ""0HND4V901UI8Q"", Request id ""0HND4V901UI8Q:00000001"": started reading request body.
2025-06-06T20:01:28.2010634+07:00 [DBG] (///) Connection id ""0HND4V901UI8Q"", Request id ""0HND4V901UI8Q:00000001"": done reading request body.
2025-06-06T20:01:28.3372096+07:00 [DBG] (///) An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration changed for 'Core:EnableSensitiveDataLogging', configuration changed for 'Core:EnableDetailedErrors', configuration changed for 'Core:ConfigureWarnings', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseAdminDatabase', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:SetPostgresVersion', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseRedshift', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ReverseNullOrdering', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:RemoteCertificateValidationCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvideClientCertificatesCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvidePasswordCallback'".
2025-06-06T20:01:28.7218288+07:00 [DBG] (///) The index "{'StudentCode'}" was not created on entity type '"Tuition"' as the properties are already covered by the index "{'StudentCode', 'AcademicYear', 'Semester'}".
2025-06-06T20:01:28.7221029+07:00 [DBG] (///) The index "{'StudentCode', 'AcademicYear', 'Semester'}" was not created on entity type '"TuitionPayment"' as the properties are already covered by the index "{'StudentCode', 'AcademicYear', 'Semester', 'PaymentDate'}".
2025-06-06T20:01:28.7875820+07:00 [WRN] (///) Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-06-06T20:01:28.8077027+07:00 [DBG] (///) The property '"GlobalStudentCode"."StudentBasicInfoStudentCode"' was created in shadow state because there are no eligible CLR members with a matching name.
2025-06-06T20:01:28.9008122+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:01:28.9465174+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Tuition>()
    .Include(t => t.TuitionPayments)
    .Where(t => t.StudentCode == __studentCode_0 && t.AcademicYear == __academicYearRequest_1 && t.Semester == __semesterRequest_2)
    .FirstOrDefault()"'
2025-06-06T20:01:28.9836169+07:00 [DBG] (///) Including navigation: '"Tuition.TuitionPayments"'.
2025-06-06T20:01:29.2357769+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Tuition>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Tuition>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Tuition.StudentCode (string) Required PK FK AfterSave:Throw MaxLength(10), 0], [Property: Tuition.AcademicYear (string) Required PK Index AfterSave:Throw MaxLength(9), 1], [Property: Tuition.Semester (int) Required PK Index AfterSave:Throw, 2], [Property: Tuition.TuitionFee (int) Required, 3] }
                1 -> 0
                2 -> 1
                3 -> 2
                4 -> Dictionary<IProperty, int> { [Property: TuitionPayment.StudentCode (string) Required PK FK Index AfterSave:Throw MaxLength(10), 4], [Property: TuitionPayment.AcademicYear (string) Required PK FK Index AfterSave:Throw MaxLength(9), 5], [Property: TuitionPayment.Semester (int) Required PK FK Index AfterSave:Throw, 6], [Property: TuitionPayment.PaymentDate (DateOnly) Required PK Index AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: TuitionPayment.AmountPaid (int) Required, 8] }
                5 -> 4
                6 -> 5
                7 -> 6
                8 -> 7
            SELECT t1.student_code, t1.academic_year, t1.semester, t1.tuition_fee, t0.student_code, t0.academic_year, t0.semester, t0.payment_date, t0.amount_paid
            FROM 
            (
                SELECT TOP(1) t.student_code, t.academic_year, t.semester, t.tuition_fee
                FROM tuition AS t
                WHERE ((t.student_code == @__studentCode_0) && (t.academic_year == @__academicYearRequest_1)) && (t.semester == @__semesterRequest_2)
            ) AS t1
            LEFT JOIN tuition_payment AS t0 ON ((t1.student_code == t0.student_code) && (t1.academic_year == t0.academic_year)) && (t1.semester == t0.semester)
            ORDER BY t1.student_code ASC, t1.academic_year ASC, t1.semester ASC, t0.student_code ASC, t0.academic_year ASC, t0.semester ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Tuition.StudentCode (string) Required PK FK AfterSave:Throw MaxLength(10), 0], [Property: Tuition.AcademicYear (string) Required PK Index AfterSave:Throw MaxLength(9), 1], [Property: Tuition.Semester (int) Required PK Index AfterSave:Throw, 2], [Property: Tuition.TuitionFee (int) Required, 3] }
                1 -> 0
                2 -> 1
                3 -> 2
                4 -> Dictionary<IProperty, int> { [Property: TuitionPayment.StudentCode (string) Required PK FK Index AfterSave:Throw MaxLength(10), 4], [Property: TuitionPayment.AcademicYear (string) Required PK FK Index AfterSave:Throw MaxLength(9), 5], [Property: TuitionPayment.Semester (int) Required PK FK Index AfterSave:Throw, 6], [Property: TuitionPayment.PaymentDate (DateOnly) Required PK Index AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: TuitionPayment.AmountPaid (int) Required, 8] }
                5 -> 4
                6 -> 5
                7 -> 6
                8 -> 7
            SELECT t1.student_code, t1.academic_year, t1.semester, t1.tuition_fee, t0.student_code, t0.academic_year, t0.semester, t0.payment_date, t0.amount_paid
            FROM 
            (
                SELECT TOP(1) t.student_code, t.academic_year, t.semester, t.tuition_fee
                FROM tuition AS t
                WHERE ((t.student_code == @__studentCode_0) && (t.academic_year == @__academicYearRequest_1)) && (t.semester == @__semesterRequest_2)
            ) AS t1
            LEFT JOIN tuition_payment AS t0 ON ((t1.student_code == t0.student_code) && (t1.academic_year == t0.academic_year)) && (t1.semester == t0.semester)
            ORDER BY t1.student_code ASC, t1.academic_year ASC, t1.semester ASC, t0.student_code ASC, t0.academic_year ASC, t0.semester ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                Tuition entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    Tuition instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(Tuition);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Tuition.StudentCode, Tuition.AcademicYear, Tuition.Semester PK | Resolver: c => c.Dependencies.Model.FindEntityType(\"TuitionService.Domain.Entity.Tuition\").FindPrimaryKey()], 
                        keyValues: new object[]
                        { 
                            try { (object)dataReader.GetString(0) } catch (Exception) { ... } , 
                            try { (object)dataReader.GetString(1) } catch (Exception) { ... } , 
                            try { (object)dataReader.GetInt32(2) } catch (Exception) { ... }  
                        }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (Tuition)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: Tuition | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType(\"TuitionService.Domain.Entity.Tuition\")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: Tuition | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType(\"TuitionService.Domain.Entity.Tuition\")]: 
                                {
                                    return 
                                    {
                                        Tuition instance;
                                        instance = new Tuition();
                                        instance.<StudentCode>k__BackingField = try { dataReader.GetString(0) } catch (Exception) { ... } ;
                                        instance.<AcademicYear>k__BackingField = try { dataReader.GetString(1) } catch (Exception) { ... } ;
                                        instance.<Semester>k__BackingField = try { dataReader.GetInt32(2) } catch (Exception) { ... } ;
                                        instance.<TuitionFee>k__BackingField = try { dataReader.GetInt32(3) } catch (Exception) { ... } ;
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Tuition | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType(\"TuitionService.Domain.Entity.Tuition\")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Tuition)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Tuition, Tuition>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (Tuition)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                    { 
                        try { dataReader.GetString(0) } catch (Exception) { ... } , 
                        try { dataReader.GetString(1) } catch (Exception) { ... } , 
                        (object)try { (int?)dataReader.GetInt32(2) } catch (Exception) { ... }  
                    }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                    { 
                        try { dataReader.GetString(0) } catch (Exception) { ... } , 
                        try { dataReader.GetString(1) } catch (Exception) { ... } , 
                        (object)try { (int?)dataReader.GetInt32(2) } catch (Exception) { ... }  
                    }], 
                    navigation: [LIFTABLE Constant: Navigation: Tuition.TuitionPayments (ICollection<TuitionPayment>) Collection ToDependent TuitionPayment Inverse: Tuition | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType(\"TuitionService.Domain.Entity.Tuition\").FindNavigation(\"TuitionPayments\")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Tuition, ICollection<TuitionPayment>, TuitionPayment> | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType(\"TuitionService.Domain.Entity.Tuition\").FindNavigation(\"TuitionPayments\").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Tuition, TuitionPayment>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    try { dataReader.GetString(0) } catch (Exception) { ... } , 
                    try { dataReader.GetString(1) } catch (Exception) { ... } , 
                    (object)try { (int?)dataReader.GetInt32(2) } catch (Exception) { ... }  
                }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    try { dataReader.GetString(0) } catch (Exception) { ... } , 
                    try { dataReader.GetString(1) } catch (Exception) { ... } , 
                    (object)try { (int?)dataReader.GetInt32(2) } catch (Exception) { ... }  
                }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    try { dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4) } catch (Exception) { ... } , 
                    try { dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5) } catch (Exception) { ... } , 
                    (object)try { dataReader.IsDBNull(6) ? default(int?) : (int?)dataReader.GetInt32(6) } catch (Exception) { ... } , 
                    (object)try { dataReader.IsDBNull(7) ? default(DateOnly?) : (DateOnly?)dataReader.GetFieldValue<DateOnly>(7) } catch (Exception) { ... }  
                }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
                { 
                    (left, right) => left == null ? right == null : right != null && (string)left == (string)right, 
                    (left, right) => left == null ? right == null : right != null && (string)left == (string)right, 
                    (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
                }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
                { 
                    (left, right) => left == null ? right == null : right != null && (string)left == (string)right, 
                    (left, right) => left == null ? right == null : right != null && (string)left == (string)right, 
                    (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
                }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
                { 
                    (left, right) => left == null ? right == null : right != null && (string)left == (string)right, 
                    (left, right) => left == null ? right == null : right != null && (string)left == (string)right, 
                    (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                    (left, right) => left == null ? right == null : right != null && ((DateOnly)left).Equals((DateOnly)right) 
                }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    TuitionPayment entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        TuitionPayment instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(TuitionPayment);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: TuitionPayment.StudentCode, TuitionPayment.AcademicYear, TuitionPayment.Semester, TuitionPayment.PaymentDate PK | Resolver: c => c.Dependencies.Model.FindEntityType(\"TuitionService.Domain.Entity.TuitionPayment\").FindPrimaryKey()], 
                            keyValues: new object[]
                            { 
                                try { dataReader.IsDBNull(4) ? default(object) : (object)dataReader.GetString(4) } catch (Exception) { ... } , 
                                try { dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetString(5) } catch (Exception) { ... } , 
                                try { dataReader.IsDBNull(6) ? default(object) : (object)dataReader.GetInt32(6) } catch (Exception) { ... } , 
                                try { dataReader.IsDBNull(7) ? default(object) : (object)dataReader.GetFieldValue<DateOnly>(7) } catch (Exception) { ... }  
                            }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (TuitionPayment)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: TuitionPayment | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType(\"TuitionService.Domain.Entity.TuitionPayment\")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: TuitionPayment | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType(\"TuitionService.Domain.Entity.TuitionPayment\")]: 
                                    {
                                        return 
                                        {
                                            TuitionPayment instance;
                                            instance = new TuitionPayment();
                                            instance.<StudentCode>k__BackingField = try { dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4) } catch (Exception) { ... } ;
                                            instance.<AcademicYear>k__BackingField = try { dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5) } catch (Exception) { ... } ;
                                            instance.<Semester>k__BackingField = try { dataReader.IsDBNull(6) ? default(int) : dataReader.GetInt32(6) } catch (Exception) { ... } ;
                                            instance.<PaymentDate>k__BackingField = try { dataReader.IsDBNull(7) ? default(DateOnly) : dataReader.GetFieldValue<DateOnly>(7) } catch (Exception) { ... } ;
                                            instance.<AmountPaid>k__BackingField = try { dataReader.IsDBNull(8) ? default(int) : dataReader.GetInt32(8) } catch (Exception) { ... } ;
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: TuitionPayment | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType(\"TuitionService.Domain.Entity.TuitionPayment\")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(TuitionPayment)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: [LIFTABLE Constant: Navigation: TuitionPayment.Tuition (Tuition) ToPrincipal Tuition Inverse: TuitionPayments | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType(\"TuitionService.Domain.Entity.TuitionPayment\").FindNavigation(\"Tuition\")], 
                fixup: (namelessParameter{9}, namelessParameter{10}) => 
                {
                    [LIFTABLE Constant: ClrICollectionAccessor<Tuition, ICollection<TuitionPayment>, TuitionPayment> | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType(\"TuitionService.Domain.Entity.Tuition\").FindNavigation(\"TuitionPayments\").GetCollectionAccessor()].Add(
                        entity: namelessParameter{9}, 
                        value: namelessParameter{10}, 
                        forMaterialization: True);
                    return namelessParameter{10}.<Tuition>k__BackingField = namelessParameter{9};
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (Tuition)(resultContext.Values[0]) : default(Tuition);
        }, 
        contextType: TuitionService.Domain.TuitionDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: True, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)"'
2025-06-06T20:01:29.2722832+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:01:29.3032775+07:00 [DBG] (///) Created DbConnection. (28ms).
2025-06-06T20:01:29.3062316+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:01:29.3864519+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:01:29.3929264+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:01:29.3989351+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (2ms).
2025-06-06T20:01:29.4061991+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (13ms).
2025-06-06T20:01:29.4141273+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888', @__academicYearRequest_1='2024-2025', @__semesterRequest_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t1.student_code, t1.academic_year, t1.semester, t1.tuition_fee, t0.student_code, t0.academic_year, t0.semester, t0.payment_date, t0.amount_paid
FROM (
    SELECT t.student_code, t.academic_year, t.semester, t.tuition_fee
    FROM tuition AS t
    WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYearRequest_1 AND t.semester = @__semesterRequest_2
    LIMIT 1
) AS t1
LEFT JOIN tuition_payment AS t0 ON t1.student_code = t0.student_code AND t1.academic_year = t0.academic_year AND t1.semester = t0.semester
ORDER BY t1.student_code, t1.academic_year, t1.semester, t0.student_code, t0.academic_year, t0.semester"
2025-06-06T20:01:29.4918663+07:00 [INF] (///) Executed DbCommand ("75"ms) [Parameters=["@__studentCode_0='N22DCCN888', @__academicYearRequest_1='2024-2025', @__semesterRequest_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t1.student_code, t1.academic_year, t1.semester, t1.tuition_fee, t0.student_code, t0.academic_year, t0.semester, t0.payment_date, t0.amount_paid
FROM (
    SELECT t.student_code, t.academic_year, t.semester, t.tuition_fee
    FROM tuition AS t
    WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYearRequest_1 AND t.semester = @__semesterRequest_2
    LIMIT 1
) AS t1
LEFT JOIN tuition_payment AS t0 ON t1.student_code = t0.student_code AND t1.academic_year = t0.academic_year AND t1.semester = t0.semester
ORDER BY t1.student_code, t1.academic_year, t1.semester, t0.student_code, t0.academic_year, t0.semester"
2025-06-06T20:01:29.5411744+07:00 [DBG] (///) Context '"TuitionDbContext"' started tracking '"Tuition"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2}"'.
2025-06-06T20:01:29.5707047+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:01:29.5787154+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 80ms reading results.
2025-06-06T20:01:29.5827659+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:01:29.5871354+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (4ms).
2025-06-06T20:01:29.5912418+07:00 [DBG] (///) SaveChanges starting for '"TuitionDbContext"'.
2025-06-06T20:01:29.5939942+07:00 [DBG] (///) DetectChanges starting for '"TuitionDbContext"'.
2025-06-06T20:01:29.6058360+07:00 [DBG] (///) 1 entities were added and 0 entities were removed from navigation '"Tuition"."TuitionPayments"' on entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2}"'.
2025-06-06T20:01:29.6393725+07:00 [DBG] (///) Context '"TuitionDbContext"' started tracking '"TuitionPayment"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2, PaymentDate: 06/06/2025}"'.
2025-06-06T20:01:29.6413735+07:00 [DBG] (///) DetectChanges completed for '"TuitionDbContext"'.
2025-06-06T20:01:29.6866225+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:01:29.6871483+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:01:29.6887724+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:01:29.6888479+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:01:29.6891134+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:01:29.6892671+07:00 [DBG] (///) Executing DbCommand [Parameters=["@p1='2024-2025' (Nullable = false), @p2='06/06/2025' (DbType = Date), @p3='2', @p4='N22DCCN888' (Nullable = false), @p0='850877'"], CommandType='Text', CommandTimeout='30']"
""UPDATE tuition_payment SET amount_paid = @p0
WHERE academic_year = @p1 AND payment_date = @p2 AND semester = @p3 AND student_code = @p4;"
2025-06-06T20:01:29.6932104+07:00 [INF] (///) Executed DbCommand ("4"ms) [Parameters=["@p1='2024-2025' (Nullable = false), @p2='06/06/2025' (DbType = Date), @p3='2', @p4='N22DCCN888' (Nullable = false), @p0='850877'"], CommandType='Text', CommandTimeout='30']"
""UPDATE tuition_payment SET amount_paid = @p0
WHERE academic_year = @p1 AND payment_date = @p2 AND semester = @p3 AND student_code = @p4;"
2025-06-06T20:01:29.6987770+07:00 [DBG] (///) "Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions."
2025-06-06T20:01:29.7000893+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:01:29.7001844+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 6ms reading results.
2025-06-06T20:01:29.7007960+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:01:29.7008855+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:01:29.7069862+07:00 [INF] (///) Executed endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:01:29.7096621+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Npgsql.EntityFrameworkCore.PostgreSQL.Update.Internal.NpgsqlModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Update.Internal.NpgsqlModificationCommandBatch.Consume(RelationalDataReader reader, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Program.<>c.<<<Main>$>b__0_16>d.MoveNext() in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api/Program.cs:line 315
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-06T20:01:29.7935189+07:00 [ERR] (///) HTTP "PUT" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 500 in 1597.2334 ms
2025-06-06T20:01:29.8008317+07:00 [DBG] (///) Connection id ""0HND4V901UI8Q"" received FIN.
2025-06-06T20:01:29.8011784+07:00 [DBG] (///) Connection id ""0HND4V901UI8Q"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:01:29.8049862+07:00 [DBG] (///) Connection id ""0HND4V901UI8Q"" disconnecting.
2025-06-06T20:01:29.8085047+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:01:29.8150866+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:01:29.8190622+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (4ms).
2025-06-06T20:01:29.8219836+07:00 [INF] (///) Request finished "HTTP/1.1" "PUT" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 500 null "application/problem+json" 1699.9293ms
2025-06-06T20:01:29.8278305+07:00 [DBG] (///) Connection id ""0HND4V901UI8Q"" stopped.
2025-06-06T20:07:31.2348786+07:00 [DBG] (///) Connection id ""0HND4V901UI8R"" accepted.
2025-06-06T20:07:31.2353707+07:00 [DBG] (///) Connection id ""0HND4V901UI8R"" started.
2025-06-06T20:07:31.2359834+07:00 [INF] (///) Request starting "HTTP/1.1" "PUT" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" 43
2025-06-06T20:07:31.2371780+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:07:31.2373712+07:00 [DBG] (///) Endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:07:31.2375283+07:00 [DBG] (///) Request matched endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:07:31.2378661+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:07:31.2380583+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T20:07:31.2381436+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T20:07:31.2382633+07:00 [INF] (///) Executing endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:07:31.2384445+07:00 [DBG] (///) Connection id ""0HND4V901UI8R"", Request id ""0HND4V901UI8R:00000001"": started reading request body.
2025-06-06T20:07:31.2385400+07:00 [DBG] (///) Connection id ""0HND4V901UI8R"", Request id ""0HND4V901UI8R:00000001"": done reading request body.
2025-06-06T20:07:31.2667266+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:07:31.2694638+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:07:31.2696182+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:07:31.2696924+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:07:31.2744385+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:07:31.2747156+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:07:31.2748293+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:07:31.2749216+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:07:31.2750921+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888', @__academicYearRequest_1='2024-2025', @__semesterRequest_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t1.student_code, t1.academic_year, t1.semester, t1.tuition_fee, t0.student_code, t0.academic_year, t0.semester, t0.payment_date, t0.amount_paid
FROM (
    SELECT t.student_code, t.academic_year, t.semester, t.tuition_fee
    FROM tuition AS t
    WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYearRequest_1 AND t.semester = @__semesterRequest_2
    LIMIT 1
) AS t1
LEFT JOIN tuition_payment AS t0 ON t1.student_code = t0.student_code AND t1.academic_year = t0.academic_year AND t1.semester = t0.semester
ORDER BY t1.student_code, t1.academic_year, t1.semester, t0.student_code, t0.academic_year, t0.semester"
2025-06-06T20:07:31.2776602+07:00 [INF] (///) Executed DbCommand ("3"ms) [Parameters=["@__studentCode_0='N22DCCN888', @__academicYearRequest_1='2024-2025', @__semesterRequest_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t1.student_code, t1.academic_year, t1.semester, t1.tuition_fee, t0.student_code, t0.academic_year, t0.semester, t0.payment_date, t0.amount_paid
FROM (
    SELECT t.student_code, t.academic_year, t.semester, t.tuition_fee
    FROM tuition AS t
    WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYearRequest_1 AND t.semester = @__semesterRequest_2
    LIMIT 1
) AS t1
LEFT JOIN tuition_payment AS t0 ON t1.student_code = t0.student_code AND t1.academic_year = t0.academic_year AND t1.semester = t0.semester
ORDER BY t1.student_code, t1.academic_year, t1.semester, t0.student_code, t0.academic_year, t0.semester"
2025-06-06T20:07:31.2783768+07:00 [DBG] (///) Context '"TuitionDbContext"' started tracking '"Tuition"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2}"'.
2025-06-06T20:07:31.2787079+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:07:31.2788296+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:07:31.2789751+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:07:31.2790786+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:07:31.2792008+07:00 [DBG] (///) SaveChanges starting for '"TuitionDbContext"'.
2025-06-06T20:07:31.2793006+07:00 [DBG] (///) DetectChanges starting for '"TuitionDbContext"'.
2025-06-06T20:07:31.2795057+07:00 [DBG] (///) 1 entities were added and 0 entities were removed from navigation '"Tuition"."TuitionPayments"' on entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2}"'.
2025-06-06T20:07:31.2808756+07:00 [DBG] (///) Context '"TuitionDbContext"' started tracking '"TuitionPayment"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2, PaymentDate: 06/06/2025}"'.
2025-06-06T20:07:31.2810021+07:00 [DBG] (///) DetectChanges completed for '"TuitionDbContext"'.
2025-06-06T20:07:31.2817570+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:07:31.2818535+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:07:31.2820578+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:07:31.2821136+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:07:31.2821733+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:07:31.2822623+07:00 [DBG] (///) Executing DbCommand [Parameters=["@p1='2024-2025' (Nullable = false), @p2='06/06/2025' (DbType = Date), @p3='2', @p4='N22DCCN888' (Nullable = false), @p0='850877'"], CommandType='Text', CommandTimeout='30']"
""UPDATE tuition_payment SET amount_paid = @p0
WHERE academic_year = @p1 AND payment_date = @p2 AND semester = @p3 AND student_code = @p4;"
2025-06-06T20:07:31.2833867+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@p1='2024-2025' (Nullable = false), @p2='06/06/2025' (DbType = Date), @p3='2', @p4='N22DCCN888' (Nullable = false), @p0='850877'"], CommandType='Text', CommandTimeout='30']"
""UPDATE tuition_payment SET amount_paid = @p0
WHERE academic_year = @p1 AND payment_date = @p2 AND semester = @p3 AND student_code = @p4;"
2025-06-06T20:07:31.2837056+07:00 [DBG] (///) "Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions."
2025-06-06T20:07:31.2838426+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:07:31.2839139+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:07:31.2840694+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:07:31.2841416+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:07:31.2844528+07:00 [INF] (///) Executed endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:07:31.2846477+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Npgsql.EntityFrameworkCore.PostgreSQL.Update.Internal.NpgsqlModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Update.Internal.NpgsqlModificationCommandBatch.Consume(RelationalDataReader reader, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Program.<>c.<<<Main>$>b__0_16>d.MoveNext() in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api/Program.cs:line 315
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-06T20:07:31.2903903+07:00 [ERR] (///) HTTP "PUT" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 500 in 52.3825 ms
2025-06-06T20:07:31.2907159+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:07:31.2908268+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:07:31.2909019+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:07:31.2910370+07:00 [DBG] (///) Connection id ""0HND4V901UI8R"" received FIN.
2025-06-06T20:07:31.2910592+07:00 [INF] (///) Request finished "HTTP/1.1" "PUT" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 500 null "application/problem+json" 55.0535ms
2025-06-06T20:07:31.2911685+07:00 [DBG] (///) Connection id ""0HND4V901UI8R"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:07:31.2913633+07:00 [DBG] (///) Connection id ""0HND4V901UI8R"" disconnecting.
2025-06-06T20:07:31.2926096+07:00 [DBG] (///) Connection id ""0HND4V901UI8R"" stopped.
2025-06-06T20:07:37.3972969+07:00 [INF] (///) Application is shutting down...
2025-06-06T20:07:37.3984868+07:00 [DBG] (///) Hosting stopping
2025-06-06T20:07:37.4047119+07:00 [DBG] (///) Hosting stopped
2025-06-06T20:07:40.2800594+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-06T20:07:40.3532149+07:00 [INF] (///) No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-06-06T20:07:40.3574350+07:00 [DBG] (///) Hosting starting
2025-06-06T20:07:40.5419895+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-06T20:07:40.5424438+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-06T20:07:40.6102659+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-06T20:07:40.6122345+07:00 [WRN] (///) Overriding address(es) '"https://localhost:31001"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-06T20:07:40.6176324+07:00 [INF] (///) Now listening on: "http://localhost:14100"
2025-06-06T20:07:40.6182420+07:00 [INF] (///) Now listening on: "https://localhost:14101"
2025-06-06T20:07:40.6183829+07:00 [DBG] (///) Loaded hosting startup assembly "TuitionService.Api"
2025-06-06T20:07:40.6185798+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-06T20:07:40.6186355+07:00 [INF] (///) Hosting environment: "Development"
2025-06-06T20:07:40.6186620+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api"
2025-06-06T20:07:40.6187048+07:00 [DBG] (///) Hosting started
2025-06-06T20:07:45.4205050+07:00 [INF] (///) Application is shutting down...
2025-06-06T20:07:45.4212285+07:00 [DBG] (///) Hosting stopping
2025-06-06T20:07:45.4286927+07:00 [DBG] (///) Hosting stopped
2025-06-06T20:07:48.4795046+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-06T20:07:48.5566462+07:00 [INF] (///) No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-06-06T20:07:48.5614875+07:00 [DBG] (///) Hosting starting
2025-06-06T20:07:48.7355332+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-06T20:07:48.7359297+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-06T20:07:48.7980280+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-06T20:07:48.7998454+07:00 [WRN] (///) Overriding address(es) '"https://localhost:31001"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-06T20:07:48.8061121+07:00 [INF] (///) Now listening on: "http://localhost:14100"
2025-06-06T20:07:48.8066796+07:00 [INF] (///) Now listening on: "https://localhost:14101"
2025-06-06T20:07:48.8068340+07:00 [DBG] (///) Loaded hosting startup assembly "TuitionService.Api"
2025-06-06T20:07:48.8070554+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-06T20:07:48.8071086+07:00 [INF] (///) Hosting environment: "Development"
2025-06-06T20:07:48.8071338+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api"
2025-06-06T20:07:48.8071760+07:00 [DBG] (///) Hosting started
2025-06-06T20:07:57.3491451+07:00 [DBG] (///) Connection id ""0HND4VCK22CIV"" accepted.
2025-06-06T20:07:57.3497216+07:00 [DBG] (///) Connection id ""0HND4VCK22CIV"" started.
2025-06-06T20:07:57.3661862+07:00 [INF] (///) Request starting "HTTP/1.1" "PUT" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" 43
2025-06-06T20:07:57.4264274+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:07:57.4303216+07:00 [DBG] (///) Endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:07:57.4336739+07:00 [DBG] (///) Request matched endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:07:57.4384465+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:07:57.4390434+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T20:07:57.4392298+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T20:07:57.4399510+07:00 [INF] (///) Executing endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:07:57.4457378+07:00 [DBG] (///) Connection id ""0HND4VCK22CIV"", Request id ""0HND4VCK22CIV:00000001"": started reading request body.
2025-06-06T20:07:57.4460991+07:00 [DBG] (///) Connection id ""0HND4VCK22CIV"", Request id ""0HND4VCK22CIV:00000001"": done reading request body.
2025-06-06T20:07:57.5741041+07:00 [DBG] (///) An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration changed for 'Core:EnableSensitiveDataLogging', configuration changed for 'Core:EnableDetailedErrors', configuration changed for 'Core:ConfigureWarnings', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseAdminDatabase', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:SetPostgresVersion', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseRedshift', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ReverseNullOrdering', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:RemoteCertificateValidationCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvideClientCertificatesCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvidePasswordCallback'".
2025-06-06T20:07:57.9714976+07:00 [DBG] (///) The index "{'StudentCode'}" was not created on entity type '"Tuition"' as the properties are already covered by the index "{'StudentCode', 'AcademicYear', 'Semester'}".
2025-06-06T20:07:57.9718420+07:00 [DBG] (///) The index "{'StudentCode', 'AcademicYear', 'Semester'}" was not created on entity type '"TuitionPayment"' as the properties are already covered by the index "{'StudentCode', 'AcademicYear', 'Semester', 'PaymentDate'}".
2025-06-06T20:07:58.0415353+07:00 [WRN] (///) Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-06-06T20:07:58.0615296+07:00 [DBG] (///) The property '"GlobalStudentCode"."StudentBasicInfoStudentCode"' was created in shadow state because there are no eligible CLR members with a matching name.
2025-06-06T20:07:58.1534267+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:07:58.1626750+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:07:58.1921904+07:00 [DBG] (///) Created DbConnection. (27ms).
2025-06-06T20:07:58.1952652+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:07:58.2714970+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:07:58.2782049+07:00 [DBG] (///) Beginning transaction with isolation level '"ReadCommitted"'.
2025-06-06T20:07:58.2845989+07:00 [DBG] (///) Began transaction with isolation level '"ReadCommitted"'.
2025-06-06T20:07:58.3502906+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Tuition>()
    .Include(t => t.TuitionPayments)
    .Where(t => t.StudentCode == __8__locals1_studentCode_0 && t.AcademicYear == __academicYearRequest_1 && t.Semester == __semesterRequest_2)
    .FirstOrDefault()"'
2025-06-06T20:07:58.4007546+07:00 [DBG] (///) Including navigation: '"Tuition.TuitionPayments"'.
2025-06-06T20:07:58.7424213+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Tuition>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Tuition>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Tuition.StudentCode (string) Required PK FK AfterSave:Throw MaxLength(10), 0], [Property: Tuition.AcademicYear (string) Required PK Index AfterSave:Throw MaxLength(9), 1], [Property: Tuition.Semester (int) Required PK Index AfterSave:Throw, 2], [Property: Tuition.TuitionFee (int) Required, 3] }
                1 -> 0
                2 -> 1
                3 -> 2
                4 -> Dictionary<IProperty, int> { [Property: TuitionPayment.StudentCode (string) Required PK FK Index AfterSave:Throw MaxLength(10), 4], [Property: TuitionPayment.AcademicYear (string) Required PK FK Index AfterSave:Throw MaxLength(9), 5], [Property: TuitionPayment.Semester (int) Required PK FK Index AfterSave:Throw, 6], [Property: TuitionPayment.PaymentDate (DateOnly) Required PK Index AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: TuitionPayment.AmountPaid (int) Required, 8] }
                5 -> 4
                6 -> 5
                7 -> 6
                8 -> 7
            SELECT t1.student_code, t1.academic_year, t1.semester, t1.tuition_fee, t0.student_code, t0.academic_year, t0.semester, t0.payment_date, t0.amount_paid
            FROM 
            (
                SELECT TOP(1) t.student_code, t.academic_year, t.semester, t.tuition_fee
                FROM tuition AS t
                WHERE ((t.student_code == @__8__locals1_studentCode_0) && (t.academic_year == @__academicYearRequest_1)) && (t.semester == @__semesterRequest_2)
            ) AS t1
            LEFT JOIN tuition_payment AS t0 ON ((t1.student_code == t0.student_code) && (t1.academic_year == t0.academic_year)) && (t1.semester == t0.semester)
            ORDER BY t1.student_code ASC, t1.academic_year ASC, t1.semester ASC, t0.student_code ASC, t0.academic_year ASC, t0.semester ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Tuition.StudentCode (string) Required PK FK AfterSave:Throw MaxLength(10), 0], [Property: Tuition.AcademicYear (string) Required PK Index AfterSave:Throw MaxLength(9), 1], [Property: Tuition.Semester (int) Required PK Index AfterSave:Throw, 2], [Property: Tuition.TuitionFee (int) Required, 3] }
                1 -> 0
                2 -> 1
                3 -> 2
                4 -> Dictionary<IProperty, int> { [Property: TuitionPayment.StudentCode (string) Required PK FK Index AfterSave:Throw MaxLength(10), 4], [Property: TuitionPayment.AcademicYear (string) Required PK FK Index AfterSave:Throw MaxLength(9), 5], [Property: TuitionPayment.Semester (int) Required PK FK Index AfterSave:Throw, 6], [Property: TuitionPayment.PaymentDate (DateOnly) Required PK Index AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: TuitionPayment.AmountPaid (int) Required, 8] }
                5 -> 4
                6 -> 5
                7 -> 6
                8 -> 7
            SELECT t1.student_code, t1.academic_year, t1.semester, t1.tuition_fee, t0.student_code, t0.academic_year, t0.semester, t0.payment_date, t0.amount_paid
            FROM 
            (
                SELECT TOP(1) t.student_code, t.academic_year, t.semester, t.tuition_fee
                FROM tuition AS t
                WHERE ((t.student_code == @__8__locals1_studentCode_0) && (t.academic_year == @__academicYearRequest_1)) && (t.semester == @__semesterRequest_2)
            ) AS t1
            LEFT JOIN tuition_payment AS t0 ON ((t1.student_code == t0.student_code) && (t1.academic_year == t0.academic_year)) && (t1.semester == t0.semester)
            ORDER BY t1.student_code ASC, t1.academic_year ASC, t1.semester ASC, t0.student_code ASC, t0.academic_year ASC, t0.semester ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                Tuition entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    Tuition instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(Tuition);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Tuition.StudentCode, Tuition.AcademicYear, Tuition.Semester PK | Resolver: c => c.Dependencies.Model.FindEntityType(\"TuitionService.Domain.Entity.Tuition\").FindPrimaryKey()], 
                        keyValues: new object[]
                        { 
                            try { (object)dataReader.GetString(0) } catch (Exception) { ... } , 
                            try { (object)dataReader.GetString(1) } catch (Exception) { ... } , 
                            try { (object)dataReader.GetInt32(2) } catch (Exception) { ... }  
                        }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (Tuition)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: Tuition | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType(\"TuitionService.Domain.Entity.Tuition\")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: Tuition | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType(\"TuitionService.Domain.Entity.Tuition\")]: 
                                {
                                    return 
                                    {
                                        Tuition instance;
                                        instance = new Tuition();
                                        instance.<StudentCode>k__BackingField = try { dataReader.GetString(0) } catch (Exception) { ... } ;
                                        instance.<AcademicYear>k__BackingField = try { dataReader.GetString(1) } catch (Exception) { ... } ;
                                        instance.<Semester>k__BackingField = try { dataReader.GetInt32(2) } catch (Exception) { ... } ;
                                        instance.<TuitionFee>k__BackingField = try { dataReader.GetInt32(3) } catch (Exception) { ... } ;
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Tuition | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType(\"TuitionService.Domain.Entity.Tuition\")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Tuition)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Tuition, Tuition>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (Tuition)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                    { 
                        try { dataReader.GetString(0) } catch (Exception) { ... } , 
                        try { dataReader.GetString(1) } catch (Exception) { ... } , 
                        (object)try { (int?)dataReader.GetInt32(2) } catch (Exception) { ... }  
                    }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                    { 
                        try { dataReader.GetString(0) } catch (Exception) { ... } , 
                        try { dataReader.GetString(1) } catch (Exception) { ... } , 
                        (object)try { (int?)dataReader.GetInt32(2) } catch (Exception) { ... }  
                    }], 
                    navigation: [LIFTABLE Constant: Navigation: Tuition.TuitionPayments (ICollection<TuitionPayment>) Collection ToDependent TuitionPayment Inverse: Tuition | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType(\"TuitionService.Domain.Entity.Tuition\").FindNavigation(\"TuitionPayments\")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Tuition, ICollection<TuitionPayment>, TuitionPayment> | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType(\"TuitionService.Domain.Entity.Tuition\").FindNavigation(\"TuitionPayments\").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Tuition, TuitionPayment>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    try { dataReader.GetString(0) } catch (Exception) { ... } , 
                    try { dataReader.GetString(1) } catch (Exception) { ... } , 
                    (object)try { (int?)dataReader.GetInt32(2) } catch (Exception) { ... }  
                }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    try { dataReader.GetString(0) } catch (Exception) { ... } , 
                    try { dataReader.GetString(1) } catch (Exception) { ... } , 
                    (object)try { (int?)dataReader.GetInt32(2) } catch (Exception) { ... }  
                }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    try { dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4) } catch (Exception) { ... } , 
                    try { dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5) } catch (Exception) { ... } , 
                    (object)try { dataReader.IsDBNull(6) ? default(int?) : (int?)dataReader.GetInt32(6) } catch (Exception) { ... } , 
                    (object)try { dataReader.IsDBNull(7) ? default(DateOnly?) : (DateOnly?)dataReader.GetFieldValue<DateOnly>(7) } catch (Exception) { ... }  
                }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
                { 
                    (left, right) => left == null ? right == null : right != null && (string)left == (string)right, 
                    (left, right) => left == null ? right == null : right != null && (string)left == (string)right, 
                    (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
                }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
                { 
                    (left, right) => left == null ? right == null : right != null && (string)left == (string)right, 
                    (left, right) => left == null ? right == null : right != null && (string)left == (string)right, 
                    (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
                }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
                { 
                    (left, right) => left == null ? right == null : right != null && (string)left == (string)right, 
                    (left, right) => left == null ? right == null : right != null && (string)left == (string)right, 
                    (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                    (left, right) => left == null ? right == null : right != null && ((DateOnly)left).Equals((DateOnly)right) 
                }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    TuitionPayment entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        TuitionPayment instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(TuitionPayment);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: TuitionPayment.StudentCode, TuitionPayment.AcademicYear, TuitionPayment.Semester, TuitionPayment.PaymentDate PK | Resolver: c => c.Dependencies.Model.FindEntityType(\"TuitionService.Domain.Entity.TuitionPayment\").FindPrimaryKey()], 
                            keyValues: new object[]
                            { 
                                try { dataReader.IsDBNull(4) ? default(object) : (object)dataReader.GetString(4) } catch (Exception) { ... } , 
                                try { dataReader.IsDBNull(5) ? default(object) : (object)dataReader.GetString(5) } catch (Exception) { ... } , 
                                try { dataReader.IsDBNull(6) ? default(object) : (object)dataReader.GetInt32(6) } catch (Exception) { ... } , 
                                try { dataReader.IsDBNull(7) ? default(object) : (object)dataReader.GetFieldValue<DateOnly>(7) } catch (Exception) { ... }  
                            }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (TuitionPayment)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: TuitionPayment | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType(\"TuitionService.Domain.Entity.TuitionPayment\")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: TuitionPayment | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType(\"TuitionService.Domain.Entity.TuitionPayment\")]: 
                                    {
                                        return 
                                        {
                                            TuitionPayment instance;
                                            instance = new TuitionPayment();
                                            instance.<StudentCode>k__BackingField = try { dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4) } catch (Exception) { ... } ;
                                            instance.<AcademicYear>k__BackingField = try { dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5) } catch (Exception) { ... } ;
                                            instance.<Semester>k__BackingField = try { dataReader.IsDBNull(6) ? default(int) : dataReader.GetInt32(6) } catch (Exception) { ... } ;
                                            instance.<PaymentDate>k__BackingField = try { dataReader.IsDBNull(7) ? default(DateOnly) : dataReader.GetFieldValue<DateOnly>(7) } catch (Exception) { ... } ;
                                            instance.<AmountPaid>k__BackingField = try { dataReader.IsDBNull(8) ? default(int) : dataReader.GetInt32(8) } catch (Exception) { ... } ;
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: TuitionPayment | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType(\"TuitionService.Domain.Entity.TuitionPayment\")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(TuitionPayment)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: [LIFTABLE Constant: Navigation: TuitionPayment.Tuition (Tuition) ToPrincipal Tuition Inverse: TuitionPayments | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType(\"TuitionService.Domain.Entity.TuitionPayment\").FindNavigation(\"Tuition\")], 
                fixup: (namelessParameter{9}, namelessParameter{10}) => 
                {
                    [LIFTABLE Constant: ClrICollectionAccessor<Tuition, ICollection<TuitionPayment>, TuitionPayment> | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType(\"TuitionService.Domain.Entity.Tuition\").FindNavigation(\"TuitionPayments\").GetCollectionAccessor()].Add(
                        entity: namelessParameter{9}, 
                        value: namelessParameter{10}, 
                        forMaterialization: True);
                    return namelessParameter{10}.<Tuition>k__BackingField = namelessParameter{9};
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (Tuition)(resultContext.Values[0]) : default(Tuition);
        }, 
        contextType: TuitionService.Domain.TuitionDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: True, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)"'
2025-06-06T20:07:58.7878938+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:07:58.7946421+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (3ms).
2025-06-06T20:07:58.8034037+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (15ms).
2025-06-06T20:07:58.8123548+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__8__locals1_studentCode_0='N22DCCN888', @__academicYearRequest_1='2024-2025', @__semesterRequest_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t1.student_code, t1.academic_year, t1.semester, t1.tuition_fee, t0.student_code, t0.academic_year, t0.semester, t0.payment_date, t0.amount_paid
FROM (
    SELECT t.student_code, t.academic_year, t.semester, t.tuition_fee
    FROM tuition AS t
    WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__academicYearRequest_1 AND t.semester = @__semesterRequest_2
    LIMIT 1
) AS t1
LEFT JOIN tuition_payment AS t0 ON t1.student_code = t0.student_code AND t1.academic_year = t0.academic_year AND t1.semester = t0.semester
ORDER BY t1.student_code, t1.academic_year, t1.semester, t0.student_code, t0.academic_year, t0.semester"
2025-06-06T20:07:58.9048137+07:00 [INF] (///) Executed DbCommand ("90"ms) [Parameters=["@__8__locals1_studentCode_0='N22DCCN888', @__academicYearRequest_1='2024-2025', @__semesterRequest_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t1.student_code, t1.academic_year, t1.semester, t1.tuition_fee, t0.student_code, t0.academic_year, t0.semester, t0.payment_date, t0.amount_paid
FROM (
    SELECT t.student_code, t.academic_year, t.semester, t.tuition_fee
    FROM tuition AS t
    WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__academicYearRequest_1 AND t.semester = @__semesterRequest_2
    LIMIT 1
) AS t1
LEFT JOIN tuition_payment AS t0 ON t1.student_code = t0.student_code AND t1.academic_year = t0.academic_year AND t1.semester = t0.semester
ORDER BY t1.student_code, t1.academic_year, t1.semester, t0.student_code, t0.academic_year, t0.semester"
2025-06-06T20:07:58.9445576+07:00 [DBG] (///) Context '"TuitionDbContext"' started tracking '"Tuition"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2}"'.
2025-06-06T20:07:58.9736802+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:07:58.9814602+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 70ms reading results.
2025-06-06T20:07:58.9858247+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<TuitionPayment>()
    .Where(p => p.StudentCode == __8__locals1_studentCode_0 && p.AcademicYear == __8__locals1_academicYear_1 && p.Semester == __semesterRequest_2 && p.PaymentDate == __paymentDate_3)
    .FirstOrDefault()"'
2025-06-06T20:07:58.9916415+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<TuitionPayment>(
    asyncEnumerable: SingleQueryingEnumerable.Create<TuitionPayment>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: TuitionPayment.StudentCode (string) Required PK FK Index AfterSave:Throw MaxLength(10), 0], [Property: TuitionPayment.AcademicYear (string) Required PK FK Index AfterSave:Throw MaxLength(9), 1], [Property: TuitionPayment.Semester (int) Required PK FK Index AfterSave:Throw, 2], [Property: TuitionPayment.PaymentDate (DateOnly) Required PK Index AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: TuitionPayment.AmountPaid (int) Required, 4] }
            SELECT TOP(1) t.student_code, t.academic_year, t.semester, t.payment_date, t.amount_paid
            FROM tuition_payment AS t
            WHERE (((t.student_code == @__8__locals1_studentCode_0) && (t.academic_year == @__8__locals1_academicYear_1)) && (t.semester == @__semesterRequest_2)) && (t.payment_date == @__paymentDate_3)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: TuitionPayment.StudentCode (string) Required PK FK Index AfterSave:Throw MaxLength(10), 0], [Property: TuitionPayment.AcademicYear (string) Required PK FK Index AfterSave:Throw MaxLength(9), 1], [Property: TuitionPayment.Semester (int) Required PK FK Index AfterSave:Throw, 2], [Property: TuitionPayment.PaymentDate (DateOnly) Required PK Index AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: TuitionPayment.AmountPaid (int) Required, 4] }
            SELECT TOP(1) t.student_code, t.academic_year, t.semester, t.payment_date, t.amount_paid
            FROM tuition_payment AS t
            WHERE (((t.student_code == @__8__locals1_studentCode_0) && (t.academic_year == @__8__locals1_academicYear_1)) && (t.semester == @__semesterRequest_2)) && (t.payment_date == @__paymentDate_3), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            TuitionPayment entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                TuitionPayment instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(TuitionPayment);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: TuitionPayment.StudentCode, TuitionPayment.AcademicYear, TuitionPayment.Semester, TuitionPayment.PaymentDate PK | Resolver: c => c.Dependencies.Model.FindEntityType(\"TuitionService.Domain.Entity.TuitionPayment\").FindPrimaryKey()], 
                    keyValues: new object[]
                    { 
                        try { (object)dataReader.GetString(0) } catch (Exception) { ... } , 
                        try { (object)dataReader.GetString(1) } catch (Exception) { ... } , 
                        try { (object)dataReader.GetInt32(2) } catch (Exception) { ... } , 
                        try { (object)dataReader.GetFieldValue<DateOnly>(3) } catch (Exception) { ... }  
                    }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (TuitionPayment)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: TuitionPayment | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType(\"TuitionService.Domain.Entity.TuitionPayment\")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: TuitionPayment | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType(\"TuitionService.Domain.Entity.TuitionPayment\")]: 
                            {
                                return 
                                {
                                    TuitionPayment instance;
                                    instance = new TuitionPayment();
                                    instance.<StudentCode>k__BackingField = try { dataReader.GetString(0) } catch (Exception) { ... } ;
                                    instance.<AcademicYear>k__BackingField = try { dataReader.GetString(1) } catch (Exception) { ... } ;
                                    instance.<Semester>k__BackingField = try { dataReader.GetInt32(2) } catch (Exception) { ... } ;
                                    instance.<PaymentDate>k__BackingField = try { dataReader.GetFieldValue<DateOnly>(3) } catch (Exception) { ... } ;
                                    instance.<AmountPaid>k__BackingField = try { dataReader.GetInt32(4) } catch (Exception) { ... } ;
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: TuitionPayment | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType(\"TuitionService.Domain.Entity.TuitionPayment\")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(TuitionPayment)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: TuitionService.Domain.TuitionDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: True, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)"'
2025-06-06T20:07:58.9939271+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:07:58.9940448+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:07:58.9943456+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:07:58.9949440+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__8__locals1_studentCode_0='N22DCCN888', @__8__locals1_academicYear_1='2024-2025', @__semesterRequest_2='2', @__paymentDate_3='06/06/2025' (DbType = Date)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.student_code, t.academic_year, t.semester, t.payment_date, t.amount_paid
FROM tuition_payment AS t
WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__8__locals1_academicYear_1 AND t.semester = @__semesterRequest_2 AND t.payment_date = @__paymentDate_3
LIMIT 1"
2025-06-06T20:07:58.9986096+07:00 [INF] (///) Executed DbCommand ("4"ms) [Parameters=["@__8__locals1_studentCode_0='N22DCCN888', @__8__locals1_academicYear_1='2024-2025', @__semesterRequest_2='2', @__paymentDate_3='06/06/2025' (DbType = Date)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.student_code, t.academic_year, t.semester, t.payment_date, t.amount_paid
FROM tuition_payment AS t
WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__8__locals1_academicYear_1 AND t.semester = @__semesterRequest_2 AND t.payment_date = @__paymentDate_3
LIMIT 1"
2025-06-06T20:07:58.9989526+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:07:58.9990723+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:07:59.0003097+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<TuitionPayment>()
    .Where(p => p.StudentCode == __8__locals1_studentCode_0 && p.AcademicYear == __8__locals1_academicYear_1 && p.Semester == __semesterRequest_2)
    .Sum(p => p.AmountPaid)"'
2025-06-06T20:07:59.0164195+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT CAST(sum(t.amount_paid) AS integer)
            FROM tuition_payment AS t
            WHERE ((t.student_code == @__8__locals1_studentCode_0) && (t.academic_year == @__8__locals1_academicYear_1)) && (t.semester == @__semesterRequest_2)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT CAST(sum(t.amount_paid) AS integer)
            FROM tuition_payment AS t
            WHERE ((t.student_code == @__8__locals1_studentCode_0) && (t.academic_year == @__8__locals1_academicYear_1)) && (t.semester == @__semesterRequest_2), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = try { dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0) } catch (Exception) { ... } ;
            return (int)value1;
        }, 
        contextType: TuitionService.Domain.TuitionDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: True, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)"'
2025-06-06T20:07:59.0256894+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:07:59.0258067+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:07:59.0258575+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:07:59.0259194+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__8__locals1_studentCode_0='N22DCCN888', @__8__locals1_academicYear_1='2024-2025', @__semesterRequest_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT COALESCE(sum(t.amount_paid), 0)::int
FROM tuition_payment AS t
WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__8__locals1_academicYear_1 AND t.semester = @__semesterRequest_2"
2025-06-06T20:07:59.0311295+07:00 [INF] (///) Executed DbCommand ("5"ms) [Parameters=["@__8__locals1_studentCode_0='N22DCCN888', @__8__locals1_academicYear_1='2024-2025', @__semesterRequest_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT COALESCE(sum(t.amount_paid), 0)::int
FROM tuition_payment AS t
WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__8__locals1_academicYear_1 AND t.semester = @__semesterRequest_2"
2025-06-06T20:07:59.0335527+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:07:59.0336617+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 2ms reading results.
2025-06-06T20:07:59.0779306+07:00 [DBG] (///) The navigation '"TuitionPayment"."Tuition"' for entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2, PaymentDate: 06/06/2025}"' was detected as changed.
2025-06-06T20:07:59.0820166+07:00 [DBG] (///) Context '"TuitionDbContext"' started tracking '"TuitionPayment"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2, PaymentDate: 06/06/2025}"'.
2025-06-06T20:07:59.0846656+07:00 [DBG] (///) SaveChanges starting for '"TuitionDbContext"'.
2025-06-06T20:07:59.0874653+07:00 [DBG] (///) DetectChanges starting for '"TuitionDbContext"'.
2025-06-06T20:07:59.0963135+07:00 [DBG] (///) DetectChanges completed for '"TuitionDbContext"'.
2025-06-06T20:07:59.1523300+07:00 [DBG] (///) Creating transaction savepoint.
2025-06-06T20:07:59.1568908+07:00 [DBG] (///) Created transaction savepoint.
2025-06-06T20:07:59.1590376+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:07:59.1591249+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:07:59.1591788+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:07:59.1592912+07:00 [DBG] (///) Executing DbCommand [Parameters=["@p0='2024-2025' (Nullable = false), @p1='06/06/2025' (DbType = Date), @p2='2', @p3='N22DCCN888' (Nullable = false), @p4='850877'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tuition_payment (academic_year, payment_date, semester, student_code, amount_paid)
VALUES (@p0, @p1, @p2, @p3, @p4);"
2025-06-06T20:07:59.1697493+07:00 [INF] (///) Executed DbCommand ("10"ms) [Parameters=["@p0='2024-2025' (Nullable = false), @p1='06/06/2025' (DbType = Date), @p2='2', @p3='N22DCCN888' (Nullable = false), @p4='850877'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tuition_payment (academic_year, payment_date, semester, student_code, amount_paid)
VALUES (@p0, @p1, @p2, @p3, @p4);"
2025-06-06T20:07:59.1724540+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:07:59.1725577+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 2ms reading results.
2025-06-06T20:07:59.1744662+07:00 [DBG] (///) Releasing transaction savepoint.
2025-06-06T20:07:59.1763700+07:00 [DBG] (///) Released transaction savepoint.
2025-06-06T20:07:59.1839379+07:00 [DBG] (///) The '"TuitionPayment"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2, PaymentDate: 06/06/2025}"' tracked by '"TuitionDbContext"' changed state from 'Added' to 'Unchanged'.
2025-06-06T20:07:59.1856881+07:00 [DBG] (///) SaveChanges completed for '"TuitionDbContext"' with 1 entities written to the database.
2025-06-06T20:07:59.1877464+07:00 [DBG] (///) Committing transaction.
2025-06-06T20:07:59.1925928+07:00 [DBG] (///) Committed transaction.
2025-06-06T20:07:59.1946735+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:07:59.1979735+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (3ms).
2025-06-06T20:07:59.1996740+07:00 [DBG] (///) Disposing transaction.
2025-06-06T20:07:59.2004265+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:07:59.2013219+07:00 [INF] (///) Executed endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:07:59.2091672+07:00 [INF] (///) HTTP "PUT" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 200 in 1766.7914 ms
2025-06-06T20:07:59.2248336+07:00 [DBG] (///) Connection id ""0HND4VCK22CIV"" received FIN.
2025-06-06T20:07:59.2251739+07:00 [DBG] (///) Connection id ""0HND4VCK22CIV"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:07:59.2292668+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:07:59.2292675+07:00 [DBG] (///) Connection id ""0HND4VCK22CIV"" disconnecting.
2025-06-06T20:07:59.2292644+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ0"" accepted.
2025-06-06T20:07:59.2294630+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ0"" started.
2025-06-06T20:07:59.2303963+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T20:07:59.2312982+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:07:59.2314333+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:07:59.2315397+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:07:59.2317603+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:07:59.2318640+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:07:59.2336480+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:07:59.2354410+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (1ms).
2025-06-06T20:07:59.2368285+07:00 [INF] (///) Request finished "HTTP/1.1" "PUT" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 200 0 null 1871.746ms
2025-06-06T20:07:59.2401936+07:00 [DBG] (///) Connection id ""0HND4VCK22CIV"" stopped.
2025-06-06T20:07:59.2516829+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:07:59.2561896+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<StudentBasicInfo>()
    .Where(s => s.StudentCode == __studentCode_0)
    .Select(s => new StudentDetailResponse{ 
        StudentCode = s.StudentCode, 
        LastName = s.LastName, 
        FirstName = s.FirstName, 
        ClassCode = s.ClassCode, 
        FacultyCode = s.FacultyCode, 
        Tuitions = s.Tuitions
            .Select(t => new TuitionResponse{ 
                AcademicYear = t.AcademicYear, 
                Semester = t.Semester.ToString(), 
                TuitionAmount = (decimal)t.TuitionFee, 
                TuitionPaid = (decimal)t.TuitionPayments
                    .Sum(p => p.AmountPaid) 
            }
            )
            .ToList() 
    }
    )
    .FirstOrDefault()"'
2025-06-06T20:07:59.2843873+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<StudentDetailResponse>(
    asyncEnumerable: SingleQueryingEnumerable.Create<StudentDetailResponse>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> 0
                1 -> 1
                2 -> 2
                3 -> 3
                4 -> 4
                5 -> 5
                6 -> 6
                7 -> 7
                8 -> 8
                9 -> 9
                10 -> 10
            SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, COALESCE(CAST(t.semester AS text), ''), CAST(t.tuition_fee AS numeric), CAST((
                SELECT CAST(sum(t0.amount_paid) AS integer)
                FROM tuition_payment AS t0
                WHERE (((t.student_code != NULL) && (t.academic_year != NULL)) && (t.semester != NULL)) && (((t.student_code == t0.student_code) && (t.academic_year == t0.academic_year)) && (t.semester == t0.semester))) AS numeric), t.student_code, t.semester
            FROM 
            (
                SELECT TOP(1) s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
                FROM student_basic_info AS s
                WHERE s.student_code == @__studentCode_0
            ) AS s0
            LEFT JOIN tuition AS t ON s0.student_code == t.student_code
            ORDER BY s0.student_code ASC, t.student_code ASC, t.academic_year ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> 0
                1 -> 1
                2 -> 2
                3 -> 3
                4 -> 4
                5 -> 5
                6 -> 6
                7 -> 7
                8 -> 8
                9 -> 9
                10 -> 10
            SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, COALESCE(CAST(t.semester AS text), ''), CAST(t.tuition_fee AS numeric), CAST((
                SELECT CAST(sum(t0.amount_paid) AS integer)
                FROM tuition_payment AS t0
                WHERE (((t.student_code != NULL) && (t.academic_year != NULL)) && (t.semester != NULL)) && (((t.student_code == t0.student_code) && (t.academic_year == t0.academic_year)) && (t.semester == t0.semester))) AS numeric), t.student_code, t.semester
            FROM 
            (
                SELECT TOP(1) s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
                FROM student_basic_info AS s
                WHERE s.student_code == @__studentCode_0
            ) AS s0
            LEFT JOIN tuition AS t ON s0.student_code == t.student_code
            ORDER BY s0.student_code ASC, t.student_code ASC, t.academic_year ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                string value1;
                string value2;
                string value3;
                string value4;
                string value5;
                List<TuitionResponse> namelessParameter{0};
                value1 = try { dataReader.GetString(0) } catch (Exception) { ... } ;
                value2 = try { dataReader.GetString(1) } catch (Exception) { ... } ;
                value3 = try { dataReader.GetString(2) } catch (Exception) { ... } ;
                value4 = try { dataReader.GetString(3) } catch (Exception) { ... } ;
                value5 = try { dataReader.GetString(4) } catch (Exception) { ... } ;
                namelessParameter{0} = ShaperProcessingExpressionVisitor.InitializeCollection<TuitionResponse, List<TuitionResponse>>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ try { dataReader.GetString(0) } catch (Exception) { ... }  }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ try { dataReader.GetString(0) } catch (Exception) { ... }  }], 
                    clrCollectionAccessor: default(IClrCollectionAccessor));
                return resultContext.Values = new object[]
                { 
                    value1, 
                    value2, 
                    value3, 
                    value4, 
                    value5, 
                    namelessParameter{0} 
                };
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateCollection<List<TuitionResponse>, TuitionResponse, TuitionResponse>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ try { dataReader.GetString(0) } catch (Exception) { ... }  }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ try { dataReader.GetString(0) } catch (Exception) { ... }  }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    try { dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9) } catch (Exception) { ... } , 
                    try { dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5) } catch (Exception) { ... } , 
                    (object)try { dataReader.IsDBNull(10) ? default(int?) : (int?)dataReader.GetInt32(10) } catch (Exception) { ... }  
                }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (string)left == (string)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (string)left == (string)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
                { 
                    (left, right) => left == null ? right == null : right != null && (string)left == (string)right, 
                    (left, right) => left == null ? right == null : right != null && (string)left == (string)right, 
                    (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
                }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    string value1;
                    string value2;
                    decimal? value3;
                    decimal? value4;
                    value1 = try { dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5) } catch (Exception) { ... } ;
                    value2 = try { dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6) } catch (Exception) { ... } ;
                    value3 = try { dataReader.IsDBNull(7) ? default(decimal?) : (decimal?)dataReader.GetDecimal(7) } catch (Exception) { ... } ;
                    value4 = try { dataReader.IsDBNull(8) ? default(decimal?) : (decimal?)dataReader.GetDecimal(8) } catch (Exception) { ... } ;
                    return new TuitionResponse{ 
                        AcademicYear = value1, 
                        Semester = value2, 
                        TuitionAmount = (decimal)value3, 
                        TuitionPaid = (decimal)value4 
                    }
                    ;
                });
            return IsTrue(resultCoordinator.ResultReady)
             ? new StudentDetailResponse{ 
                StudentCode = (string)(resultContext.Values[0]), 
                LastName = (string)(resultContext.Values[1]), 
                FirstName = (string)(resultContext.Values[2]), 
                ClassCode = (string)(resultContext.Values[3]), 
                FacultyCode = (string)(resultContext.Values[4]), 
                Tuitions = (List<TuitionResponse>)(resultContext.Values[5]) 
            }
             : default(StudentDetailResponse);
        }, 
        contextType: TuitionService.Domain.TuitionDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: True, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)"'
2025-06-06T20:07:59.2885560+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:07:59.2887303+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:07:59.2887934+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:07:59.2892082+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:07:59.2893835+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:07:59.2894384+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:07:59.2894787+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:07:59.2895519+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:07:59.2911971+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:07:59.2989150+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:07:59.2991115+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 7ms reading results.
2025-06-06T20:07:59.2992784+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:07:59.2993551+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:07:59.2996781+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:07:59.3043541+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T20:07:59.3119472+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:07:59.3122786+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 80.3806 ms
2025-06-06T20:07:59.3125659+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:07:59.3126970+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:07:59.3127686+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:07:59.3128988+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ0"" received FIN.
2025-06-06T20:07:59.3129125+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 82.5078ms
2025-06-06T20:07:59.3130069+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ0"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:07:59.3131441+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ0"" disconnecting.
2025-06-06T20:07:59.3143096+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ0"" stopped.
2025-06-06T20:08:03.8787507+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ1"" accepted.
2025-06-06T20:08:03.8791012+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ1"" started.
2025-06-06T20:08:03.8794511+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" null
2025-06-06T20:08:03.8798940+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:08:03.8800784+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:08:03.8802584+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:08:03.8805407+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:08:03.8807348+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:08:03.9297893+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:08:03.9330527+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<TuitionPayment>()
    .Where(p => p.StudentCode == __studentCode_0 && p.AcademicYear == __academicYear_1 && p.Semester == __semester_2)
    .Select(p => new PaymentResponse{ 
        PaymentDate = p.PaymentDate.ToString(), 
        AmountPaid = (decimal)p.AmountPaid 
    }
    )"'
2025-06-06T20:08:03.9408154+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => SingleQueryingEnumerable.Create<PaymentResponse>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
        SELECT t.payment_date, CAST(t.amount_paid AS numeric)
        FROM tuition_payment AS t
        WHERE ((t.student_code == @__studentCode_0) && (t.academic_year == @__academicYear_1)) && (t.semester == @__semester_2)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> 0
            1 -> 1
        SELECT t.payment_date, CAST(t.amount_paid AS numeric)
        FROM tuition_payment AS t
        WHERE ((t.student_code == @__studentCode_0) && (t.academic_year == @__academicYear_1)) && (t.semester == @__semester_2), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        DateOnly? value1;
        decimal? value2;
        value1 = try { (DateOnly?)dataReader.GetFieldValue<DateOnly>(0) } catch (Exception) { ... } ;
        value2 = try { dataReader.IsDBNull(1) ? default(decimal?) : (decimal?)dataReader.GetDecimal(1) } catch (Exception) { ... } ;
        return new PaymentResponse{ 
            PaymentDate = value1 == default(DateOnly?) ? null : ((DateOnly)value1).ToString(), 
            AmountPaid = (decimal)value2 
        }
        ;
    }, 
    contextType: TuitionService.Domain.TuitionDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: True, 
    threadSafetyChecksEnabled: True)"'
2025-06-06T20:08:03.9421222+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:08:03.9421974+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:08:03.9422389+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:08:03.9423690+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:08:03.9425220+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:08:03.9425879+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:08:03.9426716+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:08:03.9427769+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T20:08:03.9438383+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T20:08:03.9467721+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:08:03.9468874+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 2ms reading results.
2025-06-06T20:08:03.9470319+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:08:03.9471004+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:08:03.9473137+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:08:03.9479457+07:00 [INF] (///) Writing value of type '"List`1"' as Json.
2025-06-06T20:08:03.9489738+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:08:03.9491695+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 200 in 68.5191 ms
2025-06-06T20:08:03.9492934+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:08:03.9493595+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:08:03.9495907+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ1"" received FIN.
2025-06-06T20:08:03.9495993+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:08:03.9496693+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ1"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:08:03.9498224+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ1"" disconnecting.
2025-06-06T20:08:03.9497223+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 200 null "application/json; charset=utf-8" 70.2733ms
2025-06-06T20:08:03.9499856+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ1"" stopped.
2025-06-06T20:08:18.0587390+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ2"" accepted.
2025-06-06T20:08:18.0588396+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ2"" started.
2025-06-06T20:08:18.0592358+07:00 [INF] (///) Request starting "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" 28
2025-06-06T20:08:18.0594178+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:08:18.0594754+07:00 [DBG] (///) Endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:08:18.0595228+07:00 [DBG] (///) Request matched endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:08:18.0596463+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:08:18.0598257+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T20:08:18.0598510+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T20:08:18.0599116+07:00 [INF] (///) Executing endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:08:18.0602278+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ2"", Request id ""0HND4VCK22CJ2:00000001"": started reading request body.
2025-06-06T20:08:18.0604514+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ2"", Request id ""0HND4VCK22CJ2:00000001"": done reading request body.
2025-06-06T20:08:18.0682043+07:00 [INF] (///) Executed endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:08:18.0690010+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Http.BadHttpRequestException: Failed to read parameter "List<DeleteTuitionPaymentRequest> request" from the request body as JSON.
 ---> System.Text.Json.JsonException: The JSON value could not be converted to System.DateOnly. Path: $[0].paymentDate | LineNumber: 0 | BytePositionInLine: 26.
 ---> System.FormatException: The JSON value is not in a supported DateOnly format.
   at System.Text.Json.ThrowHelper.ThrowFormatException(DataType dataType)
   at System.Text.Json.Serialization.Converters.DateOnlyConverter.ReadCore(Utf8JsonReader& reader)
   at System.Text.Json.Serialization.Converters.DateOnlyConverter.Read(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.ReadJsonAndSetMember(Object obj, ReadStack& state, Utf8JsonReader& reader)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, TCollection& value)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& state, Utf8JsonReader& reader, Exception ex)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.ContinueDeserialize(ReadBufferState& bufferState, JsonReaderState& jsonReaderState, ReadStack& readStack, T& value)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsync(Stream utf8Json, CancellationToken cancellationToken)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsObjectAsync(Stream utf8Json, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|101_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.Log.InvalidJsonRequestBody(HttpContext httpContext, String parameterTypeName, String parameterName, Exception exception, Boolean shouldThrow)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|101_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-06T20:08:18.1064014+07:00 [ERR] (///) HTTP "DELETE" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 500 in 46.6855 ms
2025-06-06T20:08:18.1065746+07:00 [INF] (///) Request finished "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 500 null "application/problem+json" 47.3283ms
2025-06-06T20:08:18.1066451+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ2"" disconnecting.
2025-06-06T20:08:18.1066643+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ2"" stopped.
2025-06-06T20:08:18.1067048+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ2"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:08:25.5624555+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ3"" accepted.
2025-06-06T20:08:25.5625218+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ3"" started.
2025-06-06T20:08:25.5627429+07:00 [INF] (///) Request starting "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" 28
2025-06-06T20:08:25.5629000+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:08:25.5629414+07:00 [DBG] (///) Endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:08:25.5629804+07:00 [DBG] (///) Request matched endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:08:25.5631071+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:08:25.5631631+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T20:08:25.5631770+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T20:08:25.5632118+07:00 [INF] (///) Executing endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:08:25.5633414+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ3"", Request id ""0HND4VCK22CJ3:00000001"": started reading request body.
2025-06-06T20:08:25.5633717+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ3"", Request id ""0HND4VCK22CJ3:00000001"": done reading request body.
2025-06-06T20:08:25.5636467+07:00 [INF] (///) Executed endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:08:25.5636975+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Http.BadHttpRequestException: Failed to read parameter "List<DeleteTuitionPaymentRequest> request" from the request body as JSON.
 ---> System.Text.Json.JsonException: The JSON value could not be converted to System.DateOnly. Path: $[0].paymentDate | LineNumber: 0 | BytePositionInLine: 26.
 ---> System.FormatException: The JSON value is not in a supported DateOnly format.
   at System.Text.Json.ThrowHelper.ThrowFormatException(DataType dataType)
   at System.Text.Json.Serialization.Converters.DateOnlyConverter.ReadCore(Utf8JsonReader& reader)
   at System.Text.Json.Serialization.Converters.DateOnlyConverter.Read(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.ReadJsonAndSetMember(Object obj, ReadStack& state, Utf8JsonReader& reader)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, TCollection& value)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& state, Utf8JsonReader& reader, Exception ex)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.ContinueDeserialize(ReadBufferState& bufferState, JsonReaderState& jsonReaderState, ReadStack& readStack, T& value)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsync(Stream utf8Json, CancellationToken cancellationToken)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsObjectAsync(Stream utf8Json, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|101_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.Log.InvalidJsonRequestBody(HttpContext httpContext, String parameterTypeName, String parameterName, Exception exception, Boolean shouldThrow)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|101_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-06T20:08:25.5673006+07:00 [ERR] (///) HTTP "DELETE" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 500 in 4.1457 ms
2025-06-06T20:08:25.5674000+07:00 [INF] (///) Request finished "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 500 null "application/problem+json" 4.6666ms
2025-06-06T20:08:25.5674510+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ3"" disconnecting.
2025-06-06T20:08:25.5674679+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ3"" stopped.
2025-06-06T20:08:25.5674998+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ3"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:08:43.1576729+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ4"" accepted.
2025-06-06T20:08:43.1577676+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ4"" started.
2025-06-06T20:08:43.1580453+07:00 [INF] (///) Request starting "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" 28
2025-06-06T20:08:43.1582773+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:08:43.1583790+07:00 [DBG] (///) Endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:08:43.1584464+07:00 [DBG] (///) Request matched endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:08:43.1585629+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:08:43.1586183+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T20:08:43.1586398+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T20:08:43.1586852+07:00 [INF] (///) Executing endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:08:43.1587533+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ4"", Request id ""0HND4VCK22CJ4:00000001"": started reading request body.
2025-06-06T20:08:43.1587852+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ4"", Request id ""0HND4VCK22CJ4:00000001"": done reading request body.
2025-06-06T20:08:43.1591569+07:00 [INF] (///) Executed endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:08:43.1592250+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Http.BadHttpRequestException: Failed to read parameter "List<DeleteTuitionPaymentRequest> request" from the request body as JSON.
 ---> System.Text.Json.JsonException: The JSON value could not be converted to System.DateOnly. Path: $[0].paymentDate | LineNumber: 0 | BytePositionInLine: 26.
 ---> System.FormatException: The JSON value is not in a supported DateOnly format.
   at System.Text.Json.ThrowHelper.ThrowFormatException(DataType dataType)
   at System.Text.Json.Serialization.Converters.DateOnlyConverter.ReadCore(Utf8JsonReader& reader)
   at System.Text.Json.Serialization.Converters.DateOnlyConverter.Read(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.ReadJsonAndSetMember(Object obj, ReadStack& state, Utf8JsonReader& reader)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, TCollection& value)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& state, Utf8JsonReader& reader, Exception ex)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.ContinueDeserialize(ReadBufferState& bufferState, JsonReaderState& jsonReaderState, ReadStack& readStack, T& value)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsync(Stream utf8Json, CancellationToken cancellationToken)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsObjectAsync(Stream utf8Json, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|101_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.Log.InvalidJsonRequestBody(HttpContext httpContext, String parameterTypeName, String parameterName, Exception exception, Boolean shouldThrow)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|101_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-06T20:08:43.1636675+07:00 [ERR] (///) HTTP "DELETE" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 500 in 5.0660 ms
2025-06-06T20:08:43.1637631+07:00 [INF] (///) Request finished "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 500 null "application/problem+json" 5.7297ms
2025-06-06T20:08:43.1638136+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ4"" disconnecting.
2025-06-06T20:08:43.1638267+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ4"" stopped.
2025-06-06T20:08:43.1638540+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ4"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:09:01.9676868+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ5"" accepted.
2025-06-06T20:09:01.9677595+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ5"" started.
2025-06-06T20:09:01.9679573+07:00 [INF] (///) Request starting "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - "application/json" 43
2025-06-06T20:09:01.9680994+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T20:09:01.9681477+07:00 [DBG] (///) Endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T20:09:01.9681981+07:00 [DBG] (///) Request matched endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T20:09:01.9684075+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:09:01.9684553+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T20:09:01.9684668+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T20:09:01.9685882+07:00 [INF] (///) Executing endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T20:09:01.9687282+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ5"", Request id ""0HND4VCK22CJ5:00000001"": started reading request body.
2025-06-06T20:09:01.9688747+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ5"", Request id ""0HND4VCK22CJ5:00000001"": done reading request body.
2025-06-06T20:09:01.9744547+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:09:01.9751191+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Tuition>()
    .Where(t => t.StudentCode == __studentCode_0 && __academicYears_1.Contains(t.AcademicYear) && __semesters_2.Contains(t.Semester))
    .ExecuteDelete()"'
2025-06-06T20:09:02.0041324+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => RelationalShapedQueryCompilingExpressionVisitor.NonQueryResultAsync(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        DELETE FROM tuition AS t
        SELECT 1
        FROM tuition AS t
        WHERE ((t.student_code == @__studentCode_0) && t.academic_year = ANY(@__academicYears_1)) && t.semester = ANY(@__semesters_2)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        DELETE FROM tuition AS t
        SELECT 1
        FROM tuition AS t
        WHERE ((t.student_code == @__studentCode_0) && t.academic_year = ANY(@__academicYears_1)) && t.semester = ANY(@__semesters_2), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    contextType: TuitionService.Domain.TuitionDbContext, 
    commandSource: ExecuteDelete, 
    threadSafetyChecksEnabled: True)"'
2025-06-06T20:09:02.0092954+07:00 [DBG] (///) Creating DbCommand for '"ExecuteNonQuery"'.
2025-06-06T20:09:02.0093741+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:09:02.0094022+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:09:02.0094276+07:00 [DBG] (///) Created DbCommand for '"ExecuteNonQuery"' (0ms).
2025-06-06T20:09:02.0104250+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteNonQuery"' (1ms).
2025-06-06T20:09:02.0104671+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:09:02.0105176+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:09:02.0111592+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888', @__academicYears_1={ '2024-2025' } (DbType = Object), @__semesters_2={ '2' } (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM tuition AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = ANY (@__academicYears_1) AND t.semester = ANY (@__semesters_2)"
2025-06-06T20:09:02.0754845+07:00 [ERR] (///) Failed executing DbCommand ("64"ms) [Parameters=["@__studentCode_0='N22DCCN888', @__academicYears_1={ '2024-2025' } (DbType = Object), @__semesters_2={ '2' } (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM tuition AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = ANY (@__academicYears_1) AND t.semester = ANY (@__semesters_2)"
2025-06-06T20:09:02.0762652+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:09:02.0765136+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:09:02.0781077+07:00 [INF] (///) Executed endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T20:09:02.0781656+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
Npgsql.PostgresException (0x80004005): 23503: update or delete on table "tuition" violates foreign key constraint "fk_payment_tuition" on table "tuition_payment"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Program.<>c.<<<Main>$>b__0_14>d.MoveNext() in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api/Program.cs:line 242
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: update or delete on table "tuition" violates foreign key constraint "fk_payment_tuition" on table "tuition_payment"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: tuition_payment
    ConstraintName: fk_payment_tuition
    File: ri_triggers.c
    Line: 2621
    Routine: ri_ReportViolation
2025-06-06T20:09:02.0849983+07:00 [ERR] (///) HTTP "DELETE" "/api/v1/students/N22DCCN888/tuitions" responded 500 in 116.5555 ms
2025-06-06T20:09:02.0850755+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:09:02.0851134+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:09:02.0851404+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:09:02.0852553+07:00 [INF] (///) Request finished "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - 500 null "application/problem+json" 117.2349ms
2025-06-06T20:09:02.0853112+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ5"" disconnecting.
2025-06-06T20:09:02.0853342+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ5"" stopped.
2025-06-06T20:09:02.0853770+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ5"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:11:24.8604254+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ6"" accepted.
2025-06-06T20:11:24.8605573+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ6"" started.
2025-06-06T20:11:24.8608125+07:00 [INF] (///) Request starting "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" 28
2025-06-06T20:11:24.8609777+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:11:24.8611189+07:00 [DBG] (///) Endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:11:24.8611753+07:00 [DBG] (///) Request matched endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:11:24.8612923+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:11:24.8613429+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T20:11:24.8613828+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T20:11:24.8614230+07:00 [INF] (///) Executing endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:11:24.8615162+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ6"", Request id ""0HND4VCK22CJ6:00000001"": started reading request body.
2025-06-06T20:11:24.8615470+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ6"", Request id ""0HND4VCK22CJ6:00000001"": done reading request body.
2025-06-06T20:11:24.8618908+07:00 [INF] (///) Executed endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:11:24.8620201+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Http.BadHttpRequestException: Failed to read parameter "List<DeleteTuitionPaymentRequest> request" from the request body as JSON.
 ---> System.Text.Json.JsonException: The JSON value could not be converted to System.DateOnly. Path: $[0].paymentDate | LineNumber: 0 | BytePositionInLine: 26.
 ---> System.FormatException: The JSON value is not in a supported DateOnly format.
   at System.Text.Json.ThrowHelper.ThrowFormatException(DataType dataType)
   at System.Text.Json.Serialization.Converters.DateOnlyConverter.ReadCore(Utf8JsonReader& reader)
   at System.Text.Json.Serialization.Converters.DateOnlyConverter.Read(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.ReadJsonAndSetMember(Object obj, ReadStack& state, Utf8JsonReader& reader)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, TCollection& value)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& state, Utf8JsonReader& reader, Exception ex)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.ContinueDeserialize(ReadBufferState& bufferState, JsonReaderState& jsonReaderState, ReadStack& readStack, T& value)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsync(Stream utf8Json, CancellationToken cancellationToken)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsObjectAsync(Stream utf8Json, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|101_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.Log.InvalidJsonRequestBody(HttpContext httpContext, String parameterTypeName, String parameterName, Exception exception, Boolean shouldThrow)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|101_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-06T20:11:24.8679200+07:00 [ERR] (///) HTTP "DELETE" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 500 in 6.5838 ms
2025-06-06T20:11:24.8680327+07:00 [INF] (///) Request finished "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 500 null "application/problem+json" 7.2225ms
2025-06-06T20:11:24.8681119+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ6"" disconnecting.
2025-06-06T20:11:24.8681304+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ6"" stopped.
2025-06-06T20:11:24.8681813+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ6"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:11:35.2583649+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ7"" accepted.
2025-06-06T20:11:35.2584584+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ7"" started.
2025-06-06T20:11:35.2587452+07:00 [INF] (///) Request starting "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - "application/json" 43
2025-06-06T20:11:35.2589117+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T20:11:35.2589684+07:00 [DBG] (///) Endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T20:11:35.2590240+07:00 [DBG] (///) Request matched endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T20:11:35.2591417+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:11:35.2591977+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T20:11:35.2592181+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T20:11:35.2592697+07:00 [INF] (///) Executing endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T20:11:35.2593610+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ7"", Request id ""0HND4VCK22CJ7:00000001"": started reading request body.
2025-06-06T20:11:35.2593926+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ7"", Request id ""0HND4VCK22CJ7:00000001"": done reading request body.
2025-06-06T20:11:35.2603803+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:11:35.2634093+07:00 [DBG] (///) Creating DbCommand for '"ExecuteNonQuery"'.
2025-06-06T20:11:35.2635054+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:11:35.2635432+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:11:35.2635825+07:00 [DBG] (///) Created DbCommand for '"ExecuteNonQuery"' (0ms).
2025-06-06T20:11:35.2636309+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteNonQuery"' (0ms).
2025-06-06T20:11:35.2636608+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:11:35.2637042+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:11:35.2639379+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888', @__academicYears_1={ '2024-2025' } (DbType = Object), @__semesters_2={ '2' } (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM tuition AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = ANY (@__academicYears_1) AND t.semester = ANY (@__semesters_2)"
2025-06-06T20:11:35.2678656+07:00 [ERR] (///) Failed executing DbCommand ("4"ms) [Parameters=["@__studentCode_0='N22DCCN888', @__academicYears_1={ '2024-2025' } (DbType = Object), @__semesters_2={ '2' } (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM tuition AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = ANY (@__academicYears_1) AND t.semester = ANY (@__semesters_2)"
2025-06-06T20:11:35.2680657+07:00 [INF] (///) Executed endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T20:11:35.2681088+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.IO.EndOfStreamException: Attempted to read past the end of the stream.
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Program.<>c.<<<Main>$>b__0_14>d.MoveNext() in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api/Program.cs:line 242
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-06T20:11:35.2721017+07:00 [ERR] (///) HTTP "DELETE" "/api/v1/students/N22DCCN888/tuitions" responded 500 in 12.9334 ms
2025-06-06T20:11:35.2721713+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:11:35.2722135+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:11:35.2722426+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:11:35.2723095+07:00 [INF] (///) Request finished "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - 500 null "application/problem+json" 13.5442ms
2025-06-06T20:11:35.2723818+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ7"" disconnecting.
2025-06-06T20:11:35.2724081+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ7"" stopped.
2025-06-06T20:11:35.2724358+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ7"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:13:12.0071183+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ8"" accepted.
2025-06-06T20:13:12.0072001+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ8"" started.
2025-06-06T20:13:12.0074439+07:00 [INF] (///) Request starting "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - "application/json" 43
2025-06-06T20:13:12.0076218+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T20:13:12.0077644+07:00 [DBG] (///) Endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T20:13:12.0078188+07:00 [DBG] (///) Request matched endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T20:13:12.0080910+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:13:12.0081550+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T20:13:12.0081805+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T20:13:12.0082217+07:00 [INF] (///) Executing endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T20:13:12.0083035+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ8"", Request id ""0HND4VCK22CJ8:00000001"": started reading request body.
2025-06-06T20:13:12.0083326+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ8"", Request id ""0HND4VCK22CJ8:00000001"": done reading request body.
2025-06-06T20:13:12.0095405+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:13:12.0099884+07:00 [DBG] (///) Creating DbCommand for '"ExecuteNonQuery"'.
2025-06-06T20:13:12.0101357+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:13:12.0101950+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:13:12.0102267+07:00 [DBG] (///) Created DbCommand for '"ExecuteNonQuery"' (0ms).
2025-06-06T20:13:12.0102872+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteNonQuery"' (0ms).
2025-06-06T20:13:12.0103221+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:12.0153573+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:12.0156272+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888', @__academicYears_1={ '2024-2025' } (DbType = Object), @__semesters_2={ '2' } (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM tuition AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = ANY (@__academicYears_1) AND t.semester = ANY (@__semesters_2)"
2025-06-06T20:13:12.0211953+07:00 [INF] (///) Executed DbCommand ("5"ms) [Parameters=["@__studentCode_0='N22DCCN888', @__academicYears_1={ '2024-2025' } (DbType = Object), @__semesters_2={ '2' } (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM tuition AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = ANY (@__academicYears_1) AND t.semester = ANY (@__semesters_2)"
2025-06-06T20:13:12.0216820+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:12.0217814+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:13:12.0228472+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:13:12.0231676+07:00 [INF] (///) Writing value of type '"Int32"' as Json.
2025-06-06T20:13:12.0258879+07:00 [INF] (///) Executed endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T20:13:12.0260694+07:00 [INF] (///) HTTP "DELETE" "/api/v1/students/N22DCCN888/tuitions" responded 200 in 18.0718 ms
2025-06-06T20:13:12.0261719+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:13:12.0262393+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:12.0262820+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:13:12.0263504+07:00 [INF] (///) Request finished "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - 200 null "application/json; charset=utf-8" 18.9093ms
2025-06-06T20:13:12.0264377+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ8"" disconnecting.
2025-06-06T20:13:12.0264646+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ8"" stopped.
2025-06-06T20:13:12.0265238+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ8"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:13:12.0320388+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ9"" accepted.
2025-06-06T20:13:12.0321154+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ9"" started.
2025-06-06T20:13:12.0323164+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T20:13:12.0324391+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:13:12.0324885+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:13:12.0325247+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:13:12.0326170+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:13:12.0326563+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:13:12.0333040+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:13:12.0346863+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:13:12.0347367+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:13:12.0347609+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:12.0348032+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:12.0349332+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:13:12.0349630+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:13:12.0349984+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:13:12.0350396+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:13:12.0367399+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:13:12.0369867+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:12.0370370+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:13:12.0371440+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:12.0371891+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:13:12.0373286+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:13:12.0373629+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T20:13:12.0375309+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:13:12.0376389+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 4.9575 ms
2025-06-06T20:13:12.0377190+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:13:12.0377520+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:12.0377734+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:13:12.0378179+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 5.5026ms
2025-06-06T20:13:12.0379543+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ9"" disconnecting.
2025-06-06T20:13:12.0379724+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ9"" stopped.
2025-06-06T20:13:12.0380187+07:00 [DBG] (///) Connection id ""0HND4VCK22CJ9"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:13:20.5737139+07:00 [DBG] (///) Connection id ""0HND4VCK22CJA"" accepted.
2025-06-06T20:13:20.5738087+07:00 [DBG] (///) Connection id ""0HND4VCK22CJA"" started.
2025-06-06T20:13:20.5740274+07:00 [INF] (///) Request starting "HTTP/1.1" "POST" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - "application/json" 89
2025-06-06T20:13:20.5741691+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T20:13:20.5742194+07:00 [DBG] (///) Endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions"'
2025-06-06T20:13:20.5742621+07:00 [DBG] (///) Request matched endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T20:13:20.5744379+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:13:20.5745018+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T20:13:20.5745166+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T20:13:20.5745559+07:00 [INF] (///) Executing endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T20:13:20.5747131+07:00 [DBG] (///) Connection id ""0HND4VCK22CJA"", Request id ""0HND4VCK22CJA:00000001"": started reading request body.
2025-06-06T20:13:20.5747507+07:00 [DBG] (///) Connection id ""0HND4VCK22CJA"", Request id ""0HND4VCK22CJA:00000001"": done reading request body.
2025-06-06T20:13:20.5813851+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:13:20.5824159+07:00 [DBG] (///) Context '"TuitionDbContext"' started tracking '"Tuition"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2}"'.
2025-06-06T20:13:20.5824947+07:00 [DBG] (///) SaveChanges starting for '"TuitionDbContext"'.
2025-06-06T20:13:20.5825836+07:00 [DBG] (///) DetectChanges starting for '"TuitionDbContext"'.
2025-06-06T20:13:20.5827293+07:00 [DBG] (///) DetectChanges completed for '"TuitionDbContext"'.
2025-06-06T20:13:20.5905370+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:13:20.5906076+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:13:20.5906334+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:20.5907192+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:20.5908354+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:13:20.5908565+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:13:20.5908950+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:13:20.5909494+07:00 [DBG] (///) Executing DbCommand [Parameters=["@p0='2024-2025' (Nullable = false), @p1='2', @p2='N22DCCN888' (Nullable = false), @p3='8508544'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tuition (academic_year, semester, student_code, tuition_fee)
VALUES (@p0, @p1, @p2, @p3);"
2025-06-06T20:13:20.5929307+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@p0='2024-2025' (Nullable = false), @p1='2', @p2='N22DCCN888' (Nullable = false), @p3='8508544'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tuition (academic_year, semester, student_code, tuition_fee)
VALUES (@p0, @p1, @p2, @p3);"
2025-06-06T20:13:20.5932472+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:20.5932944+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:13:20.5933972+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:20.5934373+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:13:20.5939885+07:00 [DBG] (///) The '"Tuition"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2}"' tracked by '"TuitionDbContext"' changed state from 'Added' to 'Unchanged'.
2025-06-06T20:13:20.5940774+07:00 [DBG] (///) SaveChanges completed for '"TuitionDbContext"' with 1 entities written to the database.
2025-06-06T20:13:20.5942230+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:13:20.5942523+07:00 [INF] (///) Executed endpoint '"HTTP: POST /api/v{version:apiVersion}/students/{studentCode}/tuitions"'
2025-06-06T20:13:20.5943365+07:00 [INF] (///) HTTP "POST" "/api/v1/students/N22DCCN888/tuitions" responded 200 in 19.8524 ms
2025-06-06T20:13:20.5944876+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:13:20.5945272+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:20.5945558+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:13:20.5946093+07:00 [INF] (///) Request finished "HTTP/1.1" "POST" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions""" - 200 0 null 20.5802ms
2025-06-06T20:13:20.5946724+07:00 [DBG] (///) Connection id ""0HND4VCK22CJA"" disconnecting.
2025-06-06T20:13:20.5946963+07:00 [DBG] (///) Connection id ""0HND4VCK22CJA"" stopped.
2025-06-06T20:13:20.5947258+07:00 [DBG] (///) Connection id ""0HND4VCK22CJA"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:13:20.5989821+07:00 [DBG] (///) Connection id ""0HND4VCK22CJB"" accepted.
2025-06-06T20:13:20.5990556+07:00 [DBG] (///) Connection id ""0HND4VCK22CJB"" started.
2025-06-06T20:13:20.5993285+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T20:13:20.5994749+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:13:20.5995315+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:13:20.5995805+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:13:20.5996690+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:13:20.5997085+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:13:20.6004224+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:13:20.6007601+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:13:20.6007964+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:13:20.6008209+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:20.6008558+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:20.6009764+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:13:20.6010022+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:13:20.6010323+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:13:20.6010671+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:13:20.6022634+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:13:20.6024736+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:20.6025223+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:13:20.6025945+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:20.6026296+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:13:20.6027211+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:13:20.6027517+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T20:13:20.6029019+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:13:20.6029766+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 3.2672 ms
2025-06-06T20:13:20.6030493+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:13:20.6030811+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:20.6031007+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:13:20.6031456+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 3.8214ms
2025-06-06T20:13:20.6031983+07:00 [DBG] (///) Connection id ""0HND4VCK22CJB"" disconnecting.
2025-06-06T20:13:20.6032218+07:00 [DBG] (///) Connection id ""0HND4VCK22CJB"" stopped.
2025-06-06T20:13:20.6032568+07:00 [DBG] (///) Connection id ""0HND4VCK22CJB"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:13:22.9791358+07:00 [DBG] (///) Connection id ""0HND4VCK22CJC"" accepted.
2025-06-06T20:13:22.9792137+07:00 [DBG] (///) Connection id ""0HND4VCK22CJC"" started.
2025-06-06T20:13:22.9794161+07:00 [INF] (///) Request starting "HTTP/1.1" "PUT" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" 44
2025-06-06T20:13:22.9795369+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:13:22.9795832+07:00 [DBG] (///) Endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:13:22.9796801+07:00 [DBG] (///) Request matched endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:13:22.9797802+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:13:22.9798202+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T20:13:22.9798423+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T20:13:22.9798819+07:00 [INF] (///) Executing endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:13:22.9799336+07:00 [DBG] (///) Connection id ""0HND4VCK22CJC"", Request id ""0HND4VCK22CJC:00000001"": started reading request body.
2025-06-06T20:13:22.9799605+07:00 [DBG] (///) Connection id ""0HND4VCK22CJC"", Request id ""0HND4VCK22CJC:00000001"": done reading request body.
2025-06-06T20:13:22.9807918+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:13:22.9828142+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:13:22.9828757+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:13:22.9829115+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:22.9830078+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:22.9831638+07:00 [DBG] (///) Beginning transaction with isolation level '"ReadCommitted"'.
2025-06-06T20:13:22.9832080+07:00 [DBG] (///) Began transaction with isolation level '"ReadCommitted"'.
2025-06-06T20:13:22.9836490+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:13:22.9836922+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:13:22.9837327+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:13:22.9837810+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__8__locals1_studentCode_0='N22DCCN888', @__academicYearRequest_1='2024-2025', @__semesterRequest_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t1.student_code, t1.academic_year, t1.semester, t1.tuition_fee, t0.student_code, t0.academic_year, t0.semester, t0.payment_date, t0.amount_paid
FROM (
    SELECT t.student_code, t.academic_year, t.semester, t.tuition_fee
    FROM tuition AS t
    WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__academicYearRequest_1 AND t.semester = @__semesterRequest_2
    LIMIT 1
) AS t1
LEFT JOIN tuition_payment AS t0 ON t1.student_code = t0.student_code AND t1.academic_year = t0.academic_year AND t1.semester = t0.semester
ORDER BY t1.student_code, t1.academic_year, t1.semester, t0.student_code, t0.academic_year, t0.semester"
2025-06-06T20:13:22.9850720+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__8__locals1_studentCode_0='N22DCCN888', @__academicYearRequest_1='2024-2025', @__semesterRequest_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t1.student_code, t1.academic_year, t1.semester, t1.tuition_fee, t0.student_code, t0.academic_year, t0.semester, t0.payment_date, t0.amount_paid
FROM (
    SELECT t.student_code, t.academic_year, t.semester, t.tuition_fee
    FROM tuition AS t
    WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__academicYearRequest_1 AND t.semester = @__semesterRequest_2
    LIMIT 1
) AS t1
LEFT JOIN tuition_payment AS t0 ON t1.student_code = t0.student_code AND t1.academic_year = t0.academic_year AND t1.semester = t0.semester
ORDER BY t1.student_code, t1.academic_year, t1.semester, t0.student_code, t0.academic_year, t0.semester"
2025-06-06T20:13:22.9855386+07:00 [DBG] (///) Context '"TuitionDbContext"' started tracking '"Tuition"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2}"'.
2025-06-06T20:13:22.9857518+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:22.9858109+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:13:22.9861878+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:13:22.9862248+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:13:22.9862694+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:13:22.9863197+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__8__locals1_studentCode_0='N22DCCN888', @__8__locals1_academicYear_1='2024-2025', @__semesterRequest_2='2', @__paymentDate_3='06/06/2025' (DbType = Date)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.student_code, t.academic_year, t.semester, t.payment_date, t.amount_paid
FROM tuition_payment AS t
WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__8__locals1_academicYear_1 AND t.semester = @__semesterRequest_2 AND t.payment_date = @__paymentDate_3
LIMIT 1"
2025-06-06T20:13:22.9872635+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__8__locals1_studentCode_0='N22DCCN888', @__8__locals1_academicYear_1='2024-2025', @__semesterRequest_2='2', @__paymentDate_3='06/06/2025' (DbType = Date)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.student_code, t.academic_year, t.semester, t.payment_date, t.amount_paid
FROM tuition_payment AS t
WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__8__locals1_academicYear_1 AND t.semester = @__semesterRequest_2 AND t.payment_date = @__paymentDate_3
LIMIT 1"
2025-06-06T20:13:22.9874270+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:22.9874926+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:13:22.9880353+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:13:22.9880760+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:13:22.9881340+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:13:22.9881844+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__8__locals1_studentCode_0='N22DCCN888', @__8__locals1_academicYear_1='2024-2025', @__semesterRequest_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT COALESCE(sum(t.amount_paid), 0)::int
FROM tuition_payment AS t
WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__8__locals1_academicYear_1 AND t.semester = @__semesterRequest_2"
2025-06-06T20:13:22.9889296+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__8__locals1_studentCode_0='N22DCCN888', @__8__locals1_academicYear_1='2024-2025', @__semesterRequest_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT COALESCE(sum(t.amount_paid), 0)::int
FROM tuition_payment AS t
WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__8__locals1_academicYear_1 AND t.semester = @__semesterRequest_2"
2025-06-06T20:13:22.9891229+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:22.9891629+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:13:22.9904763+07:00 [DBG] (///) The navigation '"TuitionPayment"."Tuition"' for entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2, PaymentDate: 06/06/2025}"' was detected as changed.
2025-06-06T20:13:22.9906792+07:00 [DBG] (///) Context '"TuitionDbContext"' started tracking '"TuitionPayment"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2, PaymentDate: 06/06/2025}"'.
2025-06-06T20:13:22.9907437+07:00 [DBG] (///) SaveChanges starting for '"TuitionDbContext"'.
2025-06-06T20:13:22.9907633+07:00 [DBG] (///) DetectChanges starting for '"TuitionDbContext"'.
2025-06-06T20:13:22.9908523+07:00 [DBG] (///) DetectChanges completed for '"TuitionDbContext"'.
2025-06-06T20:13:22.9911597+07:00 [DBG] (///) Creating transaction savepoint.
2025-06-06T20:13:22.9922743+07:00 [DBG] (///) Created transaction savepoint.
2025-06-06T20:13:22.9923664+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:13:22.9924048+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:13:22.9924700+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:13:22.9925370+07:00 [DBG] (///) Executing DbCommand [Parameters=["@p0='2024-2025' (Nullable = false), @p1='06/06/2025' (DbType = Date), @p2='2', @p3='N22DCCN888' (Nullable = false), @p4='8508544'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tuition_payment (academic_year, payment_date, semester, student_code, amount_paid)
VALUES (@p0, @p1, @p2, @p3, @p4);"
2025-06-06T20:13:22.9936801+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@p0='2024-2025' (Nullable = false), @p1='06/06/2025' (DbType = Date), @p2='2', @p3='N22DCCN888' (Nullable = false), @p4='8508544'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tuition_payment (academic_year, payment_date, semester, student_code, amount_paid)
VALUES (@p0, @p1, @p2, @p3, @p4);"
2025-06-06T20:13:22.9938603+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:22.9939175+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:13:22.9940263+07:00 [DBG] (///) Releasing transaction savepoint.
2025-06-06T20:13:22.9945154+07:00 [DBG] (///) Released transaction savepoint.
2025-06-06T20:13:22.9946406+07:00 [DBG] (///) The '"TuitionPayment"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2, PaymentDate: 06/06/2025}"' tracked by '"TuitionDbContext"' changed state from 'Added' to 'Unchanged'.
2025-06-06T20:13:22.9946820+07:00 [DBG] (///) SaveChanges completed for '"TuitionDbContext"' with 1 entities written to the database.
2025-06-06T20:13:22.9947396+07:00 [DBG] (///) Committing transaction.
2025-06-06T20:13:22.9955429+07:00 [DBG] (///) Committed transaction.
2025-06-06T20:13:22.9955923+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:22.9956360+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:13:22.9957528+07:00 [DBG] (///) Disposing transaction.
2025-06-06T20:13:22.9957938+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:13:22.9958183+07:00 [INF] (///) Executed endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:13:22.9959593+07:00 [INF] (///) HTTP "PUT" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 200 in 16.1211 ms
2025-06-06T20:13:22.9960878+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:13:22.9961236+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:22.9961523+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:13:22.9962075+07:00 [INF] (///) Request finished "HTTP/1.1" "PUT" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 200 0 null 16.7812ms
2025-06-06T20:13:22.9962774+07:00 [DBG] (///) Connection id ""0HND4VCK22CJC"" disconnecting.
2025-06-06T20:13:22.9963007+07:00 [DBG] (///) Connection id ""0HND4VCK22CJC"" stopped.
2025-06-06T20:13:22.9963234+07:00 [DBG] (///) Connection id ""0HND4VCK22CJC"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:13:23.0011360+07:00 [DBG] (///) Connection id ""0HND4VCK22CJD"" accepted.
2025-06-06T20:13:23.0011972+07:00 [DBG] (///) Connection id ""0HND4VCK22CJD"" started.
2025-06-06T20:13:23.0013884+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T20:13:23.0014841+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:13:23.0015301+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:13:23.0015672+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:13:23.0016275+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:13:23.0016653+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:13:23.0022646+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:13:23.0025949+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:13:23.0026327+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:13:23.0026530+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:23.0026967+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:23.0027995+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:13:23.0028208+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:13:23.0028537+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:13:23.0028885+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:13:23.0039837+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:13:23.0041773+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:23.0042199+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:13:23.0042994+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:23.0043388+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:13:23.0044206+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:13:23.0044425+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T20:13:23.0045713+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:13:23.0046395+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 2.9740 ms
2025-06-06T20:13:23.0047038+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:13:23.0047316+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:23.0047491+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:13:23.0048769+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 3.4967ms
2025-06-06T20:13:23.0049149+07:00 [DBG] (///) Connection id ""0HND4VCK22CJD"" disconnecting.
2025-06-06T20:13:23.0049350+07:00 [DBG] (///) Connection id ""0HND4VCK22CJD"" stopped.
2025-06-06T20:13:23.0049647+07:00 [DBG] (///) Connection id ""0HND4VCK22CJD"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:13:30.8628829+07:00 [DBG] (///) Connection id ""0HND4VCK22CJE"" accepted.
2025-06-06T20:13:30.8630047+07:00 [DBG] (///) Connection id ""0HND4VCK22CJE"" started.
2025-06-06T20:13:30.8633103+07:00 [INF] (///) Request starting "HTTP/1.1" "PUT" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" 44
2025-06-06T20:13:30.8635263+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:13:30.8636021+07:00 [DBG] (///) Endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:13:30.8636746+07:00 [DBG] (///) Request matched endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:13:30.8637896+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:13:30.8638522+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T20:13:30.8638662+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T20:13:30.8639226+07:00 [INF] (///) Executing endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:13:30.8640053+07:00 [DBG] (///) Connection id ""0HND4VCK22CJE"", Request id ""0HND4VCK22CJE:00000001"": started reading request body.
2025-06-06T20:13:30.8640467+07:00 [DBG] (///) Connection id ""0HND4VCK22CJE"", Request id ""0HND4VCK22CJE:00000001"": done reading request body.
2025-06-06T20:13:30.8648623+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:13:30.8722841+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:13:30.8723569+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:13:30.8723802+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:30.8724783+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:30.8726778+07:00 [DBG] (///) Beginning transaction with isolation level '"ReadCommitted"'.
2025-06-06T20:13:30.8727236+07:00 [DBG] (///) Began transaction with isolation level '"ReadCommitted"'.
2025-06-06T20:13:30.8730888+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:13:30.8731255+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:13:30.8732005+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:13:30.8733003+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__8__locals1_studentCode_0='N22DCCN888', @__academicYearRequest_1='2024-2025', @__semesterRequest_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t1.student_code, t1.academic_year, t1.semester, t1.tuition_fee, t0.student_code, t0.academic_year, t0.semester, t0.payment_date, t0.amount_paid
FROM (
    SELECT t.student_code, t.academic_year, t.semester, t.tuition_fee
    FROM tuition AS t
    WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__academicYearRequest_1 AND t.semester = @__semesterRequest_2
    LIMIT 1
) AS t1
LEFT JOIN tuition_payment AS t0 ON t1.student_code = t0.student_code AND t1.academic_year = t0.academic_year AND t1.semester = t0.semester
ORDER BY t1.student_code, t1.academic_year, t1.semester, t0.student_code, t0.academic_year, t0.semester"
2025-06-06T20:13:30.8744938+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__8__locals1_studentCode_0='N22DCCN888', @__academicYearRequest_1='2024-2025', @__semesterRequest_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t1.student_code, t1.academic_year, t1.semester, t1.tuition_fee, t0.student_code, t0.academic_year, t0.semester, t0.payment_date, t0.amount_paid
FROM (
    SELECT t.student_code, t.academic_year, t.semester, t.tuition_fee
    FROM tuition AS t
    WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__academicYearRequest_1 AND t.semester = @__semesterRequest_2
    LIMIT 1
) AS t1
LEFT JOIN tuition_payment AS t0 ON t1.student_code = t0.student_code AND t1.academic_year = t0.academic_year AND t1.semester = t0.semester
ORDER BY t1.student_code, t1.academic_year, t1.semester, t0.student_code, t0.academic_year, t0.semester"
2025-06-06T20:13:30.8747552+07:00 [DBG] (///) Context '"TuitionDbContext"' started tracking '"Tuition"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2}"'.
2025-06-06T20:13:30.8763294+07:00 [DBG] (///) Context '"TuitionDbContext"' started tracking '"TuitionPayment"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2, PaymentDate: 06/06/2025}"'.
2025-06-06T20:13:30.8766428+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:30.8767082+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 2ms reading results.
2025-06-06T20:13:30.8770597+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:13:30.8770935+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:13:30.8771378+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:13:30.8771845+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__8__locals1_studentCode_0='N22DCCN888', @__8__locals1_academicYear_1='2024-2025', @__semesterRequest_2='2', @__paymentDate_3='06/06/2025' (DbType = Date)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.student_code, t.academic_year, t.semester, t.payment_date, t.amount_paid
FROM tuition_payment AS t
WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__8__locals1_academicYear_1 AND t.semester = @__semesterRequest_2 AND t.payment_date = @__paymentDate_3
LIMIT 1"
2025-06-06T20:13:30.8782989+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__8__locals1_studentCode_0='N22DCCN888', @__8__locals1_academicYear_1='2024-2025', @__semesterRequest_2='2', @__paymentDate_3='06/06/2025' (DbType = Date)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.student_code, t.academic_year, t.semester, t.payment_date, t.amount_paid
FROM tuition_payment AS t
WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__8__locals1_academicYear_1 AND t.semester = @__semesterRequest_2 AND t.payment_date = @__paymentDate_3
LIMIT 1"
2025-06-06T20:13:30.8786964+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:30.8787736+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:13:30.8802025+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<TuitionPayment>()
    .Where(p => p.StudentCode == __8__locals1_studentCode_0 && p.AcademicYear == __8__locals1_academicYear_1 && p.Semester == __semesterRequest_2 && p.PaymentDate == __paymentDate_3)
    .ExecuteUpdate(setters => setters.SetProperty<int>(
        propertyExpression: p => p.AmountPaid, 
        valueExpression: __money_Value_4))"'
2025-06-06T20:13:30.8916812+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => RelationalShapedQueryCompilingExpressionVisitor.NonQueryResultAsync(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        UPDATE tuition_payment AS t
        SET 
        t.amount_paid = @__money_Value_4
        SELECT 1
        FROM tuition_payment AS t
        WHERE (((t.student_code == @__8__locals1_studentCode_0) && (t.academic_year == @__8__locals1_academicYear_1)) && (t.semester == @__semesterRequest_2)) && (t.payment_date == @__paymentDate_3)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        UPDATE tuition_payment AS t
        SET 
        t.amount_paid = @__money_Value_4
        SELECT 1
        FROM tuition_payment AS t
        WHERE (((t.student_code == @__8__locals1_studentCode_0) && (t.academic_year == @__8__locals1_academicYear_1)) && (t.semester == @__semesterRequest_2)) && (t.payment_date == @__paymentDate_3), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    contextType: TuitionService.Domain.TuitionDbContext, 
    commandSource: BulkUpdate, 
    threadSafetyChecksEnabled: True)"'
2025-06-06T20:13:30.8933383+07:00 [DBG] (///) Creating DbCommand for '"ExecuteNonQuery"'.
2025-06-06T20:13:30.8933959+07:00 [DBG] (///) Created DbCommand for '"ExecuteNonQuery"' (0ms).
2025-06-06T20:13:30.8934381+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteNonQuery"' (0ms).
2025-06-06T20:13:30.8935066+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__money_Value_4='1000000', @__8__locals1_studentCode_0='N22DCCN888', @__8__locals1_academicYear_1='2024-2025', @__semesterRequest_2='2', @__paymentDate_3='06/06/2025' (DbType = Date)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tuition_payment AS t
SET amount_paid = @__money_Value_4
WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__8__locals1_academicYear_1 AND t.semester = @__semesterRequest_2 AND t.payment_date = @__paymentDate_3"
2025-06-06T20:13:30.8946522+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__money_Value_4='1000000', @__8__locals1_studentCode_0='N22DCCN888', @__8__locals1_academicYear_1='2024-2025', @__semesterRequest_2='2', @__paymentDate_3='06/06/2025' (DbType = Date)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tuition_payment AS t
SET amount_paid = @__money_Value_4
WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__8__locals1_academicYear_1 AND t.semester = @__semesterRequest_2 AND t.payment_date = @__paymentDate_3"
2025-06-06T20:13:30.8948191+07:00 [DBG] (///) SaveChanges starting for '"TuitionDbContext"'.
2025-06-06T20:13:30.8949053+07:00 [DBG] (///) DetectChanges starting for '"TuitionDbContext"'.
2025-06-06T20:13:30.8950178+07:00 [DBG] (///) DetectChanges completed for '"TuitionDbContext"'.
2025-06-06T20:13:30.8950481+07:00 [DBG] (///) SaveChanges completed for '"TuitionDbContext"' with 0 entities written to the database.
2025-06-06T20:13:30.8950836+07:00 [DBG] (///) Committing transaction.
2025-06-06T20:13:30.9037868+07:00 [DBG] (///) Committed transaction.
2025-06-06T20:13:30.9038433+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:30.9039187+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:13:30.9040166+07:00 [DBG] (///) Disposing transaction.
2025-06-06T20:13:30.9040667+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:13:30.9040956+07:00 [INF] (///) Executed endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:13:30.9041905+07:00 [INF] (///) HTTP "PUT" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 200 in 40.3534 ms
2025-06-06T20:13:30.9043183+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:13:30.9043711+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:30.9045161+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:13:30.9045777+07:00 [INF] (///) Request finished "HTTP/1.1" "PUT" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 200 0 null 41.269ms
2025-06-06T20:13:30.9046529+07:00 [DBG] (///) Connection id ""0HND4VCK22CJE"" disconnecting.
2025-06-06T20:13:30.9046975+07:00 [DBG] (///) Connection id ""0HND4VCK22CJE"" stopped.
2025-06-06T20:13:30.9047657+07:00 [DBG] (///) Connection id ""0HND4VCK22CJE"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:13:30.9094376+07:00 [DBG] (///) Connection id ""0HND4VCK22CJF"" accepted.
2025-06-06T20:13:30.9095425+07:00 [DBG] (///) Connection id ""0HND4VCK22CJF"" started.
2025-06-06T20:13:30.9098790+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T20:13:30.9099978+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:13:30.9100451+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:13:30.9100815+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:13:30.9101565+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:13:30.9101982+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:13:30.9108809+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:13:30.9112895+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:13:30.9113319+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:13:30.9113608+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:30.9113981+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:30.9115193+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:13:30.9115457+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:13:30.9115828+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:13:30.9116202+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:13:30.9127508+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:13:30.9131922+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:30.9132521+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:13:30.9133237+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:30.9133683+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:13:30.9134538+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:13:30.9134811+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T20:13:30.9136227+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:13:30.9136961+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 3.5014 ms
2025-06-06T20:13:30.9137573+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:13:30.9137922+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:30.9138125+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:13:30.9138594+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 3.9864ms
2025-06-06T20:13:30.9139041+07:00 [DBG] (///) Connection id ""0HND4VCK22CJF"" disconnecting.
2025-06-06T20:13:30.9139204+07:00 [DBG] (///) Connection id ""0HND4VCK22CJF"" stopped.
2025-06-06T20:13:30.9139441+07:00 [DBG] (///) Connection id ""0HND4VCK22CJF"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:13:40.2430857+07:00 [DBG] (///) Connection id ""0HND4VCK22CJG"" accepted.
2025-06-06T20:13:40.2431646+07:00 [DBG] (///) Connection id ""0HND4VCK22CJG"" started.
2025-06-06T20:13:40.2433466+07:00 [INF] (///) Request starting "HTTP/1.1" "PUT" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" 44
2025-06-06T20:13:40.2434752+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:13:40.2435235+07:00 [DBG] (///) Endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:13:40.2435637+07:00 [DBG] (///) Request matched endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:13:40.2436327+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:13:40.2436650+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T20:13:40.2436739+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T20:13:40.2437098+07:00 [INF] (///) Executing endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:13:40.2437613+07:00 [DBG] (///) Connection id ""0HND4VCK22CJG"", Request id ""0HND4VCK22CJG:00000001"": started reading request body.
2025-06-06T20:13:40.2437764+07:00 [DBG] (///) Connection id ""0HND4VCK22CJG"", Request id ""0HND4VCK22CJG:00000001"": done reading request body.
2025-06-06T20:13:40.2443512+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:13:40.2444054+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:13:40.2444298+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:13:40.2444522+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:40.2444900+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:40.2446141+07:00 [DBG] (///) Beginning transaction with isolation level '"ReadCommitted"'.
2025-06-06T20:13:40.2446537+07:00 [DBG] (///) Began transaction with isolation level '"ReadCommitted"'.
2025-06-06T20:13:40.2449354+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:13:40.2449763+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:13:40.2450142+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:13:40.2450487+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__8__locals1_studentCode_0='N22DCCN888', @__academicYearRequest_1='2024-2025', @__semesterRequest_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t1.student_code, t1.academic_year, t1.semester, t1.tuition_fee, t0.student_code, t0.academic_year, t0.semester, t0.payment_date, t0.amount_paid
FROM (
    SELECT t.student_code, t.academic_year, t.semester, t.tuition_fee
    FROM tuition AS t
    WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__academicYearRequest_1 AND t.semester = @__semesterRequest_2
    LIMIT 1
) AS t1
LEFT JOIN tuition_payment AS t0 ON t1.student_code = t0.student_code AND t1.academic_year = t0.academic_year AND t1.semester = t0.semester
ORDER BY t1.student_code, t1.academic_year, t1.semester, t0.student_code, t0.academic_year, t0.semester"
2025-06-06T20:13:40.2463217+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__8__locals1_studentCode_0='N22DCCN888', @__academicYearRequest_1='2024-2025', @__semesterRequest_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t1.student_code, t1.academic_year, t1.semester, t1.tuition_fee, t0.student_code, t0.academic_year, t0.semester, t0.payment_date, t0.amount_paid
FROM (
    SELECT t.student_code, t.academic_year, t.semester, t.tuition_fee
    FROM tuition AS t
    WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__academicYearRequest_1 AND t.semester = @__semesterRequest_2
    LIMIT 1
) AS t1
LEFT JOIN tuition_payment AS t0 ON t1.student_code = t0.student_code AND t1.academic_year = t0.academic_year AND t1.semester = t0.semester
ORDER BY t1.student_code, t1.academic_year, t1.semester, t0.student_code, t0.academic_year, t0.semester"
2025-06-06T20:13:40.2465581+07:00 [DBG] (///) Context '"TuitionDbContext"' started tracking '"Tuition"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2}"'.
2025-06-06T20:13:40.2467872+07:00 [DBG] (///) Context '"TuitionDbContext"' started tracking '"TuitionPayment"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2, PaymentDate: 06/06/2025}"'.
2025-06-06T20:13:40.2468585+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:40.2469269+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:13:40.2473542+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:13:40.2473919+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:13:40.2474283+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:13:40.2474635+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__8__locals1_studentCode_0='N22DCCN888', @__8__locals1_academicYear_1='2024-2025', @__semesterRequest_2='2', @__paymentDate_3='06/06/2025' (DbType = Date)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.student_code, t.academic_year, t.semester, t.payment_date, t.amount_paid
FROM tuition_payment AS t
WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__8__locals1_academicYear_1 AND t.semester = @__semesterRequest_2 AND t.payment_date = @__paymentDate_3
LIMIT 1"
2025-06-06T20:13:40.2485992+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__8__locals1_studentCode_0='N22DCCN888', @__8__locals1_academicYear_1='2024-2025', @__semesterRequest_2='2', @__paymentDate_3='06/06/2025' (DbType = Date)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.student_code, t.academic_year, t.semester, t.payment_date, t.amount_paid
FROM tuition_payment AS t
WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__8__locals1_academicYear_1 AND t.semester = @__semesterRequest_2 AND t.payment_date = @__paymentDate_3
LIMIT 1"
2025-06-06T20:13:40.2492373+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:40.2494321+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:13:40.2503732+07:00 [DBG] (///) Creating DbCommand for '"ExecuteNonQuery"'.
2025-06-06T20:13:40.2504366+07:00 [DBG] (///) Created DbCommand for '"ExecuteNonQuery"' (0ms).
2025-06-06T20:13:40.2504723+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteNonQuery"' (0ms).
2025-06-06T20:13:40.2505196+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__money_Value_4='7508544', @__8__locals1_studentCode_0='N22DCCN888', @__8__locals1_academicYear_1='2024-2025', @__semesterRequest_2='2', @__paymentDate_3='06/06/2025' (DbType = Date)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tuition_payment AS t
SET amount_paid = @__money_Value_4
WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__8__locals1_academicYear_1 AND t.semester = @__semesterRequest_2 AND t.payment_date = @__paymentDate_3"
2025-06-06T20:13:40.2513265+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__money_Value_4='7508544', @__8__locals1_studentCode_0='N22DCCN888', @__8__locals1_academicYear_1='2024-2025', @__semesterRequest_2='2', @__paymentDate_3='06/06/2025' (DbType = Date)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tuition_payment AS t
SET amount_paid = @__money_Value_4
WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__8__locals1_academicYear_1 AND t.semester = @__semesterRequest_2 AND t.payment_date = @__paymentDate_3"
2025-06-06T20:13:40.2514629+07:00 [DBG] (///) SaveChanges starting for '"TuitionDbContext"'.
2025-06-06T20:13:40.2514894+07:00 [DBG] (///) DetectChanges starting for '"TuitionDbContext"'.
2025-06-06T20:13:40.2515959+07:00 [DBG] (///) DetectChanges completed for '"TuitionDbContext"'.
2025-06-06T20:13:40.2516226+07:00 [DBG] (///) SaveChanges completed for '"TuitionDbContext"' with 0 entities written to the database.
2025-06-06T20:13:40.2516471+07:00 [DBG] (///) Committing transaction.
2025-06-06T20:13:40.2527543+07:00 [DBG] (///) Committed transaction.
2025-06-06T20:13:40.2528774+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:40.2529883+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:13:40.2531329+07:00 [DBG] (///) Disposing transaction.
2025-06-06T20:13:40.2531855+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:13:40.2532168+07:00 [INF] (///) Executed endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:13:40.2533011+07:00 [INF] (///) HTTP "PUT" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 200 in 9.6143 ms
2025-06-06T20:13:40.2534489+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:13:40.2534841+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:40.2536095+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:13:40.2536622+07:00 [INF] (///) Request finished "HTTP/1.1" "PUT" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 200 0 null 10.3173ms
2025-06-06T20:13:40.2537347+07:00 [DBG] (///) Connection id ""0HND4VCK22CJG"" disconnecting.
2025-06-06T20:13:40.2537668+07:00 [DBG] (///) Connection id ""0HND4VCK22CJG"" stopped.
2025-06-06T20:13:40.2538151+07:00 [DBG] (///) Connection id ""0HND4VCK22CJG"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:13:40.2593687+07:00 [DBG] (///) Connection id ""0HND4VCK22CJH"" accepted.
2025-06-06T20:13:40.2594418+07:00 [DBG] (///) Connection id ""0HND4VCK22CJH"" started.
2025-06-06T20:13:40.2596114+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T20:13:40.2597523+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:13:40.2598259+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:13:40.2598620+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:13:40.2599287+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:13:40.2599618+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:13:40.2605425+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:13:40.2609376+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:13:40.2609760+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:13:40.2610030+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:40.2610396+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:40.2611565+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:13:40.2611846+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:13:40.2612144+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:13:40.2612608+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:13:40.2624851+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:13:40.2627131+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:40.2627606+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:13:40.2628524+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:40.2628923+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:13:40.2629921+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:13:40.2630246+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T20:13:40.2631519+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:13:40.2632229+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 3.2557 ms
2025-06-06T20:13:40.2632922+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:13:40.2633167+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:40.2633365+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:13:40.2633839+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 3.7751ms
2025-06-06T20:13:40.2634259+07:00 [DBG] (///) Connection id ""0HND4VCK22CJH"" disconnecting.
2025-06-06T20:13:40.2634428+07:00 [DBG] (///) Connection id ""0HND4VCK22CJH"" stopped.
2025-06-06T20:13:40.2634704+07:00 [DBG] (///) Connection id ""0HND4VCK22CJH"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:13:45.0281848+07:00 [DBG] (///) Connection id ""0HND4VCK22CJI"" accepted.
2025-06-06T20:13:45.0282580+07:00 [DBG] (///) Connection id ""0HND4VCK22CJI"" started.
2025-06-06T20:13:45.0284205+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" null
2025-06-06T20:13:45.0285386+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:13:45.0286023+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:13:45.0287137+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:13:45.0287791+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:13:45.0288094+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:13:45.0293378+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:13:45.0296490+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:13:45.0296820+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:13:45.0297050+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:45.0297465+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:45.0298655+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:13:45.0298980+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:13:45.0299661+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:13:45.0300040+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T20:13:45.0309579+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T20:13:45.0311318+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:45.0311722+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:13:45.0312455+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:45.0312877+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:13:45.0313583+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:13:45.0313905+07:00 [INF] (///) Writing value of type '"List`1"' as Json.
2025-06-06T20:13:45.0315104+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:13:45.0316221+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 200 in 2.7611 ms
2025-06-06T20:13:45.0316819+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:13:45.0317088+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:45.0317290+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:13:45.0317734+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 200 null "application/json; charset=utf-8" 3.3517ms
2025-06-06T20:13:45.0318199+07:00 [DBG] (///) Connection id ""0HND4VCK22CJI"" disconnecting.
2025-06-06T20:13:45.0318375+07:00 [DBG] (///) Connection id ""0HND4VCK22CJI"" stopped.
2025-06-06T20:13:45.0318616+07:00 [DBG] (///) Connection id ""0HND4VCK22CJI"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:13:48.0995621+07:00 [DBG] (///) Connection id ""0HND4VCK22CJJ"" accepted.
2025-06-06T20:13:48.0996252+07:00 [DBG] (///) Connection id ""0HND4VCK22CJJ"" started.
2025-06-06T20:13:48.0998400+07:00 [INF] (///) Request starting "HTTP/1.1" "PUT" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" 44
2025-06-06T20:13:48.0999793+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:13:48.1000206+07:00 [DBG] (///) Endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:13:48.1000569+07:00 [DBG] (///) Request matched endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:13:48.1001253+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:13:48.1001570+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T20:13:48.1001654+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T20:13:48.1001989+07:00 [INF] (///) Executing endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:13:48.1002472+07:00 [DBG] (///) Connection id ""0HND4VCK22CJJ"", Request id ""0HND4VCK22CJJ:00000001"": started reading request body.
2025-06-06T20:13:48.1002650+07:00 [DBG] (///) Connection id ""0HND4VCK22CJJ"", Request id ""0HND4VCK22CJJ:00000001"": done reading request body.
2025-06-06T20:13:48.1009255+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:13:48.1009797+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:13:48.1010032+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:13:48.1010236+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:48.1011207+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:48.1012033+07:00 [DBG] (///) Beginning transaction with isolation level '"ReadCommitted"'.
2025-06-06T20:13:48.1012357+07:00 [DBG] (///) Began transaction with isolation level '"ReadCommitted"'.
2025-06-06T20:13:48.1015191+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:13:48.1015584+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:13:48.1016128+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:13:48.1016467+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__8__locals1_studentCode_0='N22DCCN888', @__academicYearRequest_1='2024-2025', @__semesterRequest_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t1.student_code, t1.academic_year, t1.semester, t1.tuition_fee, t0.student_code, t0.academic_year, t0.semester, t0.payment_date, t0.amount_paid
FROM (
    SELECT t.student_code, t.academic_year, t.semester, t.tuition_fee
    FROM tuition AS t
    WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__academicYearRequest_1 AND t.semester = @__semesterRequest_2
    LIMIT 1
) AS t1
LEFT JOIN tuition_payment AS t0 ON t1.student_code = t0.student_code AND t1.academic_year = t0.academic_year AND t1.semester = t0.semester
ORDER BY t1.student_code, t1.academic_year, t1.semester, t0.student_code, t0.academic_year, t0.semester"
2025-06-06T20:13:48.1028354+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__8__locals1_studentCode_0='N22DCCN888', @__academicYearRequest_1='2024-2025', @__semesterRequest_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t1.student_code, t1.academic_year, t1.semester, t1.tuition_fee, t0.student_code, t0.academic_year, t0.semester, t0.payment_date, t0.amount_paid
FROM (
    SELECT t.student_code, t.academic_year, t.semester, t.tuition_fee
    FROM tuition AS t
    WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__academicYearRequest_1 AND t.semester = @__semesterRequest_2
    LIMIT 1
) AS t1
LEFT JOIN tuition_payment AS t0 ON t1.student_code = t0.student_code AND t1.academic_year = t0.academic_year AND t1.semester = t0.semester
ORDER BY t1.student_code, t1.academic_year, t1.semester, t0.student_code, t0.academic_year, t0.semester"
2025-06-06T20:13:48.1031993+07:00 [DBG] (///) Context '"TuitionDbContext"' started tracking '"Tuition"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2}"'.
2025-06-06T20:13:48.1034048+07:00 [DBG] (///) Context '"TuitionDbContext"' started tracking '"TuitionPayment"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2, PaymentDate: 06/06/2025}"'.
2025-06-06T20:13:48.1034656+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:48.1035100+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:13:48.1038116+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:13:48.1038413+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:13:48.1038751+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:13:48.1039079+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__8__locals1_studentCode_0='N22DCCN888', @__8__locals1_academicYear_1='2024-2025', @__semesterRequest_2='2', @__paymentDate_3='06/06/2025' (DbType = Date)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.student_code, t.academic_year, t.semester, t.payment_date, t.amount_paid
FROM tuition_payment AS t
WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__8__locals1_academicYear_1 AND t.semester = @__semesterRequest_2 AND t.payment_date = @__paymentDate_3
LIMIT 1"
2025-06-06T20:13:48.1046288+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__8__locals1_studentCode_0='N22DCCN888', @__8__locals1_academicYear_1='2024-2025', @__semesterRequest_2='2', @__paymentDate_3='06/06/2025' (DbType = Date)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.student_code, t.academic_year, t.semester, t.payment_date, t.amount_paid
FROM tuition_payment AS t
WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__8__locals1_academicYear_1 AND t.semester = @__semesterRequest_2 AND t.payment_date = @__paymentDate_3
LIMIT 1"
2025-06-06T20:13:48.1047252+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:48.1047869+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:13:48.1050035+07:00 [DBG] (///) Creating DbCommand for '"ExecuteNonQuery"'.
2025-06-06T20:13:48.1050285+07:00 [DBG] (///) Created DbCommand for '"ExecuteNonQuery"' (0ms).
2025-06-06T20:13:48.1050527+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteNonQuery"' (0ms).
2025-06-06T20:13:48.1050860+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__money_Value_4='1000000', @__8__locals1_studentCode_0='N22DCCN888', @__8__locals1_academicYear_1='2024-2025', @__semesterRequest_2='2', @__paymentDate_3='06/06/2025' (DbType = Date)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tuition_payment AS t
SET amount_paid = @__money_Value_4
WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__8__locals1_academicYear_1 AND t.semester = @__semesterRequest_2 AND t.payment_date = @__paymentDate_3"
2025-06-06T20:13:48.1056298+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__money_Value_4='1000000', @__8__locals1_studentCode_0='N22DCCN888', @__8__locals1_academicYear_1='2024-2025', @__semesterRequest_2='2', @__paymentDate_3='06/06/2025' (DbType = Date)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tuition_payment AS t
SET amount_paid = @__money_Value_4
WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__8__locals1_academicYear_1 AND t.semester = @__semesterRequest_2 AND t.payment_date = @__paymentDate_3"
2025-06-06T20:13:48.1057089+07:00 [DBG] (///) SaveChanges starting for '"TuitionDbContext"'.
2025-06-06T20:13:48.1057326+07:00 [DBG] (///) DetectChanges starting for '"TuitionDbContext"'.
2025-06-06T20:13:48.1058733+07:00 [DBG] (///) DetectChanges completed for '"TuitionDbContext"'.
2025-06-06T20:13:48.1059362+07:00 [DBG] (///) SaveChanges completed for '"TuitionDbContext"' with 0 entities written to the database.
2025-06-06T20:13:48.1062708+07:00 [DBG] (///) Committing transaction.
2025-06-06T20:13:48.1151441+07:00 [DBG] (///) Committed transaction.
2025-06-06T20:13:48.1152342+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:48.1153212+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:13:48.1154227+07:00 [DBG] (///) Disposing transaction.
2025-06-06T20:13:48.1154758+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:13:48.1155103+07:00 [INF] (///) Executed endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:13:48.1156151+07:00 [INF] (///) HTTP "PUT" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 200 in 15.4202 ms
2025-06-06T20:13:48.1157556+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:13:48.1158015+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:48.1158396+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:13:48.1159169+07:00 [INF] (///) Request finished "HTTP/1.1" "PUT" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 200 0 null 16.0675ms
2025-06-06T20:13:48.1159937+07:00 [DBG] (///) Connection id ""0HND4VCK22CJJ"" disconnecting.
2025-06-06T20:13:48.1160225+07:00 [DBG] (///) Connection id ""0HND4VCK22CJJ"" stopped.
2025-06-06T20:13:48.1160500+07:00 [DBG] (///) Connection id ""0HND4VCK22CJJ"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:13:48.1209463+07:00 [DBG] (///) Connection id ""0HND4VCK22CJK"" accepted.
2025-06-06T20:13:48.1210091+07:00 [DBG] (///) Connection id ""0HND4VCK22CJK"" started.
2025-06-06T20:13:48.1211606+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T20:13:48.1212493+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:13:48.1213034+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:13:48.1213371+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:13:48.1214021+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:13:48.1214303+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:13:48.1220246+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:13:48.1223544+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:13:48.1223943+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:13:48.1224129+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:48.1225144+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:48.1225953+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:13:48.1226229+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:13:48.1226502+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:13:48.1226859+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:13:48.1237943+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:13:48.1239713+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:48.1240130+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:13:48.1240807+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:48.1241198+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:13:48.1242263+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:13:48.1242501+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T20:13:48.1243635+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:13:48.1244338+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 2.9942 ms
2025-06-06T20:13:48.1244938+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:13:48.1245297+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:48.1245626+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:13:48.1246052+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 3.4369ms
2025-06-06T20:13:48.1246560+07:00 [DBG] (///) Connection id ""0HND4VCK22CJK"" disconnecting.
2025-06-06T20:13:48.1246757+07:00 [DBG] (///) Connection id ""0HND4VCK22CJK"" stopped.
2025-06-06T20:13:48.1247034+07:00 [DBG] (///) Connection id ""0HND4VCK22CJK"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:13:48.1303590+07:00 [DBG] (///) Connection id ""0HND4VCK22CJL"" accepted.
2025-06-06T20:13:48.1304271+07:00 [DBG] (///) Connection id ""0HND4VCK22CJL"" started.
2025-06-06T20:13:48.1305925+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" null
2025-06-06T20:13:48.1307344+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:13:48.1307828+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:13:48.1308177+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:13:48.1308774+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:13:48.1309091+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:13:48.1314503+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:13:48.1316912+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:13:48.1317248+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:13:48.1317463+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:48.1317767+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:48.1318635+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:13:48.1318875+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:13:48.1319166+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:13:48.1319872+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T20:13:48.1327962+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T20:13:48.1329154+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:48.1329514+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:13:48.1330112+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:48.1330432+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:13:48.1331169+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:13:48.1331394+07:00 [INF] (///) Writing value of type '"List`1"' as Json.
2025-06-06T20:13:48.1332404+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:13:48.1333028+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 200 in 2.3893 ms
2025-06-06T20:13:48.1333599+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:13:48.1333825+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:48.1334016+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:13:48.1334517+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 200 null "application/json; charset=utf-8" 2.8524ms
2025-06-06T20:13:48.1334999+07:00 [DBG] (///) Connection id ""0HND4VCK22CJL"" disconnecting.
2025-06-06T20:13:48.1335190+07:00 [DBG] (///) Connection id ""0HND4VCK22CJL"" stopped.
2025-06-06T20:13:48.1335438+07:00 [DBG] (///) Connection id ""0HND4VCK22CJL"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:13:53.1097435+07:00 [DBG] (///) Connection id ""0HND4VCK22CJM"" accepted.
2025-06-06T20:13:53.1098394+07:00 [DBG] (///) Connection id ""0HND4VCK22CJM"" started.
2025-06-06T20:13:53.1099971+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" null
2025-06-06T20:13:53.1101121+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:13:53.1101836+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:13:53.1102272+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:13:53.1103053+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:13:53.1103425+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:13:53.1110236+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:13:53.1113142+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:13:53.1113672+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:13:53.1113931+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:53.1114239+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:53.1116013+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:13:53.1116362+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:13:53.1116727+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:13:53.1117106+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T20:13:53.1129123+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T20:13:53.1130813+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:53.1131244+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:13:53.1132184+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:53.1132623+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:13:53.1133932+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:13:53.1134305+07:00 [INF] (///) Writing value of type '"List`1"' as Json.
2025-06-06T20:13:53.1135570+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:13:53.1136507+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 200 in 3.2960 ms
2025-06-06T20:13:53.1137428+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:13:53.1137742+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:13:53.1139275+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:13:53.1140043+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 200 null "application/json; charset=utf-8" 3.9802ms
2025-06-06T20:13:53.1140610+07:00 [DBG] (///) Connection id ""0HND4VCK22CJM"" disconnecting.
2025-06-06T20:13:53.1140854+07:00 [DBG] (///) Connection id ""0HND4VCK22CJM"" stopped.
2025-06-06T20:13:53.1141156+07:00 [DBG] (///) Connection id ""0HND4VCK22CJM"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:14:08.5213866+07:00 [DBG] (///) Connection id ""0HND4VCK22CJN"" accepted.
2025-06-06T20:14:08.5214767+07:00 [DBG] (///) Connection id ""0HND4VCK22CJN"" started.
2025-06-06T20:14:08.5216998+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - "application/json" null
2025-06-06T20:14:08.5218250+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students"'
2025-06-06T20:14:08.5218722+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students"' with route pattern '"/api/v{version:apiVersion}/students"' is valid for the request path '"/api/v1/students"'
2025-06-06T20:14:08.5219871+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T20:14:08.5220770+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:14:08.5221431+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T20:14:08.5269839+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:14:08.5291994+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<StudentBasicInfo>()
    .AsNoTracking()
    .Select(s => new StudentBasicInfo{ 
        StudentCode = s.StudentCode, 
        LastName = s.LastName, 
        FirstName = s.FirstName, 
        ClassCode = s.ClassCode, 
        FacultyCode = s.FacultyCode 
    }
    )
    .Count()"'
2025-06-06T20:14:08.5333606+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT CAST(count(*) AS integer)
            FROM student_basic_info AS s) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT CAST(count(*) AS integer)
            FROM student_basic_info AS s, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = try { dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0) } catch (Exception) { ... } ;
            return (int)value1;
        }, 
        contextType: TuitionService.Domain.TuitionDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: True, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)"'
2025-06-06T20:14:08.5344853+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:14:08.5345472+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:14:08.5345911+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:14:08.5346288+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:14:08.5347275+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:14:08.5347578+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:14:08.5347737+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:14:08.5348356+07:00 [DBG] (///) Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T20:14:08.5358842+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T20:14:08.5360436+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:14:08.5361009+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:14:08.5361743+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:14:08.5362138+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:14:08.5374531+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<StudentBasicInfo>()
    .AsNoTracking()
    .Select(s => new StudentBasicInfo{ 
        StudentCode = s.StudentCode, 
        LastName = s.LastName, 
        FirstName = s.FirstName, 
        ClassCode = s.ClassCode, 
        FacultyCode = s.FacultyCode 
    }
    )
    .Skip(__p_0)
    .Take(__p_1)"'
2025-06-06T20:14:08.5394978+07:00 [WRN] (///) The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-06T20:14:08.5402039+07:00 [WRN] (///) The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-06T20:14:08.5423179+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => SingleQueryingEnumerable.Create<StudentBasicInfo>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            StudentCode -> 0
            LastName -> 1
            FirstName -> 2
            ClassCode -> 3
            FacultyCode -> 4
        SELECT s.student_code AS StudentCode, s.last_name AS LastName, s.first_name AS FirstName, s.class_code AS ClassCode, s.faculty_code AS FacultyCode
        FROM student_basic_info AS s
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            StudentCode -> 0
            LastName -> 1
            FirstName -> 2
            ClassCode -> 3
            FacultyCode -> 4
        SELECT s.student_code AS StudentCode, s.last_name AS LastName, s.first_name AS FirstName, s.class_code AS ClassCode, s.faculty_code AS FacultyCode
        FROM student_basic_info AS s
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        string value1;
        string value2;
        string value3;
        string value4;
        string value5;
        value1 = try { dataReader.GetString(0) } catch (Exception) { ... } ;
        value2 = try { dataReader.GetString(1) } catch (Exception) { ... } ;
        value3 = try { dataReader.GetString(2) } catch (Exception) { ... } ;
        value4 = try { dataReader.GetString(3) } catch (Exception) { ... } ;
        value5 = try { dataReader.GetString(4) } catch (Exception) { ... } ;
        return new StudentBasicInfo{ 
            StudentCode = value1, 
            LastName = value2, 
            FirstName = value3, 
            ClassCode = value4, 
            FacultyCode = value5 
        }
        ;
    }, 
    contextType: TuitionService.Domain.TuitionDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: True, 
    threadSafetyChecksEnabled: True)"'
2025-06-06T20:14:08.5433213+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:14:08.5433758+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:14:08.5434758+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:14:08.5435078+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:14:08.5435273+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:14:08.5435646+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T20:14:08.5443308+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T20:14:08.5450604+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:14:08.5451115+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:14:08.5451813+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:14:08.5452252+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:14:08.5459227+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:14:08.5488680+07:00 [INF] (///) Writing value of type '"PagedList`1"' as Json.
2025-06-06T20:14:08.5530442+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T20:14:08.5531359+07:00 [INF] (///) HTTP "GET" "/api/v1/students" responded 200 in 31.0080 ms
2025-06-06T20:14:08.5532034+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:14:08.5532383+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:14:08.5532659+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:14:08.5533122+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - 200 null "application/json; charset=utf-8" 31.6101ms
2025-06-06T20:14:08.5533535+07:00 [DBG] (///) Connection id ""0HND4VCK22CJN"" disconnecting.
2025-06-06T20:14:08.5533723+07:00 [DBG] (///) Connection id ""0HND4VCK22CJN"" stopped.
2025-06-06T20:14:08.5534043+07:00 [DBG] (///) Connection id ""0HND4VCK22CJN"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:14:08.5575057+07:00 [DBG] (///) Connection id ""0HND4VCK22CJO"" accepted.
2025-06-06T20:14:08.5575784+07:00 [DBG] (///) Connection id ""0HND4VCK22CJO"" started.
2025-06-06T20:14:08.5577498+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - "application/json" null
2025-06-06T20:14:08.5578504+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students"'
2025-06-06T20:14:08.5578945+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students"' with route pattern '"/api/v{version:apiVersion}/students"' is valid for the request path '"/api/v1/students"'
2025-06-06T20:14:08.5579292+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T20:14:08.5579948+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:14:08.5580258+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T20:14:08.5586693+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:14:08.5589161+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:14:08.5589585+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:14:08.5589793+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:14:08.5590237+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:14:08.5591565+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:14:08.5591903+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:14:08.5592257+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:14:08.5593041+07:00 [DBG] (///) Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T20:14:08.5601240+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T20:14:08.5602574+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:14:08.5602929+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:14:08.5603637+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:14:08.5604075+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:14:08.5606694+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:14:08.5607092+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:14:08.5608023+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:14:08.5608306+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:14:08.5608485+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:14:08.5609231+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T20:14:08.5615566+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T20:14:08.5616667+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:14:08.5617110+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:14:08.5617854+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:14:08.5618248+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:14:08.5618942+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:14:08.5619288+07:00 [INF] (///) Writing value of type '"PagedList`1"' as Json.
2025-06-06T20:14:08.5620707+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T20:14:08.5621434+07:00 [INF] (///) HTTP "GET" "/api/v1/students" responded 200 in 4.1095 ms
2025-06-06T20:14:08.5622429+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:14:08.5622681+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:14:08.5623923+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:14:08.5624571+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - 200 null "application/json; charset=utf-8" 4.6942ms
2025-06-06T20:14:08.5625067+07:00 [DBG] (///) Connection id ""0HND4VCK22CJO"" disconnecting.
2025-06-06T20:14:08.5625308+07:00 [DBG] (///) Connection id ""0HND4VCK22CJO"" stopped.
2025-06-06T20:14:08.5625513+07:00 [DBG] (///) Connection id ""0HND4VCK22CJO"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:14:09.4585849+07:00 [DBG] (///) Connection id ""0HND4VCK22CJP"" accepted.
2025-06-06T20:14:09.4586677+07:00 [DBG] (///) Connection id ""0HND4VCK22CJP"" started.
2025-06-06T20:14:09.4588424+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T20:14:09.4589478+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:14:09.4589883+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:14:09.4590374+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:14:09.4591025+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:14:09.4591318+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:14:09.4596416+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:14:09.4600739+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:14:09.4601100+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:14:09.4601308+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:14:09.4601616+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:14:09.4602675+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:14:09.4602959+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:14:09.4603187+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:14:09.4603572+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:14:09.4616631+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:14:09.4618997+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:14:09.4619888+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:14:09.4620551+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:14:09.4621088+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:14:09.4621985+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:14:09.4622224+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T20:14:09.4623439+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:14:09.4624155+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 3.2796 ms
2025-06-06T20:14:09.4624806+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:14:09.4625078+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:14:09.4625240+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:14:09.4625686+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 3.7195ms
2025-06-06T20:14:09.4626246+07:00 [DBG] (///) Connection id ""0HND4VCK22CJP"" disconnecting.
2025-06-06T20:14:09.4626498+07:00 [DBG] (///) Connection id ""0HND4VCK22CJP"" stopped.
2025-06-06T20:14:09.4626888+07:00 [DBG] (///) Connection id ""0HND4VCK22CJP"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:14:09.4667546+07:00 [DBG] (///) Connection id ""0HND4VCK22CJQ"" accepted.
2025-06-06T20:14:09.4668348+07:00 [DBG] (///) Connection id ""0HND4VCK22CJQ"" started.
2025-06-06T20:14:09.4786690+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T20:14:09.4788404+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:14:09.4788983+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:14:09.4789425+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:14:09.4790180+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:14:09.4790580+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:14:09.4797602+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:14:09.4801126+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:14:09.4801798+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:14:09.4802000+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:14:09.4802307+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:14:09.4803308+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:14:09.4803555+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:14:09.4803729+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:14:09.4804001+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:14:09.4815544+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:14:09.4817416+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:14:09.4817782+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:14:09.4818536+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:14:09.4818869+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:14:09.4819633+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:14:09.4819885+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T20:14:09.4821126+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:14:09.4821872+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 3.1292 ms
2025-06-06T20:14:09.4822425+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:14:09.4822664+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:14:09.4822823+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:14:09.4823214+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 3.6541ms
2025-06-06T20:14:09.4824204+07:00 [DBG] (///) Connection id ""0HND4VCK22CJQ"" disconnecting.
2025-06-06T20:14:09.4824392+07:00 [DBG] (///) Connection id ""0HND4VCK22CJQ"" stopped.
2025-06-06T20:14:09.4824679+07:00 [DBG] (///) Connection id ""0HND4VCK22CJQ"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:14:15.5676585+07:00 [DBG] (///) Connection id ""0HND4VCK22CJR"" accepted.
2025-06-06T20:14:15.5677541+07:00 [DBG] (///) Connection id ""0HND4VCK22CJR"" started.
2025-06-06T20:14:15.5679454+07:00 [INF] (///) Request starting "HTTP/1.1" "PUT" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" 44
2025-06-06T20:14:15.5681014+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:14:15.5682134+07:00 [DBG] (///) Endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:14:15.5682713+07:00 [DBG] (///) Request matched endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:14:15.5683555+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:14:15.5683998+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T20:14:15.5684251+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T20:14:15.5684659+07:00 [INF] (///) Executing endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:14:15.5685257+07:00 [DBG] (///) Connection id ""0HND4VCK22CJR"", Request id ""0HND4VCK22CJR:00000001"": started reading request body.
2025-06-06T20:14:15.5687089+07:00 [DBG] (///) Connection id ""0HND4VCK22CJR"", Request id ""0HND4VCK22CJR:00000001"": done reading request body.
2025-06-06T20:14:15.5691563+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:14:15.5692114+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:14:15.5692416+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:14:15.5692568+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:14:15.5692903+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:14:15.5694080+07:00 [DBG] (///) Beginning transaction with isolation level '"ReadCommitted"'.
2025-06-06T20:14:15.5694335+07:00 [DBG] (///) Began transaction with isolation level '"ReadCommitted"'.
2025-06-06T20:14:15.5696751+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:14:15.5697038+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:14:15.5697274+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:14:15.5697630+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__8__locals1_studentCode_0='N22DCCN888', @__academicYearRequest_1='2024-2025', @__semesterRequest_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t1.student_code, t1.academic_year, t1.semester, t1.tuition_fee, t0.student_code, t0.academic_year, t0.semester, t0.payment_date, t0.amount_paid
FROM (
    SELECT t.student_code, t.academic_year, t.semester, t.tuition_fee
    FROM tuition AS t
    WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__academicYearRequest_1 AND t.semester = @__semesterRequest_2
    LIMIT 1
) AS t1
LEFT JOIN tuition_payment AS t0 ON t1.student_code = t0.student_code AND t1.academic_year = t0.academic_year AND t1.semester = t0.semester
ORDER BY t1.student_code, t1.academic_year, t1.semester, t0.student_code, t0.academic_year, t0.semester"
2025-06-06T20:14:15.5708843+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__8__locals1_studentCode_0='N22DCCN888', @__academicYearRequest_1='2024-2025', @__semesterRequest_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t1.student_code, t1.academic_year, t1.semester, t1.tuition_fee, t0.student_code, t0.academic_year, t0.semester, t0.payment_date, t0.amount_paid
FROM (
    SELECT t.student_code, t.academic_year, t.semester, t.tuition_fee
    FROM tuition AS t
    WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__academicYearRequest_1 AND t.semester = @__semesterRequest_2
    LIMIT 1
) AS t1
LEFT JOIN tuition_payment AS t0 ON t1.student_code = t0.student_code AND t1.academic_year = t0.academic_year AND t1.semester = t0.semester
ORDER BY t1.student_code, t1.academic_year, t1.semester, t0.student_code, t0.academic_year, t0.semester"
2025-06-06T20:14:15.5710751+07:00 [DBG] (///) Context '"TuitionDbContext"' started tracking '"Tuition"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2}"'.
2025-06-06T20:14:15.5711962+07:00 [DBG] (///) Context '"TuitionDbContext"' started tracking '"TuitionPayment"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2, PaymentDate: 06/06/2025}"'.
2025-06-06T20:14:15.5712482+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:14:15.5712857+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:14:15.5715397+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:14:15.5715682+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:14:15.5715905+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:14:15.5716401+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__8__locals1_studentCode_0='N22DCCN888', @__8__locals1_academicYear_1='2024-2025', @__semesterRequest_2='2', @__paymentDate_3='06/06/2025' (DbType = Date)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.student_code, t.academic_year, t.semester, t.payment_date, t.amount_paid
FROM tuition_payment AS t
WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__8__locals1_academicYear_1 AND t.semester = @__semesterRequest_2 AND t.payment_date = @__paymentDate_3
LIMIT 1"
2025-06-06T20:14:15.5729810+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__8__locals1_studentCode_0='N22DCCN888', @__8__locals1_academicYear_1='2024-2025', @__semesterRequest_2='2', @__paymentDate_3='06/06/2025' (DbType = Date)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.student_code, t.academic_year, t.semester, t.payment_date, t.amount_paid
FROM tuition_payment AS t
WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__8__locals1_academicYear_1 AND t.semester = @__semesterRequest_2 AND t.payment_date = @__paymentDate_3
LIMIT 1"
2025-06-06T20:14:15.5736019+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:14:15.5737072+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:14:15.5740101+07:00 [DBG] (///) Creating DbCommand for '"ExecuteNonQuery"'.
2025-06-06T20:14:15.5740397+07:00 [DBG] (///) Created DbCommand for '"ExecuteNonQuery"' (0ms).
2025-06-06T20:14:15.5740680+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteNonQuery"' (0ms).
2025-06-06T20:14:15.5741176+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__money_Value_4='7508544', @__8__locals1_studentCode_0='N22DCCN888', @__8__locals1_academicYear_1='2024-2025', @__semesterRequest_2='2', @__paymentDate_3='06/06/2025' (DbType = Date)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tuition_payment AS t
SET amount_paid = @__money_Value_4
WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__8__locals1_academicYear_1 AND t.semester = @__semesterRequest_2 AND t.payment_date = @__paymentDate_3"
2025-06-06T20:14:15.5752205+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__money_Value_4='7508544', @__8__locals1_studentCode_0='N22DCCN888', @__8__locals1_academicYear_1='2024-2025', @__semesterRequest_2='2', @__paymentDate_3='06/06/2025' (DbType = Date)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tuition_payment AS t
SET amount_paid = @__money_Value_4
WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__8__locals1_academicYear_1 AND t.semester = @__semesterRequest_2 AND t.payment_date = @__paymentDate_3"
2025-06-06T20:14:15.5753898+07:00 [DBG] (///) SaveChanges starting for '"TuitionDbContext"'.
2025-06-06T20:14:15.5754126+07:00 [DBG] (///) DetectChanges starting for '"TuitionDbContext"'.
2025-06-06T20:14:15.5754968+07:00 [DBG] (///) DetectChanges completed for '"TuitionDbContext"'.
2025-06-06T20:14:15.5755367+07:00 [DBG] (///) SaveChanges completed for '"TuitionDbContext"' with 0 entities written to the database.
2025-06-06T20:14:15.5755716+07:00 [DBG] (///) Committing transaction.
2025-06-06T20:14:15.5843704+07:00 [DBG] (///) Committed transaction.
2025-06-06T20:14:15.5844693+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:14:15.5845348+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:14:15.5846666+07:00 [DBG] (///) Disposing transaction.
2025-06-06T20:14:15.5847325+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:14:15.5847719+07:00 [INF] (///) Executed endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:14:15.5848698+07:00 [INF] (///) HTTP "PUT" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 200 in 16.4629 ms
2025-06-06T20:14:15.5850259+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:14:15.5850687+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:14:15.5851016+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:14:15.5853005+07:00 [INF] (///) Request finished "HTTP/1.1" "PUT" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 200 0 null 17.3466ms
2025-06-06T20:14:15.5853764+07:00 [DBG] (///) Connection id ""0HND4VCK22CJR"" disconnecting.
2025-06-06T20:14:15.5854123+07:00 [DBG] (///) Connection id ""0HND4VCK22CJR"" stopped.
2025-06-06T20:14:15.5854454+07:00 [DBG] (///) Connection id ""0HND4VCK22CJR"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:14:15.5904585+07:00 [DBG] (///) Connection id ""0HND4VCK22CJS"" accepted.
2025-06-06T20:14:15.5905331+07:00 [DBG] (///) Connection id ""0HND4VCK22CJS"" started.
2025-06-06T20:14:15.5907057+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T20:14:15.5908166+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:14:15.5908569+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:14:15.5908922+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:14:15.5909525+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:14:15.5909850+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:14:15.5914452+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:14:15.5917876+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:14:15.5918220+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:14:15.5918415+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:14:15.5918728+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:14:15.5919541+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:14:15.5919751+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:14:15.5919933+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:14:15.5920209+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:14:15.5931548+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:14:15.5933165+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:14:15.5933501+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:14:15.5934420+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:14:15.5934708+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:14:15.5935470+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:14:15.5935735+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T20:14:15.5936965+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:14:15.5937612+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 2.7742 ms
2025-06-06T20:14:15.5938203+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:14:15.5938434+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:14:15.5938594+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:14:15.5938999+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 3.1954ms
2025-06-06T20:14:15.5939383+07:00 [DBG] (///) Connection id ""0HND4VCK22CJS"" disconnecting.
2025-06-06T20:14:15.5939544+07:00 [DBG] (///) Connection id ""0HND4VCK22CJS"" stopped.
2025-06-06T20:14:15.5939831+07:00 [DBG] (///) Connection id ""0HND4VCK22CJS"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:22:20.1288923+07:00 [DBG] (///) Connection id ""0HND4VCK22CJT"" accepted.
2025-06-06T20:22:20.1290293+07:00 [DBG] (///) Connection id ""0HND4VCK22CJT"" started.
2025-06-06T20:22:20.1291796+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - "application/json" null
2025-06-06T20:22:20.1292804+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students"'
2025-06-06T20:22:20.1293205+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students"' with route pattern '"/api/v{version:apiVersion}/students"' is valid for the request path '"/api/v1/students"'
2025-06-06T20:22:20.1293515+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T20:22:20.1294819+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:22:20.1295123+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T20:22:20.1300630+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:22:20.1305462+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:22:20.1305921+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:22:20.1306164+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:20.1342556+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:20.1344050+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:22:20.1344369+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:22:20.1344523+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:22:20.1344852+07:00 [DBG] (///) Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T20:22:20.1355784+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T20:22:20.1357412+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:20.1357966+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:22:20.1358756+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:20.1359103+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:22:20.1361935+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:20.1362325+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:20.1363125+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:22:20.1363297+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:22:20.1363437+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:22:20.1363717+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T20:22:20.1371754+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T20:22:20.1373211+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:20.1373565+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:22:20.1374173+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:20.1374473+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:22:20.1375650+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:22:20.1375976+07:00 [INF] (///) Writing value of type '"PagedList`1"' as Json.
2025-06-06T20:22:20.1377229+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T20:22:20.1377920+07:00 [INF] (///) HTTP "GET" "/api/v1/students" responded 200 in 8.2722 ms
2025-06-06T20:22:20.1378510+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:22:20.1378785+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:20.1378979+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:22:20.1379442+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - 200 null "application/json; charset=utf-8" 8.758ms
2025-06-06T20:22:20.1379868+07:00 [DBG] (///) Connection id ""0HND4VCK22CJT"" disconnecting.
2025-06-06T20:22:20.1380036+07:00 [DBG] (///) Connection id ""0HND4VCK22CJT"" stopped.
2025-06-06T20:22:20.1380333+07:00 [DBG] (///) Connection id ""0HND4VCK22CJT"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:22:20.1433227+07:00 [DBG] (///) Connection id ""0HND4VCK22CJU"" accepted.
2025-06-06T20:22:20.1433919+07:00 [DBG] (///) Connection id ""0HND4VCK22CJU"" started.
2025-06-06T20:22:20.1436612+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - "application/json" null
2025-06-06T20:22:20.1437722+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students"'
2025-06-06T20:22:20.1438274+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students"' with route pattern '"/api/v{version:apiVersion}/students"' is valid for the request path '"/api/v1/students"'
2025-06-06T20:22:20.1438689+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T20:22:20.1439487+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:22:20.1439820+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T20:22:20.1444494+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:22:20.1446450+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:22:20.1446747+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:22:20.1446945+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:20.1447264+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:20.1448126+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:22:20.1448338+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:22:20.1448442+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:22:20.1448685+07:00 [DBG] (///) Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T20:22:20.1456094+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T20:22:20.1457128+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:20.1457420+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:22:20.1458036+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:20.1458367+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:22:20.1460345+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:20.1460718+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:20.1461392+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:22:20.1461583+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:22:20.1461734+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:22:20.1461976+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T20:22:20.1468177+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T20:22:20.1469019+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:20.1469321+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:22:20.1469856+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:20.1470087+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:22:20.1470783+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:22:20.1471070+07:00 [INF] (///) Writing value of type '"PagedList`1"' as Json.
2025-06-06T20:22:20.1472568+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T20:22:20.1473273+07:00 [INF] (///) HTTP "GET" "/api/v1/students" responded 200 in 3.3424 ms
2025-06-06T20:22:20.1473980+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:22:20.1474216+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:20.1474371+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:22:20.1475169+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - 200 null "application/json; charset=utf-8" 3.8631ms
2025-06-06T20:22:20.1475699+07:00 [DBG] (///) Connection id ""0HND4VCK22CJU"" disconnecting.
2025-06-06T20:22:20.1475877+07:00 [DBG] (///) Connection id ""0HND4VCK22CJU"" stopped.
2025-06-06T20:22:20.1476122+07:00 [DBG] (///) Connection id ""0HND4VCK22CJU"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:22:21.8149451+07:00 [DBG] (///) Connection id ""0HND4VCK22CJV"" accepted.
2025-06-06T20:22:21.8150226+07:00 [DBG] (///) Connection id ""0HND4VCK22CJV"" started.
2025-06-06T20:22:21.8152294+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T20:22:21.8153679+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:22:21.8157768+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:22:21.8158311+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:22:21.8159555+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:22:21.8160016+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:22:21.8164890+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:22:21.8167832+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:22:21.8168170+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:22:21.8168428+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:21.8168785+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:21.8169667+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:22:21.8169937+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:22:21.8170119+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:22:21.8170415+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:22:21.8191972+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:22:21.8194061+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:21.8194883+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:22:21.8195506+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:21.8195969+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:22:21.8196788+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:22:21.8197039+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T20:22:21.8198211+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:22:21.8198923+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 3.8980 ms
2025-06-06T20:22:21.8199626+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:22:21.8199869+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:21.8200041+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:22:21.8200774+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 4.8203ms
2025-06-06T20:22:21.8201201+07:00 [DBG] (///) Connection id ""0HND4VCK22CJV"" disconnecting.
2025-06-06T20:22:21.8201369+07:00 [DBG] (///) Connection id ""0HND4VCK22CJV"" stopped.
2025-06-06T20:22:21.8201733+07:00 [DBG] (///) Connection id ""0HND4VCK22CJV"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:22:21.8248180+07:00 [DBG] (///) Connection id ""0HND4VCK22CK0"" accepted.
2025-06-06T20:22:21.8248819+07:00 [DBG] (///) Connection id ""0HND4VCK22CK0"" started.
2025-06-06T20:22:21.8250385+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T20:22:21.8251251+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:22:21.8251681+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:22:21.8251949+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:22:21.8252456+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:22:21.8252764+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:22:21.8257419+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:22:21.8259777+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:22:21.8260128+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:22:21.8260924+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:21.8261218+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:21.8261832+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:22:21.8262135+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:22:21.8262317+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:22:21.8262605+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:22:21.8274685+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:22:21.8276558+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:21.8276961+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:22:21.8277616+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:21.8277965+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:22:21.8279052+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:22:21.8279303+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T20:22:21.8280344+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:22:21.8280988+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 2.8280 ms
2025-06-06T20:22:21.8281469+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:22:21.8281709+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:21.8281868+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:22:21.8282191+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 3.1773ms
2025-06-06T20:22:21.8282475+07:00 [DBG] (///) Connection id ""0HND4VCK22CK0"" disconnecting.
2025-06-06T20:22:21.8282635+07:00 [DBG] (///) Connection id ""0HND4VCK22CK0"" stopped.
2025-06-06T20:22:21.8282841+07:00 [DBG] (///) Connection id ""0HND4VCK22CK0"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:22:32.3377576+07:00 [DBG] (///) Connection id ""0HND4VCK22CK1"" accepted.
2025-06-06T20:22:32.3378325+07:00 [DBG] (///) Connection id ""0HND4VCK22CK1"" started.
2025-06-06T20:22:32.3379860+07:00 [INF] (///) Request starting "HTTP/1.1" "PUT" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" 44
2025-06-06T20:22:32.3381127+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:22:32.3381525+07:00 [DBG] (///) Endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:22:32.3381906+07:00 [DBG] (///) Request matched endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:22:32.3382483+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:22:32.3383803+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T20:22:32.3384007+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T20:22:32.3384347+07:00 [INF] (///) Executing endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:22:32.3384990+07:00 [DBG] (///) Connection id ""0HND4VCK22CK1"", Request id ""0HND4VCK22CK1:00000001"": started reading request body.
2025-06-06T20:22:32.3385210+07:00 [DBG] (///) Connection id ""0HND4VCK22CK1"", Request id ""0HND4VCK22CK1:00000001"": done reading request body.
2025-06-06T20:22:32.3391637+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:22:32.3392331+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:22:32.3392659+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:22:32.3392900+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:32.3393258+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:32.3394273+07:00 [DBG] (///) Beginning transaction with isolation level '"ReadCommitted"'.
2025-06-06T20:22:32.3394602+07:00 [DBG] (///) Began transaction with isolation level '"ReadCommitted"'.
2025-06-06T20:22:32.3397694+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:22:32.3398104+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:22:32.3398368+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:22:32.3398857+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__8__locals1_studentCode_0='N22DCCN888', @__academicYearRequest_1='2024-2025', @__semesterRequest_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t1.student_code, t1.academic_year, t1.semester, t1.tuition_fee, t0.student_code, t0.academic_year, t0.semester, t0.payment_date, t0.amount_paid
FROM (
    SELECT t.student_code, t.academic_year, t.semester, t.tuition_fee
    FROM tuition AS t
    WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__academicYearRequest_1 AND t.semester = @__semesterRequest_2
    LIMIT 1
) AS t1
LEFT JOIN tuition_payment AS t0 ON t1.student_code = t0.student_code AND t1.academic_year = t0.academic_year AND t1.semester = t0.semester
ORDER BY t1.student_code, t1.academic_year, t1.semester, t0.student_code, t0.academic_year, t0.semester"
2025-06-06T20:22:32.3413120+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__8__locals1_studentCode_0='N22DCCN888', @__academicYearRequest_1='2024-2025', @__semesterRequest_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t1.student_code, t1.academic_year, t1.semester, t1.tuition_fee, t0.student_code, t0.academic_year, t0.semester, t0.payment_date, t0.amount_paid
FROM (
    SELECT t.student_code, t.academic_year, t.semester, t.tuition_fee
    FROM tuition AS t
    WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__academicYearRequest_1 AND t.semester = @__semesterRequest_2
    LIMIT 1
) AS t1
LEFT JOIN tuition_payment AS t0 ON t1.student_code = t0.student_code AND t1.academic_year = t0.academic_year AND t1.semester = t0.semester
ORDER BY t1.student_code, t1.academic_year, t1.semester, t0.student_code, t0.academic_year, t0.semester"
2025-06-06T20:22:32.3415825+07:00 [DBG] (///) Context '"TuitionDbContext"' started tracking '"Tuition"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2}"'.
2025-06-06T20:22:32.3417465+07:00 [DBG] (///) Context '"TuitionDbContext"' started tracking '"TuitionPayment"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2, PaymentDate: 06/06/2025}"'.
2025-06-06T20:22:32.3418599+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:32.3419115+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:22:32.3422316+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:22:32.3422644+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:22:32.3422885+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:22:32.3423342+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__8__locals1_studentCode_0='N22DCCN888', @__8__locals1_academicYear_1='2024-2025', @__semesterRequest_2='2', @__paymentDate_3='06/06/2025' (DbType = Date)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.student_code, t.academic_year, t.semester, t.payment_date, t.amount_paid
FROM tuition_payment AS t
WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__8__locals1_academicYear_1 AND t.semester = @__semesterRequest_2 AND t.payment_date = @__paymentDate_3
LIMIT 1"
2025-06-06T20:22:32.3433356+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__8__locals1_studentCode_0='N22DCCN888', @__8__locals1_academicYear_1='2024-2025', @__semesterRequest_2='2', @__paymentDate_3='06/06/2025' (DbType = Date)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.student_code, t.academic_year, t.semester, t.payment_date, t.amount_paid
FROM tuition_payment AS t
WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__8__locals1_academicYear_1 AND t.semester = @__semesterRequest_2 AND t.payment_date = @__paymentDate_3
LIMIT 1"
2025-06-06T20:22:32.3435204+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:32.3435643+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:22:32.3440587+07:00 [DBG] (///) Creating DbCommand for '"ExecuteNonQuery"'.
2025-06-06T20:22:32.3441031+07:00 [DBG] (///) Created DbCommand for '"ExecuteNonQuery"' (0ms).
2025-06-06T20:22:32.3441417+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteNonQuery"' (0ms).
2025-06-06T20:22:32.3442074+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__money_Value_4='8000000', @__8__locals1_studentCode_0='N22DCCN888', @__8__locals1_academicYear_1='2024-2025', @__semesterRequest_2='2', @__paymentDate_3='06/06/2025' (DbType = Date)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tuition_payment AS t
SET amount_paid = @__money_Value_4
WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__8__locals1_academicYear_1 AND t.semester = @__semesterRequest_2 AND t.payment_date = @__paymentDate_3"
2025-06-06T20:22:32.3454920+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__money_Value_4='8000000', @__8__locals1_studentCode_0='N22DCCN888', @__8__locals1_academicYear_1='2024-2025', @__semesterRequest_2='2', @__paymentDate_3='06/06/2025' (DbType = Date)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tuition_payment AS t
SET amount_paid = @__money_Value_4
WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__8__locals1_academicYear_1 AND t.semester = @__semesterRequest_2 AND t.payment_date = @__paymentDate_3"
2025-06-06T20:22:32.3456241+07:00 [DBG] (///) SaveChanges starting for '"TuitionDbContext"'.
2025-06-06T20:22:32.3456493+07:00 [DBG] (///) DetectChanges starting for '"TuitionDbContext"'.
2025-06-06T20:22:32.3457263+07:00 [DBG] (///) DetectChanges completed for '"TuitionDbContext"'.
2025-06-06T20:22:32.3457528+07:00 [DBG] (///) SaveChanges completed for '"TuitionDbContext"' with 0 entities written to the database.
2025-06-06T20:22:32.3457769+07:00 [DBG] (///) Committing transaction.
2025-06-06T20:22:32.3466801+07:00 [DBG] (///) Committed transaction.
2025-06-06T20:22:32.3467377+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:32.3467798+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:22:32.3468539+07:00 [DBG] (///) Disposing transaction.
2025-06-06T20:22:32.3468942+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:22:32.3469178+07:00 [INF] (///) Executed endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:22:32.3470345+07:00 [INF] (///) HTTP "PUT" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 200 in 8.7027 ms
2025-06-06T20:22:32.3471287+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:22:32.3471556+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:32.3471711+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:22:32.3472048+07:00 [INF] (///) Request finished "HTTP/1.1" "PUT" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 200 0 null 9.2211ms
2025-06-06T20:22:32.3472462+07:00 [DBG] (///) Connection id ""0HND4VCK22CK1"" disconnecting.
2025-06-06T20:22:32.3472630+07:00 [DBG] (///) Connection id ""0HND4VCK22CK1"" stopped.
2025-06-06T20:22:32.3472883+07:00 [DBG] (///) Connection id ""0HND4VCK22CK1"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:22:32.3520873+07:00 [DBG] (///) Connection id ""0HND4VCK22CK2"" accepted.
2025-06-06T20:22:32.3521533+07:00 [DBG] (///) Connection id ""0HND4VCK22CK2"" started.
2025-06-06T20:22:32.3522703+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T20:22:32.3523607+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:22:32.3523973+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:22:32.3524675+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:22:32.3525147+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:22:32.3525414+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:22:32.3531551+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:22:32.3534042+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:22:32.3534424+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:22:32.3534654+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:32.3534942+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:32.3535757+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:22:32.3538759+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:22:32.3539086+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:22:32.3539422+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:22:32.3550781+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:22:32.3552110+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:32.3552442+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:22:32.3553047+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:32.3553359+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:22:32.3554043+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:22:32.3554276+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T20:22:32.3555366+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:22:32.3556043+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 3.0558 ms
2025-06-06T20:22:32.3556601+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:22:32.3556876+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:32.3557941+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:22:32.3558258+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 3.5522ms
2025-06-06T20:22:32.3558583+07:00 [DBG] (///) Connection id ""0HND4VCK22CK2"" disconnecting.
2025-06-06T20:22:32.3558757+07:00 [DBG] (///) Connection id ""0HND4VCK22CK2"" stopped.
2025-06-06T20:22:32.3559024+07:00 [DBG] (///) Connection id ""0HND4VCK22CK2"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:22:36.1209961+07:00 [DBG] (///) Connection id ""0HND4VCK22CK3"" accepted.
2025-06-06T20:22:36.1210715+07:00 [DBG] (///) Connection id ""0HND4VCK22CK3"" started.
2025-06-06T20:22:36.1212097+07:00 [INF] (///) Request starting "HTTP/1.1" "PUT" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" 43
2025-06-06T20:22:36.1213335+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:22:36.1213628+07:00 [DBG] (///) Endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:22:36.1214087+07:00 [DBG] (///) Request matched endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:22:36.1214576+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:22:36.1215444+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T20:22:36.1215541+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T20:22:36.1215864+07:00 [INF] (///) Executing endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:22:36.1216335+07:00 [DBG] (///) Connection id ""0HND4VCK22CK3"", Request id ""0HND4VCK22CK3:00000001"": started reading request body.
2025-06-06T20:22:36.1216494+07:00 [DBG] (///) Connection id ""0HND4VCK22CK3"", Request id ""0HND4VCK22CK3:00000001"": done reading request body.
2025-06-06T20:22:36.1222986+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:22:36.1223647+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:22:36.1223942+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:22:36.1224131+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:36.1224399+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:36.1225190+07:00 [DBG] (///) Beginning transaction with isolation level '"ReadCommitted"'.
2025-06-06T20:22:36.1225485+07:00 [DBG] (///) Began transaction with isolation level '"ReadCommitted"'.
2025-06-06T20:22:36.1227967+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:22:36.1228259+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:22:36.1228477+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:22:36.1228813+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__8__locals1_studentCode_0='N22DCCN888', @__academicYearRequest_1='2024-2025', @__semesterRequest_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t1.student_code, t1.academic_year, t1.semester, t1.tuition_fee, t0.student_code, t0.academic_year, t0.semester, t0.payment_date, t0.amount_paid
FROM (
    SELECT t.student_code, t.academic_year, t.semester, t.tuition_fee
    FROM tuition AS t
    WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__academicYearRequest_1 AND t.semester = @__semesterRequest_2
    LIMIT 1
) AS t1
LEFT JOIN tuition_payment AS t0 ON t1.student_code = t0.student_code AND t1.academic_year = t0.academic_year AND t1.semester = t0.semester
ORDER BY t1.student_code, t1.academic_year, t1.semester, t0.student_code, t0.academic_year, t0.semester"
2025-06-06T20:22:36.1241111+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__8__locals1_studentCode_0='N22DCCN888', @__academicYearRequest_1='2024-2025', @__semesterRequest_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t1.student_code, t1.academic_year, t1.semester, t1.tuition_fee, t0.student_code, t0.academic_year, t0.semester, t0.payment_date, t0.amount_paid
FROM (
    SELECT t.student_code, t.academic_year, t.semester, t.tuition_fee
    FROM tuition AS t
    WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__academicYearRequest_1 AND t.semester = @__semesterRequest_2
    LIMIT 1
) AS t1
LEFT JOIN tuition_payment AS t0 ON t1.student_code = t0.student_code AND t1.academic_year = t0.academic_year AND t1.semester = t0.semester
ORDER BY t1.student_code, t1.academic_year, t1.semester, t0.student_code, t0.academic_year, t0.semester"
2025-06-06T20:22:36.1243562+07:00 [DBG] (///) Context '"TuitionDbContext"' started tracking '"Tuition"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2}"'.
2025-06-06T20:22:36.1245052+07:00 [DBG] (///) Context '"TuitionDbContext"' started tracking '"TuitionPayment"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2, PaymentDate: 06/06/2025}"'.
2025-06-06T20:22:36.1245738+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:36.1246164+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:22:36.1249111+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:22:36.1249397+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:22:36.1249633+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:22:36.1250013+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__8__locals1_studentCode_0='N22DCCN888', @__8__locals1_academicYear_1='2024-2025', @__semesterRequest_2='2', @__paymentDate_3='06/06/2025' (DbType = Date)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.student_code, t.academic_year, t.semester, t.payment_date, t.amount_paid
FROM tuition_payment AS t
WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__8__locals1_academicYear_1 AND t.semester = @__semesterRequest_2 AND t.payment_date = @__paymentDate_3
LIMIT 1"
2025-06-06T20:22:36.1258253+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__8__locals1_studentCode_0='N22DCCN888', @__8__locals1_academicYear_1='2024-2025', @__semesterRequest_2='2', @__paymentDate_3='06/06/2025' (DbType = Date)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.student_code, t.academic_year, t.semester, t.payment_date, t.amount_paid
FROM tuition_payment AS t
WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__8__locals1_academicYear_1 AND t.semester = @__semesterRequest_2 AND t.payment_date = @__paymentDate_3
LIMIT 1"
2025-06-06T20:22:36.1259426+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:36.1259776+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:22:36.1262342+07:00 [DBG] (///) Creating DbCommand for '"ExecuteNonQuery"'.
2025-06-06T20:22:36.1262613+07:00 [DBG] (///) Created DbCommand for '"ExecuteNonQuery"' (0ms).
2025-06-06T20:22:36.1262804+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteNonQuery"' (0ms).
2025-06-06T20:22:36.1263224+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__money_Value_4='508544', @__8__locals1_studentCode_0='N22DCCN888', @__8__locals1_academicYear_1='2024-2025', @__semesterRequest_2='2', @__paymentDate_3='06/06/2025' (DbType = Date)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tuition_payment AS t
SET amount_paid = @__money_Value_4
WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__8__locals1_academicYear_1 AND t.semester = @__semesterRequest_2 AND t.payment_date = @__paymentDate_3"
2025-06-06T20:22:36.1271006+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__money_Value_4='508544', @__8__locals1_studentCode_0='N22DCCN888', @__8__locals1_academicYear_1='2024-2025', @__semesterRequest_2='2', @__paymentDate_3='06/06/2025' (DbType = Date)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tuition_payment AS t
SET amount_paid = @__money_Value_4
WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__8__locals1_academicYear_1 AND t.semester = @__semesterRequest_2 AND t.payment_date = @__paymentDate_3"
2025-06-06T20:22:36.1272067+07:00 [DBG] (///) SaveChanges starting for '"TuitionDbContext"'.
2025-06-06T20:22:36.1272288+07:00 [DBG] (///) DetectChanges starting for '"TuitionDbContext"'.
2025-06-06T20:22:36.1273108+07:00 [DBG] (///) DetectChanges completed for '"TuitionDbContext"'.
2025-06-06T20:22:36.1273387+07:00 [DBG] (///) SaveChanges completed for '"TuitionDbContext"' with 0 entities written to the database.
2025-06-06T20:22:36.1273607+07:00 [DBG] (///) Committing transaction.
2025-06-06T20:22:36.1361055+07:00 [DBG] (///) Committed transaction.
2025-06-06T20:22:36.1361986+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:36.1362570+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:22:36.1363556+07:00 [DBG] (///) Disposing transaction.
2025-06-06T20:22:36.1364043+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:22:36.1364349+07:00 [INF] (///) Executed endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:22:36.1365166+07:00 [INF] (///) HTTP "PUT" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 200 in 15.0119 ms
2025-06-06T20:22:36.1366325+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:22:36.1366731+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:36.1367853+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:22:36.1368338+07:00 [INF] (///) Request finished "HTTP/1.1" "PUT" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 200 0 null 15.6218ms
2025-06-06T20:22:36.1368928+07:00 [DBG] (///) Connection id ""0HND4VCK22CK3"" disconnecting.
2025-06-06T20:22:36.1369094+07:00 [DBG] (///) Connection id ""0HND4VCK22CK3"" stopped.
2025-06-06T20:22:36.1369281+07:00 [DBG] (///) Connection id ""0HND4VCK22CK3"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:22:36.1412406+07:00 [DBG] (///) Connection id ""0HND4VCK22CK4"" accepted.
2025-06-06T20:22:36.1412972+07:00 [DBG] (///) Connection id ""0HND4VCK22CK4"" started.
2025-06-06T20:22:36.1414017+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T20:22:36.1414859+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:22:36.1415201+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:22:36.1415495+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:22:36.1415975+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:22:36.1416849+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:22:36.1421794+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:22:36.1425700+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:22:36.1426142+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:22:36.1426413+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:36.1426788+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:36.1427804+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:22:36.1428096+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:22:36.1428314+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:22:36.1428711+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:22:36.1439681+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:22:36.1441194+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:36.1441526+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:22:36.1442127+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:36.1442426+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:22:36.1443303+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:22:36.1443546+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T20:22:36.1444527+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:22:36.1445060+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 2.8819 ms
2025-06-06T20:22:36.1445535+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:22:36.1445745+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:36.1445914+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:22:36.1446195+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 3.2162ms
2025-06-06T20:22:36.1447102+07:00 [DBG] (///) Connection id ""0HND4VCK22CK4"" disconnecting.
2025-06-06T20:22:36.1447248+07:00 [DBG] (///) Connection id ""0HND4VCK22CK4"" stopped.
2025-06-06T20:22:36.1447380+07:00 [DBG] (///) Connection id ""0HND4VCK22CK4"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:22:42.2228681+07:00 [DBG] (///) Connection id ""0HND4VCK22CK5"" accepted.
2025-06-06T20:22:42.2229400+07:00 [DBG] (///) Connection id ""0HND4VCK22CK5"" started.
2025-06-06T20:22:42.2232277+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" null
2025-06-06T20:22:42.2233865+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:22:42.2234522+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:22:42.2235095+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:22:42.2235967+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:22:42.2236494+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:22:42.2242584+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:22:42.2245302+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:22:42.2245698+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:22:42.2245929+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:42.2246270+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:42.2247314+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:22:42.2247940+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:22:42.2248213+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:22:42.2248618+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T20:22:42.2261109+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T20:22:42.2262778+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:42.2263354+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:22:42.2264143+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:42.2264467+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:22:42.2265497+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:22:42.2265818+07:00 [INF] (///) Writing value of type '"List`1"' as Json.
2025-06-06T20:22:42.2266904+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:22:42.2268481+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 200 in 3.1440 ms
2025-06-06T20:22:42.2269176+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:22:42.2269453+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:42.2269698+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:22:42.2270111+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 200 null "application/json; charset=utf-8" 3.7834ms
2025-06-06T20:22:42.2270502+07:00 [DBG] (///) Connection id ""0HND4VCK22CK5"" disconnecting.
2025-06-06T20:22:42.2270684+07:00 [DBG] (///) Connection id ""0HND4VCK22CK5"" stopped.
2025-06-06T20:22:42.2270963+07:00 [DBG] (///) Connection id ""0HND4VCK22CK5"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:22:52.6336905+07:00 [DBG] (///) Connection id ""0HND4VCK22CK6"" accepted.
2025-06-06T20:22:52.6337850+07:00 [DBG] (///) Connection id ""0HND4VCK22CK6"" started.
2025-06-06T20:22:52.6339512+07:00 [INF] (///) Request starting "HTTP/1.1" "PUT" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" 44
2025-06-06T20:22:52.6340808+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:22:52.6341221+07:00 [DBG] (///) Endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:22:52.6341557+07:00 [DBG] (///) Request matched endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:22:52.6341995+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:22:52.6342275+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T20:22:52.6342360+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T20:22:52.6342625+07:00 [INF] (///) Executing endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:22:52.6343204+07:00 [DBG] (///) Connection id ""0HND4VCK22CK6"", Request id ""0HND4VCK22CK6:00000001"": started reading request body.
2025-06-06T20:22:52.6343426+07:00 [DBG] (///) Connection id ""0HND4VCK22CK6"", Request id ""0HND4VCK22CK6:00000001"": done reading request body.
2025-06-06T20:22:52.6347488+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:22:52.6348005+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:22:52.6348225+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:22:52.6348409+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:52.6348680+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:52.6349663+07:00 [DBG] (///) Beginning transaction with isolation level '"ReadCommitted"'.
2025-06-06T20:22:52.6350025+07:00 [DBG] (///) Began transaction with isolation level '"ReadCommitted"'.
2025-06-06T20:22:52.6352346+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:22:52.6352637+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:22:52.6352848+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:22:52.6353177+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__8__locals1_studentCode_0='N22DCCN888', @__academicYearRequest_1='2024-2025', @__semesterRequest_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t1.student_code, t1.academic_year, t1.semester, t1.tuition_fee, t0.student_code, t0.academic_year, t0.semester, t0.payment_date, t0.amount_paid
FROM (
    SELECT t.student_code, t.academic_year, t.semester, t.tuition_fee
    FROM tuition AS t
    WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__academicYearRequest_1 AND t.semester = @__semesterRequest_2
    LIMIT 1
) AS t1
LEFT JOIN tuition_payment AS t0 ON t1.student_code = t0.student_code AND t1.academic_year = t0.academic_year AND t1.semester = t0.semester
ORDER BY t1.student_code, t1.academic_year, t1.semester, t0.student_code, t0.academic_year, t0.semester"
2025-06-06T20:22:52.6363688+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__8__locals1_studentCode_0='N22DCCN888', @__academicYearRequest_1='2024-2025', @__semesterRequest_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t1.student_code, t1.academic_year, t1.semester, t1.tuition_fee, t0.student_code, t0.academic_year, t0.semester, t0.payment_date, t0.amount_paid
FROM (
    SELECT t.student_code, t.academic_year, t.semester, t.tuition_fee
    FROM tuition AS t
    WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__academicYearRequest_1 AND t.semester = @__semesterRequest_2
    LIMIT 1
) AS t1
LEFT JOIN tuition_payment AS t0 ON t1.student_code = t0.student_code AND t1.academic_year = t0.academic_year AND t1.semester = t0.semester
ORDER BY t1.student_code, t1.academic_year, t1.semester, t0.student_code, t0.academic_year, t0.semester"
2025-06-06T20:22:52.6366266+07:00 [DBG] (///) Context '"TuitionDbContext"' started tracking '"Tuition"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2}"'.
2025-06-06T20:22:52.6367813+07:00 [DBG] (///) Context '"TuitionDbContext"' started tracking '"TuitionPayment"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2, PaymentDate: 06/06/2025}"'.
2025-06-06T20:22:52.6368345+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:52.6368731+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:22:52.6371421+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:22:52.6371684+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:22:52.6371886+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:22:52.6372234+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__8__locals1_studentCode_0='N22DCCN888', @__8__locals1_academicYear_1='2024-2025', @__semesterRequest_2='2', @__paymentDate_3='06/03/2025' (DbType = Date)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.student_code, t.academic_year, t.semester, t.payment_date, t.amount_paid
FROM tuition_payment AS t
WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__8__locals1_academicYear_1 AND t.semester = @__semesterRequest_2 AND t.payment_date = @__paymentDate_3
LIMIT 1"
2025-06-06T20:22:52.6391222+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__8__locals1_studentCode_0='N22DCCN888', @__8__locals1_academicYear_1='2024-2025', @__semesterRequest_2='2', @__paymentDate_3='06/03/2025' (DbType = Date)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.student_code, t.academic_year, t.semester, t.payment_date, t.amount_paid
FROM tuition_payment AS t
WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__8__locals1_academicYear_1 AND t.semester = @__semesterRequest_2 AND t.payment_date = @__paymentDate_3
LIMIT 1"
2025-06-06T20:22:52.6392098+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:52.6392379+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:22:52.6394548+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:22:52.6394790+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:22:52.6394938+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:22:52.6395162+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__8__locals1_studentCode_0='N22DCCN888', @__8__locals1_academicYear_1='2024-2025', @__semesterRequest_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT COALESCE(sum(t.amount_paid), 0)::int
FROM tuition_payment AS t
WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__8__locals1_academicYear_1 AND t.semester = @__semesterRequest_2"
2025-06-06T20:22:52.6401107+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__8__locals1_studentCode_0='N22DCCN888', @__8__locals1_academicYear_1='2024-2025', @__semesterRequest_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT COALESCE(sum(t.amount_paid), 0)::int
FROM tuition_payment AS t
WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__8__locals1_academicYear_1 AND t.semester = @__semesterRequest_2"
2025-06-06T20:22:52.6401904+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:52.6402171+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:22:52.6404086+07:00 [DBG] (///) The navigation '"TuitionPayment"."Tuition"' for entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2, PaymentDate: 06/03/2025}"' was detected as changed.
2025-06-06T20:22:52.6404692+07:00 [DBG] (///) Context '"TuitionDbContext"' started tracking '"TuitionPayment"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2, PaymentDate: 06/03/2025}"'.
2025-06-06T20:22:52.6405235+07:00 [DBG] (///) SaveChanges starting for '"TuitionDbContext"'.
2025-06-06T20:22:52.6405869+07:00 [DBG] (///) DetectChanges starting for '"TuitionDbContext"'.
2025-06-06T20:22:52.6406882+07:00 [DBG] (///) DetectChanges completed for '"TuitionDbContext"'.
2025-06-06T20:22:52.6409467+07:00 [DBG] (///) Creating transaction savepoint.
2025-06-06T20:22:52.6413899+07:00 [DBG] (///) Created transaction savepoint.
2025-06-06T20:22:52.6414254+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:22:52.6414417+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:22:52.6414643+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:22:52.6415021+07:00 [DBG] (///) Executing DbCommand [Parameters=["@p0='2024-2025' (Nullable = false), @p1='06/03/2025' (DbType = Date), @p2='2', @p3='N22DCCN888' (Nullable = false), @p4='8000000'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tuition_payment (academic_year, payment_date, semester, student_code, amount_paid)
VALUES (@p0, @p1, @p2, @p3, @p4);"
2025-06-06T20:22:52.6421665+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@p0='2024-2025' (Nullable = false), @p1='06/03/2025' (DbType = Date), @p2='2', @p3='N22DCCN888' (Nullable = false), @p4='8000000'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tuition_payment (academic_year, payment_date, semester, student_code, amount_paid)
VALUES (@p0, @p1, @p2, @p3, @p4);"
2025-06-06T20:22:52.6422366+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:52.6422566+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:22:52.6423086+07:00 [DBG] (///) Releasing transaction savepoint.
2025-06-06T20:22:52.6426778+07:00 [DBG] (///) Released transaction savepoint.
2025-06-06T20:22:52.6427627+07:00 [DBG] (///) The '"TuitionPayment"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2, PaymentDate: 06/03/2025}"' tracked by '"TuitionDbContext"' changed state from 'Added' to 'Unchanged'.
2025-06-06T20:22:52.6428073+07:00 [DBG] (///) SaveChanges completed for '"TuitionDbContext"' with 1 entities written to the database.
2025-06-06T20:22:52.6428321+07:00 [DBG] (///) Committing transaction.
2025-06-06T20:22:52.6448108+07:00 [DBG] (///) Committed transaction.
2025-06-06T20:22:52.6448671+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:52.6449259+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:22:52.6450510+07:00 [DBG] (///) Disposing transaction.
2025-06-06T20:22:52.6451117+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:22:52.6451480+07:00 [INF] (///) Executed endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:22:52.6452595+07:00 [INF] (///) HTTP "PUT" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 200 in 10.9859 ms
2025-06-06T20:22:52.6454054+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:22:52.6454467+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:52.6454786+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:22:52.6456802+07:00 [INF] (///) Request finished "HTTP/1.1" "PUT" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 200 0 null 11.715ms
2025-06-06T20:22:52.6457522+07:00 [DBG] (///) Connection id ""0HND4VCK22CK6"" disconnecting.
2025-06-06T20:22:52.6457798+07:00 [DBG] (///) Connection id ""0HND4VCK22CK6"" stopped.
2025-06-06T20:22:52.6458127+07:00 [DBG] (///) Connection id ""0HND4VCK22CK6"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:22:52.6519006+07:00 [DBG] (///) Connection id ""0HND4VCK22CK7"" accepted.
2025-06-06T20:22:52.6519779+07:00 [DBG] (///) Connection id ""0HND4VCK22CK7"" started.
2025-06-06T20:22:52.6520892+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T20:22:52.6521753+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:22:52.6522062+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:22:52.6522329+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:22:52.6522737+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:22:52.6522987+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:22:52.6527547+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:22:52.6529935+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:22:52.6530217+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:22:52.6530363+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:52.6530642+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:52.6531516+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:22:52.6531775+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:22:52.6532008+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:22:52.6532303+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:22:52.6545431+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:22:52.6547198+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:52.6547528+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:22:52.6548091+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:52.6548333+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:22:52.6548998+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:22:52.6549210+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T20:22:52.6550267+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:22:52.6550779+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 2.7779 ms
2025-06-06T20:22:52.6551211+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:22:52.6551392+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:52.6551519+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:22:52.6551755+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 3.087ms
2025-06-06T20:22:52.6552542+07:00 [DBG] (///) Connection id ""0HND4VCK22CK7"" disconnecting.
2025-06-06T20:22:52.6552669+07:00 [DBG] (///) Connection id ""0HND4VCK22CK7"" stopped.
2025-06-06T20:22:52.6552811+07:00 [DBG] (///) Connection id ""0HND4VCK22CK7"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:22:52.6603352+07:00 [DBG] (///) Connection id ""0HND4VCK22CK8"" accepted.
2025-06-06T20:22:52.6604093+07:00 [DBG] (///) Connection id ""0HND4VCK22CK8"" started.
2025-06-06T20:22:52.6605151+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" null
2025-06-06T20:22:52.6606141+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:22:52.6606430+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:22:52.6606689+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:22:52.6607113+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:22:52.6607477+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:22:52.6612114+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:22:52.6613992+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:22:52.6614246+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:22:52.6614517+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:52.6614779+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:52.6615536+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:22:52.6615761+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:22:52.6615922+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:22:52.6616234+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T20:22:52.6624241+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T20:22:52.6625280+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:52.6625574+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:22:52.6626176+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:52.6626437+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:22:52.6627416+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:22:52.6627668+07:00 [INF] (///) Writing value of type '"List`1"' as Json.
2025-06-06T20:22:52.6628546+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:22:52.6629090+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 200 in 2.1726 ms
2025-06-06T20:22:52.6629570+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:22:52.6629775+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:22:52.6629947+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:22:52.6630236+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 200 null "application/json; charset=utf-8" 2.5067ms
2025-06-06T20:22:52.6630520+07:00 [DBG] (///) Connection id ""0HND4VCK22CK8"" disconnecting.
2025-06-06T20:22:52.6630672+07:00 [DBG] (///) Connection id ""0HND4VCK22CK8"" stopped.
2025-06-06T20:22:52.6630818+07:00 [DBG] (///) Connection id ""0HND4VCK22CK8"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:23:09.7326002+07:00 [DBG] (///) Connection id ""0HND4VCK22CK9"" accepted.
2025-06-06T20:23:09.7326853+07:00 [DBG] (///) Connection id ""0HND4VCK22CK9"" started.
2025-06-06T20:23:09.7328165+07:00 [INF] (///) Request starting "HTTP/1.1" "PUT" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" 45
2025-06-06T20:23:09.7329189+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:23:09.7329707+07:00 [DBG] (///) Endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:23:09.7330058+07:00 [DBG] (///) Request matched endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:23:09.7330547+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:23:09.7330896+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T20:23:09.7332084+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T20:23:09.7332450+07:00 [INF] (///) Executing endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:23:09.7332900+07:00 [DBG] (///) Connection id ""0HND4VCK22CK9"", Request id ""0HND4VCK22CK9:00000001"": started reading request body.
2025-06-06T20:23:09.7333134+07:00 [DBG] (///) Connection id ""0HND4VCK22CK9"", Request id ""0HND4VCK22CK9:00000001"": done reading request body.
2025-06-06T20:23:09.7338649+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:23:09.7339414+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:23:09.7339753+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:23:09.7340216+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:23:09.7340702+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:23:09.7342063+07:00 [DBG] (///) Beginning transaction with isolation level '"ReadCommitted"'.
2025-06-06T20:23:09.7342649+07:00 [DBG] (///) Began transaction with isolation level '"ReadCommitted"'.
2025-06-06T20:23:09.7347107+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:23:09.7347698+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:23:09.7348145+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:23:09.7348757+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__8__locals1_studentCode_0='N22DCCN888', @__academicYearRequest_1='2024-2025', @__semesterRequest_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t1.student_code, t1.academic_year, t1.semester, t1.tuition_fee, t0.student_code, t0.academic_year, t0.semester, t0.payment_date, t0.amount_paid
FROM (
    SELECT t.student_code, t.academic_year, t.semester, t.tuition_fee
    FROM tuition AS t
    WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__academicYearRequest_1 AND t.semester = @__semesterRequest_2
    LIMIT 1
) AS t1
LEFT JOIN tuition_payment AS t0 ON t1.student_code = t0.student_code AND t1.academic_year = t0.academic_year AND t1.semester = t0.semester
ORDER BY t1.student_code, t1.academic_year, t1.semester, t0.student_code, t0.academic_year, t0.semester"
2025-06-06T20:23:09.7369730+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__8__locals1_studentCode_0='N22DCCN888', @__academicYearRequest_1='2024-2025', @__semesterRequest_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t1.student_code, t1.academic_year, t1.semester, t1.tuition_fee, t0.student_code, t0.academic_year, t0.semester, t0.payment_date, t0.amount_paid
FROM (
    SELECT t.student_code, t.academic_year, t.semester, t.tuition_fee
    FROM tuition AS t
    WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__academicYearRequest_1 AND t.semester = @__semesterRequest_2
    LIMIT 1
) AS t1
LEFT JOIN tuition_payment AS t0 ON t1.student_code = t0.student_code AND t1.academic_year = t0.academic_year AND t1.semester = t0.semester
ORDER BY t1.student_code, t1.academic_year, t1.semester, t0.student_code, t0.academic_year, t0.semester"
2025-06-06T20:23:09.7372579+07:00 [DBG] (///) Context '"TuitionDbContext"' started tracking '"Tuition"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2}"'.
2025-06-06T20:23:09.7374051+07:00 [DBG] (///) Context '"TuitionDbContext"' started tracking '"TuitionPayment"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2, PaymentDate: 06/06/2025}"'.
2025-06-06T20:23:09.7374689+07:00 [DBG] (///) Context '"TuitionDbContext"' started tracking '"TuitionPayment"' entity with key '"{StudentCode: N22DCCN888, AcademicYear: 2024-2025, Semester: 2, PaymentDate: 06/03/2025}"'.
2025-06-06T20:23:09.7375253+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:23:09.7375758+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:23:09.7378734+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:23:09.7379071+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:23:09.7379291+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:23:09.7380181+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__8__locals1_studentCode_0='N22DCCN888', @__8__locals1_academicYear_1='2024-2025', @__semesterRequest_2='2', @__paymentDate_3='06/03/2025' (DbType = Date)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.student_code, t.academic_year, t.semester, t.payment_date, t.amount_paid
FROM tuition_payment AS t
WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__8__locals1_academicYear_1 AND t.semester = @__semesterRequest_2 AND t.payment_date = @__paymentDate_3
LIMIT 1"
2025-06-06T20:23:09.7388303+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__8__locals1_studentCode_0='N22DCCN888', @__8__locals1_academicYear_1='2024-2025', @__semesterRequest_2='2', @__paymentDate_3='06/03/2025' (DbType = Date)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.student_code, t.academic_year, t.semester, t.payment_date, t.amount_paid
FROM tuition_payment AS t
WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__8__locals1_academicYear_1 AND t.semester = @__semesterRequest_2 AND t.payment_date = @__paymentDate_3
LIMIT 1"
2025-06-06T20:23:09.7389387+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:23:09.7389733+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:23:09.7392237+07:00 [DBG] (///) Creating DbCommand for '"ExecuteNonQuery"'.
2025-06-06T20:23:09.7392560+07:00 [DBG] (///) Created DbCommand for '"ExecuteNonQuery"' (0ms).
2025-06-06T20:23:09.7392844+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteNonQuery"' (0ms).
2025-06-06T20:23:09.7393291+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__money_Value_4='10000001', @__8__locals1_studentCode_0='N22DCCN888', @__8__locals1_academicYear_1='2024-2025', @__semesterRequest_2='2', @__paymentDate_3='06/03/2025' (DbType = Date)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tuition_payment AS t
SET amount_paid = @__money_Value_4
WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__8__locals1_academicYear_1 AND t.semester = @__semesterRequest_2 AND t.payment_date = @__paymentDate_3"
2025-06-06T20:23:09.7400190+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__money_Value_4='10000001', @__8__locals1_studentCode_0='N22DCCN888', @__8__locals1_academicYear_1='2024-2025', @__semesterRequest_2='2', @__paymentDate_3='06/03/2025' (DbType = Date)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tuition_payment AS t
SET amount_paid = @__money_Value_4
WHERE t.student_code = @__8__locals1_studentCode_0 AND t.academic_year = @__8__locals1_academicYear_1 AND t.semester = @__semesterRequest_2 AND t.payment_date = @__paymentDate_3"
2025-06-06T20:23:09.7401074+07:00 [DBG] (///) SaveChanges starting for '"TuitionDbContext"'.
2025-06-06T20:23:09.7401317+07:00 [DBG] (///) DetectChanges starting for '"TuitionDbContext"'.
2025-06-06T20:23:09.7401893+07:00 [DBG] (///) DetectChanges completed for '"TuitionDbContext"'.
2025-06-06T20:23:09.7402107+07:00 [DBG] (///) SaveChanges completed for '"TuitionDbContext"' with 0 entities written to the database.
2025-06-06T20:23:09.7402350+07:00 [DBG] (///) Committing transaction.
2025-06-06T20:23:09.7451110+07:00 [DBG] (///) Committed transaction.
2025-06-06T20:23:09.7451980+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:23:09.7452481+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:23:09.7453346+07:00 [DBG] (///) Disposing transaction.
2025-06-06T20:23:09.7453765+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:23:09.7454003+07:00 [INF] (///) Executed endpoint '"HTTP: PUT /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:23:09.7455340+07:00 [INF] (///) HTTP "PUT" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 200 in 12.3719 ms
2025-06-06T20:23:09.7456357+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:23:09.7456670+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:23:09.7456888+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:23:09.7457221+07:00 [INF] (///) Request finished "HTTP/1.1" "PUT" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 200 0 null 12.9046ms
2025-06-06T20:23:09.7457608+07:00 [DBG] (///) Connection id ""0HND4VCK22CK9"" disconnecting.
2025-06-06T20:23:09.7457767+07:00 [DBG] (///) Connection id ""0HND4VCK22CK9"" stopped.
2025-06-06T20:23:09.7458082+07:00 [DBG] (///) Connection id ""0HND4VCK22CK9"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:23:09.7511443+07:00 [DBG] (///) Connection id ""0HND4VCK22CKA"" accepted.
2025-06-06T20:23:09.7512050+07:00 [DBG] (///) Connection id ""0HND4VCK22CKA"" started.
2025-06-06T20:23:09.7513085+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T20:23:09.7513889+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:23:09.7514260+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:23:09.7514972+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:23:09.7515436+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:23:09.7515742+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:23:09.7520215+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:23:09.7522649+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:23:09.7523000+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:23:09.7523181+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:23:09.7523457+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:23:09.7524204+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:23:09.7524349+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:23:09.7524493+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:23:09.7524770+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:23:09.7536156+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:23:09.7537553+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:23:09.7537871+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:23:09.7538428+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:23:09.7538686+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:23:09.7539345+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:23:09.7539554+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T20:23:09.7540555+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:23:09.7541103+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 2.5394 ms
2025-06-06T20:23:09.7541543+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:23:09.7541746+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:23:09.7541913+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:23:09.7542177+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 2.9068ms
2025-06-06T20:23:09.7543114+07:00 [DBG] (///) Connection id ""0HND4VCK22CKA"" disconnecting.
2025-06-06T20:23:09.7543244+07:00 [DBG] (///) Connection id ""0HND4VCK22CKA"" stopped.
2025-06-06T20:23:09.7543443+07:00 [DBG] (///) Connection id ""0HND4VCK22CKA"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:23:09.7591934+07:00 [DBG] (///) Connection id ""0HND4VCK22CKB"" accepted.
2025-06-06T20:23:09.7592703+07:00 [DBG] (///) Connection id ""0HND4VCK22CKB"" started.
2025-06-06T20:23:09.7593781+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" null
2025-06-06T20:23:09.7594638+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:23:09.7594915+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:23:09.7595190+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:23:09.7595655+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:23:09.7595923+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:23:09.7600562+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:23:09.7602819+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:23:09.7603479+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:23:09.7603646+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:23:09.7603905+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:23:09.7604487+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:23:09.7604645+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:23:09.7604829+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:23:09.7605126+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T20:23:09.7613466+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T20:23:09.7614654+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:23:09.7614945+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:23:09.7615494+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:23:09.7616182+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:23:09.7616815+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:23:09.7617026+07:00 [INF] (///) Writing value of type '"List`1"' as Json.
2025-06-06T20:23:09.7617761+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:23:09.7618357+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 200 in 2.2438 ms
2025-06-06T20:23:09.7618840+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:23:09.7619067+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:23:09.7619223+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:23:09.7619485+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 200 null "application/json; charset=utf-8" 2.5703ms
2025-06-06T20:23:09.7619763+07:00 [DBG] (///) Connection id ""0HND4VCK22CKB"" disconnecting.
2025-06-06T20:23:09.7619898+07:00 [DBG] (///) Connection id ""0HND4VCK22CKB"" stopped.
2025-06-06T20:23:09.7620102+07:00 [DBG] (///) Connection id ""0HND4VCK22CKB"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:23:53.8618893+07:00 [DBG] (///) Connection id ""0HND4VCK22CKC"" accepted.
2025-06-06T20:23:53.8623362+07:00 [DBG] (///) Connection id ""0HND4VCK22CKC"" started.
2025-06-06T20:23:53.8624757+07:00 [INF] (///) Request starting "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" 28
2025-06-06T20:23:53.8626045+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:23:53.8626480+07:00 [DBG] (///) Endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:23:53.8627001+07:00 [DBG] (///) Request matched endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:23:53.8627672+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:23:53.8628073+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T20:23:53.8628352+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T20:23:53.8628893+07:00 [INF] (///) Executing endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:23:53.8629388+07:00 [DBG] (///) Connection id ""0HND4VCK22CKC"", Request id ""0HND4VCK22CKC:00000001"": started reading request body.
2025-06-06T20:23:53.8630551+07:00 [DBG] (///) Connection id ""0HND4VCK22CKC"", Request id ""0HND4VCK22CKC:00000001"": done reading request body.
2025-06-06T20:23:53.8633935+07:00 [INF] (///) Executed endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:23:53.8634580+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Http.BadHttpRequestException: Failed to read parameter "List<DeleteTuitionPaymentRequest> request" from the request body as JSON.
 ---> System.Text.Json.JsonException: The JSON value could not be converted to System.DateOnly. Path: $[0].paymentDate | LineNumber: 0 | BytePositionInLine: 26.
 ---> System.FormatException: The JSON value is not in a supported DateOnly format.
   at System.Text.Json.ThrowHelper.ThrowFormatException(DataType dataType)
   at System.Text.Json.Serialization.Converters.DateOnlyConverter.ReadCore(Utf8JsonReader& reader)
   at System.Text.Json.Serialization.Converters.DateOnlyConverter.Read(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.ReadJsonAndSetMember(Object obj, ReadStack& state, Utf8JsonReader& reader)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, TCollection& value)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& state, Utf8JsonReader& reader, Exception ex)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.ContinueDeserialize(ReadBufferState& bufferState, JsonReaderState& jsonReaderState, ReadStack& readStack, T& value)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsync(Stream utf8Json, CancellationToken cancellationToken)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsObjectAsync(Stream utf8Json, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|101_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.Log.InvalidJsonRequestBody(HttpContext httpContext, String parameterTypeName, String parameterName, Exception exception, Boolean shouldThrow)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|101_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-06T20:23:53.8676820+07:00 [ERR] (///) HTTP "DELETE" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 500 in 4.8894 ms
2025-06-06T20:23:53.8677446+07:00 [INF] (///) Request finished "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 500 null "application/problem+json" 5.2712ms
2025-06-06T20:23:53.8677770+07:00 [DBG] (///) Connection id ""0HND4VCK22CKC"" disconnecting.
2025-06-06T20:23:53.8677882+07:00 [DBG] (///) Connection id ""0HND4VCK22CKC"" stopped.
2025-06-06T20:23:53.8678048+07:00 [DBG] (///) Connection id ""0HND4VCK22CKC"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:28:27.3810205+07:00 [DBG] (///) Connection id ""0HND4VCK22CKD"" accepted.
2025-06-06T20:28:27.3812992+07:00 [DBG] (///) Connection id ""0HND4VCK22CKD"" started.
2025-06-06T20:28:27.3814380+07:00 [INF] (///) Request starting "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" 28
2025-06-06T20:28:27.3815497+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:28:27.3815921+07:00 [DBG] (///) Endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:28:27.3816772+07:00 [DBG] (///) Request matched endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:28:27.3817236+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:28:27.3817593+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T20:28:27.3817746+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T20:28:27.3818103+07:00 [INF] (///) Executing endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:28:27.3818629+07:00 [DBG] (///) Connection id ""0HND4VCK22CKD"", Request id ""0HND4VCK22CKD:00000001"": started reading request body.
2025-06-06T20:28:27.3818858+07:00 [DBG] (///) Connection id ""0HND4VCK22CKD"", Request id ""0HND4VCK22CKD:00000001"": done reading request body.
2025-06-06T20:28:27.3822196+07:00 [INF] (///) Executed endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:28:27.3822824+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Http.BadHttpRequestException: Failed to read parameter "List<DeleteTuitionPaymentRequest> request" from the request body as JSON.
 ---> System.Text.Json.JsonException: The JSON value could not be converted to System.DateOnly. Path: $[0].paymentDate | LineNumber: 0 | BytePositionInLine: 26.
 ---> System.FormatException: The JSON value is not in a supported DateOnly format.
   at System.Text.Json.ThrowHelper.ThrowFormatException(DataType dataType)
   at System.Text.Json.Serialization.Converters.DateOnlyConverter.ReadCore(Utf8JsonReader& reader)
   at System.Text.Json.Serialization.Converters.DateOnlyConverter.Read(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.ReadJsonAndSetMember(Object obj, ReadStack& state, Utf8JsonReader& reader)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, TCollection& value)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& state, Utf8JsonReader& reader, Exception ex)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.ContinueDeserialize(ReadBufferState& bufferState, JsonReaderState& jsonReaderState, ReadStack& readStack, T& value)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsync(Stream utf8Json, CancellationToken cancellationToken)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsObjectAsync(Stream utf8Json, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|101_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.Log.InvalidJsonRequestBody(HttpContext httpContext, String parameterTypeName, String parameterName, Exception exception, Boolean shouldThrow)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|101_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-06T20:28:27.3862621+07:00 [ERR] (///) HTTP "DELETE" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 500 in 4.4956 ms
2025-06-06T20:28:27.3863705+07:00 [INF] (///) Request finished "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 500 null "application/problem+json" 4.9309ms
2025-06-06T20:28:27.3864131+07:00 [DBG] (///) Connection id ""0HND4VCK22CKD"" disconnecting.
2025-06-06T20:28:27.3864244+07:00 [DBG] (///) Connection id ""0HND4VCK22CKD"" stopped.
2025-06-06T20:28:27.3864475+07:00 [DBG] (///) Connection id ""0HND4VCK22CKD"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:39:34.5694510+07:00 [DBG] (///) Connection id ""0HND4VCK22CKE"" accepted.
2025-06-06T20:39:34.5696702+07:00 [DBG] (///) Connection id ""0HND4VCK22CKE"" started.
2025-06-06T20:39:34.5698016+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T20:39:34.5698987+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:39:34.5699349+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:39:34.5699701+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:39:34.5700192+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:39:34.5700521+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:39:34.5707062+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:39:34.5709528+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:39:34.5709787+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:39:34.5709944+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:39:34.5742030+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:39:34.5743612+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:39:34.5743885+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:39:34.5744066+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:39:34.5744345+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:39:34.5769849+07:00 [INF] (///) Executed DbCommand ("3"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:39:34.5772881+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:39:34.5773402+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:39:34.5774191+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:39:34.5774561+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:39:34.5775202+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:39:34.5775440+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T20:39:34.5776305+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:39:34.5776922+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 7.6408 ms
2025-06-06T20:39:34.5778031+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:39:34.5778271+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:39:34.5778454+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:39:34.5778727+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 8.0712ms
2025-06-06T20:39:34.5779051+07:00 [DBG] (///) Connection id ""0HND4VCK22CKE"" disconnecting.
2025-06-06T20:39:34.5779185+07:00 [DBG] (///) Connection id ""0HND4VCK22CKE"" stopped.
2025-06-06T20:39:34.5779554+07:00 [DBG] (///) Connection id ""0HND4VCK22CKE"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:40:07.5578485+07:00 [DBG] (///) Connection id ""0HND4VCK22CKF"" accepted.
2025-06-06T20:40:07.5579230+07:00 [DBG] (///) Connection id ""0HND4VCK22CKF"" started.
2025-06-06T20:40:07.5580370+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T20:40:07.5581419+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:40:07.5581834+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:40:07.5582247+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:40:07.5582745+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:40:07.5583071+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:40:07.5590059+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:40:07.5593306+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:40:07.5593661+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:40:07.5593875+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:40:07.5594858+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:40:07.5595508+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:40:07.5595728+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:40:07.5595875+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:40:07.5596144+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:40:07.5608236+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:40:07.5610231+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:40:07.5610575+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:40:07.5611172+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:40:07.5611433+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:40:07.5612079+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:40:07.5612379+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T20:40:07.5613379+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:40:07.5614017+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 3.0955 ms
2025-06-06T20:40:07.5614530+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:40:07.5614763+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:40:07.5614964+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:40:07.5615258+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 3.4896ms
2025-06-06T20:40:07.5615573+07:00 [DBG] (///) Connection id ""0HND4VCK22CKF"" disconnecting.
2025-06-06T20:40:07.5615777+07:00 [DBG] (///) Connection id ""0HND4VCK22CKF"" stopped.
2025-06-06T20:40:07.5616106+07:00 [DBG] (///) Connection id ""0HND4VCK22CKF"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:40:47.7825867+07:00 [DBG] (///) Connection id ""0HND4VCK22CKG"" accepted.
2025-06-06T20:40:47.7827838+07:00 [DBG] (///) Connection id ""0HND4VCK22CKG"" started.
2025-06-06T20:40:47.7829655+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T20:40:47.7830658+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:40:47.7831042+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:40:47.7831398+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:40:47.7831898+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:40:47.7832263+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:40:47.7838967+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:40:47.7841450+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:40:47.7841738+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:40:47.7841919+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:40:47.7842197+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:40:47.7843049+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:40:47.7843228+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:40:47.7843690+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:40:47.7843949+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:40:47.7855570+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:40:47.7857352+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:40:47.7857665+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:40:47.7858260+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:40:47.7858542+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:40:47.7859172+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:40:47.7859668+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T20:40:47.7861234+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:40:47.7862016+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 2.9649 ms
2025-06-06T20:40:47.7864146+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:40:47.7864439+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:40:47.7864648+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:40:47.7864959+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 3.5283ms
2025-06-06T20:40:47.7865303+07:00 [DBG] (///) Connection id ""0HND4VCK22CKG"" disconnecting.
2025-06-06T20:40:47.7865454+07:00 [DBG] (///) Connection id ""0HND4VCK22CKG"" stopped.
2025-06-06T20:40:47.7865825+07:00 [DBG] (///) Connection id ""0HND4VCK22CKG"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:41:24.6330044+07:00 [DBG] (///) Connection id ""0HND4VCK22CKH"" accepted.
2025-06-06T20:41:24.6331567+07:00 [DBG] (///) Connection id ""0HND4VCK22CKH"" started.
2025-06-06T20:41:24.6333129+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T20:41:24.6334805+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:41:24.6335176+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:41:24.6335543+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:41:24.6336120+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:41:24.6336457+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:41:24.6341120+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:41:24.6343389+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:41:24.6343644+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:41:24.6343817+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:41:24.6344090+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:41:24.6344821+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:41:24.6345019+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:41:24.6345159+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:41:24.6345763+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:41:24.6357113+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:41:24.6359017+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:41:24.6359405+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:41:24.6360035+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:41:24.6360345+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:41:24.6361035+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:41:24.6361441+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T20:41:24.6362358+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:41:24.6364411+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 2.7960 ms
2025-06-06T20:41:24.6364929+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:41:24.6365174+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:41:24.6365365+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:41:24.6365695+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 3.2549ms
2025-06-06T20:41:24.6366112+07:00 [DBG] (///) Connection id ""0HND4VCK22CKH"" disconnecting.
2025-06-06T20:41:24.6366253+07:00 [DBG] (///) Connection id ""0HND4VCK22CKH"" stopped.
2025-06-06T20:41:24.6366575+07:00 [DBG] (///) Connection id ""0HND4VCK22CKH"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:42:08.0518522+07:00 [DBG] (///) Connection id ""0HND4VCK22CKI"" accepted.
2025-06-06T20:42:08.0520462+07:00 [DBG] (///) Connection id ""0HND4VCK22CKI"" started.
2025-06-06T20:42:08.0521871+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T20:42:08.0523695+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:42:08.0524166+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:42:08.0524545+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:42:08.0525067+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:42:08.0525421+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:42:08.0532365+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:42:08.0536039+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:42:08.0536397+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:42:08.0536589+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:42:08.0536877+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:42:08.0537689+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:42:08.0537868+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:42:08.0538002+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:42:08.0538240+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:42:08.0549959+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:42:08.0551564+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:42:08.0551950+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:42:08.0552542+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:42:08.0552818+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:42:08.0553443+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:42:08.0553780+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T20:42:08.0554701+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:42:08.0557713+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 3.1749 ms
2025-06-06T20:42:08.0558351+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:42:08.0558609+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:42:08.0558825+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:42:08.0559126+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 3.7266ms
2025-06-06T20:42:08.0559459+07:00 [DBG] (///) Connection id ""0HND4VCK22CKI"" disconnecting.
2025-06-06T20:42:08.0559617+07:00 [DBG] (///) Connection id ""0HND4VCK22CKI"" stopped.
2025-06-06T20:42:08.0559954+07:00 [DBG] (///) Connection id ""0HND4VCK22CKI"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:42:17.8858763+07:00 [DBG] (///) Connection id ""0HND4VCK22CKJ"" accepted.
2025-06-06T20:42:17.8859617+07:00 [DBG] (///) Connection id ""0HND4VCK22CKJ"" started.
2025-06-06T20:42:17.8862308+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T20:42:17.8863312+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:42:17.8863679+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:42:17.8864045+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:42:17.8864519+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:42:17.8864785+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:42:17.8869322+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:42:17.8871476+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:42:17.8871747+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:42:17.8871888+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:42:17.8872155+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:42:17.8873236+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:42:17.8873404+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:42:17.8873532+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:42:17.8873834+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:42:17.8883870+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:42:17.8885466+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:42:17.8885861+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:42:17.8886477+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:42:17.8886774+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:42:17.8887421+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:42:17.8887638+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T20:42:17.8888898+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:42:17.8889557+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 2.4676 ms
2025-06-06T20:42:17.8890060+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:42:17.8890272+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:42:17.8890449+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:42:17.8890748+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 2.8431ms
2025-06-06T20:42:17.8891048+07:00 [DBG] (///) Connection id ""0HND4VCK22CKJ"" disconnecting.
2025-06-06T20:42:17.8891198+07:00 [DBG] (///) Connection id ""0HND4VCK22CKJ"" stopped.
2025-06-06T20:42:17.8891550+07:00 [DBG] (///) Connection id ""0HND4VCK22CKJ"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:42:27.1983912+07:00 [DBG] (///) Connection id ""0HND4VCK22CKK"" accepted.
2025-06-06T20:42:27.1984532+07:00 [DBG] (///) Connection id ""0HND4VCK22CKK"" started.
2025-06-06T20:42:27.1986964+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T20:42:27.1987850+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:42:27.1988112+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:42:27.1988403+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:42:27.1988798+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:42:27.1989051+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:42:27.1994586+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:42:27.1997148+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:42:27.1997468+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:42:27.1997665+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:42:27.1997924+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:42:27.1998628+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:42:27.1998811+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:42:27.1998950+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:42:27.1999234+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:42:27.2009699+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:42:27.2011382+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:42:27.2011744+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:42:27.2012407+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:42:27.2012708+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:42:27.2013380+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:42:27.2013628+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T20:42:27.2014497+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:42:27.2015125+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 2.6014 ms
2025-06-06T20:42:27.2015683+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:42:27.2015925+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:42:27.2016113+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:42:27.2016426+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 2.9433ms
2025-06-06T20:42:27.2016747+07:00 [DBG] (///) Connection id ""0HND4VCK22CKK"" disconnecting.
2025-06-06T20:42:27.2017702+07:00 [DBG] (///) Connection id ""0HND4VCK22CKK"" stopped.
2025-06-06T20:42:27.2017887+07:00 [DBG] (///) Connection id ""0HND4VCK22CKK"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:42:59.8659749+07:00 [DBG] (///) Connection id ""0HND4VCK22CKL"" accepted.
2025-06-06T20:42:59.8661702+07:00 [DBG] (///) Connection id ""0HND4VCK22CKL"" started.
2025-06-06T20:42:59.8663104+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T20:42:59.8664213+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:42:59.8664616+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:42:59.8664967+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:42:59.8665473+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:42:59.8665880+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:42:59.8671633+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:42:59.8673901+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:42:59.8674172+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:42:59.8674369+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:42:59.8675191+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:42:59.8675878+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:42:59.8676061+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:42:59.8676200+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:42:59.8676458+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:42:59.8688309+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:42:59.8690106+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:42:59.8690509+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:42:59.8691408+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:42:59.8691754+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:42:59.8692408+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:42:59.8692621+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T20:42:59.8693511+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:42:59.8694158+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 2.8368 ms
2025-06-06T20:42:59.8694691+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:42:59.8694897+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:42:59.8695070+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:42:59.8695345+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 3.2253ms
2025-06-06T20:42:59.8695664+07:00 [DBG] (///) Connection id ""0HND4VCK22CKL"" disconnecting.
2025-06-06T20:42:59.8695808+07:00 [DBG] (///) Connection id ""0HND4VCK22CKL"" stopped.
2025-06-06T20:42:59.8695976+07:00 [DBG] (///) Connection id ""0HND4VCK22CKL"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:45:49.7871283+07:00 [DBG] (///) Connection id ""0HND4VCK22CKM"" accepted.
2025-06-06T20:45:49.7874301+07:00 [DBG] (///) Connection id ""0HND4VCK22CKM"" started.
2025-06-06T20:45:49.7875968+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" null
2025-06-06T20:45:49.7877034+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:45:49.7877446+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:45:49.7877796+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:45:49.7878303+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:45:49.7878613+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:45:49.7884621+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:45:49.7887320+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:45:49.7887677+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:45:49.7888586+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:45:49.7930773+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:45:49.7932344+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:45:49.7932676+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:45:49.7932934+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:45:49.7933311+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T20:45:49.7950950+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T20:45:49.7952532+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:45:49.7952814+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:45:49.7953317+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:45:49.7953626+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:45:49.7954409+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:45:49.7954797+07:00 [INF] (///) Writing value of type '"List`1"' as Json.
2025-06-06T20:45:49.7955717+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:45:49.7956403+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 200 in 7.7771 ms
2025-06-06T20:45:49.7956955+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:45:49.7957179+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:45:49.7957389+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:45:49.7957718+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 200 null "application/json; charset=utf-8" 8.1768ms
2025-06-06T20:45:49.7958077+07:00 [DBG] (///) Connection id ""0HND4VCK22CKM"" disconnecting.
2025-06-06T20:45:49.7958225+07:00 [DBG] (///) Connection id ""0HND4VCK22CKM"" stopped.
2025-06-06T20:45:49.7958474+07:00 [DBG] (///) Connection id ""0HND4VCK22CKM"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:45:58.6885956+07:00 [DBG] (///) Connection id ""0HND4VCK22CKN"" accepted.
2025-06-06T20:45:58.6888119+07:00 [DBG] (///) Connection id ""0HND4VCK22CKN"" started.
2025-06-06T20:45:58.6889566+07:00 [INF] (///) Request starting "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-undefined/NaN/payments""" - "application/json" 165
2025-06-06T20:45:58.6890822+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-undefined/NaN/payments"'
2025-06-06T20:45:58.6891268+07:00 [DBG] (///) Endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-undefined/NaN/payments"'
2025-06-06T20:45:58.6891649+07:00 [DBG] (///) Request matched endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:45:58.6892197+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:45:58.6892637+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T20:45:58.6892788+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T20:45:58.6893293+07:00 [INF] (///) Executing endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:45:58.6893741+07:00 [DBG] (///) Connection id ""0HND4VCK22CKN"", Request id ""0HND4VCK22CKN:00000001"": started reading request body.
2025-06-06T20:45:58.6894153+07:00 [DBG] (///) Connection id ""0HND4VCK22CKN"", Request id ""0HND4VCK22CKN:00000001"": done reading request body.
2025-06-06T20:45:58.6911432+07:00 [INF] (///) Executed endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:45:58.6912374+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Http.BadHttpRequestException: Failed to read parameter "List<DeleteTuitionPaymentRequest> request" from the request body as JSON.
 ---> System.Text.Json.JsonException: The JSON value could not be converted to System.Int32. Path: $[0].semester | LineNumber: 0 | BytePositionInLine: 49.
 ---> System.InvalidOperationException: Cannot get the value of a token type 'Null' as a number.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_ExpectedNumber(JsonTokenType tokenType)
   at System.Text.Json.Utf8JsonReader.GetInt32()
   at System.Text.Json.Serialization.Converters.Int32Converter.ReadNumberWithCustomHandling(Utf8JsonReader& reader, JsonNumberHandling handling, JsonSerializerOptions options)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.ReadJsonAndSetMember(Object obj, ReadStack& state, Utf8JsonReader& reader)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, TCollection& value)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& state, Utf8JsonReader& reader, Exception ex)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsync(Stream utf8Json, CancellationToken cancellationToken)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsObjectAsync(Stream utf8Json, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|101_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.Log.InvalidJsonRequestBody(HttpContext httpContext, String parameterTypeName, String parameterName, Exception exception, Boolean shouldThrow)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|101_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-06T20:45:58.6947253+07:00 [ERR] (///) HTTP "DELETE" "/api/v1/students/N22DCCN888/tuitions/2024-undefined/NaN/payments" responded 500 in 5.4723 ms
2025-06-06T20:45:58.6947932+07:00 [INF] (///) Request finished "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-undefined/NaN/payments""" - 500 null "application/problem+json" 5.8395ms
2025-06-06T20:45:58.6948296+07:00 [DBG] (///) Connection id ""0HND4VCK22CKN"" disconnecting.
2025-06-06T20:45:58.6948482+07:00 [DBG] (///) Connection id ""0HND4VCK22CKN"" stopped.
2025-06-06T20:45:58.6948729+07:00 [DBG] (///) Connection id ""0HND4VCK22CKN"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:46:22.5596545+07:00 [DBG] (///) Connection id ""0HND4VCK22CKO"" accepted.
2025-06-06T20:46:22.5597409+07:00 [DBG] (///) Connection id ""0HND4VCK22CKO"" started.
2025-06-06T20:46:22.5600639+07:00 [INF] (///) Request starting "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-undefined/NaN/payments""" - "application/json" 165
2025-06-06T20:46:22.5601967+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-undefined/NaN/payments"'
2025-06-06T20:46:22.5602332+07:00 [DBG] (///) Endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-undefined/NaN/payments"'
2025-06-06T20:46:22.5602693+07:00 [DBG] (///) Request matched endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:46:22.5603556+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:46:22.5603945+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T20:46:22.5604148+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T20:46:22.5604617+07:00 [INF] (///) Executing endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:46:22.5605177+07:00 [DBG] (///) Connection id ""0HND4VCK22CKO"", Request id ""0HND4VCK22CKO:00000001"": started reading request body.
2025-06-06T20:46:22.5605384+07:00 [DBG] (///) Connection id ""0HND4VCK22CKO"", Request id ""0HND4VCK22CKO:00000001"": done reading request body.
2025-06-06T20:46:22.5608319+07:00 [INF] (///) Executed endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:46:22.5608811+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Http.BadHttpRequestException: Failed to read parameter "List<DeleteTuitionPaymentRequest> request" from the request body as JSON.
 ---> System.Text.Json.JsonException: The JSON value could not be converted to System.Int32. Path: $[0].semester | LineNumber: 0 | BytePositionInLine: 49.
 ---> System.InvalidOperationException: Cannot get the value of a token type 'Null' as a number.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_ExpectedNumber(JsonTokenType tokenType)
   at System.Text.Json.Utf8JsonReader.GetInt32()
   at System.Text.Json.Serialization.Converters.Int32Converter.ReadNumberWithCustomHandling(Utf8JsonReader& reader, JsonNumberHandling handling, JsonSerializerOptions options)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.ReadJsonAndSetMember(Object obj, ReadStack& state, Utf8JsonReader& reader)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, TCollection& value)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& state, Utf8JsonReader& reader, Exception ex)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsync(Stream utf8Json, CancellationToken cancellationToken)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsObjectAsync(Stream utf8Json, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|101_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.Log.InvalidJsonRequestBody(HttpContext httpContext, String parameterTypeName, String parameterName, Exception exception, Boolean shouldThrow)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|101_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-06T20:46:22.5657065+07:00 [ERR] (///) HTTP "DELETE" "/api/v1/students/N22DCCN888/tuitions/2024-undefined/NaN/payments" responded 500 in 5.3127 ms
2025-06-06T20:46:22.5658033+07:00 [INF] (///) Request finished "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-undefined/NaN/payments""" - 500 null "application/problem+json" 5.7549ms
2025-06-06T20:46:22.5658525+07:00 [DBG] (///) Connection id ""0HND4VCK22CKO"" disconnecting.
2025-06-06T20:46:22.5658674+07:00 [DBG] (///) Connection id ""0HND4VCK22CKO"" stopped.
2025-06-06T20:46:22.5658900+07:00 [DBG] (///) Connection id ""0HND4VCK22CKO"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:48:33.4339696+07:00 [DBG] (///) Connection id ""0HND4VCK22CKP"" accepted.
2025-06-06T20:48:33.4341386+07:00 [DBG] (///) Connection id ""0HND4VCK22CKP"" started.
2025-06-06T20:48:33.4352099+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T20:48:33.4353236+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:48:33.4353533+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:48:33.4354317+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:48:33.4354747+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:48:33.4355031+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:48:33.4361178+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:48:33.4363820+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:48:33.4364168+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:48:33.4364383+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:48:33.4364756+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:48:33.4365550+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:48:33.4365798+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:48:33.4365958+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:48:33.4366149+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:48:33.4387510+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:48:33.4389604+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:48:33.4390054+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:48:33.4390667+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:48:33.4390943+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:48:33.4391627+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:48:33.4391866+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T20:48:33.4392654+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:48:33.4393339+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 3.8178 ms
2025-06-06T20:48:33.4393858+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:48:33.4394084+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:48:33.4394279+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:48:33.4394571+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 4.2496ms
2025-06-06T20:48:33.4394903+07:00 [DBG] (///) Connection id ""0HND4VCK22CKP"" disconnecting.
2025-06-06T20:48:33.4395039+07:00 [DBG] (///) Connection id ""0HND4VCK22CKP"" stopped.
2025-06-06T20:48:33.4395332+07:00 [DBG] (///) Connection id ""0HND4VCK22CKP"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:51:35.5083700+07:00 [DBG] (///) Connection id ""0HND4VCK22CKQ"" accepted.
2025-06-06T20:51:35.5087260+07:00 [DBG] (///) Connection id ""0HND4VCK22CKQ"" started.
2025-06-06T20:51:35.5088511+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T20:51:35.5089977+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:51:35.5090364+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:51:35.5090677+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:51:35.5091140+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:51:35.5091431+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:51:35.5096792+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:51:35.5099234+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:51:35.5099545+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:51:35.5099746+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:51:35.5134691+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:51:35.5136853+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:51:35.5137101+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:51:35.5137267+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:51:35.5137530+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:51:35.5158744+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:51:35.5160299+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:51:35.5160638+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:51:35.5161166+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:51:35.5161626+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:51:35.5162798+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:51:35.5163062+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T20:51:35.5163917+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:51:35.5164639+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 7.3103 ms
2025-06-06T20:51:35.5165172+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:51:35.5165396+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:51:35.5165559+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:51:35.5165874+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 7.7369ms
2025-06-06T20:51:35.5166157+07:00 [DBG] (///) Connection id ""0HND4VCK22CKQ"" disconnecting.
2025-06-06T20:51:35.5166301+07:00 [DBG] (///) Connection id ""0HND4VCK22CKQ"" stopped.
2025-06-06T20:51:35.5166611+07:00 [DBG] (///) Connection id ""0HND4VCK22CKQ"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:51:45.7334339+07:00 [DBG] (///) Connection id ""0HND4VCK22CKR"" accepted.
2025-06-06T20:51:45.7335141+07:00 [DBG] (///) Connection id ""0HND4VCK22CKR"" started.
2025-06-06T20:51:45.7336414+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T20:51:45.7342762+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:51:45.7343208+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:51:45.7343512+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:51:45.7343945+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:51:45.7344220+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:51:45.7349829+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:51:45.7352714+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:51:45.7352997+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:51:45.7353193+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:51:45.7353441+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:51:45.7354119+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:51:45.7354293+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:51:45.7354412+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:51:45.7354586+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:51:45.7371831+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:51:45.7374303+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:51:45.7375208+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:51:45.7375731+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:51:45.7376016+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:51:45.7376623+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:51:45.7376838+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T20:51:45.7377716+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:51:45.7378288+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 3.4008 ms
2025-06-06T20:51:45.7378781+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:51:45.7379018+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:51:45.7379189+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:51:45.7379453+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 4.3034ms
2025-06-06T20:51:45.7379736+07:00 [DBG] (///) Connection id ""0HND4VCK22CKR"" disconnecting.
2025-06-06T20:51:45.7379874+07:00 [DBG] (///) Connection id ""0HND4VCK22CKR"" stopped.
2025-06-06T20:51:45.7380798+07:00 [DBG] (///) Connection id ""0HND4VCK22CKR"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:57:57.0237874+07:00 [DBG] (///) Connection id ""0HND4VCK22CKS"" accepted.
2025-06-06T20:57:57.0240166+07:00 [DBG] (///) Connection id ""0HND4VCK22CKS"" started.
2025-06-06T20:57:57.0242154+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T20:57:57.0243288+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:57:57.0243793+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:57:57.0244185+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:57:57.0244883+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:57:57.0246266+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:57:57.0253027+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:57:57.0255555+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:57:57.0255915+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:57:57.0256101+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:57:57.0294948+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:57:57.0296601+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:57:57.0296838+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:57:57.0297401+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:57:57.0297662+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:57:57.0320705+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:57:57.0322640+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:57:57.0322896+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:57:57.0323428+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:57:57.0323717+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:57:57.0324300+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:57:57.0324511+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T20:57:57.0325582+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:57:57.0326455+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 8.1203 ms
2025-06-06T20:57:57.0327276+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:57:57.0327617+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:57:57.0327822+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:57:57.0328194+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 8.6023ms
2025-06-06T20:57:57.0328586+07:00 [DBG] (///) Connection id ""0HND4VCK22CKS"" disconnecting.
2025-06-06T20:57:57.0328741+07:00 [DBG] (///) Connection id ""0HND4VCK22CKS"" stopped.
2025-06-06T20:57:57.0329029+07:00 [DBG] (///) Connection id ""0HND4VCK22CKS"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:58:17.6134081+07:00 [DBG] (///) Connection id ""0HND4VCK22CKT"" accepted.
2025-06-06T20:58:17.6134783+07:00 [DBG] (///) Connection id ""0HND4VCK22CKT"" started.
2025-06-06T20:58:17.6137784+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T20:58:17.6138730+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:58:17.6139137+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:58:17.6139449+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:58:17.6139886+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:58:17.6140148+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:58:17.6145931+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:58:17.6148861+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:58:17.6149204+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:58:17.6149394+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:58:17.6149613+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:58:17.6150380+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:58:17.6150542+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:58:17.6150672+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:58:17.6150891+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:58:17.6163158+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:58:17.6165137+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:58:17.6165520+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:58:17.6166123+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:58:17.6166422+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:58:17.6167053+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:58:17.6167260+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T20:58:17.6168276+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:58:17.6168897+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 2.8688 ms
2025-06-06T20:58:17.6170499+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:58:17.6170840+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:58:17.6171041+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:58:17.6171317+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 3.3515ms
2025-06-06T20:58:17.6171664+07:00 [DBG] (///) Connection id ""0HND4VCK22CKT"" disconnecting.
2025-06-06T20:58:17.6171839+07:00 [DBG] (///) Connection id ""0HND4VCK22CKT"" stopped.
2025-06-06T20:58:17.6172196+07:00 [DBG] (///) Connection id ""0HND4VCK22CKT"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:59:08.1791233+07:00 [DBG] (///) Connection id ""0HND4VCK22CKU"" accepted.
2025-06-06T20:59:08.1794911+07:00 [DBG] (///) Connection id ""0HND4VCK22CKU"" started.
2025-06-06T20:59:08.1798939+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T20:59:08.1800038+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:59:08.1800354+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:59:08.1800611+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:59:08.1801080+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:59:08.1801450+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:59:08.1809541+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:59:08.1812542+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:59:08.1812945+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:59:08.1813146+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:59:08.1814146+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:59:08.1814910+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:59:08.1815164+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:59:08.1815324+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:59:08.1815566+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:59:08.1834410+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:59:08.1836767+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:59:08.1837132+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:59:08.1837709+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:59:08.1838012+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:59:08.1839076+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:59:08.1839308+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T20:59:08.1840055+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:59:08.1840586+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 3.9227 ms
2025-06-06T20:59:08.1840997+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:59:08.1841232+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:59:08.1841409+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:59:08.1841649+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 4.2748ms
2025-06-06T20:59:08.1841977+07:00 [DBG] (///) Connection id ""0HND4VCK22CKU"" disconnecting.
2025-06-06T20:59:08.1842146+07:00 [DBG] (///) Connection id ""0HND4VCK22CKU"" stopped.
2025-06-06T20:59:08.1843066+07:00 [DBG] (///) Connection id ""0HND4VCK22CKU"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:59:10.3622558+07:00 [DBG] (///) Connection id ""0HND4VCK22CKV"" accepted.
2025-06-06T20:59:10.3623366+07:00 [DBG] (///) Connection id ""0HND4VCK22CKV"" started.
2025-06-06T20:59:10.3624481+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" null
2025-06-06T20:59:10.3626104+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:59:10.3626434+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:59:10.3626741+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:59:10.3627204+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:59:10.3627553+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:59:10.3633425+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:59:10.3635800+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:59:10.3636152+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:59:10.3636376+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:59:10.3636646+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:59:10.3637592+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:59:10.3637818+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:59:10.3638036+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:59:10.3638723+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T20:59:10.3650238+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T20:59:10.3651759+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:59:10.3652114+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:59:10.3652842+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:59:10.3653177+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:59:10.3653945+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:59:10.3654235+07:00 [INF] (///) Writing value of type '"List`1"' as Json.
2025-06-06T20:59:10.3654907+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:59:10.3655572+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 200 in 2.8013 ms
2025-06-06T20:59:10.3656132+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:59:10.3657399+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:59:10.3657640+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:59:10.3658019+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 200 null "application/json; charset=utf-8" 3.3482ms
2025-06-06T20:59:10.3658481+07:00 [DBG] (///) Connection id ""0HND4VCK22CKV"" disconnecting.
2025-06-06T20:59:10.3658737+07:00 [DBG] (///) Connection id ""0HND4VCK22CKV"" stopped.
2025-06-06T20:59:10.3659040+07:00 [DBG] (///) Connection id ""0HND4VCK22CKV"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:59:12.8320781+07:00 [DBG] (///) Connection id ""0HND4VCK22CL0"" accepted.
2025-06-06T20:59:12.8321398+07:00 [DBG] (///) Connection id ""0HND4VCK22CL0"" started.
2025-06-06T20:59:12.8322675+07:00 [INF] (///) Request starting "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" 68
2025-06-06T20:59:12.8323615+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:59:12.8323983+07:00 [DBG] (///) Endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:59:12.8324303+07:00 [DBG] (///) Request matched endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:59:12.8325562+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:59:12.8326093+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T20:59:12.8326241+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T20:59:12.8326577+07:00 [INF] (///) Executing endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:59:12.8327001+07:00 [DBG] (///) Connection id ""0HND4VCK22CL0"", Request id ""0HND4VCK22CL0:00000001"": started reading request body.
2025-06-06T20:59:12.8327228+07:00 [DBG] (///) Connection id ""0HND4VCK22CL0"", Request id ""0HND4VCK22CL0:00000001"": done reading request body.
2025-06-06T20:59:12.8333636+07:00 [INF] (///) Executed endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:59:12.8334208+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Http.BadHttpRequestException: Failed to read parameter "List<DeleteTuitionPaymentRequest> request" from the request body as JSON.
 ---> System.Text.Json.JsonException: The JSON value could not be converted to System.DateOnly. Path: $[0].paymentDate | LineNumber: 0 | BytePositionInLine: 66.
 ---> System.FormatException: The JSON value is not in a supported DateOnly format.
   at System.Text.Json.ThrowHelper.ThrowFormatException(DataType dataType)
   at System.Text.Json.Serialization.Converters.DateOnlyConverter.ReadCore(Utf8JsonReader& reader)
   at System.Text.Json.Serialization.Converters.DateOnlyConverter.Read(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.ReadJsonAndSetMember(Object obj, ReadStack& state, Utf8JsonReader& reader)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, TCollection& value)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& state, Utf8JsonReader& reader, Exception ex)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsync(Stream utf8Json, CancellationToken cancellationToken)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsObjectAsync(Stream utf8Json, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|101_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.Log.InvalidJsonRequestBody(HttpContext httpContext, String parameterTypeName, String parameterName, Exception exception, Boolean shouldThrow)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|101_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-06T20:59:12.8373223+07:00 [ERR] (///) HTTP "DELETE" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 500 in 4.7397 ms
2025-06-06T20:59:12.8373839+07:00 [INF] (///) Request finished "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 500 null "application/problem+json" 5.1196ms
2025-06-06T20:59:12.8374347+07:00 [DBG] (///) Connection id ""0HND4VCK22CL0"" disconnecting.
2025-06-06T20:59:12.8374489+07:00 [DBG] (///) Connection id ""0HND4VCK22CL0"" stopped.
2025-06-06T20:59:12.8374650+07:00 [DBG] (///) Connection id ""0HND4VCK22CL0"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:59:31.4294304+07:00 [DBG] (///) Connection id ""0HND4VCK22CL1"" accepted.
2025-06-06T20:59:31.4295118+07:00 [DBG] (///) Connection id ""0HND4VCK22CL1"" started.
2025-06-06T20:59:31.4296134+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T20:59:31.4296815+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:59:31.4297043+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T20:59:31.4297269+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:59:31.4298341+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:59:31.4298623+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:59:31.4306163+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:59:31.4309878+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:59:31.4310359+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:59:31.4310692+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:59:31.4311031+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:59:31.4311942+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:59:31.4312147+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:59:31.4312269+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:59:31.4312483+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:59:31.4324209+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T20:59:31.4326282+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:59:31.4326605+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:59:31.4327136+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:59:31.4327487+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:59:31.4328100+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:59:31.4328314+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T20:59:31.4328989+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T20:59:31.4329556+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 3.0954 ms
2025-06-06T20:59:31.4329961+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:59:31.4330201+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:59:31.4330352+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:59:31.4330600+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 3.4475ms
2025-06-06T20:59:31.4330880+07:00 [DBG] (///) Connection id ""0HND4VCK22CL1"" disconnecting.
2025-06-06T20:59:31.4331021+07:00 [DBG] (///) Connection id ""0HND4VCK22CL1"" stopped.
2025-06-06T20:59:31.4331236+07:00 [DBG] (///) Connection id ""0HND4VCK22CL1"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:59:31.5306852+07:00 [DBG] (///) Connection id ""0HND4VCK22CL2"" accepted.
2025-06-06T20:59:31.5307570+07:00 [DBG] (///) Connection id ""0HND4VCK22CL2"" started.
2025-06-06T20:59:31.5308578+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" null
2025-06-06T20:59:31.5309432+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:59:31.5309659+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:59:31.5309897+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:59:31.5310273+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:59:31.5311197+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:59:31.5315230+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:59:31.5317391+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:59:31.5317659+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:59:31.5317844+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:59:31.5318011+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:59:31.5318745+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:59:31.5318932+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:59:31.5319070+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:59:31.5319317+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T20:59:31.5326941+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T20:59:31.5327944+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:59:31.5328192+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:59:31.5329001+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:59:31.5329244+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:59:31.5329786+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:59:31.5329944+07:00 [INF] (///) Writing value of type '"List`1"' as Json.
2025-06-06T20:59:31.5330451+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:59:31.5330916+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 200 in 2.0389 ms
2025-06-06T20:59:31.5331331+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:59:31.5331531+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:59:31.5331690+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:59:31.5331898+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 200 null "application/json; charset=utf-8" 2.333ms
2025-06-06T20:59:31.5332150+07:00 [DBG] (///) Connection id ""0HND4VCK22CL2"" disconnecting.
2025-06-06T20:59:31.5332293+07:00 [DBG] (///) Connection id ""0HND4VCK22CL2"" stopped.
2025-06-06T20:59:31.5332535+07:00 [DBG] (///) Connection id ""0HND4VCK22CL2"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:59:39.7601043+07:00 [DBG] (///) Connection id ""0HND4VCK22CL3"" accepted.
2025-06-06T20:59:39.7601845+07:00 [DBG] (///) Connection id ""0HND4VCK22CL3"" started.
2025-06-06T20:59:39.7602925+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" null
2025-06-06T20:59:39.7603672+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:59:39.7603997+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:59:39.7604299+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:59:39.7604750+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:59:39.7605038+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:59:39.7612829+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:59:39.7616084+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:59:39.7616494+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:59:39.7616737+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:59:39.7617009+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:59:39.7618547+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:59:39.7618871+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:59:39.7619131+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:59:39.7619616+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T20:59:39.7633475+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T20:59:39.7634925+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:59:39.7635260+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:59:39.7636044+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:59:39.7636818+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:59:39.7637642+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:59:39.7637901+07:00 [INF] (///) Writing value of type '"List`1"' as Json.
2025-06-06T20:59:39.7638840+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:59:39.7640048+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 200 in 3.4852 ms
2025-06-06T20:59:39.7640677+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:59:39.7641012+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:59:39.7641260+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:59:39.7641622+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 200 null "application/json; charset=utf-8" 3.8648ms
2025-06-06T20:59:39.7642162+07:00 [DBG] (///) Connection id ""0HND4VCK22CL3"" disconnecting.
2025-06-06T20:59:39.7642419+07:00 [DBG] (///) Connection id ""0HND4VCK22CL3"" stopped.
2025-06-06T20:59:39.7642601+07:00 [DBG] (///) Connection id ""0HND4VCK22CL3"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T20:59:41.4047763+07:00 [DBG] (///) Connection id ""0HND4VCK22CL4"" accepted.
2025-06-06T20:59:41.4048483+07:00 [DBG] (///) Connection id ""0HND4VCK22CL4"" started.
2025-06-06T20:59:41.4049610+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" null
2025-06-06T20:59:41.4050416+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:59:41.4051457+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T20:59:41.4051759+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:59:41.4052270+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T20:59:41.4052563+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:59:41.4058343+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T20:59:41.4060528+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T20:59:41.4060866+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T20:59:41.4061050+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:59:41.4061276+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:59:41.4062113+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T20:59:41.4062336+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:59:41.4062541+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T20:59:41.4062856+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T20:59:41.4073298+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T20:59:41.4074771+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:59:41.4075041+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T20:59:41.4075730+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:59:41.4075972+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:59:41.4076646+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T20:59:41.4076855+07:00 [INF] (///) Writing value of type '"List`1"' as Json.
2025-06-06T20:59:41.4077411+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T20:59:41.4078013+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 200 in 2.5470 ms
2025-06-06T20:59:41.4078501+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T20:59:41.4078767+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T20:59:41.4079011+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T20:59:41.4079356+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 200 null "application/json; charset=utf-8" 2.9705ms
2025-06-06T20:59:41.4079699+07:00 [DBG] (///) Connection id ""0HND4VCK22CL4"" disconnecting.
2025-06-06T20:59:41.4080654+07:00 [DBG] (///) Connection id ""0HND4VCK22CL4"" stopped.
2025-06-06T20:59:41.4080837+07:00 [DBG] (///) Connection id ""0HND4VCK22CL4"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T21:00:31.5004957+07:00 [DBG] (///) Connection id ""0HND4VCK22CL5"" accepted.
2025-06-06T21:00:31.5007206+07:00 [DBG] (///) Connection id ""0HND4VCK22CL5"" started.
2025-06-06T21:00:31.5009602+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T21:00:31.5010588+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T21:00:31.5010888+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T21:00:31.5013046+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:00:31.5013674+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T21:00:31.5013975+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:00:31.5023602+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T21:00:31.5027131+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T21:00:31.5027661+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T21:00:31.5027910+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:00:31.5028192+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:00:31.5029242+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T21:00:31.5029528+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:00:31.5029704+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:00:31.5030007+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T21:00:31.5043655+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T21:00:31.5046003+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:00:31.5046443+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T21:00:31.5047013+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:00:31.5047236+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:00:31.5047874+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T21:00:31.5048119+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T21:00:31.5048835+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:00:31.5049440+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 3.5468 ms
2025-06-06T21:00:31.5049972+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T21:00:31.5050471+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:00:31.5050890+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:00:31.5051217+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 4.1635ms
2025-06-06T21:00:31.5052434+07:00 [DBG] (///) Connection id ""0HND4VCK22CL5"" disconnecting.
2025-06-06T21:00:31.5052630+07:00 [DBG] (///) Connection id ""0HND4VCK22CL5"" stopped.
2025-06-06T21:00:31.5052996+07:00 [DBG] (///) Connection id ""0HND4VCK22CL5"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T21:00:31.6039861+07:00 [DBG] (///) Connection id ""0HND4VCK22CL6"" accepted.
2025-06-06T21:00:31.6040519+07:00 [DBG] (///) Connection id ""0HND4VCK22CL6"" started.
2025-06-06T21:00:31.6041735+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" null
2025-06-06T21:00:31.6042563+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T21:00:31.6042885+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T21:00:31.6043235+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T21:00:31.6044512+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T21:00:31.6044780+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T21:00:31.6049285+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T21:00:31.6050913+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T21:00:31.6051117+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T21:00:31.6051303+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:00:31.6051480+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:00:31.6052063+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T21:00:31.6052239+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:00:31.6052387+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:00:31.6052620+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T21:00:31.6060783+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T21:00:31.6061616+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:00:31.6062221+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T21:00:31.6062604+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:00:31.6062740+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:00:31.6063188+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T21:00:31.6063369+07:00 [INF] (///) Writing value of type '"List`1"' as Json.
2025-06-06T21:00:31.6063833+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T21:00:31.6064300+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 200 in 1.9547 ms
2025-06-06T21:00:31.6064656+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T21:00:31.6064862+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:00:31.6065018+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:00:31.6065236+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 200 null "application/json; charset=utf-8" 2.3516ms
2025-06-06T21:00:31.6065548+07:00 [DBG] (///) Connection id ""0HND4VCK22CL6"" disconnecting.
2025-06-06T21:00:31.6065725+07:00 [DBG] (///) Connection id ""0HND4VCK22CL6"" stopped.
2025-06-06T21:00:31.6066584+07:00 [DBG] (///) Connection id ""0HND4VCK22CL6"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T21:00:39.6747471+07:00 [DBG] (///) Connection id ""0HND4VCK22CL7"" accepted.
2025-06-06T21:00:39.6748315+07:00 [DBG] (///) Connection id ""0HND4VCK22CL7"" started.
2025-06-06T21:00:39.6750326+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T21:00:39.6751036+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T21:00:39.6751273+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T21:00:39.6752305+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:00:39.6752730+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T21:00:39.6753001+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:00:39.6757518+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T21:00:39.6760043+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T21:00:39.6760353+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T21:00:39.6760517+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:00:39.6760684+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:00:39.6761443+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T21:00:39.6761630+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:00:39.6761777+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:00:39.6762000+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T21:00:39.6774543+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T21:00:39.6776450+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:00:39.6776786+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T21:00:39.6777309+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:00:39.6777526+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:00:39.6778173+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T21:00:39.6778388+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T21:00:39.6779259+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:00:39.6779890+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 2.6849 ms
2025-06-06T21:00:39.6780404+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T21:00:39.6780689+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:00:39.6780854+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:00:39.6781062+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 3.0743ms
2025-06-06T21:00:39.6782194+07:00 [DBG] (///) Connection id ""0HND4VCK22CL7"" disconnecting.
2025-06-06T21:00:39.6782360+07:00 [DBG] (///) Connection id ""0HND4VCK22CL7"" stopped.
2025-06-06T21:00:39.6782682+07:00 [DBG] (///) Connection id ""0HND4VCK22CL7"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T21:00:41.0677417+07:00 [DBG] (///) Connection id ""0HND4VCK22CL8"" accepted.
2025-06-06T21:00:41.0678233+07:00 [DBG] (///) Connection id ""0HND4VCK22CL8"" started.
2025-06-06T21:00:41.0679344+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" null
2025-06-06T21:00:41.0680156+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T21:00:41.0680432+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T21:00:41.0680716+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T21:00:41.0681219+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T21:00:41.0681520+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T21:00:41.0686566+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T21:00:41.0689111+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T21:00:41.0689408+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T21:00:41.0689577+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:00:41.0689730+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:00:41.0690389+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T21:00:41.0690628+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:00:41.0690863+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:00:41.0691158+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T21:00:41.0700878+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T21:00:41.0702108+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:00:41.0702431+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T21:00:41.0703051+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:00:41.0703261+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:00:41.0704325+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T21:00:41.0704627+07:00 [INF] (///) Writing value of type '"List`1"' as Json.
2025-06-06T21:00:41.0705301+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T21:00:41.0705904+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 200 in 2.4364 ms
2025-06-06T21:00:41.0706326+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T21:00:41.0706521+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:00:41.0706728+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:00:41.0707022+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 200 null "application/json; charset=utf-8" 2.7677ms
2025-06-06T21:00:41.0707342+07:00 [DBG] (///) Connection id ""0HND4VCK22CL8"" disconnecting.
2025-06-06T21:00:41.0707527+07:00 [DBG] (///) Connection id ""0HND4VCK22CL8"" stopped.
2025-06-06T21:00:41.0707704+07:00 [DBG] (///) Connection id ""0HND4VCK22CL8"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T21:00:48.6747966+07:00 [DBG] (///) Connection id ""0HND4VCK22CL9"" accepted.
2025-06-06T21:00:48.6749316+07:00 [DBG] (///) Connection id ""0HND4VCK22CL9"" started.
2025-06-06T21:00:48.6750512+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T21:00:48.6751304+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T21:00:48.6751599+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T21:00:48.6751903+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:00:48.6752343+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T21:00:48.6752614+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:00:48.6757842+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T21:00:48.6760388+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T21:00:48.6760682+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T21:00:48.6760873+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:00:48.6761115+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:00:48.6762273+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T21:00:48.6762523+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:00:48.6762704+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:00:48.6762966+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T21:00:48.6778865+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T21:00:48.6780878+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:00:48.6781263+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T21:00:48.6781921+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:00:48.6782181+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:00:48.6782900+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T21:00:48.6783149+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T21:00:48.6784506+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:00:48.6785292+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 3.2487 ms
2025-06-06T21:00:48.6785777+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T21:00:48.6785994+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:00:48.6786167+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:00:48.6788706+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 3.8156ms
2025-06-06T21:00:48.6789238+07:00 [DBG] (///) Connection id ""0HND4VCK22CL9"" disconnecting.
2025-06-06T21:00:48.6789411+07:00 [DBG] (///) Connection id ""0HND4VCK22CL9"" stopped.
2025-06-06T21:00:48.6789691+07:00 [DBG] (///) Connection id ""0HND4VCK22CL9"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T21:00:48.7934972+07:00 [DBG] (///) Connection id ""0HND4VCK22CLA"" accepted.
2025-06-06T21:00:48.7935807+07:00 [DBG] (///) Connection id ""0HND4VCK22CLA"" started.
2025-06-06T21:00:48.7936841+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" null
2025-06-06T21:00:48.7938224+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T21:00:48.7938503+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T21:00:48.7938765+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T21:00:48.7939192+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T21:00:48.7939427+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T21:00:48.7943409+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T21:00:48.7945198+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T21:00:48.7945430+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T21:00:48.7945560+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:00:48.7945775+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:00:48.7946495+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T21:00:48.7946676+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:00:48.7946837+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:00:48.7947074+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T21:00:48.7955703+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T21:00:48.7956678+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:00:48.7956910+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T21:00:48.7957369+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:00:48.7957543+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:00:48.7958027+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T21:00:48.7958188+07:00 [INF] (///) Writing value of type '"List`1"' as Json.
2025-06-06T21:00:48.7958723+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T21:00:48.7959201+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 200 in 1.9769 ms
2025-06-06T21:00:48.7959934+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T21:00:48.7960129+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:00:48.7960956+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:00:48.7961228+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 200 null "application/json; charset=utf-8" 2.4395ms
2025-06-06T21:00:48.7961508+07:00 [DBG] (///) Connection id ""0HND4VCK22CLA"" disconnecting.
2025-06-06T21:00:48.7961636+07:00 [DBG] (///) Connection id ""0HND4VCK22CLA"" stopped.
2025-06-06T21:00:48.7961782+07:00 [DBG] (///) Connection id ""0HND4VCK22CLA"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T21:01:42.7343215+07:00 [DBG] (///) Connection id ""0HND4VCK22CLB"" accepted.
2025-06-06T21:01:42.7346441+07:00 [DBG] (///) Connection id ""0HND4VCK22CLB"" started.
2025-06-06T21:01:42.7347729+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T21:01:42.7348529+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T21:01:42.7348826+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T21:01:42.7349119+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:01:42.7349587+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T21:01:42.7349907+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:01:42.7356290+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T21:01:42.7358893+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T21:01:42.7359222+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T21:01:42.7359412+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:01:42.7359674+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:01:42.7360681+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T21:01:42.7361330+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:01:42.7361513+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:01:42.7361781+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T21:01:42.7376361+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T21:01:42.7378364+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:01:42.7378867+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T21:01:42.7379563+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:01:42.7379817+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:01:42.7380578+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T21:01:42.7380869+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T21:01:42.7382154+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:01:42.7382966+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 3.2875 ms
2025-06-06T21:01:42.7383545+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T21:01:42.7383810+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:01:42.7384105+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:01:42.7384437+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 3.6711ms
2025-06-06T21:01:42.7384863+07:00 [DBG] (///) Connection id ""0HND4VCK22CLB"" disconnecting.
2025-06-06T21:01:42.7385060+07:00 [DBG] (///) Connection id ""0HND4VCK22CLB"" stopped.
2025-06-06T21:01:42.7385415+07:00 [DBG] (///) Connection id ""0HND4VCK22CLB"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T21:01:42.8310602+07:00 [DBG] (///) Connection id ""0HND4VCK22CLC"" accepted.
2025-06-06T21:01:42.8311438+07:00 [DBG] (///) Connection id ""0HND4VCK22CLC"" started.
2025-06-06T21:01:42.8312617+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" null
2025-06-06T21:01:42.8313228+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T21:01:42.8313434+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T21:01:42.8313689+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T21:01:42.8314062+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T21:01:42.8314302+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T21:01:42.8317960+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T21:01:42.8319704+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T21:01:42.8319911+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T21:01:42.8320050+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:01:42.8320221+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:01:42.8320898+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T21:01:42.8321061+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:01:42.8321210+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:01:42.8321750+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T21:01:42.8329299+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T21:01:42.8330183+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:01:42.8330434+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T21:01:42.8330859+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:01:42.8331012+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:01:42.8331458+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T21:01:42.8331632+07:00 [INF] (///) Writing value of type '"List`1"' as Json.
2025-06-06T21:01:42.8332093+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T21:01:42.8332527+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 200 in 1.8241 ms
2025-06-06T21:01:42.8332947+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T21:01:42.8333074+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:01:42.8333799+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:01:42.8334010+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 200 null "application/json; charset=utf-8" 2.1404ms
2025-06-06T21:01:42.8334274+07:00 [DBG] (///) Connection id ""0HND4VCK22CLC"" disconnecting.
2025-06-06T21:01:42.8334393+07:00 [DBG] (///) Connection id ""0HND4VCK22CLC"" stopped.
2025-06-06T21:01:42.8334616+07:00 [DBG] (///) Connection id ""0HND4VCK22CLC"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T21:23:08.2241976+07:00 [DBG] (///) Connection id ""0HND4VCK22CLD"" accepted.
2025-06-06T21:23:08.2258675+07:00 [DBG] (///) Connection id ""0HND4VCK22CLD"" started.
2025-06-06T21:23:08.2269265+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - "application/json" null
2025-06-06T21:23:08.2280514+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students"'
2025-06-06T21:23:08.2286110+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students"' with route pattern '"/api/v{version:apiVersion}/students"' is valid for the request path '"/api/v1/students"'
2025-06-06T21:23:08.2288414+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T21:23:08.2293761+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T21:23:08.2296619+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T21:23:08.2353755+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T21:23:08.2378344+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T21:23:08.2380399+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T21:23:08.2382020+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:23:08.2441886+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:23:08.2450304+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T21:23:08.2452327+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:23:08.2452829+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:23:08.2454811+07:00 [DBG] (///) Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T21:23:08.2492597+07:00 [INF] (///) Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T21:23:08.2497167+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:23:08.2498638+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T21:23:08.2501610+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:23:08.2502557+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:23:08.2513333+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:23:08.2516409+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:23:08.2517708+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T21:23:08.2517925+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:23:08.2518664+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:23:08.2519331+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T21:23:08.2530919+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T21:23:08.2532958+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:23:08.2533370+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T21:23:08.2534721+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:23:08.2535141+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:23:08.2538576+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T21:23:08.2541863+07:00 [INF] (///) Writing value of type '"PagedList`1"' as Json.
2025-06-06T21:23:08.2552105+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T21:23:08.2555127+07:00 [INF] (///) HTTP "GET" "/api/v1/students" responded 200 in 25.9859 ms
2025-06-06T21:23:08.2556303+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T21:23:08.2556556+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:23:08.2557125+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:23:08.2558244+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - 200 null "application/json; charset=utf-8" 28.8906ms
2025-06-06T21:23:08.2558787+07:00 [DBG] (///) Connection id ""0HND4VCK22CLD"" disconnecting.
2025-06-06T21:23:08.2558951+07:00 [DBG] (///) Connection id ""0HND4VCK22CLD"" stopped.
2025-06-06T21:23:08.2559711+07:00 [DBG] (///) Connection id ""0HND4VCK22CLD"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T21:23:08.2642081+07:00 [DBG] (///) Connection id ""0HND4VCK22CLE"" accepted.
2025-06-06T21:23:08.2643685+07:00 [DBG] (///) Connection id ""0HND4VCK22CLE"" started.
2025-06-06T21:23:08.2645008+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - "application/json" null
2025-06-06T21:23:08.2647804+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students"'
2025-06-06T21:23:08.2648330+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students"' with route pattern '"/api/v{version:apiVersion}/students"' is valid for the request path '"/api/v1/students"'
2025-06-06T21:23:08.2648754+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T21:23:08.2649354+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T21:23:08.2649820+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T21:23:08.2658869+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T21:23:08.2661517+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T21:23:08.2661758+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T21:23:08.2662138+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:23:08.2662297+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:23:08.2664589+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T21:23:08.2665016+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:23:08.2665343+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:23:08.2665522+07:00 [DBG] (///) Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T21:23:08.2677632+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T21:23:08.2681512+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:23:08.2682290+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T21:23:08.2683078+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:23:08.2683571+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:23:08.2686499+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:23:08.2687039+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:23:08.2688362+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T21:23:08.2688549+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:23:08.2688949+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:23:08.2689402+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T21:23:08.2701426+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T21:23:08.2704518+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:23:08.2705081+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T21:23:08.2705658+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:23:08.2706104+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:23:08.2707034+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T21:23:08.2707599+07:00 [INF] (///) Writing value of type '"PagedList`1"' as Json.
2025-06-06T21:23:08.2708737+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T21:23:08.2709865+07:00 [INF] (///) HTTP "GET" "/api/v1/students" responded 200 in 5.9953 ms
2025-06-06T21:23:08.2710534+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T21:23:08.2710709+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:23:08.2711167+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:23:08.2711634+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - 200 null "application/json; charset=utf-8" 6.6613ms
2025-06-06T21:23:08.2712157+07:00 [DBG] (///) Connection id ""0HND4VCK22CLE"" disconnecting.
2025-06-06T21:23:08.2712310+07:00 [DBG] (///) Connection id ""0HND4VCK22CLE"" stopped.
2025-06-06T21:23:08.2712616+07:00 [DBG] (///) Connection id ""0HND4VCK22CLE"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T21:23:08.9192624+07:00 [DBG] (///) Connection id ""0HND4VCK22CLF"" accepted.
2025-06-06T21:23:08.9193618+07:00 [DBG] (///) Connection id ""0HND4VCK22CLF"" started.
2025-06-06T21:23:08.9195887+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - "application/json" null
2025-06-06T21:23:08.9197068+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students"'
2025-06-06T21:23:08.9197326+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students"' with route pattern '"/api/v{version:apiVersion}/students"' is valid for the request path '"/api/v1/students"'
2025-06-06T21:23:08.9197731+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T21:23:08.9198373+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T21:23:08.9198833+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T21:23:08.9207077+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T21:23:08.9210078+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T21:23:08.9210526+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T21:23:08.9210920+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:23:08.9211123+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:23:08.9212120+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T21:23:08.9213401+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:23:08.9213548+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:23:08.9213952+07:00 [DBG] (///) Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T21:23:08.9224639+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM student_basic_info AS s"
2025-06-06T21:23:08.9226271+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:23:08.9226587+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T21:23:08.9227370+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:23:08.9227767+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:23:08.9230659+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:23:08.9230989+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:23:08.9231994+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T21:23:08.9232391+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:23:08.9232562+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:23:08.9235225+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T21:23:08.9247872+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__p_1='5', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT s.student_code AS \"StudentCode\", s.last_name AS \"LastName\", s.first_name AS \"FirstName\", s.class_code AS \"ClassCode\", s.faculty_code AS \"FacultyCode\"
FROM student_basic_info AS s
LIMIT @__p_1 OFFSET @__p_0"
2025-06-06T21:23:08.9249684+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:23:08.9250217+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T21:23:08.9251083+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:23:08.9251306+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:23:08.9252253+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T21:23:08.9252775+07:00 [INF] (///) Writing value of type '"PagedList`1"' as Json.
2025-06-06T21:23:08.9254021+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students"'
2025-06-06T21:23:08.9254847+07:00 [INF] (///) HTTP "GET" "/api/v1/students" responded 200 in 5.5970 ms
2025-06-06T21:23:08.9255562+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T21:23:08.9255793+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:23:08.9256225+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:23:08.9258338+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students""?page=0&pageSize=5" - 200 null "application/json; charset=utf-8" 6.24ms
2025-06-06T21:23:08.9259019+07:00 [DBG] (///) Connection id ""0HND4VCK22CLF"" disconnecting.
2025-06-06T21:23:08.9259182+07:00 [DBG] (///) Connection id ""0HND4VCK22CLF"" stopped.
2025-06-06T21:23:08.9259606+07:00 [DBG] (///) Connection id ""0HND4VCK22CLF"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T21:23:10.3464659+07:00 [DBG] (///) Connection id ""0HND4VCK22CLG"" accepted.
2025-06-06T21:23:10.3465259+07:00 [DBG] (///) Connection id ""0HND4VCK22CLG"" started.
2025-06-06T21:23:10.3466887+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T21:23:10.3467847+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T21:23:10.3468325+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T21:23:10.3468778+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:23:10.3469499+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T21:23:10.3469738+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:23:10.3480315+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T21:23:10.3488374+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T21:23:10.3488927+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T21:23:10.3489110+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:23:10.3489478+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:23:10.3491005+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T21:23:10.3491229+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:23:10.3491556+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:23:10.3491975+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T21:23:10.3531287+07:00 [INF] (///) Executed DbCommand ("4"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T21:23:10.3535556+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:23:10.3536928+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T21:23:10.3537912+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:23:10.3538265+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:23:10.3539403+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T21:23:10.3539925+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T21:23:10.3541522+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:23:10.3542375+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 7.2261 ms
2025-06-06T21:23:10.3543162+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T21:23:10.3543337+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:23:10.3543745+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:23:10.3544204+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 7.7341ms
2025-06-06T21:23:10.3544668+07:00 [DBG] (///) Connection id ""0HND4VCK22CLG"" disconnecting.
2025-06-06T21:23:10.3544802+07:00 [DBG] (///) Connection id ""0HND4VCK22CLG"" stopped.
2025-06-06T21:23:10.3546553+07:00 [DBG] (///) Connection id ""0HND4VCK22CLG"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T21:23:10.3615527+07:00 [DBG] (///) Connection id ""0HND4VCK22CLH"" accepted.
2025-06-06T21:23:10.3616270+07:00 [DBG] (///) Connection id ""0HND4VCK22CLH"" started.
2025-06-06T21:23:10.3617794+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T21:23:10.3618696+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T21:23:10.3619238+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T21:23:10.3619478+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:23:10.3620161+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T21:23:10.3620715+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:23:10.3626999+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T21:23:10.3630816+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T21:23:10.3631126+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T21:23:10.3631440+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:23:10.3632480+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:23:10.3633298+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T21:23:10.3633651+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:23:10.3633913+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:23:10.3634276+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T21:23:10.3648178+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T21:23:10.3650186+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:23:10.3650769+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T21:23:10.3651491+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:23:10.3651869+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:23:10.3653082+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T21:23:10.3654804+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T21:23:10.3655700+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:23:10.3656367+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 3.5905 ms
2025-06-06T21:23:10.3656891+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T21:23:10.3657257+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:23:10.3657728+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:23:10.3658012+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 4.0203ms
2025-06-06T21:23:10.3658395+07:00 [DBG] (///) Connection id ""0HND4VCK22CLH"" disconnecting.
2025-06-06T21:23:10.3658650+07:00 [DBG] (///) Connection id ""0HND4VCK22CLH"" stopped.
2025-06-06T21:23:10.3658877+07:00 [DBG] (///) Connection id ""0HND4VCK22CLH"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T21:23:11.6918049+07:00 [DBG] (///) Connection id ""0HND4VCK22CLI"" accepted.
2025-06-06T21:23:11.6918684+07:00 [DBG] (///) Connection id ""0HND4VCK22CLI"" started.
2025-06-06T21:23:11.6921405+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" null
2025-06-06T21:23:11.6922270+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T21:23:11.6922634+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T21:23:11.6923029+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T21:23:11.6923593+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T21:23:11.6923782+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T21:23:11.6929974+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T21:23:11.6934024+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T21:23:11.6934451+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T21:23:11.6934614+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:23:11.6934888+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:23:11.6935944+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T21:23:11.6936128+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:23:11.6936403+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:23:11.6937075+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T21:23:11.6945769+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T21:23:11.6948622+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:23:11.6948941+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T21:23:11.6949461+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:23:11.6949632+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:23:11.6950519+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T21:23:11.6951142+07:00 [INF] (///) Writing value of type '"List`1"' as Json.
2025-06-06T21:23:11.6952262+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T21:23:11.6952961+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 200 in 2.9147 ms
2025-06-06T21:23:11.6953495+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T21:23:11.6953795+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:23:11.6953955+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:23:11.6956800+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 200 null "application/json; charset=utf-8" 3.5368ms
2025-06-06T21:23:11.6957282+07:00 [DBG] (///) Connection id ""0HND4VCK22CLI"" disconnecting.
2025-06-06T21:23:11.6957423+07:00 [DBG] (///) Connection id ""0HND4VCK22CLI"" stopped.
2025-06-06T21:23:11.6957964+07:00 [DBG] (///) Connection id ""0HND4VCK22CLI"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T21:23:16.7807558+07:00 [DBG] (///) Connection id ""0HND4VCK22CLJ"" accepted.
2025-06-06T21:23:16.7808215+07:00 [DBG] (///) Connection id ""0HND4VCK22CLJ"" started.
2025-06-06T21:23:16.7809568+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T21:23:16.7810879+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T21:23:16.7811137+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T21:23:16.7811587+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:23:16.7812165+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T21:23:16.7812724+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:23:16.7818743+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T21:23:16.7821993+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T21:23:16.7822425+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T21:23:16.7822568+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:23:16.7822912+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:23:16.7823807+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T21:23:16.7823971+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:23:16.7824232+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:23:16.7824638+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T21:23:16.7835711+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T21:23:16.7837524+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:23:16.7837815+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T21:23:16.7838386+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:23:16.7838868+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:23:16.7839749+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T21:23:16.7840244+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T21:23:16.7841055+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:23:16.7841972+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 2.9350 ms
2025-06-06T21:23:16.7842564+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T21:23:16.7842751+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:23:16.7843038+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:23:16.7843473+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 3.3915ms
2025-06-06T21:23:16.7843962+07:00 [DBG] (///) Connection id ""0HND4VCK22CLJ"" disconnecting.
2025-06-06T21:23:16.7844108+07:00 [DBG] (///) Connection id ""0HND4VCK22CLJ"" stopped.
2025-06-06T21:23:16.7844266+07:00 [DBG] (///) Connection id ""0HND4VCK22CLJ"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T21:23:16.8547161+07:00 [DBG] (///) Connection id ""0HND4VCK22CLK"" accepted.
2025-06-06T21:23:16.8547799+07:00 [DBG] (///) Connection id ""0HND4VCK22CLK"" started.
2025-06-06T21:23:16.8549214+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" null
2025-06-06T21:23:16.8550282+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T21:23:16.8550746+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T21:23:16.8551179+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T21:23:16.8551797+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T21:23:16.8552042+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T21:23:16.8558499+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T21:23:16.8562067+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T21:23:16.8562330+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T21:23:16.8562682+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:23:16.8562867+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:23:16.8564281+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T21:23:16.8564762+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:23:16.8565361+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:23:16.8565674+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T21:23:16.8575756+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T21:23:16.8580166+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:23:16.8580728+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T21:23:16.8581333+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:23:16.8581860+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:23:16.8582652+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T21:23:16.8583043+07:00 [INF] (///) Writing value of type '"List`1"' as Json.
2025-06-06T21:23:16.8583988+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T21:23:16.8584692+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 200 in 3.2425 ms
2025-06-06T21:23:16.8585352+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T21:23:16.8585540+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:23:16.8585989+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:23:16.8586522+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 200 null "application/json; charset=utf-8" 3.7503ms
2025-06-06T21:23:16.8586999+07:00 [DBG] (///) Connection id ""0HND4VCK22CLK"" disconnecting.
2025-06-06T21:23:16.8587151+07:00 [DBG] (///) Connection id ""0HND4VCK22CLK"" stopped.
2025-06-06T21:23:16.8587597+07:00 [DBG] (///) Connection id ""0HND4VCK22CLK"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T21:24:14.7466703+07:00 [DBG] (///) Connection id ""0HND4VCK22CLL"" accepted.
2025-06-06T21:24:14.7471731+07:00 [DBG] (///) Connection id ""0HND4VCK22CLL"" started.
2025-06-06T21:24:14.7475685+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T21:24:14.7476619+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T21:24:14.7477314+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T21:24:14.7477974+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:24:14.7478599+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T21:24:14.7481911+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:24:14.7488013+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T21:24:14.7491742+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T21:24:14.7492279+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T21:24:14.7492458+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:24:14.7492767+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:24:14.7493810+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T21:24:14.7494199+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:24:14.7494357+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:24:14.7494735+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T21:24:14.7511704+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T21:24:14.7514934+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:24:14.7515445+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T21:24:14.7516573+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:24:14.7518156+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:24:14.7519045+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T21:24:14.7519441+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T21:24:14.7520345+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:24:14.7521222+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 4.2165 ms
2025-06-06T21:24:14.7523727+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T21:24:14.7524169+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:24:14.7524499+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:24:14.7526302+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 4.9049ms
2025-06-06T21:24:14.7526831+07:00 [DBG] (///) Connection id ""0HND4VCK22CLL"" disconnecting.
2025-06-06T21:24:14.7527219+07:00 [DBG] (///) Connection id ""0HND4VCK22CLL"" stopped.
2025-06-06T21:24:14.7527516+07:00 [DBG] (///) Connection id ""0HND4VCK22CLL"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T21:24:16.4064798+07:00 [DBG] (///) Connection id ""0HND4VCK22CLM"" accepted.
2025-06-06T21:24:16.4065924+07:00 [DBG] (///) Connection id ""0HND4VCK22CLM"" started.
2025-06-06T21:24:16.4067835+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" null
2025-06-06T21:24:16.4069708+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T21:24:16.4070704+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T21:24:16.4071196+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T21:24:16.4072087+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T21:24:16.4072622+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T21:24:16.4079409+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T21:24:16.4081893+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T21:24:16.4082261+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T21:24:16.4082627+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:24:16.4083605+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:24:16.4084280+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T21:24:16.4084683+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:24:16.4084989+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:24:16.4085473+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T21:24:16.4096056+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T21:24:16.4097554+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:24:16.4097984+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T21:24:16.4098731+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:24:16.4098948+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:24:16.4099699+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T21:24:16.4099983+07:00 [INF] (///) Writing value of type '"List`1"' as Json.
2025-06-06T21:24:16.4100935+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T21:24:16.4101600+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 200 in 2.9149 ms
2025-06-06T21:24:16.4102105+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T21:24:16.4102296+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:24:16.4102566+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:24:16.4102922+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 200 null "application/json; charset=utf-8" 3.5135ms
2025-06-06T21:24:16.4103331+07:00 [DBG] (///) Connection id ""0HND4VCK22CLM"" disconnecting.
2025-06-06T21:24:16.4103478+07:00 [DBG] (///) Connection id ""0HND4VCK22CLM"" stopped.
2025-06-06T21:24:16.4103879+07:00 [DBG] (///) Connection id ""0HND4VCK22CLM"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T21:24:20.8066499+07:00 [DBG] (///) Connection id ""0HND4VCK22CLN"" accepted.
2025-06-06T21:24:20.8067206+07:00 [DBG] (///) Connection id ""0HND4VCK22CLN"" started.
2025-06-06T21:24:20.8068994+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T21:24:20.8070169+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T21:24:20.8071954+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T21:24:20.8072444+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:24:20.8072838+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T21:24:20.8073400+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:24:20.8080859+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T21:24:20.8083950+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T21:24:20.8084257+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T21:24:20.8084653+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:24:20.8085081+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:24:20.8085985+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T21:24:20.8086654+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:24:20.8087141+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:24:20.8087726+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T21:24:20.8099606+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T21:24:20.8101219+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:24:20.8101714+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T21:24:20.8102133+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:24:20.8102539+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:24:20.8103321+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T21:24:20.8103729+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T21:24:20.8104658+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:24:20.8105489+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 3.2079 ms
2025-06-06T21:24:20.8106412+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T21:24:20.8106571+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:24:20.8107802+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:24:20.8108204+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 3.9224ms
2025-06-06T21:24:20.8108761+07:00 [DBG] (///) Connection id ""0HND4VCK22CLN"" disconnecting.
2025-06-06T21:24:20.8108890+07:00 [DBG] (///) Connection id ""0HND4VCK22CLN"" stopped.
2025-06-06T21:24:20.8109039+07:00 [DBG] (///) Connection id ""0HND4VCK22CLN"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T21:24:20.8971801+07:00 [DBG] (///) Connection id ""0HND4VCK22CLO"" accepted.
2025-06-06T21:24:20.8972429+07:00 [DBG] (///) Connection id ""0HND4VCK22CLO"" started.
2025-06-06T21:24:20.8973777+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" null
2025-06-06T21:24:20.8974636+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T21:24:20.8975095+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T21:24:20.8975532+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T21:24:20.8976135+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T21:24:20.8976519+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T21:24:20.8982123+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T21:24:20.8984205+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T21:24:20.8985190+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T21:24:20.8985341+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:24:20.8985773+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:24:20.8986977+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T21:24:20.8987525+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:24:20.8987699+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:24:20.8988155+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T21:24:20.8996665+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T21:24:20.8997727+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:24:20.8998224+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T21:24:20.8998811+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:24:20.8999639+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:24:20.9000206+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T21:24:20.9000529+07:00 [INF] (///) Writing value of type '"List`1"' as Json.
2025-06-06T21:24:20.9001102+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T21:24:20.9001766+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 200 in 2.5391 ms
2025-06-06T21:24:20.9002392+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T21:24:20.9002927+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:24:20.9003571+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:24:20.9004073+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 200 null "application/json; charset=utf-8" 3.0091ms
2025-06-06T21:24:20.9004353+07:00 [DBG] (///) Connection id ""0HND4VCK22CLO"" disconnecting.
2025-06-06T21:24:20.9004717+07:00 [DBG] (///) Connection id ""0HND4VCK22CLO"" stopped.
2025-06-06T21:24:20.9004902+07:00 [DBG] (///) Connection id ""0HND4VCK22CLO"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T21:25:25.7807697+07:00 [DBG] (///) Connection id ""0HND4VCK22CLP"" accepted.
2025-06-06T21:25:25.7812312+07:00 [DBG] (///) Connection id ""0HND4VCK22CLP"" started.
2025-06-06T21:25:25.7813539+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T21:25:25.7815372+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T21:25:25.7815855+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T21:25:25.7816081+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:25:25.7816664+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T21:25:25.7817079+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:25:25.7824112+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T21:25:25.7829632+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T21:25:25.7830139+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T21:25:25.7830328+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:25:25.7830848+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:25:25.7832029+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T21:25:25.7832247+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:25:25.7832657+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:25:25.7833098+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T21:25:25.7845962+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T21:25:25.7848348+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:25:25.7848953+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T21:25:25.7849768+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:25:25.7850030+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:25:25.7850853+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T21:25:25.7851321+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T21:25:25.7853138+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:25:25.7854088+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 3.6798 ms
2025-06-06T21:25:25.7854955+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T21:25:25.7855171+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:25:25.7855635+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:25:25.7856117+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 4.2572ms
2025-06-06T21:25:25.7856661+07:00 [DBG] (///) Connection id ""0HND4VCK22CLP"" disconnecting.
2025-06-06T21:25:25.7856827+07:00 [DBG] (///) Connection id ""0HND4VCK22CLP"" stopped.
2025-06-06T21:25:25.7857319+07:00 [DBG] (///) Connection id ""0HND4VCK22CLP"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T21:25:35.1850169+07:00 [DBG] (///) Connection id ""0HND4VCK22CLQ"" accepted.
2025-06-06T21:25:35.1851061+07:00 [DBG] (///) Connection id ""0HND4VCK22CLQ"" started.
2025-06-06T21:25:35.1858679+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T21:25:35.1863682+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T21:25:35.1864658+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T21:25:35.1866851+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:25:35.1867504+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T21:25:35.1867907+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:25:35.1873804+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T21:25:35.1876794+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T21:25:35.1877092+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T21:25:35.1877447+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:25:35.1877663+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:25:35.1879329+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T21:25:35.1879755+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:25:35.1879895+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:25:35.1880409+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T21:25:35.1892063+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T21:25:35.1894083+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:25:35.1894603+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T21:25:35.1895348+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:25:35.1895950+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:25:35.1897261+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T21:25:35.1897677+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T21:25:35.1898423+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:25:35.1899212+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 3.1433 ms
2025-06-06T21:25:35.1899854+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T21:25:35.1900273+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:25:35.1900669+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:25:35.1900937+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 4.2446ms
2025-06-06T21:25:35.1901446+07:00 [DBG] (///) Connection id ""0HND4VCK22CLQ"" disconnecting.
2025-06-06T21:25:35.1901808+07:00 [DBG] (///) Connection id ""0HND4VCK22CLQ"" stopped.
2025-06-06T21:25:35.1902188+07:00 [DBG] (///) Connection id ""0HND4VCK22CLQ"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T21:25:44.9648408+07:00 [DBG] (///) Connection id ""0HND4VCK22CLR"" accepted.
2025-06-06T21:25:44.9649377+07:00 [DBG] (///) Connection id ""0HND4VCK22CLR"" started.
2025-06-06T21:25:44.9654603+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T21:25:44.9655772+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T21:25:44.9656024+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T21:25:44.9656326+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:25:44.9656804+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T21:25:44.9657159+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:25:44.9662604+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T21:25:44.9665863+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T21:25:44.9666209+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T21:25:44.9666570+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:25:44.9666914+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:25:44.9667768+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T21:25:44.9668050+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:25:44.9668605+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:25:44.9668842+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T21:25:44.9683483+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T21:25:44.9685475+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:25:44.9685898+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T21:25:44.9686445+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:25:44.9686714+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:25:44.9687352+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T21:25:44.9687554+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T21:25:44.9688321+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:25:44.9689004+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 3.1904 ms
2025-06-06T21:25:44.9690145+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T21:25:44.9690828+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:25:44.9691323+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:25:44.9691624+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 3.7031ms
2025-06-06T21:25:44.9692179+07:00 [DBG] (///) Connection id ""0HND4VCK22CLR"" disconnecting.
2025-06-06T21:25:44.9692518+07:00 [DBG] (///) Connection id ""0HND4VCK22CLR"" stopped.
2025-06-06T21:25:44.9693105+07:00 [DBG] (///) Connection id ""0HND4VCK22CLR"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T21:26:15.6124943+07:00 [DBG] (///) Connection id ""0HND4VCK22CLS"" accepted.
2025-06-06T21:26:15.6127944+07:00 [DBG] (///) Connection id ""0HND4VCK22CLS"" started.
2025-06-06T21:26:15.6129366+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T21:26:15.6130166+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T21:26:15.6130714+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T21:26:15.6131053+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:26:15.6131685+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T21:26:15.6132170+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:26:15.6138114+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T21:26:15.6140596+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T21:26:15.6140878+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T21:26:15.6141143+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:26:15.6141377+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:26:15.6142103+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T21:26:15.6142387+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:26:15.6142611+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:26:15.6142825+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T21:26:15.6153309+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T21:26:15.6155082+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:26:15.6155635+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T21:26:15.6156294+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:26:15.6156672+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:26:15.6157432+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T21:26:15.6157866+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T21:26:15.6158598+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:26:15.6159380+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 2.7439 ms
2025-06-06T21:26:15.6160008+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T21:26:15.6160404+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:26:15.6160768+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:26:15.6161005+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 3.1849ms
2025-06-06T21:26:15.6161478+07:00 [DBG] (///) Connection id ""0HND4VCK22CLS"" disconnecting.
2025-06-06T21:26:15.6161834+07:00 [DBG] (///) Connection id ""0HND4VCK22CLS"" stopped.
2025-06-06T21:26:15.6162073+07:00 [DBG] (///) Connection id ""0HND4VCK22CLS"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T21:27:21.4393443+07:00 [DBG] (///) Connection id ""0HND4VCK22CLT"" accepted.
2025-06-06T21:27:21.4397377+07:00 [DBG] (///) Connection id ""0HND4VCK22CLT"" started.
2025-06-06T21:27:21.4398828+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T21:27:21.4399868+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T21:27:21.4400265+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T21:27:21.4400554+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:27:21.4401115+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T21:27:21.4401502+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:27:21.4408486+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T21:27:21.4411894+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T21:27:21.4412369+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T21:27:21.4412580+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:27:21.4413602+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:27:21.4414501+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T21:27:21.4414752+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:27:21.4415059+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:27:21.4415430+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T21:27:21.4428592+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T21:27:21.4430429+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:27:21.4430881+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T21:27:21.4431425+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:27:21.4432086+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:27:21.4432717+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T21:27:21.4432980+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T21:27:21.4433721+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:27:21.4434427+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 3.2896 ms
2025-06-06T21:27:21.4434957+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T21:27:21.4435126+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:27:21.4435433+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:27:21.4435987+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 3.7168ms
2025-06-06T21:27:21.4436469+07:00 [DBG] (///) Connection id ""0HND4VCK22CLT"" disconnecting.
2025-06-06T21:27:21.4436630+07:00 [DBG] (///) Connection id ""0HND4VCK22CLT"" stopped.
2025-06-06T21:27:21.4436997+07:00 [DBG] (///) Connection id ""0HND4VCK22CLT"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T21:27:21.5671844+07:00 [DBG] (///) Connection id ""0HND4VCK22CLU"" accepted.
2025-06-06T21:27:21.5672805+07:00 [DBG] (///) Connection id ""0HND4VCK22CLU"" started.
2025-06-06T21:27:21.5675444+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" null
2025-06-06T21:27:21.5676335+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T21:27:21.5676712+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T21:27:21.5677137+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T21:27:21.5677814+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T21:27:21.5678056+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T21:27:21.5684516+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T21:27:21.5686958+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T21:27:21.5687192+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T21:27:21.5687528+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:27:21.5687918+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:27:21.5688720+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T21:27:21.5689174+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:27:21.5689921+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:27:21.5690424+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T21:27:21.5700690+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T21:27:21.5702035+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:27:21.5702621+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T21:27:21.5703435+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:27:21.5703691+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:27:21.5704570+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T21:27:21.5705027+07:00 [INF] (///) Writing value of type '"List`1"' as Json.
2025-06-06T21:27:21.5705952+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T21:27:21.5706751+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 200 in 2.8396 ms
2025-06-06T21:27:21.5707441+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T21:27:21.5707846+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:27:21.5708038+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:27:21.5708754+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 200 null "application/json; charset=utf-8" 3.3456ms
2025-06-06T21:27:21.5709316+07:00 [DBG] (///) Connection id ""0HND4VCK22CLU"" disconnecting.
2025-06-06T21:27:21.5709487+07:00 [DBG] (///) Connection id ""0HND4VCK22CLU"" stopped.
2025-06-06T21:27:21.5710056+07:00 [DBG] (///) Connection id ""0HND4VCK22CLU"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T21:27:58.3688216+07:00 [DBG] (///) Connection id ""0HND4VCK22CLV"" accepted.
2025-06-06T21:27:58.3691905+07:00 [DBG] (///) Connection id ""0HND4VCK22CLV"" started.
2025-06-06T21:27:58.3693553+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T21:27:58.3694944+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T21:27:58.3695254+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T21:27:58.3695922+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:27:58.3696853+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T21:27:58.3697830+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:27:58.3706475+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T21:27:58.3712481+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T21:27:58.3712898+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T21:27:58.3713420+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:27:58.3713699+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:27:58.3715819+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T21:27:58.3716467+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:27:58.3716884+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:27:58.3717136+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T21:27:58.3729901+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T21:27:58.3731915+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:27:58.3732708+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T21:27:58.3733303+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:27:58.3733505+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:27:58.3734234+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T21:27:58.3734655+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T21:27:58.3735503+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:27:58.3736234+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 3.8949 ms
2025-06-06T21:27:58.3736917+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T21:27:58.3737098+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:27:58.3737524+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:27:58.3737948+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 4.4408ms
2025-06-06T21:27:58.3738529+07:00 [DBG] (///) Connection id ""0HND4VCK22CLV"" disconnecting.
2025-06-06T21:27:58.3738668+07:00 [DBG] (///) Connection id ""0HND4VCK22CLV"" stopped.
2025-06-06T21:27:58.3739096+07:00 [DBG] (///) Connection id ""0HND4VCK22CLV"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T21:27:58.4318131+07:00 [DBG] (///) Connection id ""0HND4VCK22CM0"" accepted.
2025-06-06T21:27:58.4319553+07:00 [DBG] (///) Connection id ""0HND4VCK22CM0"" started.
2025-06-06T21:27:58.4321639+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" null
2025-06-06T21:27:58.4322794+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T21:27:58.4323546+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T21:27:58.4324267+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T21:27:58.4325208+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T21:27:58.4325578+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T21:27:58.4333678+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T21:27:58.4337811+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T21:27:58.4338287+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T21:27:58.4338529+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:27:58.4339506+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:27:58.4340255+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T21:27:58.4340427+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:27:58.4340640+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:27:58.4341103+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T21:27:58.4352158+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T21:27:58.4353640+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:27:58.4354058+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T21:27:58.4354799+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:27:58.4355242+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:27:58.4356059+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T21:27:58.4356262+07:00 [INF] (///) Writing value of type '"List`1"' as Json.
2025-06-06T21:27:58.4357686+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T21:27:58.4358298+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 200 in 3.2852 ms
2025-06-06T21:27:58.4358910+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T21:27:58.4359196+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:27:58.4359471+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:27:58.4359702+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 200 null "application/json; charset=utf-8" 3.8084ms
2025-06-06T21:27:58.4360154+07:00 [DBG] (///) Connection id ""0HND4VCK22CM0"" disconnecting.
2025-06-06T21:27:58.4360454+07:00 [DBG] (///) Connection id ""0HND4VCK22CM0"" stopped.
2025-06-06T21:27:58.4360659+07:00 [DBG] (///) Connection id ""0HND4VCK22CM0"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T21:29:16.1557008+07:00 [DBG] (///) Connection id ""0HND4VCK22CM1"" accepted.
2025-06-06T21:29:16.1560863+07:00 [DBG] (///) Connection id ""0HND4VCK22CM1"" started.
2025-06-06T21:29:16.1562343+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T21:29:16.1563173+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T21:29:16.1563639+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T21:29:16.1564054+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:29:16.1564456+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T21:29:16.1564829+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:29:16.1573688+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T21:29:16.1577329+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T21:29:16.1577910+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T21:29:16.1578096+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:29:16.1630282+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:29:16.1632209+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T21:29:16.1632523+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:29:16.1632987+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:29:16.1634062+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T21:29:16.1668836+07:00 [INF] (///) Executed DbCommand ("3"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T21:29:16.1671712+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:29:16.1672280+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T21:29:16.1673009+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:29:16.1673486+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:29:16.1674433+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T21:29:16.1674704+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T21:29:16.1675801+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:29:16.1677047+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 11.2303 ms
2025-06-06T21:29:16.1677666+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T21:29:16.1678026+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:29:16.1678165+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:29:16.1678596+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 11.6466ms
2025-06-06T21:29:16.1679088+07:00 [DBG] (///) Connection id ""0HND4VCK22CM1"" disconnecting.
2025-06-06T21:29:16.1679466+07:00 [DBG] (///) Connection id ""0HND4VCK22CM1"" stopped.
2025-06-06T21:29:16.1679786+07:00 [DBG] (///) Connection id ""0HND4VCK22CM1"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T21:29:57.8196505+07:00 [DBG] (///) Connection id ""0HND4VCK22CM2"" accepted.
2025-06-06T21:29:57.8202626+07:00 [DBG] (///) Connection id ""0HND4VCK22CM2"" started.
2025-06-06T21:29:57.8203608+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T21:29:57.8204422+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T21:29:57.8204650+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T21:29:57.8204971+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:29:57.8205427+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T21:29:57.8205770+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:29:57.8213957+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T21:29:57.8216438+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T21:29:57.8217173+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T21:29:57.8217352+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:29:57.8217539+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:29:57.8218340+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T21:29:57.8218576+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:29:57.8218940+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:29:57.8219156+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T21:29:57.8231323+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T21:29:57.8232644+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:29:57.8232921+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T21:29:57.8234106+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:29:57.8234519+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:29:57.8235265+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T21:29:57.8235522+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T21:29:57.8236393+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:29:57.8237115+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 3.1361 ms
2025-06-06T21:29:57.8237529+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T21:29:57.8237813+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:29:57.8238701+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:29:57.8239049+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 3.5412ms
2025-06-06T21:29:57.8239349+07:00 [DBG] (///) Connection id ""0HND4VCK22CM2"" disconnecting.
2025-06-06T21:29:57.8240304+07:00 [DBG] (///) Connection id ""0HND4VCK22CM2"" stopped.
2025-06-06T21:29:57.8240452+07:00 [DBG] (///) Connection id ""0HND4VCK22CM2"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T21:30:09.3053812+07:00 [DBG] (///) Connection id ""0HND4VCK22CM3"" accepted.
2025-06-06T21:30:09.3054894+07:00 [DBG] (///) Connection id ""0HND4VCK22CM3"" started.
2025-06-06T21:30:09.3056796+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T21:30:09.3057759+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T21:30:09.3058184+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T21:30:09.3058582+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:30:09.3058932+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T21:30:09.3059424+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:30:09.3063889+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T21:30:09.3067133+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T21:30:09.3067546+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T21:30:09.3067692+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:30:09.3067968+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:30:09.3068869+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T21:30:09.3069060+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:30:09.3069285+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:30:09.3070048+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T21:30:09.3081543+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T21:30:09.3083407+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:30:09.3083755+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T21:30:09.3084289+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:30:09.3084506+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:30:09.3085157+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T21:30:09.3085402+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T21:30:09.3086296+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:30:09.3086964+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 2.7667 ms
2025-06-06T21:30:09.3087343+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T21:30:09.3087483+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:30:09.3087628+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:30:09.3087924+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 3.178ms
2025-06-06T21:30:09.3088233+07:00 [DBG] (///) Connection id ""0HND4VCK22CM3"" disconnecting.
2025-06-06T21:30:09.3089038+07:00 [DBG] (///) Connection id ""0HND4VCK22CM3"" stopped.
2025-06-06T21:30:09.3089202+07:00 [DBG] (///) Connection id ""0HND4VCK22CM3"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T21:30:18.9971052+07:00 [DBG] (///) Connection id ""0HND4VCK22CM4"" accepted.
2025-06-06T21:30:18.9971727+07:00 [DBG] (///) Connection id ""0HND4VCK22CM4"" started.
2025-06-06T21:30:18.9972852+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T21:30:18.9973799+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T21:30:18.9974047+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T21:30:18.9975492+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:30:18.9976041+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T21:30:18.9976383+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:30:18.9982545+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T21:30:18.9985308+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T21:30:18.9985589+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T21:30:18.9985818+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:30:18.9986280+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:30:18.9987120+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T21:30:18.9987451+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:30:18.9987826+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:30:18.9988430+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T21:30:19.0001962+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T21:30:19.0003922+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:30:19.0004580+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T21:30:19.0005348+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:30:19.0005797+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:30:19.0006616+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T21:30:19.0007104+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T21:30:19.0007916+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:30:19.0009238+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 3.2412 ms
2025-06-06T21:30:19.0009739+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T21:30:19.0010176+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:30:19.0011459+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:30:19.0011767+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 3.8901ms
2025-06-06T21:30:19.0012355+07:00 [DBG] (///) Connection id ""0HND4VCK22CM4"" disconnecting.
2025-06-06T21:30:19.0012776+07:00 [DBG] (///) Connection id ""0HND4VCK22CM4"" stopped.
2025-06-06T21:30:19.0013010+07:00 [DBG] (///) Connection id ""0HND4VCK22CM4"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T21:33:21.4123611+07:00 [DBG] (///) Connection id ""0HND4VCK22CM5"" accepted.
2025-06-06T21:33:21.4130075+07:00 [DBG] (///) Connection id ""0HND4VCK22CM5"" started.
2025-06-06T21:33:21.4131557+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T21:33:21.4132554+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T21:33:21.4132908+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T21:33:21.4133159+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:33:21.4133655+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T21:33:21.4134047+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:33:21.4139389+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T21:33:21.4142370+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T21:33:21.4142880+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T21:33:21.4143078+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:33:21.4143375+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:33:21.4144993+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T21:33:21.4145297+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:33:21.4146319+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:33:21.4147787+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T21:33:21.4170774+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T21:33:21.4173733+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:33:21.4174486+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T21:33:21.4175217+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:33:21.4175728+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:33:21.4176542+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T21:33:21.4176877+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T21:33:21.4177912+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T21:33:21.4181379+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 4.4535 ms
2025-06-06T21:33:21.4182044+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T21:33:21.4182271+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:33:21.4182558+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:33:21.4183094+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 5.1504ms
2025-06-06T21:33:21.4183433+07:00 [DBG] (///) Connection id ""0HND4VCK22CM5"" disconnecting.
2025-06-06T21:33:21.4183598+07:00 [DBG] (///) Connection id ""0HND4VCK22CM5"" stopped.
2025-06-06T21:33:21.4184295+07:00 [DBG] (///) Connection id ""0HND4VCK22CM5"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T21:33:26.7077481+07:00 [DBG] (///) Connection id ""0HND4VCK22CM6"" accepted.
2025-06-06T21:33:26.7078173+07:00 [DBG] (///) Connection id ""0HND4VCK22CM6"" started.
2025-06-06T21:33:26.7079730+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" null
2025-06-06T21:33:26.7081304+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T21:33:26.7082936+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T21:33:26.7083292+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T21:33:26.7084040+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T21:33:26.7084411+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T21:33:26.7092275+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T21:33:26.7094717+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T21:33:26.7095018+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T21:33:26.7095549+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:33:26.7096042+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:33:26.7097080+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T21:33:26.7097306+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:33:26.7097712+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T21:33:26.7098196+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T21:33:26.7108747+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T21:33:26.7109868+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:33:26.7110456+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 0ms reading results.
2025-06-06T21:33:26.7111350+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:33:26.7111836+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:33:26.7112897+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T21:33:26.7113125+07:00 [INF] (///) Writing value of type '"List`1"' as Json.
2025-06-06T21:33:26.7113794+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T21:33:26.7114644+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 200 in 3.0012 ms
2025-06-06T21:33:26.7115330+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T21:33:26.7115740+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:33:26.7115890+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:33:26.7116633+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 200 null "application/json; charset=utf-8" 3.6917ms
2025-06-06T21:33:26.7118172+07:00 [DBG] (///) Connection id ""0HND4VCK22CM6"" disconnecting.
2025-06-06T21:33:26.7118523+07:00 [DBG] (///) Connection id ""0HND4VCK22CM6"" stopped.
2025-06-06T21:33:26.7118807+07:00 [DBG] (///) Connection id ""0HND4VCK22CM6"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T21:33:43.9379873+07:00 [DBG] (///) Connection id ""0HND4VCK22CM7"" accepted.
2025-06-06T21:33:43.9381111+07:00 [DBG] (///) Connection id ""0HND4VCK22CM7"" started.
2025-06-06T21:33:43.9384100+07:00 [INF] (///) Request starting "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" 139
2025-06-06T21:33:43.9387027+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T21:33:43.9387323+07:00 [DBG] (///) Endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T21:33:43.9387670+07:00 [DBG] (///) Request matched endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T21:33:43.9388120+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T21:33:43.9389807+07:00 [DBG] (///) The request has an origin header: '"http://localhost:3001"'.
2025-06-06T21:33:43.9389972+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T21:33:43.9391233+07:00 [INF] (///) Executing endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T21:33:43.9395696+07:00 [DBG] (///) Connection id ""0HND4VCK22CM7"", Request id ""0HND4VCK22CM7:00000001"": started reading request body.
2025-06-06T21:33:43.9396211+07:00 [DBG] (///) Connection id ""0HND4VCK22CM7"", Request id ""0HND4VCK22CM7:00000001"": done reading request body.
2025-06-06T21:33:43.9436489+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T21:33:43.9440783+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T21:33:43.9441127+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T21:33:43.9441274+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:33:43.9441552+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:33:43.9443796+07:00 [DBG] (///) Beginning transaction with isolation level '"ReadCommitted"'.
2025-06-06T21:33:43.9444988+07:00 [DBG] (///) Began transaction with isolation level '"ReadCommitted"'.
2025-06-06T21:33:43.9461495+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<TuitionPayment>()
    .Where(t => t.StudentCode == __studentCode_0 && __request_1
        .Any(r => r.AcademicYear == t.AcademicYear && r.Semester == t.Semester && r.PaymentDate == t.PaymentDate))
    .ExecuteDelete()"'
2025-06-06T21:33:43.9634242+07:00 [INF] (///) Executed endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T21:33:43.9635902+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression '__request_1
    .Any(e0 => e0.AcademicYear == StructuralTypeShaperExpression(
        StructuralType: TuitionService.Domain.Entity.TuitionPayment
        ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
        IsNullable: False).AcademicYear && e0.Semester == StructuralTypeShaperExpression(
        StructuralType: TuitionService.Domain.Entity.TuitionPayment
        ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
        IsNullable: False).Semester && e0.PaymentDate == StructuralTypeShaperExpression(
        StructuralType: TuitionService.Domain.Entity.TuitionPayment
        ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
        IsNullable: False).PaymentDate)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.<VisitMethodCall>g__TranslateAsSubquery|33_0(Expression expression, <>c__DisplayClass33_0&)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Query.Internal.NpgsqlSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Query.Internal.NpgsqlSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.Translate(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateExpression(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateLambdaExpression(ShapedQueryExpression shapedQueryExpression, LambdaExpression lambdaExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Query.Internal.NpgsqlQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteDeleteAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Program.<>c.<<<Main>$>b__0_18>d.MoveNext() in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api/Program.cs:line 391
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-06T21:33:43.9711607+07:00 [ERR] (///) HTTP "DELETE" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 500 in 32.2988 ms
2025-06-06T21:33:43.9712162+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T21:33:43.9728010+07:00 [DBG] (///) Connection id ""0HND4VCK22CM7"" received FIN.
2025-06-06T21:33:43.9729067+07:00 [DBG] (///) Connection id ""0HND4VCK22CM7"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T21:33:43.9730079+07:00 [DBG] (///) Connection id ""0HND4VCK22CM7"" disconnecting.
2025-06-06T21:33:43.9828143+07:00 [DBG] (///) Disposing transaction.
2025-06-06T21:33:43.9829017+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:33:43.9829444+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:33:43.9833412+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T21:33:43.9833677+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T21:33:43.9863444+07:00 [INF] (///) Request finished "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 500 null "application/problem+json" 47.9422ms
2025-06-06T21:33:43.9864005+07:00 [DBG] (///) Connection id ""0HND4VCK22CM7"" stopped.
2025-06-06T21:59:23.1029403+07:00 [INF] (///) Application is shutting down...
2025-06-06T21:59:23.1040835+07:00 [DBG] (///) Hosting stopping
2025-06-06T21:59:23.1114840+07:00 [DBG] (///) Hosting stopped
2025-06-06T21:59:27.5989621+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-06T21:59:27.6687801+07:00 [INF] (///) No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-06-06T21:59:27.6732455+07:00 [DBG] (///) Hosting starting
2025-06-06T21:59:27.8310656+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-06T21:59:27.8315645+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-06T21:59:27.8962679+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-06T21:59:27.8979580+07:00 [WRN] (///) Overriding address(es) '"https://localhost:31001"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-06T21:59:27.9034728+07:00 [INF] (///) Now listening on: "http://localhost:14100"
2025-06-06T21:59:27.9039539+07:00 [INF] (///) Now listening on: "https://localhost:14101"
2025-06-06T21:59:27.9040745+07:00 [DBG] (///) Loaded hosting startup assembly "TuitionService.Api"
2025-06-06T21:59:27.9042674+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-06T21:59:27.9043154+07:00 [INF] (///) Hosting environment: "Development"
2025-06-06T21:59:27.9043352+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api"
2025-06-06T21:59:27.9043730+07:00 [DBG] (///) Hosting started
2025-06-06T21:59:46.2619763+07:00 [INF] (///) Application is shutting down...
2025-06-06T21:59:46.2636099+07:00 [DBG] (///) Hosting stopping
2025-06-06T21:59:46.2738852+07:00 [DBG] (///) Hosting stopped
2025-06-06T21:59:47.4837308+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-06T21:59:47.5572078+07:00 [INF] (///) No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-06-06T21:59:47.5612595+07:00 [DBG] (///) Hosting starting
2025-06-06T21:59:47.7226152+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-06T21:59:47.7230651+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-06T21:59:47.7801136+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-06T21:59:47.7821230+07:00 [WRN] (///) Overriding address(es) '"https://localhost:31001"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-06T21:59:47.7879571+07:00 [INF] (///) Now listening on: "http://localhost:14100"
2025-06-06T21:59:47.7887104+07:00 [INF] (///) Now listening on: "https://localhost:14101"
2025-06-06T21:59:47.7888472+07:00 [DBG] (///) Loaded hosting startup assembly "TuitionService.Api"
2025-06-06T21:59:47.7890576+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-06T21:59:47.7891146+07:00 [INF] (///) Hosting environment: "Development"
2025-06-06T21:59:47.7891406+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api"
2025-06-06T21:59:47.7891806+07:00 [DBG] (///) Hosting started
2025-06-06T22:00:44.4180762+07:00 [DBG] (///) Connection id ""0HND51BKPRTTD"" accepted.
2025-06-06T22:00:44.4190326+07:00 [DBG] (///) Connection id ""0HND51BKPRTTD"" started.
2025-06-06T22:00:44.4521966+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - "application/json" null
2025-06-06T22:00:44.5951596+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T22:00:44.6012037+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}"' is valid for the request path '"/api/v1/students/N22DCCN888"'
2025-06-06T22:00:44.6065911+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T22:00:44.6156081+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T22:00:44.6167997+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T22:00:44.8374222+07:00 [DBG] (///) An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration changed for 'Core:EnableSensitiveDataLogging', configuration changed for 'Core:EnableDetailedErrors', configuration changed for 'Core:ConfigureWarnings', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseAdminDatabase', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:SetPostgresVersion', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseRedshift', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ReverseNullOrdering', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:RemoteCertificateValidationCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvideClientCertificatesCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvidePasswordCallback'".
2025-06-06T22:00:45.2743328+07:00 [DBG] (///) The index "{'StudentCode'}" was not created on entity type '"Tuition"' as the properties are already covered by the index "{'StudentCode', 'AcademicYear', 'Semester'}".
2025-06-06T22:00:45.2746099+07:00 [DBG] (///) The index "{'StudentCode', 'AcademicYear', 'Semester'}" was not created on entity type '"TuitionPayment"' as the properties are already covered by the index "{'StudentCode', 'AcademicYear', 'Semester', 'PaymentDate'}".
2025-06-06T22:00:45.3410949+07:00 [WRN] (///) Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-06-06T22:00:45.3667549+07:00 [DBG] (///) The property '"GlobalStudentCode"."StudentBasicInfoStudentCode"' was created in shadow state because there are no eligible CLR members with a matching name.
2025-06-06T22:00:45.4561880+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T22:00:45.5026420+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<StudentBasicInfo>()
    .Where(s => s.StudentCode == __studentCode_0)
    .Select(s => new StudentDetailResponse{ 
        StudentCode = s.StudentCode, 
        LastName = s.LastName, 
        FirstName = s.FirstName, 
        ClassCode = s.ClassCode, 
        FacultyCode = s.FacultyCode, 
        Tuitions = s.Tuitions
            .Select(t => new TuitionResponse{ 
                AcademicYear = t.AcademicYear, 
                Semester = t.Semester.ToString(), 
                TuitionAmount = (decimal)t.TuitionFee, 
                TuitionPaid = (decimal)t.TuitionPayments
                    .Sum(p => p.AmountPaid) 
            }
            )
            .ToList() 
    }
    )
    .FirstOrDefault()"'
2025-06-06T22:00:45.7665002+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<StudentDetailResponse>(
    asyncEnumerable: SingleQueryingEnumerable.Create<StudentDetailResponse>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> 0
                1 -> 1
                2 -> 2
                3 -> 3
                4 -> 4
                5 -> 5
                6 -> 6
                7 -> 7
                8 -> 8
                9 -> 9
                10 -> 10
            SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, COALESCE(CAST(t.semester AS text), ''), CAST(t.tuition_fee AS numeric), CAST((
                SELECT CAST(sum(t0.amount_paid) AS integer)
                FROM tuition_payment AS t0
                WHERE (((t.student_code != NULL) && (t.academic_year != NULL)) && (t.semester != NULL)) && (((t.student_code == t0.student_code) && (t.academic_year == t0.academic_year)) && (t.semester == t0.semester))) AS numeric), t.student_code, t.semester
            FROM 
            (
                SELECT TOP(1) s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
                FROM student_basic_info AS s
                WHERE s.student_code == @__studentCode_0
            ) AS s0
            LEFT JOIN tuition AS t ON s0.student_code == t.student_code
            ORDER BY s0.student_code ASC, t.student_code ASC, t.academic_year ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> 0
                1 -> 1
                2 -> 2
                3 -> 3
                4 -> 4
                5 -> 5
                6 -> 6
                7 -> 7
                8 -> 8
                9 -> 9
                10 -> 10
            SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, COALESCE(CAST(t.semester AS text), ''), CAST(t.tuition_fee AS numeric), CAST((
                SELECT CAST(sum(t0.amount_paid) AS integer)
                FROM tuition_payment AS t0
                WHERE (((t.student_code != NULL) && (t.academic_year != NULL)) && (t.semester != NULL)) && (((t.student_code == t0.student_code) && (t.academic_year == t0.academic_year)) && (t.semester == t0.semester))) AS numeric), t.student_code, t.semester
            FROM 
            (
                SELECT TOP(1) s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
                FROM student_basic_info AS s
                WHERE s.student_code == @__studentCode_0
            ) AS s0
            LEFT JOIN tuition AS t ON s0.student_code == t.student_code
            ORDER BY s0.student_code ASC, t.student_code ASC, t.academic_year ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                string value1;
                string value2;
                string value3;
                string value4;
                string value5;
                List<TuitionResponse> namelessParameter{0};
                value1 = try { dataReader.GetString(0) } catch (Exception) { ... } ;
                value2 = try { dataReader.GetString(1) } catch (Exception) { ... } ;
                value3 = try { dataReader.GetString(2) } catch (Exception) { ... } ;
                value4 = try { dataReader.GetString(3) } catch (Exception) { ... } ;
                value5 = try { dataReader.GetString(4) } catch (Exception) { ... } ;
                namelessParameter{0} = ShaperProcessingExpressionVisitor.InitializeCollection<TuitionResponse, List<TuitionResponse>>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ try { dataReader.GetString(0) } catch (Exception) { ... }  }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ try { dataReader.GetString(0) } catch (Exception) { ... }  }], 
                    clrCollectionAccessor: default(IClrCollectionAccessor));
                return resultContext.Values = new object[]
                { 
                    value1, 
                    value2, 
                    value3, 
                    value4, 
                    value5, 
                    namelessParameter{0} 
                };
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateCollection<List<TuitionResponse>, TuitionResponse, TuitionResponse>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ try { dataReader.GetString(0) } catch (Exception) { ... }  }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ try { dataReader.GetString(0) } catch (Exception) { ... }  }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    try { dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9) } catch (Exception) { ... } , 
                    try { dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5) } catch (Exception) { ... } , 
                    (object)try { dataReader.IsDBNull(10) ? default(int?) : (int?)dataReader.GetInt32(10) } catch (Exception) { ... }  
                }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (string)left == (string)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (string)left == (string)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
                { 
                    (left, right) => left == null ? right == null : right != null && (string)left == (string)right, 
                    (left, right) => left == null ? right == null : right != null && (string)left == (string)right, 
                    (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
                }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    string value1;
                    string value2;
                    decimal? value3;
                    decimal? value4;
                    value1 = try { dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5) } catch (Exception) { ... } ;
                    value2 = try { dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6) } catch (Exception) { ... } ;
                    value3 = try { dataReader.IsDBNull(7) ? default(decimal?) : (decimal?)dataReader.GetDecimal(7) } catch (Exception) { ... } ;
                    value4 = try { dataReader.IsDBNull(8) ? default(decimal?) : (decimal?)dataReader.GetDecimal(8) } catch (Exception) { ... } ;
                    return new TuitionResponse{ 
                        AcademicYear = value1, 
                        Semester = value2, 
                        TuitionAmount = (decimal)value3, 
                        TuitionPaid = (decimal)value4 
                    }
                    ;
                });
            return IsTrue(resultCoordinator.ResultReady)
             ? new StudentDetailResponse{ 
                StudentCode = (string)(resultContext.Values[0]), 
                LastName = (string)(resultContext.Values[1]), 
                FirstName = (string)(resultContext.Values[2]), 
                ClassCode = (string)(resultContext.Values[3]), 
                FacultyCode = (string)(resultContext.Values[4]), 
                Tuitions = (List<TuitionResponse>)(resultContext.Values[5]) 
            }
             : default(StudentDetailResponse);
        }, 
        contextType: TuitionService.Domain.TuitionDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: True, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)"'
2025-06-06T22:00:45.8068332+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T22:00:45.8371981+07:00 [DBG] (///) Created DbConnection. (28ms).
2025-06-06T22:00:45.8401084+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T22:00:45.9275718+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T22:00:45.9352185+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T22:00:45.9408611+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (2ms).
2025-06-06T22:00:45.9472227+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (12ms).
2025-06-06T22:00:45.9545785+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T22:00:46.0266051+07:00 [INF] (///) Executed DbCommand ("68"ms) [Parameters=["@__studentCode_0='N22DCCN888'"], CommandType='Text', CommandTimeout='30']"
""SELECT s0.student_code, s0.last_name, s0.first_name, s0.class_code, s0.faculty_code, t.academic_year, t.semester::text, t.tuition_fee::numeric, (
    SELECT COALESCE(sum(t0.amount_paid), 0)::int
    FROM tuition_payment AS t0
    WHERE t.student_code = t0.student_code AND t.academic_year = t0.academic_year AND t.semester = t0.semester)::numeric, t.student_code, t.semester
FROM (
    SELECT s.student_code, s.last_name, s.first_name, s.class_code, s.faculty_code
    FROM student_basic_info AS s
    WHERE s.student_code = @__studentCode_0
    LIMIT 1
) AS s0
LEFT JOIN tuition AS t ON s0.student_code = t.student_code
ORDER BY s0.student_code, t.student_code, t.academic_year"
2025-06-06T22:00:46.0592596+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T22:00:46.0682007+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 34ms reading results.
2025-06-06T22:00:46.0735913+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T22:00:46.0789924+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (5ms).
2025-06-06T22:00:46.0810432+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T22:00:46.0867670+07:00 [INF] (///) Writing value of type '"StudentDetailResponse"' as Json.
2025-06-06T22:00:46.1058515+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}"'
2025-06-06T22:00:46.1153638+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888" responded 200 in 1497.0790 ms
2025-06-06T22:00:46.1224998+07:00 [DBG] (///) Connection id ""0HND51BKPRTTD"" received FIN.
2025-06-06T22:00:46.1229158+07:00 [DBG] (///) Connection id ""0HND51BKPRTTD"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T22:00:46.1262431+07:00 [DBG] (///) Connection id ""0HND51BKPRTTD"" disconnecting.
2025-06-06T22:00:46.1289536+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T22:00:46.1343638+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T22:00:46.1367777+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (2ms).
2025-06-06T22:00:46.1387198+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888""" - 200 null "application/json; charset=utf-8" 1689.5141ms
2025-06-06T22:00:46.1428829+07:00 [DBG] (///) Connection id ""0HND51BKPRTTD"" stopped.
2025-06-06T22:00:48.9223853+07:00 [DBG] (///) Connection id ""0HND51BKPRTTE"" accepted.
2025-06-06T22:00:48.9226089+07:00 [DBG] (///) Connection id ""0HND51BKPRTTE"" started.
2025-06-06T22:00:48.9231953+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" null
2025-06-06T22:00:48.9243733+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T22:00:48.9245353+07:00 [DBG] (///) Endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T22:00:48.9246984+07:00 [DBG] (///) Request matched endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T22:00:48.9249889+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T22:00:48.9251259+07:00 [INF] (///) Executing endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T22:00:48.9557068+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T22:00:48.9712924+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<TuitionPayment>()
    .Where(p => p.StudentCode == __studentCode_0 && p.AcademicYear == __academicYear_1 && p.Semester == __semester_2)
    .Select(p => new PaymentResponse{ 
        PaymentDate = p.PaymentDate.ToString(), 
        AmountPaid = (decimal)p.AmountPaid 
    }
    )"'
2025-06-06T22:00:48.9803338+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => SingleQueryingEnumerable.Create<PaymentResponse>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
        SELECT t.payment_date, CAST(t.amount_paid AS numeric)
        FROM tuition_payment AS t
        WHERE ((t.student_code == @__studentCode_0) && (t.academic_year == @__academicYear_1)) && (t.semester == @__semester_2)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> 0
            1 -> 1
        SELECT t.payment_date, CAST(t.amount_paid AS numeric)
        FROM tuition_payment AS t
        WHERE ((t.student_code == @__studentCode_0) && (t.academic_year == @__academicYear_1)) && (t.semester == @__semester_2), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        DateOnly? value1;
        decimal? value2;
        value1 = try { (DateOnly?)dataReader.GetFieldValue<DateOnly>(0) } catch (Exception) { ... } ;
        value2 = try { dataReader.IsDBNull(1) ? default(decimal?) : (decimal?)dataReader.GetDecimal(1) } catch (Exception) { ... } ;
        return new PaymentResponse{ 
            PaymentDate = value1 == default(DateOnly?) ? null : ((DateOnly)value1).ToString(), 
            AmountPaid = (decimal)value2 
        }
        ;
    }, 
    contextType: TuitionService.Domain.TuitionDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: True, 
    threadSafetyChecksEnabled: True)"'
2025-06-06T22:00:48.9820498+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T22:00:48.9821895+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T22:00:48.9823080+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T22:00:48.9827932+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T22:00:48.9830229+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-06T22:00:48.9830860+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T22:00:48.9831561+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-06T22:00:48.9832939+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T22:00:48.9877984+07:00 [INF] (///) Executed DbCommand ("4"ms) [Parameters=["@__studentCode_0='N22DCCN888', @__academicYear_1='2024-2025', @__semester_2='2'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.payment_date, t.amount_paid::numeric
FROM tuition_payment AS t
WHERE t.student_code = @__studentCode_0 AND t.academic_year = @__academicYear_1 AND t.semester = @__semester_2"
2025-06-06T22:00:48.9910383+07:00 [DBG] (///) Closing data reader to '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T22:00:48.9911774+07:00 [DBG] (///) A data reader for '"acc_db"' on server '"tcp://localhost:25020"' is being disposed after spending 3ms reading results.
2025-06-06T22:00:48.9913616+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T22:00:48.9914314+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T22:00:48.9916502+07:00 [INF] (///) Setting HTTP status code 200.
2025-06-06T22:00:48.9926135+07:00 [INF] (///) Writing value of type '"List`1"' as Json.
2025-06-06T22:00:48.9937172+07:00 [INF] (///) Executed endpoint '"HTTP: GET /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T22:00:48.9939622+07:00 [INF] (///) HTTP "GET" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 200 in 68.8150 ms
2025-06-06T22:00:48.9941913+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T22:00:48.9942748+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T22:00:48.9944615+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T22:00:48.9946042+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 200 null "application/json; charset=utf-8" 71.3809ms
2025-06-06T22:00:48.9947175+07:00 [DBG] (///) Connection id ""0HND51BKPRTTE"" disconnecting.
2025-06-06T22:00:48.9947790+07:00 [DBG] (///) Connection id ""0HND51BKPRTTE"" stopped.
2025-06-06T22:00:48.9948798+07:00 [DBG] (///) Connection id ""0HND51BKPRTTE"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T22:00:53.4492250+07:00 [DBG] (///) Connection id ""0HND51BKPRTTF"" accepted.
2025-06-06T22:00:53.4493730+07:00 [DBG] (///) Connection id ""0HND51BKPRTTF"" started.
2025-06-06T22:00:53.4506697+07:00 [INF] (///) Request starting "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - "application/json" 139
2025-06-06T22:00:53.4508849+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T22:00:53.4509315+07:00 [DBG] (///) Endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' with route pattern '"/api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"' is valid for the request path '"/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments"'
2025-06-06T22:00:53.4509859+07:00 [DBG] (///) Request matched endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T22:00:53.4510970+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-06T22:00:53.4515833+07:00 [DBG] (///) The request has an origin header: '"http://localhost:31100"'.
2025-06-06T22:00:53.4517441+07:00 [INF] (///) CORS policy execution successful.
2025-06-06T22:00:53.4520420+07:00 [INF] (///) Executing endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T22:00:53.4553421+07:00 [DBG] (///) Connection id ""0HND51BKPRTTF"", Request id ""0HND51BKPRTTF:00000001"": started reading request body.
2025-06-06T22:00:53.4554577+07:00 [DBG] (///) Connection id ""0HND51BKPRTTF"", Request id ""0HND51BKPRTTF:00000001"": done reading request body.
2025-06-06T22:00:53.5024938+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"TuitionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-06T22:00:53.5104182+07:00 [DBG] (///) Creating DbConnection.
2025-06-06T22:00:53.5105044+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-06T22:00:53.5105291+07:00 [DBG] (///) Opening connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T22:00:53.5105875+07:00 [DBG] (///) Opened connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T22:00:53.5121883+07:00 [DBG] (///) Beginning transaction with isolation level '"ReadCommitted"'.
2025-06-06T22:00:53.5159195+07:00 [DBG] (///) Began transaction with isolation level '"ReadCommitted"'.
2025-06-06T22:00:53.5199223+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<TuitionPayment>()
    .Where(t => t.StudentCode == __studentCode_0 && __request_1.Contains(new DeleteTuitionPaymentRequest{ 
        AcademicYear = t.AcademicYear, 
        Semester = t.Semester, 
        PaymentDate = t.PaymentDate 
    }
    ))
    .ExecuteDelete()"'
2025-06-06T22:00:53.5415716+07:00 [INF] (///) Executed endpoint '"HTTP: DELETE /api/v{version:apiVersion}/students/{studentCode}/tuitions/{academicYear}/{semester}/payments"'
2025-06-06T22:00:53.5423741+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression '__request_1
    .Contains(new DeleteTuitionPaymentRequest{ 
        AcademicYear = StructuralTypeShaperExpression(
            StructuralType: TuitionService.Domain.Entity.TuitionPayment
            ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
            IsNullable: False).AcademicYear, 
        Semester = StructuralTypeShaperExpression(
            StructuralType: TuitionService.Domain.Entity.TuitionPayment
            ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
            IsNullable: False).Semester, 
        PaymentDate = StructuralTypeShaperExpression(
            StructuralType: TuitionService.Domain.Entity.TuitionPayment
            ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
            IsNullable: False).PaymentDate 
    }
    )' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.<VisitMethodCall>g__TranslateAsSubquery|33_0(Expression expression, <>c__DisplayClass33_0&)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Query.Internal.NpgsqlSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Query.Internal.NpgsqlSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.Translate(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateExpression(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateLambdaExpression(ShapedQueryExpression shapedQueryExpression, LambdaExpression lambdaExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Query.Internal.NpgsqlQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteDeleteAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Program.<>c.<<<Main>$>b__0_18>d.MoveNext() in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/TuitionService/TuitionService.Api/Program.cs:line 391
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-06T22:00:53.5844436+07:00 [ERR] (///) HTTP "DELETE" "/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments" responded 500 in 133.2400 ms
2025-06-06T22:00:53.5845958+07:00 [DBG] (///) '"TuitionDbContext"' disposed.
2025-06-06T22:00:53.5851996+07:00 [DBG] (///) Connection id ""0HND51BKPRTTF"" received FIN.
2025-06-06T22:00:53.5853067+07:00 [DBG] (///) Connection id ""0HND51BKPRTTF"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-06T22:00:53.5854147+07:00 [DBG] (///) Connection id ""0HND51BKPRTTF"" disconnecting.
2025-06-06T22:00:53.5921579+07:00 [DBG] (///) Disposing transaction.
2025-06-06T22:00:53.5938097+07:00 [DBG] (///) Closing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T22:00:53.5941038+07:00 [DBG] (///) Closed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T22:00:53.5946090+07:00 [DBG] (///) Disposing connection to database '"acc_db"' on server '"tcp://localhost:25020"'.
2025-06-06T22:00:53.5946557+07:00 [DBG] (///) Disposed connection to database '"acc_db"' on server '"tcp://localhost:25020"' (0ms).
2025-06-06T22:00:53.5969712+07:00 [INF] (///) Request finished "HTTP/1.1" "DELETE" "http"://"localhost:14100""""/api/v1/students/N22DCCN888/tuitions/2024-2025/2/payments""" - 500 null "application/problem+json" 146.2637ms
2025-06-06T22:00:53.5970932+07:00 [DBG] (///) Connection id ""0HND51BKPRTTF"" stopped.
