2025-06-08T13:23:24.1905723+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T13:23:24.2800965+07:00 [DBG] (///) Hosting starting
2025-06-08T13:23:24.3250905+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T13:23:24.3267079+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T13:23:24.3861989+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T13:23:24.3873740+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T13:23:24.3927060+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T13:23:24.3931312+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T13:23:24.3931704+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T13:23:24.3932468+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T13:23:24.3934035+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T13:23:24.3934459+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T13:23:24.3934628+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T13:23:24.3934975+07:00 [DBG] (///) Hosting started
2025-06-08T13:23:30.6605290+07:00 [INF] (///) Application is shutting down...
2025-06-08T13:23:30.6611325+07:00 [DBG] (///) Hosting stopping
2025-06-08T13:23:30.6682843+07:00 [DBG] (///) Hosting stopped
2025-06-08T13:23:31.8563270+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T13:23:31.9426124+07:00 [DBG] (///) Hosting starting
2025-06-08T13:23:31.9941467+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T13:23:31.9958618+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T13:23:32.0465975+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T13:23:32.0477186+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T13:23:32.0526847+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T13:23:32.0530525+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T13:23:32.0530861+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T13:23:32.0531465+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T13:23:32.0532858+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T13:23:32.0533236+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T13:23:32.0533415+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T13:23:32.0533772+07:00 [DBG] (///) Hosting started
2025-06-08T17:06:27.0868537+07:00 [DBG] (///) Connection id ""0HND6EGGTJB72"" accepted.
2025-06-08T17:06:27.0946847+07:00 [DBG] (///) Connection id ""0HND6EGGTJB72"" started.
2025-06-08T17:06:27.1489005+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/cntt/classes""?" - null null
2025-06-08T17:06:27.3326383+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/cntt/classes"'
2025-06-08T17:06:27.3410067+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' was rejected by constraint '"facultyCode"':'"FacultyService.Api.FacultyConstraint"' with value '"cntt"' for the request path '"/api/v1/cntt/classes"'
2025-06-08T17:06:27.3463847+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is not valid for the request path '"/api/v1/cntt/classes"'
2025-06-08T17:06:27.3531939+07:00 [DBG] (///) Request did not match any endpoints
2025-06-08T17:06:27.3646576+07:00 [DBG] (///) The request path "" does not match the path filter
2025-06-08T17:06:27.3665747+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Cannot determine the https port from IServerAddressesFeature, multiple values were found. Set the desired port explicitly on HttpsRedirectionOptions.HttpsPort.
   at Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware.TryGetHttpsPort()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
   at System.Lazy`1.ExecutionAndPublication(LazyHelper executionAndPublication, Boolean useDefaultConstructor)
   at System.Lazy`1.CreateValue()
   at Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-08T17:06:27.4875742+07:00 [ERR] (///) HTTP "GET" "/api/v1/cntt/classes" responded 500 in 121.1142 ms
2025-06-08T17:06:27.5011597+07:00 [DBG] (///) Connection id ""0HND6EGGTJB72"" completed keep alive response.
2025-06-08T17:06:27.5080568+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/cntt/classes""?" - 500 null "application/problem+json" 363.2467ms
2025-06-08T17:06:28.4933114+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/cntt/classes""?" - null null
2025-06-08T17:06:28.4962478+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/cntt/classes"'
2025-06-08T17:06:28.4966970+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' was rejected by constraint '"facultyCode"':'"FacultyService.Api.FacultyConstraint"' with value '"cntt"' for the request path '"/api/v1/cntt/classes"'
2025-06-08T17:06:28.4970480+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is not valid for the request path '"/api/v1/cntt/classes"'
2025-06-08T17:06:28.4973428+07:00 [DBG] (///) Request did not match any endpoints
2025-06-08T17:06:28.4978241+07:00 [DBG] (///) The request path "" does not match the path filter
2025-06-08T17:06:28.4984324+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Cannot determine the https port from IServerAddressesFeature, multiple values were found. Set the desired port explicitly on HttpsRedirectionOptions.HttpsPort.
   at Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware.TryGetHttpsPort()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
--- End of stack trace from previous location ---
   at System.Lazy`1.CreateValue()
   at Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-08T17:06:28.5084115+07:00 [ERR] (///) HTTP "GET" "/api/v1/cntt/classes" responded 500 in 10.4573 ms
2025-06-08T17:06:28.5087713+07:00 [DBG] (///) Connection id ""0HND6EGGTJB72"" completed keep alive response.
2025-06-08T17:06:28.5093557+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/cntt/classes""?" - 500 null "application/problem+json" 15.9068ms
2025-06-08T17:07:01.9402746+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/cntt/classes""?" - null null
2025-06-08T17:07:01.9412212+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/cntt/classes"'
2025-06-08T17:07:01.9415527+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' was rejected by constraint '"facultyCode"':'"FacultyService.Api.FacultyConstraint"' with value '"cntt"' for the request path '"/api/v1/cntt/classes"'
2025-06-08T17:07:01.9418849+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is not valid for the request path '"/api/v1/cntt/classes"'
2025-06-08T17:07:01.9421133+07:00 [DBG] (///) Request did not match any endpoints
2025-06-08T17:07:01.9424112+07:00 [DBG] (///) The request path "" does not match the path filter
2025-06-08T17:07:01.9430679+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Cannot determine the https port from IServerAddressesFeature, multiple values were found. Set the desired port explicitly on HttpsRedirectionOptions.HttpsPort.
   at Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware.TryGetHttpsPort()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
--- End of stack trace from previous location ---
   at System.Lazy`1.CreateValue()
   at Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-08T17:07:01.9468710+07:00 [ERR] (///) HTTP "GET" "/api/v1/cntt/classes" responded 500 in 4.3757 ms
2025-06-08T17:07:01.9475991+07:00 [DBG] (///) Connection id ""0HND6EGGTJB72"" completed keep alive response.
2025-06-08T17:07:01.9481116+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/cntt/classes""?" - 500 null "application/problem+json" 7.803ms
2025-06-08T17:07:02.9766801+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/cntt/classes""?" - null null
2025-06-08T17:07:02.9775306+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/cntt/classes"'
2025-06-08T17:07:02.9778521+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' was rejected by constraint '"facultyCode"':'"FacultyService.Api.FacultyConstraint"' with value '"cntt"' for the request path '"/api/v1/cntt/classes"'
2025-06-08T17:07:02.9781523+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is not valid for the request path '"/api/v1/cntt/classes"'
2025-06-08T17:07:02.9783660+07:00 [DBG] (///) Request did not match any endpoints
2025-06-08T17:07:02.9787559+07:00 [DBG] (///) The request path "" does not match the path filter
2025-06-08T17:07:02.9793118+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Cannot determine the https port from IServerAddressesFeature, multiple values were found. Set the desired port explicitly on HttpsRedirectionOptions.HttpsPort.
   at Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware.TryGetHttpsPort()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
--- End of stack trace from previous location ---
   at System.Lazy`1.CreateValue()
   at Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-08T17:07:02.9819609+07:00 [ERR] (///) HTTP "GET" "/api/v1/cntt/classes" responded 500 in 3.1562 ms
2025-06-08T17:07:02.9826792+07:00 [DBG] (///) Connection id ""0HND6EGGTJB72"" completed keep alive response.
2025-06-08T17:07:02.9830644+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/cntt/classes""?" - 500 null "application/problem+json" 6.2669ms
2025-06-08T17:07:46.0991911+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/cntt/classes""?" - null null
2025-06-08T17:07:46.1000138+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/cntt/classes"'
2025-06-08T17:07:46.1002865+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' was rejected by constraint '"facultyCode"':'"FacultyService.Api.FacultyConstraint"' with value '"cntt"' for the request path '"/api/v1/cntt/classes"'
2025-06-08T17:07:46.1005993+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is not valid for the request path '"/api/v1/cntt/classes"'
2025-06-08T17:07:46.1007796+07:00 [DBG] (///) Request did not match any endpoints
2025-06-08T17:07:46.1010899+07:00 [DBG] (///) The request path "" does not match the path filter
2025-06-08T17:07:46.1012949+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Cannot determine the https port from IServerAddressesFeature, multiple values were found. Set the desired port explicitly on HttpsRedirectionOptions.HttpsPort.
   at Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware.TryGetHttpsPort()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
--- End of stack trace from previous location ---
   at System.Lazy`1.CreateValue()
   at Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-08T17:07:46.1046496+07:00 [ERR] (///) HTTP "GET" "/api/v1/cntt/classes" responded 500 in 3.4369 ms
2025-06-08T17:07:46.1052988+07:00 [DBG] (///) Connection id ""0HND6EGGTJB72"" completed keep alive response.
2025-06-08T17:07:46.1055105+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/cntt/classes""?" - 500 null "application/problem+json" 6.3021ms
2025-06-08T17:07:47.1976953+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/cntt/classes""?" - null null
2025-06-08T17:07:47.1982486+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/cntt/classes"'
2025-06-08T17:07:47.1984972+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' was rejected by constraint '"facultyCode"':'"FacultyService.Api.FacultyConstraint"' with value '"cntt"' for the request path '"/api/v1/cntt/classes"'
2025-06-08T17:07:47.1986822+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is not valid for the request path '"/api/v1/cntt/classes"'
2025-06-08T17:07:47.1988352+07:00 [DBG] (///) Request did not match any endpoints
2025-06-08T17:07:47.1991258+07:00 [DBG] (///) The request path "" does not match the path filter
2025-06-08T17:07:47.1993039+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Cannot determine the https port from IServerAddressesFeature, multiple values were found. Set the desired port explicitly on HttpsRedirectionOptions.HttpsPort.
   at Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware.TryGetHttpsPort()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
--- End of stack trace from previous location ---
   at System.Lazy`1.CreateValue()
   at Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-08T17:07:47.2014048+07:00 [ERR] (///) HTTP "GET" "/api/v1/cntt/classes" responded 500 in 2.2701 ms
2025-06-08T17:07:47.2015809+07:00 [DBG] (///) Connection id ""0HND6EGGTJB72"" completed keep alive response.
2025-06-08T17:07:47.2019419+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/cntt/classes""?" - 500 null "application/problem+json" 4.2591ms
2025-06-08T17:09:11.6466711+07:00 [INF] (///) Application is shutting down...
2025-06-08T17:09:11.6496476+07:00 [DBG] (///) Hosting stopping
2025-06-08T17:09:11.6576912+07:00 [DBG] (///) Connection id ""0HND6EGGTJB72"" disconnecting.
2025-06-08T17:09:11.6594187+07:00 [DBG] (///) Connection id ""0HND6EGGTJB72"" stopped.
2025-06-08T17:09:11.6639983+07:00 [DBG] (///) Connection id ""0HND6EGGTJB72"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-08T17:09:11.6694435+07:00 [DBG] (///) Hosting stopped
2025-06-08T17:09:21.3594280+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T17:09:21.5577404+07:00 [DBG] (///) Hosting starting
2025-06-08T17:09:21.6687854+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T17:09:21.6728554+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T17:09:21.7834948+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T17:09:21.7860710+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T17:09:21.7994669+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T17:09:21.8008740+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T17:09:21.8010129+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T17:09:21.8012165+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T17:09:21.8016999+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T17:09:21.8018354+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T17:09:21.8019107+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T17:09:21.8020568+07:00 [DBG] (///) Hosting started
2025-06-08T17:11:35.5843304+07:00 [DBG] (///) Connection id ""0HND6EJCRN0AJ"" accepted.
2025-06-08T17:11:35.5856298+07:00 [DBG] (///) Connection id ""0HND6EJCRN0AJ"" started.
2025-06-08T17:11:35.6280217+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/cntt/classes""?" - null null
2025-06-08T17:11:35.7488910+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/cntt/classes"'
2025-06-08T17:11:35.7573630+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' was rejected by constraint '"facultyCode"':'"FacultyService.Api.FacultyConstraint"' with value '"cntt"' for the request path '"/api/v1/cntt/classes"'
2025-06-08T17:11:35.7638733+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is not valid for the request path '"/api/v1/cntt/classes"'
2025-06-08T17:11:35.7725865+07:00 [DBG] (///) Request did not match any endpoints
2025-06-08T17:11:35.7859133+07:00 [DBG] (///) The request path "" does not match the path filter
2025-06-08T17:11:35.8179340+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T17:11:35.8286552+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""IT-FACULTY""
2025-06-08T17:11:35.8456364+07:00 [INF] (///) HTTP "GET" "/api/v1/cntt/classes" responded 404 in 54.1428 ms
2025-06-08T17:11:35.8680225+07:00 [DBG] (///) Connection id ""0HND6EJCRN0AJ"" completed keep alive response.
2025-06-08T17:11:35.8781875+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/cntt/classes""?" - 404 0 null 252.9968ms
2025-06-08T17:11:35.8809860+07:00 [INF] (///) Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "http"://"localhost:30000""""/api/v1/cntt/classes", Response status code: 404
2025-06-08T17:11:36.8838742+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/cntt/classes""?" - null null
2025-06-08T17:11:36.8869012+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/cntt/classes"'
2025-06-08T17:11:36.8876686+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' was rejected by constraint '"facultyCode"':'"FacultyService.Api.FacultyConstraint"' with value '"cntt"' for the request path '"/api/v1/cntt/classes"'
2025-06-08T17:11:36.8879977+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is not valid for the request path '"/api/v1/cntt/classes"'
2025-06-08T17:11:36.8882288+07:00 [DBG] (///) Request did not match any endpoints
2025-06-08T17:11:36.8888446+07:00 [DBG] (///) The request path "" does not match the path filter
2025-06-08T17:11:36.8897270+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T17:11:36.8900434+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""IT-FACULTY""
2025-06-08T17:11:36.8907152+07:00 [INF] (///) HTTP "GET" "/api/v1/cntt/classes" responded 404 in 1.5900 ms
2025-06-08T17:11:36.8914324+07:00 [DBG] (///) Connection id ""0HND6EJCRN0AJ"" completed keep alive response.
2025-06-08T17:11:36.8919821+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/cntt/classes""?" - 404 0 null 8.0873ms
2025-06-08T17:11:36.8923026+07:00 [INF] (///) Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "http"://"localhost:30000""""/api/v1/cntt/classes", Response status code: 404
2025-06-08T17:13:21.0268936+07:00 [DBG] (///) Config reload token fired. Checking for changes...
2025-06-08T17:13:21.0290267+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T17:13:21.0291692+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T17:13:22.4971252+07:00 [INF] (///) Application is shutting down...
2025-06-08T17:13:22.4982010+07:00 [DBG] (///) Hosting stopping
2025-06-08T17:13:22.5064865+07:00 [DBG] (///) Connection id ""0HND6EJCRN0AJ"" disconnecting.
2025-06-08T17:13:22.5081178+07:00 [DBG] (///) Connection id ""0HND6EJCRN0AJ"" stopped.
2025-06-08T17:13:22.5123334+07:00 [DBG] (///) Connection id ""0HND6EJCRN0AJ"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-08T17:13:22.5172030+07:00 [DBG] (///) Hosting stopped
2025-06-08T17:13:26.5061445+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T17:13:26.6927848+07:00 [DBG] (///) Hosting starting
2025-06-08T17:13:26.7925184+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T17:13:26.7959212+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T17:13:26.8969249+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T17:13:26.8990222+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T17:13:26.9127718+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T17:13:26.9135724+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T17:13:26.9136517+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T17:13:26.9138394+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T17:13:26.9142366+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T17:13:26.9143300+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T17:13:26.9144170+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T17:13:26.9145586+07:00 [DBG] (///) Hosting started
2025-06-08T17:13:31.0851936+07:00 [DBG] (///) Connection id ""0HND6EKF971LL"" accepted.
2025-06-08T17:13:31.0863381+07:00 [DBG] (///) Connection id ""0HND6EKF971LL"" started.
2025-06-08T17:13:31.1274465+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/cntt/classes""?" - null null
2025-06-08T17:13:31.2695682+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/cntt/classes"'
2025-06-08T17:13:31.2810154+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/cntt/classes"'
2025-06-08T17:13:31.2905834+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:13:31.3048434+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T17:13:31.3408887+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""CNTT""
2025-06-08T17:13:31.3533127+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""CNTT""
2025-06-08T17:13:31.3588695+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:13:31.4126759+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T17:13:31.4213520+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T17:13:31.4218705+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T17:13:31.4234967+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T17:13:31.4237462+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T17:13:31.4239605+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T17:13:31.4280110+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T17:13:31.4391032+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 8.3772ms
2025-06-08T17:13:31.4574839+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:13:31.4596448+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'MediatR.IMediator' while attempting to activate 'FacultyService.Api.Classes.Controller.ClassesController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method453(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Finbuckle.MultiTenant.AspNetCore.Internal.MultiTenantMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-08T17:13:31.5838645+07:00 [ERR] (///) HTTP "GET" "/api/v1/cntt/classes" responded 500 in 274.6486 ms
2025-06-08T17:13:31.5855774+07:00 [DBG] (///) Connection id ""0HND6EKF971LL"" completed keep alive response.
2025-06-08T17:13:31.5920694+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/cntt/classes""?" - 500 null "application/problem+json" 466.7913ms
2025-06-08T17:13:32.5902303+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/cntt/classes""?" - null null
2025-06-08T17:13:32.5942129+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/cntt/classes"'
2025-06-08T17:13:32.5946891+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/cntt/classes"'
2025-06-08T17:13:32.5949830+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:13:32.5955695+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T17:13:32.5961537+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""CNTT""
2025-06-08T17:13:32.5963922+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""CNTT""
2025-06-08T17:13:32.5967354+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:13:32.5973933+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T17:13:32.5978840+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T17:13:32.5980769+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T17:13:32.5982634+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T17:13:32.5983839+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T17:13:32.5984992+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T17:13:32.5986723+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T17:13:32.6000698+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 1.3803ms
2025-06-08T17:13:32.6003802+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:13:32.6005607+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'MediatR.IMediator' while attempting to activate 'FacultyService.Api.Classes.Controller.ClassesController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method453(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Finbuckle.MultiTenant.AspNetCore.Internal.MultiTenantMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-08T17:13:32.6065918+07:00 [ERR] (///) HTTP "GET" "/api/v1/cntt/classes" responded 500 in 10.7095 ms
2025-06-08T17:13:32.6069811+07:00 [DBG] (///) Connection id ""0HND6EKF971LL"" completed keep alive response.
2025-06-08T17:13:32.6073362+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/cntt/classes""?" - 500 null "application/problem+json" 17.107ms
2025-06-08T17:15:42.8203292+07:00 [DBG] (///) Connection id ""0HND6EKF971LL"" disconnecting.
2025-06-08T17:15:42.8238309+07:00 [DBG] (///) Connection id ""0HND6EKF971LL"" stopped.
2025-06-08T17:15:42.8251665+07:00 [DBG] (///) Connection id ""0HND6EKF971LL"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-08T17:17:37.7776431+07:00 [INF] (///) Application is shutting down...
2025-06-08T17:17:37.7787985+07:00 [DBG] (///) Hosting stopping
2025-06-08T17:17:37.7848829+07:00 [DBG] (///) Hosting stopped
2025-06-08T17:17:43.4657622+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T17:17:43.6535563+07:00 [DBG] (///) Hosting starting
2025-06-08T17:17:43.7578410+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T17:17:43.7609788+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T17:17:43.8670075+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T17:17:43.8690237+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T17:17:43.8784233+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T17:17:43.8791888+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T17:17:43.8792705+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T17:17:43.8794447+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T17:17:43.8798474+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T17:17:43.8799413+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T17:17:43.8799902+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T17:17:43.8801009+07:00 [DBG] (///) Hosting started
2025-06-08T17:17:50.3224879+07:00 [DBG] (///) Connection id ""0HND6EMSHFU3J"" accepted.
2025-06-08T17:17:50.3237839+07:00 [DBG] (///) Connection id ""0HND6EMSHFU3J"" started.
2025-06-08T17:17:50.3610415+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/cntt/classes""?" - null null
2025-06-08T17:17:50.5174692+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/cntt/classes"'
2025-06-08T17:17:50.5266225+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/cntt/classes"'
2025-06-08T17:17:50.5349384+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:17:50.5493607+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T17:17:50.5844261+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""CNTT""
2025-06-08T17:17:50.5968379+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""CNTT""
2025-06-08T17:17:50.6015906+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:17:50.6402270+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T17:17:50.6465131+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T17:17:50.6469835+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T17:17:50.6485344+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T17:17:50.6488216+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T17:17:50.6490624+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T17:17:50.6524338+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T17:17:50.6533395+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T17:17:50.6593694+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T17:17:50.6637105+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T17:17:50.6650005+07:00 [DBG] (///) Rejected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type 'null'.
2025-06-08T17:17:50.6651898+07:00 [DBG] (///) No input formatter was found to support the content type 'null' for use with the [FromBody] attribute.
2025-06-08T17:17:50.6659208+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:17:50.6660654+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:17:50.6661701+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T17:17:50.6722420+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:17:50.6755159+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T17:17:50.6763114+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T17:17:50.6764855+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T17:17:50.6768676+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T17:17:50.6785078+07:00 [DBG] (///) Request was short circuited at action filter '"Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter"'.
2025-06-08T17:17:50.6829901+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T17:17:50.6859610+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T17:17:50.6867344+07:00 [DBG] (///) Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml", "application/problem+json", "application/problem+xml"]'.
2025-06-08T17:17:50.6879568+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
2025-06-08T17:17:50.6888282+07:00 [INF] (///) Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
2025-06-08T17:17:50.7457282+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 91.3654ms
2025-06-08T17:17:50.7590192+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:17:50.7695733+07:00 [INF] (///) HTTP "GET" "/api/v1/cntt/classes" responded 415 in 215.8900 ms
2025-06-08T17:17:50.7746987+07:00 [DBG] (///) Connection id ""0HND6EMSHFU3J"" completed keep alive response.
2025-06-08T17:17:50.7835416+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/cntt/classes""?" - 415 null "application/problem+json; charset=utf-8" 424.8548ms
2025-06-08T17:17:51.7515362+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/cntt/classes""?" - null null
2025-06-08T17:17:51.7540695+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/cntt/classes"'
2025-06-08T17:17:51.7543714+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/cntt/classes"'
2025-06-08T17:17:51.7547694+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:17:51.7553616+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T17:17:51.7558960+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""CNTT""
2025-06-08T17:17:51.7560573+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""CNTT""
2025-06-08T17:17:51.7562539+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:17:51.7567639+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T17:17:51.7569400+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T17:17:51.7571186+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T17:17:51.7573080+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T17:17:51.7574502+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T17:17:51.7576005+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T17:17:51.7578110+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T17:17:51.7580931+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T17:17:51.7585697+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T17:17:51.7589059+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T17:17:51.7591545+07:00 [DBG] (///) Rejected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type 'null'.
2025-06-08T17:17:51.7593227+07:00 [DBG] (///) No input formatter was found to support the content type 'null' for use with the [FromBody] attribute.
2025-06-08T17:17:51.7595609+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:17:51.7597127+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:17:51.7598295+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T17:17:51.7603107+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:17:51.7604240+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T17:17:51.7606211+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T17:17:51.7607443+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T17:17:51.7609013+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T17:17:51.7611163+07:00 [DBG] (///) Request was short circuited at action filter '"Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter"'.
2025-06-08T17:17:51.7615423+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T17:17:51.7618491+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T17:17:51.7619642+07:00 [DBG] (///) Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml", "application/problem+json", "application/problem+xml"]'.
2025-06-08T17:17:51.7623562+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
2025-06-08T17:17:51.7624901+07:00 [INF] (///) Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
2025-06-08T17:17:51.7630754+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 5.3191ms
2025-06-08T17:17:51.7631817+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:17:51.7636345+07:00 [INF] (///) HTTP "GET" "/api/v1/cntt/classes" responded 415 in 7.9383 ms
2025-06-08T17:17:51.7639244+07:00 [DBG] (///) Connection id ""0HND6EMSHFU3J"" completed keep alive response.
2025-06-08T17:17:51.7643006+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/cntt/classes""?" - 415 null "application/problem+json; charset=utf-8" 12.7373ms
2025-06-08T17:18:16.2928258+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/cntt/classes""?" - null null
2025-06-08T17:18:16.2934693+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/cntt/classes"'
2025-06-08T17:18:16.2936059+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/cntt/classes"'
2025-06-08T17:18:16.2937011+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:18:16.2939119+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T17:18:16.2942166+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""CNTT""
2025-06-08T17:18:16.2943007+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""CNTT""
2025-06-08T17:18:16.2943909+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:18:16.2949654+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T17:18:16.2950836+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T17:18:16.2951663+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T17:18:16.2952807+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T17:18:16.2953378+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T17:18:16.2957147+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T17:18:16.2958471+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T17:18:16.2960004+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T17:18:16.2962193+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T17:18:16.2964191+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T17:18:16.2965096+07:00 [DBG] (///) Rejected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type 'null'.
2025-06-08T17:18:16.2967061+07:00 [DBG] (///) No input formatter was found to support the content type 'null' for use with the [FromBody] attribute.
2025-06-08T17:18:16.2968353+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:18:16.2968915+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:18:16.2969398+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T17:18:16.2970628+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:18:16.2971127+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T17:18:16.2971966+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T17:18:16.2972335+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T17:18:16.2972754+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T17:18:16.2973791+07:00 [DBG] (///) Request was short circuited at action filter '"Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter"'.
2025-06-08T17:18:16.2975823+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T17:18:16.2976960+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T17:18:16.2977520+07:00 [DBG] (///) Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml", "application/problem+json", "application/problem+xml"]'.
2025-06-08T17:18:16.2978753+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
2025-06-08T17:18:16.2980520+07:00 [INF] (///) Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
2025-06-08T17:18:16.2983254+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 2.5241ms
2025-06-08T17:18:16.2984455+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:18:16.2986227+07:00 [INF] (///) HTTP "GET" "/api/v1/cntt/classes" responded 415 in 4.5941 ms
2025-06-08T17:18:16.2987390+07:00 [DBG] (///) Connection id ""0HND6EMSHFU3J"" completed keep alive response.
2025-06-08T17:18:16.2988564+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/cntt/classes""?" - 415 null "application/problem+json; charset=utf-8" 6.0256ms
2025-06-08T17:18:17.3725448+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/cntt/classes""?" - null null
2025-06-08T17:18:17.3731594+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/cntt/classes"'
2025-06-08T17:18:17.3732949+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/cntt/classes"'
2025-06-08T17:18:17.3735035+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:18:17.3740063+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T17:18:17.3744498+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""CNTT""
2025-06-08T17:18:17.3745629+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""CNTT""
2025-06-08T17:18:17.3746679+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:18:17.3749087+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T17:18:17.3751043+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T17:18:17.3751734+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T17:18:17.3752732+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T17:18:17.3753371+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T17:18:17.3753911+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T17:18:17.3754853+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T17:18:17.3758452+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T17:18:17.3760370+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T17:18:17.3762605+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T17:18:17.3763673+07:00 [DBG] (///) Rejected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type 'null'.
2025-06-08T17:18:17.3764218+07:00 [DBG] (///) No input formatter was found to support the content type 'null' for use with the [FromBody] attribute.
2025-06-08T17:18:17.3765120+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:18:17.3765546+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:18:17.3765994+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T17:18:17.3767142+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:18:17.3767837+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T17:18:17.3768719+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T17:18:17.3769150+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T17:18:17.3769917+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T17:18:17.3771212+07:00 [DBG] (///) Request was short circuited at action filter '"Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter"'.
2025-06-08T17:18:17.3775392+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T17:18:17.3776518+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T17:18:17.3777030+07:00 [DBG] (///) Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml", "application/problem+json", "application/problem+xml"]'.
2025-06-08T17:18:17.3779346+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
2025-06-08T17:18:17.3780482+07:00 [INF] (///) Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
2025-06-08T17:18:17.3783829+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 2.9254ms
2025-06-08T17:18:17.3784906+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:18:17.3787039+07:00 [INF] (///) HTTP "GET" "/api/v1/cntt/classes" responded 415 in 4.5707 ms
2025-06-08T17:18:17.3789995+07:00 [DBG] (///) Connection id ""0HND6EMSHFU3J"" completed keep alive response.
2025-06-08T17:18:17.3791566+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/cntt/classes""?" - 415 null "application/problem+json; charset=utf-8" 6.5844ms
2025-06-08T17:20:27.7888268+07:00 [DBG] (///) Connection id ""0HND6EMSHFU3J"" disconnecting.
2025-06-08T17:20:27.7907594+07:00 [DBG] (///) Connection id ""0HND6EMSHFU3J"" stopped.
2025-06-08T17:20:27.7919655+07:00 [DBG] (///) Connection id ""0HND6EMSHFU3J"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-08T17:20:48.2995272+07:00 [DBG] (///) Connection id ""0HND6EMSHFU3K"" accepted.
2025-06-08T17:20:48.2996871+07:00 [DBG] (///) Connection id ""0HND6EMSHFU3K"" started.
2025-06-08T17:20:48.3003450+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/cntt/classes""?" - null null
2025-06-08T17:20:48.3007461+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/cntt/classes"'
2025-06-08T17:20:48.3008386+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/cntt/classes"'
2025-06-08T17:20:48.3009358+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:20:48.3012225+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T17:20:48.3014279+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""CNTT""
2025-06-08T17:20:48.3015027+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""CNTT""
2025-06-08T17:20:48.3015914+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:20:48.3119684+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T17:20:48.3121503+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T17:20:48.3122037+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T17:20:48.3122936+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T17:20:48.3123285+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T17:20:48.3123565+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T17:20:48.3124245+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T17:20:48.3126685+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T17:20:48.3128292+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T17:20:48.3130725+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T17:20:48.3200161+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T17:20:48.3214211+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T17:20:48.3223031+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T17:20:48.3232759+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T17:20:48.3233830+07:00 [DBG] (///) Could not find a value in the request with name '"PageSize"' for binding property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T17:20:48.3234263+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T17:20:48.3234850+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T17:20:48.3235359+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T17:20:48.3235637+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T17:20:48.3236963+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T17:20:48.3237288+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T17:20:48.3237615+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T17:20:48.3240482+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:20:48.3241028+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:20:48.3241345+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T17:20:48.3275332+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:20:48.3276667+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T17:20:48.3277622+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T17:20:48.3302729+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T17:20:48.3304143+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T17:20:48.3444444+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T17:20:48.3691836+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 0, OrderBy: null, Filter: null })]
2025-06-08T17:20:48.6096089+07:00 [ERR] (///) Error processing request "DefaultClassQuery" after 235ms
Autofac.Core.DependencyResolutionException: An exception was thrown while activating FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler -> FacultyService.Application.FacultyDbContext.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while invoking the constructor 'Void .ctor(Microsoft.EntityFrameworkCore.DbContextOptions`1[FacultyService.Application.FacultyDbContext], Finbuckle.MultiTenant.Abstractions.IMultiTenantContextAccessor`1[FacultyService.Domain.Aggregate.AppTenantInfo], Microsoft.Extensions.Configuration.IConfiguration)' on type 'FacultyDbContext'.
 ---> System.InvalidOperationException: TenantInfo is null
   at FacultyService.Application.FacultyDbContext..ctor(DbContextOptions`1 options, IMultiTenantContextAccessor`1 multiTenantContextAccessor, IConfiguration configuration) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/FacultyDbContext.cs:line 26
   at lambda_method75(Closure, Object[])
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   --- End of inner exception stack trace ---
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   at Autofac.Core.Activators.Reflection.ReflectionActivator.<>c__DisplayClass14_0.<UseSingleConstructorActivation>b__0(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DelegateMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Extensions.DependencyInjection.KeyedServiceMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.RegistrationPipelineInvokeMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest& request)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0(CancellationToken t)
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
2025-06-08T17:20:48.6971066+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 384.688ms
2025-06-08T17:20:48.6979812+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:20:48.7007908+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
Autofac.Core.DependencyResolutionException: An exception was thrown while activating FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler -> FacultyService.Application.FacultyDbContext.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while invoking the constructor 'Void .ctor(Microsoft.EntityFrameworkCore.DbContextOptions`1[FacultyService.Application.FacultyDbContext], Finbuckle.MultiTenant.Abstractions.IMultiTenantContextAccessor`1[FacultyService.Domain.Aggregate.AppTenantInfo], Microsoft.Extensions.Configuration.IConfiguration)' on type 'FacultyDbContext'.
 ---> System.InvalidOperationException: TenantInfo is null
   at FacultyService.Application.FacultyDbContext..ctor(DbContextOptions`1 options, IMultiTenantContextAccessor`1 multiTenantContextAccessor, IConfiguration configuration) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/FacultyDbContext.cs:line 26
   at lambda_method75(Closure, Object[])
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   --- End of inner exception stack trace ---
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   at Autofac.Core.Activators.Reflection.ReflectionActivator.<>c__DisplayClass14_0.<UseSingleConstructorActivation>b__0(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DelegateMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Extensions.DependencyInjection.KeyedServiceMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.RegistrationPipelineInvokeMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest& request)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0(CancellationToken t)
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
   at FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses(GridifyQuery gridifyQuery, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Finbuckle.MultiTenant.AspNetCore.Internal.MultiTenantMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-08T17:20:48.7399673+07:00 [ERR] (///) HTTP "GET" "/api/v1/cntt/classes" responded 500 in 438.5751 ms
2025-06-08T17:20:48.7401300+07:00 [DBG] (///) Connection id ""0HND6EMSHFU3K"" completed keep alive response.
2025-06-08T17:20:48.7402258+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/cntt/classes""?" - 500 null "application/problem+json" 439.8644ms
2025-06-08T17:20:49.7901266+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/cntt/classes""?" - null null
2025-06-08T17:20:49.7937742+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/cntt/classes"'
2025-06-08T17:20:49.7939348+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/cntt/classes"'
2025-06-08T17:20:49.7940637+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:20:49.7943107+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T17:20:49.7947160+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""CNTT""
2025-06-08T17:20:49.7948313+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""CNTT""
2025-06-08T17:20:49.7949283+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:20:49.7951466+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T17:20:49.7953783+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T17:20:49.7954691+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T17:20:49.7955627+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T17:20:49.7956530+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T17:20:49.7957299+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T17:20:49.7958639+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T17:20:49.7960056+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T17:20:49.7961707+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T17:20:49.7966950+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T17:20:49.7968877+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T17:20:49.7969576+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T17:20:49.7970244+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T17:20:49.7970916+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T17:20:49.7971494+07:00 [DBG] (///) Could not find a value in the request with name '"PageSize"' for binding property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T17:20:49.7972038+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T17:20:49.7972674+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T17:20:49.7973244+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T17:20:49.7973800+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T17:20:49.7974407+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T17:20:49.7974969+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T17:20:49.7975451+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T17:20:49.7976913+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:20:49.7977440+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:20:49.7977845+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T17:20:49.7980330+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:20:49.7980913+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T17:20:49.7981839+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T17:20:49.7982301+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T17:20:49.7982695+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T17:20:49.7988339+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T17:20:49.8006560+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 0, OrderBy: null, Filter: null })]
2025-06-08T17:20:49.8169710+07:00 [ERR] (///) Error processing request "DefaultClassQuery" after 16ms
Autofac.Core.DependencyResolutionException: An exception was thrown while activating FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler -> FacultyService.Application.FacultyDbContext.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while invoking the constructor 'Void .ctor(Microsoft.EntityFrameworkCore.DbContextOptions`1[FacultyService.Application.FacultyDbContext], Finbuckle.MultiTenant.Abstractions.IMultiTenantContextAccessor`1[FacultyService.Domain.Aggregate.AppTenantInfo], Microsoft.Extensions.Configuration.IConfiguration)' on type 'FacultyDbContext'.
 ---> System.InvalidOperationException: TenantInfo is null
   at FacultyService.Application.FacultyDbContext..ctor(DbContextOptions`1 options, IMultiTenantContextAccessor`1 multiTenantContextAccessor, IConfiguration configuration) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/FacultyDbContext.cs:line 26
   at lambda_method75(Closure, Object[])
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   --- End of inner exception stack trace ---
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   at Autofac.Core.Activators.Reflection.ReflectionActivator.<>c__DisplayClass14_0.<UseSingleConstructorActivation>b__0(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest& request)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0(CancellationToken t)
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
   at FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses(GridifyQuery gridifyQuery, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
2025-06-08T17:20:49.8217083+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 25.8988ms
2025-06-08T17:20:49.8218249+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:20:49.8219083+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
Autofac.Core.DependencyResolutionException: An exception was thrown while activating FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler -> FacultyService.Application.FacultyDbContext.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while invoking the constructor 'Void .ctor(Microsoft.EntityFrameworkCore.DbContextOptions`1[FacultyService.Application.FacultyDbContext], Finbuckle.MultiTenant.Abstractions.IMultiTenantContextAccessor`1[FacultyService.Domain.Aggregate.AppTenantInfo], Microsoft.Extensions.Configuration.IConfiguration)' on type 'FacultyDbContext'.
 ---> System.InvalidOperationException: TenantInfo is null
   at FacultyService.Application.FacultyDbContext..ctor(DbContextOptions`1 options, IMultiTenantContextAccessor`1 multiTenantContextAccessor, IConfiguration configuration) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/FacultyDbContext.cs:line 26
   at lambda_method75(Closure, Object[])
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   --- End of inner exception stack trace ---
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   at Autofac.Core.Activators.Reflection.ReflectionActivator.<>c__DisplayClass14_0.<UseSingleConstructorActivation>b__0(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest& request)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0(CancellationToken t)
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
   at FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses(GridifyQuery gridifyQuery, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Finbuckle.MultiTenant.AspNetCore.Internal.MultiTenantMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-08T17:20:49.8283328+07:00 [ERR] (///) HTTP "GET" "/api/v1/cntt/classes" responded 500 in 33.9914 ms
2025-06-08T17:20:49.8284579+07:00 [DBG] (///) Connection id ""0HND6EMSHFU3K"" completed keep alive response.
2025-06-08T17:20:49.8286037+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/cntt/classes""?" - 500 null "application/problem+json" 38.476ms
2025-06-08T17:22:24.0974765+07:00 [INF] (///) Application is shutting down...
2025-06-08T17:22:24.0990861+07:00 [DBG] (///) Hosting stopping
2025-06-08T17:22:24.1059523+07:00 [DBG] (///) Connection id ""0HND6EMSHFU3K"" disconnecting.
2025-06-08T17:22:24.1060729+07:00 [DBG] (///) Connection id ""0HND6EMSHFU3K"" stopped.
2025-06-08T17:22:24.1061843+07:00 [DBG] (///) Connection id ""0HND6EMSHFU3K"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-08T17:22:24.1120416+07:00 [DBG] (///) Hosting stopped
2025-06-08T17:23:08.7586201+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T17:23:08.9890876+07:00 [DBG] (///) Hosting starting
2025-06-08T17:23:09.0963740+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T17:23:09.1022597+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T17:23:09.2284168+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T17:23:09.2310814+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T17:23:09.2431762+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T17:23:09.2441194+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T17:23:09.2442230+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T17:23:09.2444291+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T17:23:09.2448694+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T17:23:09.2449883+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T17:23:09.2450471+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T17:23:09.2451620+07:00 [DBG] (///) Hosting started
2025-06-08T17:26:16.3207355+07:00 [DBG] (///) Config reload token fired. Checking for changes...
2025-06-08T17:26:16.3218579+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T17:26:16.3220303+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T17:26:16.5740188+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T17:26:16.5743542+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T17:26:16.5760315+07:00 [DBG] (///) Config reload token fired. Checking for changes...
2025-06-08T17:29:09.1827035+07:00 [DBG] (///) Connection id ""0HND6ET6RJNMN"" accepted.
2025-06-08T17:29:09.1840102+07:00 [DBG] (///) Connection id ""0HND6ET6RJNMN"" started.
2025-06-08T17:29:09.2185568+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/cntt/classes""?" - null null
2025-06-08T17:29:09.3120826+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/cntt/classes"'
2025-06-08T17:29:09.3225432+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/cntt/classes"'
2025-06-08T17:29:09.3318964+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:29:09.3480384+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T17:29:09.4038862+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""CNTT""
2025-06-08T17:29:09.4133088+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""CNTT""
2025-06-08T17:29:09.4194681+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:29:09.4700379+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T17:29:09.4792110+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T17:29:09.4797168+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T17:29:09.4813711+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T17:29:09.4817700+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T17:29:09.4820626+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T17:29:09.4859548+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T17:29:09.4870502+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T17:29:09.4931491+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T17:29:09.4962711+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T17:29:09.5047079+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T17:29:09.5063473+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T17:29:09.5072486+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T17:29:09.5112884+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T17:29:09.5116849+07:00 [DBG] (///) Could not find a value in the request with name '"PageSize"' for binding property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T17:29:09.5118362+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T17:29:09.5120296+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T17:29:09.5121610+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T17:29:09.5122631+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T17:29:09.5123717+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T17:29:09.5124822+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T17:29:09.5125866+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T17:29:09.5130098+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:29:09.5133167+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:29:09.5134817+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T17:29:09.5232369+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:29:09.5234971+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T17:29:09.5241570+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T17:29:09.5242961+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T17:29:09.5245165+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T17:29:09.5356648+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T17:29:09.5637626+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 0, OrderBy: null, Filter: null })]
2025-06-08T17:29:09.8244354+07:00 [ERR] (///) Error processing request "DefaultClassQuery" after 255ms
Autofac.Core.DependencyResolutionException: An exception was thrown while activating FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler -> FacultyService.Application.FacultyDbContext.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while invoking the constructor 'Void .ctor(Microsoft.EntityFrameworkCore.DbContextOptions`1[FacultyService.Application.FacultyDbContext], Finbuckle.MultiTenant.Abstractions.IMultiTenantContextAccessor`1[FacultyService.Domain.AppTenantInfo], Microsoft.Extensions.Configuration.IConfiguration)' on type 'FacultyDbContext'.
 ---> System.InvalidOperationException: TenantInfo is null
   at FacultyService.Application.FacultyDbContext..ctor(DbContextOptions`1 options, IMultiTenantContextAccessor`1 multiTenantContextAccessor, IConfiguration configuration) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/FacultyDbContext.cs:line 26
   at lambda_method75(Closure, Object[])
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   --- End of inner exception stack trace ---
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   at Autofac.Core.Activators.Reflection.ReflectionActivator.<>c__DisplayClass14_0.<UseSingleConstructorActivation>b__0(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DelegateMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Extensions.DependencyInjection.KeyedServiceMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.RegistrationPipelineInvokeMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.Autofac.IComponentContext.ResolveComponent(ResolveRequest& request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetRequiredService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0(CancellationToken t)
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
2025-06-08T17:29:09.9091298+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 421.1566ms
2025-06-08T17:29:09.9210437+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:29:09.9226190+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
Autofac.Core.DependencyResolutionException: An exception was thrown while activating FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler -> FacultyService.Application.FacultyDbContext.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while invoking the constructor 'Void .ctor(Microsoft.EntityFrameworkCore.DbContextOptions`1[FacultyService.Application.FacultyDbContext], Finbuckle.MultiTenant.Abstractions.IMultiTenantContextAccessor`1[FacultyService.Domain.AppTenantInfo], Microsoft.Extensions.Configuration.IConfiguration)' on type 'FacultyDbContext'.
 ---> System.InvalidOperationException: TenantInfo is null
   at FacultyService.Application.FacultyDbContext..ctor(DbContextOptions`1 options, IMultiTenantContextAccessor`1 multiTenantContextAccessor, IConfiguration configuration) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/FacultyDbContext.cs:line 26
   at lambda_method75(Closure, Object[])
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   --- End of inner exception stack trace ---
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   at Autofac.Core.Activators.Reflection.ReflectionActivator.<>c__DisplayClass14_0.<UseSingleConstructorActivation>b__0(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DelegateMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Extensions.DependencyInjection.KeyedServiceMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.RegistrationPipelineInvokeMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.Autofac.IComponentContext.ResolveComponent(ResolveRequest& request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetRequiredService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0(CancellationToken t)
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
   at FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses(GridifyQuery gridifyQuery, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api/Classes/Controller/ClassesController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Finbuckle.MultiTenant.AspNetCore.Internal.MultiTenantMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-08T17:29:09.9800371+07:00 [ERR] (///) HTTP "GET" "/api/v1/cntt/classes" responded 500 in 631.7420 ms
2025-06-08T17:29:09.9817024+07:00 [DBG] (///) Connection id ""0HND6ET6RJNMN"" completed keep alive response.
2025-06-08T17:29:09.9871489+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/cntt/classes""?" - 500 null "application/problem+json" 772.1974ms
2025-06-08T17:29:10.9829024+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/cntt/classes""?" - null null
2025-06-08T17:29:10.9853832+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/cntt/classes"'
2025-06-08T17:29:10.9856340+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/cntt/classes"'
2025-06-08T17:29:10.9858901+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:29:10.9863011+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T17:29:10.9866668+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""CNTT""
2025-06-08T17:29:10.9868868+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""CNTT""
2025-06-08T17:29:10.9870588+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:29:10.9874926+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T17:29:10.9876680+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T17:29:10.9878503+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T17:29:10.9880103+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T17:29:10.9881424+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T17:29:10.9882687+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T17:29:10.9884484+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T17:29:10.9887065+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T17:29:10.9891261+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T17:29:10.9893779+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T17:29:10.9896792+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T17:29:10.9897754+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T17:29:10.9898888+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T17:29:10.9899856+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T17:29:10.9900650+07:00 [DBG] (///) Could not find a value in the request with name '"PageSize"' for binding property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T17:29:10.9901440+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T17:29:10.9902347+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T17:29:10.9903309+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T17:29:10.9904084+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T17:29:10.9904815+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T17:29:10.9905627+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T17:29:10.9906382+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T17:29:10.9909338+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:29:10.9910409+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:29:10.9912481+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T17:29:10.9915836+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:29:10.9916645+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T17:29:10.9919593+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T17:29:10.9920418+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T17:29:10.9920947+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T17:29:10.9924743+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T17:29:10.9939490+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 0, OrderBy: null, Filter: null })]
2025-06-08T17:29:11.0117985+07:00 [ERR] (///) Error processing request "DefaultClassQuery" after 17ms
Autofac.Core.DependencyResolutionException: An exception was thrown while activating FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler -> FacultyService.Application.FacultyDbContext.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while invoking the constructor 'Void .ctor(Microsoft.EntityFrameworkCore.DbContextOptions`1[FacultyService.Application.FacultyDbContext], Finbuckle.MultiTenant.Abstractions.IMultiTenantContextAccessor`1[FacultyService.Domain.AppTenantInfo], Microsoft.Extensions.Configuration.IConfiguration)' on type 'FacultyDbContext'.
 ---> System.InvalidOperationException: TenantInfo is null
   at FacultyService.Application.FacultyDbContext..ctor(DbContextOptions`1 options, IMultiTenantContextAccessor`1 multiTenantContextAccessor, IConfiguration configuration) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/FacultyDbContext.cs:line 26
   at lambda_method75(Closure, Object[])
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   --- End of inner exception stack trace ---
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   at Autofac.Core.Activators.Reflection.ReflectionActivator.<>c__DisplayClass14_0.<UseSingleConstructorActivation>b__0(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DelegateMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Extensions.DependencyInjection.KeyedServiceMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.RegistrationPipelineInvokeMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.Autofac.IComponentContext.ResolveComponent(ResolveRequest& request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetRequiredService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0(CancellationToken t)
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
   at FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses(GridifyQuery gridifyQuery, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api/Classes/Controller/ClassesController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
2025-06-08T17:29:11.0217888+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 33.3697ms
2025-06-08T17:29:11.0219989+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:29:11.0221320+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
Autofac.Core.DependencyResolutionException: An exception was thrown while activating FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler -> FacultyService.Application.FacultyDbContext.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while invoking the constructor 'Void .ctor(Microsoft.EntityFrameworkCore.DbContextOptions`1[FacultyService.Application.FacultyDbContext], Finbuckle.MultiTenant.Abstractions.IMultiTenantContextAccessor`1[FacultyService.Domain.AppTenantInfo], Microsoft.Extensions.Configuration.IConfiguration)' on type 'FacultyDbContext'.
 ---> System.InvalidOperationException: TenantInfo is null
   at FacultyService.Application.FacultyDbContext..ctor(DbContextOptions`1 options, IMultiTenantContextAccessor`1 multiTenantContextAccessor, IConfiguration configuration) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/FacultyDbContext.cs:line 26
   at lambda_method75(Closure, Object[])
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   --- End of inner exception stack trace ---
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   at Autofac.Core.Activators.Reflection.ReflectionActivator.<>c__DisplayClass14_0.<UseSingleConstructorActivation>b__0(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DelegateMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Extensions.DependencyInjection.KeyedServiceMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.RegistrationPipelineInvokeMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.Autofac.IComponentContext.ResolveComponent(ResolveRequest& request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetRequiredService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0(CancellationToken t)
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
   at FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses(GridifyQuery gridifyQuery, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api/Classes/Controller/ClassesController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Finbuckle.MultiTenant.AspNetCore.Internal.MultiTenantMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-08T17:29:11.0320438+07:00 [ERR] (///) HTTP "GET" "/api/v1/cntt/classes" responded 500 in 45.5441 ms
2025-06-08T17:29:11.0323624+07:00 [DBG] (///) Connection id ""0HND6ET6RJNMN"" completed keep alive response.
2025-06-08T17:29:11.0327404+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/cntt/classes""?" - 500 null "application/problem+json" 49.8253ms
2025-06-08T17:29:15.9899172+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/cntt/classes""?" - null null
2025-06-08T17:29:15.9904739+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/cntt/classes"'
2025-06-08T17:29:15.9907384+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/cntt/classes"'
2025-06-08T17:29:15.9908894+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:29:15.9911343+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T17:29:15.9914752+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""CNTT""
2025-06-08T17:29:15.9915714+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""CNTT""
2025-06-08T17:29:15.9916605+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:29:15.9918594+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T17:29:15.9920102+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T17:29:15.9921060+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T17:29:15.9921780+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T17:29:15.9922252+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T17:29:15.9922725+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T17:29:15.9923589+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T17:29:15.9924932+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T17:29:15.9926653+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T17:29:15.9927876+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T17:29:15.9929077+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T17:29:15.9929696+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T17:29:15.9930154+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T17:29:15.9930636+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T17:29:15.9931098+07:00 [DBG] (///) Could not find a value in the request with name '"PageSize"' for binding property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T17:29:15.9931563+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T17:29:15.9932324+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T17:29:15.9932755+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T17:29:15.9933375+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T17:29:15.9933750+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T17:29:15.9935894+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T17:29:15.9936452+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T17:29:15.9937401+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:29:15.9937849+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:29:15.9938338+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T17:29:15.9939549+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:29:15.9940074+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T17:29:15.9941364+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T17:29:15.9941790+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T17:29:15.9942233+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T17:29:15.9945285+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T17:29:15.9949055+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 0, OrderBy: null, Filter: null })]
2025-06-08T17:29:15.9960769+07:00 [ERR] (///) Error processing request "DefaultClassQuery" after 1ms
Autofac.Core.DependencyResolutionException: An exception was thrown while activating FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler -> FacultyService.Application.FacultyDbContext.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while invoking the constructor 'Void .ctor(Microsoft.EntityFrameworkCore.DbContextOptions`1[FacultyService.Application.FacultyDbContext], Finbuckle.MultiTenant.Abstractions.IMultiTenantContextAccessor`1[FacultyService.Domain.AppTenantInfo], Microsoft.Extensions.Configuration.IConfiguration)' on type 'FacultyDbContext'.
 ---> System.InvalidOperationException: TenantInfo is null
   at FacultyService.Application.FacultyDbContext..ctor(DbContextOptions`1 options, IMultiTenantContextAccessor`1 multiTenantContextAccessor, IConfiguration configuration) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/FacultyDbContext.cs:line 26
   at lambda_method75(Closure, Object[])
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   --- End of inner exception stack trace ---
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   at Autofac.Core.Activators.Reflection.ReflectionActivator.<>c__DisplayClass14_0.<UseSingleConstructorActivation>b__0(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DelegateMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Extensions.DependencyInjection.KeyedServiceMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.RegistrationPipelineInvokeMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.Autofac.IComponentContext.ResolveComponent(ResolveRequest& request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetRequiredService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0(CancellationToken t)
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
   at FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses(GridifyQuery gridifyQuery, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api/Classes/Controller/ClassesController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
2025-06-08T17:29:16.0058971+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 13.5657ms
2025-06-08T17:29:16.0060620+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:29:16.0061980+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
Autofac.Core.DependencyResolutionException: An exception was thrown while activating FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler -> FacultyService.Application.FacultyDbContext.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while invoking the constructor 'Void .ctor(Microsoft.EntityFrameworkCore.DbContextOptions`1[FacultyService.Application.FacultyDbContext], Finbuckle.MultiTenant.Abstractions.IMultiTenantContextAccessor`1[FacultyService.Domain.AppTenantInfo], Microsoft.Extensions.Configuration.IConfiguration)' on type 'FacultyDbContext'.
 ---> System.InvalidOperationException: TenantInfo is null
   at FacultyService.Application.FacultyDbContext..ctor(DbContextOptions`1 options, IMultiTenantContextAccessor`1 multiTenantContextAccessor, IConfiguration configuration) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/FacultyDbContext.cs:line 26
   at lambda_method75(Closure, Object[])
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   --- End of inner exception stack trace ---
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   at Autofac.Core.Activators.Reflection.ReflectionActivator.<>c__DisplayClass14_0.<UseSingleConstructorActivation>b__0(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DelegateMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Extensions.DependencyInjection.KeyedServiceMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.RegistrationPipelineInvokeMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.Autofac.IComponentContext.ResolveComponent(ResolveRequest& request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetRequiredService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0(CancellationToken t)
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
   at FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses(GridifyQuery gridifyQuery, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api/Classes/Controller/ClassesController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Finbuckle.MultiTenant.AspNetCore.Internal.MultiTenantMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-08T17:29:16.0145441+07:00 [ERR] (///) HTTP "GET" "/api/v1/cntt/classes" responded 500 in 23.2490 ms
2025-06-08T17:29:16.0146995+07:00 [DBG] (///) Connection id ""0HND6ET6RJNMN"" completed keep alive response.
2025-06-08T17:29:16.0148527+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/cntt/classes""?" - 500 null "application/problem+json" 24.8938ms
2025-06-08T17:29:17.0275455+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/cntt/classes""?" - null null
2025-06-08T17:29:17.0282345+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/cntt/classes"'
2025-06-08T17:29:17.0283768+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/cntt/classes"'
2025-06-08T17:29:17.0284779+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:29:17.0286541+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T17:29:17.0289204+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""CNTT""
2025-06-08T17:29:17.0290051+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""CNTT""
2025-06-08T17:29:17.0291052+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:29:17.0292609+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T17:29:17.0293640+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T17:29:17.0294174+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T17:29:17.0295015+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T17:29:17.0296906+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T17:29:17.0297804+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T17:29:17.0298714+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T17:29:17.0299634+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T17:29:17.0301163+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T17:29:17.0302201+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T17:29:17.0302934+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T17:29:17.0303432+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T17:29:17.0303868+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T17:29:17.0304443+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T17:29:17.0304827+07:00 [DBG] (///) Could not find a value in the request with name '"PageSize"' for binding property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T17:29:17.0305155+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T17:29:17.0305465+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T17:29:17.0307219+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T17:29:17.0307627+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T17:29:17.0308125+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T17:29:17.0308421+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T17:29:17.0308781+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T17:29:17.0309487+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:29:17.0309963+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:29:17.0310200+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T17:29:17.0311221+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:29:17.0311618+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T17:29:17.0312425+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T17:29:17.0312774+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T17:29:17.0313060+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T17:29:17.0315754+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T17:29:17.0320046+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 0, OrderBy: null, Filter: null })]
2025-06-08T17:29:17.0328881+07:00 [ERR] (///) Error processing request "DefaultClassQuery" after 0ms
Autofac.Core.DependencyResolutionException: An exception was thrown while activating FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler -> FacultyService.Application.FacultyDbContext.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while invoking the constructor 'Void .ctor(Microsoft.EntityFrameworkCore.DbContextOptions`1[FacultyService.Application.FacultyDbContext], Finbuckle.MultiTenant.Abstractions.IMultiTenantContextAccessor`1[FacultyService.Domain.AppTenantInfo], Microsoft.Extensions.Configuration.IConfiguration)' on type 'FacultyDbContext'.
 ---> System.InvalidOperationException: TenantInfo is null
   at FacultyService.Application.FacultyDbContext..ctor(DbContextOptions`1 options, IMultiTenantContextAccessor`1 multiTenantContextAccessor, IConfiguration configuration) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/FacultyDbContext.cs:line 26
   at lambda_method75(Closure, Object[])
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   --- End of inner exception stack trace ---
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   at Autofac.Core.Activators.Reflection.ReflectionActivator.<>c__DisplayClass14_0.<UseSingleConstructorActivation>b__0(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest& request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetRequiredService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0(CancellationToken t)
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
   at FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses(GridifyQuery gridifyQuery, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api/Classes/Controller/ClassesController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
2025-06-08T17:29:17.0394157+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 9.5755ms
2025-06-08T17:29:17.0395529+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:29:17.0396426+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
Autofac.Core.DependencyResolutionException: An exception was thrown while activating FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler -> FacultyService.Application.FacultyDbContext.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while invoking the constructor 'Void .ctor(Microsoft.EntityFrameworkCore.DbContextOptions`1[FacultyService.Application.FacultyDbContext], Finbuckle.MultiTenant.Abstractions.IMultiTenantContextAccessor`1[FacultyService.Domain.AppTenantInfo], Microsoft.Extensions.Configuration.IConfiguration)' on type 'FacultyDbContext'.
 ---> System.InvalidOperationException: TenantInfo is null
   at FacultyService.Application.FacultyDbContext..ctor(DbContextOptions`1 options, IMultiTenantContextAccessor`1 multiTenantContextAccessor, IConfiguration configuration) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/FacultyDbContext.cs:line 26
   at lambda_method75(Closure, Object[])
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   --- End of inner exception stack trace ---
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   at Autofac.Core.Activators.Reflection.ReflectionActivator.<>c__DisplayClass14_0.<UseSingleConstructorActivation>b__0(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest& request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetRequiredService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0(CancellationToken t)
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
   at FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses(GridifyQuery gridifyQuery, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api/Classes/Controller/ClassesController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Finbuckle.MultiTenant.AspNetCore.Internal.MultiTenantMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-08T17:29:17.0457021+07:00 [ERR] (///) HTTP "GET" "/api/v1/cntt/classes" responded 500 in 16.9556 ms
2025-06-08T17:29:17.0472795+07:00 [DBG] (///) Connection id ""0HND6ET6RJNMN"" completed keep alive response.
2025-06-08T17:29:17.0475346+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/cntt/classes""?" - 500 null "application/problem+json" 19.9501ms
2025-06-08T17:30:29.7784304+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/cntt/classes""?" - null null
2025-06-08T17:30:29.7789280+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/cntt/classes"'
2025-06-08T17:30:29.7790452+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/cntt/classes"'
2025-06-08T17:30:29.7793077+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:30:29.7795025+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T17:30:29.7797713+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""CNTT""
2025-06-08T17:30:29.7798880+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""CNTT""
2025-06-08T17:30:29.7799891+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:30:29.7801762+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T17:30:29.7803339+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T17:30:29.7804252+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T17:30:29.7805116+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T17:30:29.7807362+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T17:30:29.7807938+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T17:30:29.7809051+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T17:30:29.7810617+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T17:30:29.7812130+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T17:30:29.7813309+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T17:30:29.7814313+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T17:30:29.7815096+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T17:30:29.7815747+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T17:30:29.7816444+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T17:30:29.7816903+07:00 [DBG] (///) Could not find a value in the request with name '"PageSize"' for binding property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T17:30:29.7817461+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T17:30:29.7820326+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T17:30:29.7820996+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T17:30:29.7821605+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T17:30:29.7822062+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T17:30:29.7822517+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T17:30:29.7823098+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T17:30:29.7823606+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:30:29.7824029+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:30:29.7824880+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T17:30:29.7826289+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:30:29.7826855+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T17:30:29.7828011+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T17:30:29.7828450+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T17:30:29.7829259+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T17:30:29.7833708+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T17:30:29.7836860+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 0, OrderBy: null, Filter: null })]
2025-06-08T17:30:29.7887987+07:00 [DBG] (///) Connection id ""0HND6ET6RJNMO"" accepted.
2025-06-08T17:30:29.7889813+07:00 [DBG] (///) Connection id ""0HND6ET6RJNMO"" started.
2025-06-08T17:30:29.7896916+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T17:30:29.7900441+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T17:30:29.7846860+07:00 [ERR] (///) Error processing request "DefaultClassQuery" after 0ms
Autofac.Core.DependencyResolutionException: An exception was thrown while activating FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler -> FacultyService.Application.FacultyDbContext.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while invoking the constructor 'Void .ctor(Microsoft.EntityFrameworkCore.DbContextOptions`1[FacultyService.Application.FacultyDbContext], Finbuckle.MultiTenant.Abstractions.IMultiTenantContextAccessor`1[FacultyService.Domain.AppTenantInfo], Microsoft.Extensions.Configuration.IConfiguration)' on type 'FacultyDbContext'.
 ---> System.InvalidOperationException: TenantInfo is null
   at FacultyService.Application.FacultyDbContext..ctor(DbContextOptions`1 options, IMultiTenantContextAccessor`1 multiTenantContextAccessor, IConfiguration configuration) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/FacultyDbContext.cs:line 26
   at lambda_method75(Closure, Object[])
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   --- End of inner exception stack trace ---
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   at Autofac.Core.Activators.Reflection.ReflectionActivator.<>c__DisplayClass14_0.<UseSingleConstructorActivation>b__0(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest& request)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0(CancellationToken t)
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
   at FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses(GridifyQuery gridifyQuery, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api/Classes/Controller/ClassesController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
2025-06-08T17:30:29.7934235+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 12.5573ms
2025-06-08T17:30:29.7935453+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:30:29.7974362+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' was rejected by constraint '"facultyCode"':'"FacultyService.Api.FacultyConstraint"' with value '"it-faculty"' for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T17:30:29.7975785+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is not valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T17:30:29.7980243+07:00 [DBG] (///) Request did not match any endpoints
2025-06-08T17:30:29.7992273+07:00 [DBG] (///) The request path "" does not match the path filter
2025-06-08T17:30:29.7994663+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""CNTT""
2025-06-08T17:30:29.7995329+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""CNTT""
2025-06-08T17:30:29.7998688+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 404 in 0.9590 ms
2025-06-08T17:30:29.7936498+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
Autofac.Core.DependencyResolutionException: An exception was thrown while activating FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler -> FacultyService.Application.FacultyDbContext.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while invoking the constructor 'Void .ctor(Microsoft.EntityFrameworkCore.DbContextOptions`1[FacultyService.Application.FacultyDbContext], Finbuckle.MultiTenant.Abstractions.IMultiTenantContextAccessor`1[FacultyService.Domain.AppTenantInfo], Microsoft.Extensions.Configuration.IConfiguration)' on type 'FacultyDbContext'.
 ---> System.InvalidOperationException: TenantInfo is null
   at FacultyService.Application.FacultyDbContext..ctor(DbContextOptions`1 options, IMultiTenantContextAccessor`1 multiTenantContextAccessor, IConfiguration configuration) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/FacultyDbContext.cs:line 26
   at lambda_method75(Closure, Object[])
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   --- End of inner exception stack trace ---
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   at Autofac.Core.Activators.Reflection.ReflectionActivator.<>c__DisplayClass14_0.<UseSingleConstructorActivation>b__0(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest& request)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0(CancellationToken t)
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
   at FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses(GridifyQuery gridifyQuery, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api/Classes/Controller/ClassesController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Finbuckle.MultiTenant.AspNetCore.Internal.MultiTenantMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-08T17:30:29.8000897+07:00 [DBG] (///) Connection id ""0HND6ET6RJNMO"" completed keep alive response.
2025-06-08T17:30:29.8002488+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - 404 0 null 10.4957ms
2025-06-08T17:30:29.8003558+07:00 [ERR] (///) HTTP "GET" "/api/v1/cntt/classes" responded 500 in 20.8020 ms
2025-06-08T17:30:29.8004715+07:00 [DBG] (///) Connection id ""0HND6ET6RJNMN"" completed keep alive response.
2025-06-08T17:30:29.8005427+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/cntt/classes""?" - 500 null "application/problem+json" 22.1236ms
2025-06-08T17:30:29.8007169+07:00 [INF] (///) Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes", Response status code: 404
2025-06-08T17:30:30.8279701+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T17:30:30.8284290+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T17:30:30.8286783+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' was rejected by constraint '"facultyCode"':'"FacultyService.Api.FacultyConstraint"' with value '"it-faculty"' for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T17:30:30.8287762+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is not valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T17:30:30.8289648+07:00 [DBG] (///) Request did not match any endpoints
2025-06-08T17:30:30.8291430+07:00 [DBG] (///) The request path "" does not match the path filter
2025-06-08T17:30:30.8295136+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""CNTT""
2025-06-08T17:30:30.8296353+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""CNTT""
2025-06-08T17:30:30.8298332+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 404 in 0.6300 ms
2025-06-08T17:30:30.8299900+07:00 [DBG] (///) Connection id ""0HND6ET6RJNMN"" completed keep alive response.
2025-06-08T17:30:30.8301154+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - 404 0 null 2.1545ms
2025-06-08T17:30:30.8302329+07:00 [INF] (///) Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes", Response status code: 404
2025-06-08T17:30:58.8974140+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T17:30:58.8977354+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T17:30:58.8977967+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' was rejected by constraint '"facultyCode"':'"FacultyService.Api.FacultyConstraint"' with value '"it-faculty"' for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T17:30:58.8978498+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is not valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T17:30:58.8978923+07:00 [DBG] (///) Request did not match any endpoints
2025-06-08T17:30:58.8981809+07:00 [DBG] (///) The request path "" does not match the path filter
2025-06-08T17:30:58.8984852+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""CNTT""
2025-06-08T17:30:58.8985458+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""CNTT""
2025-06-08T17:30:58.8986633+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 404 in 0.5295 ms
2025-06-08T17:30:58.8987750+07:00 [DBG] (///) Connection id ""0HND6ET6RJNMN"" completed keep alive response.
2025-06-08T17:30:58.8991019+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - 404 0 null 1.6317ms
2025-06-08T17:30:58.8991707+07:00 [INF] (///) Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes", Response status code: 404
2025-06-08T17:30:59.9085200+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T17:30:59.9093936+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T17:30:59.9095828+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' was rejected by constraint '"facultyCode"':'"FacultyService.Api.FacultyConstraint"' with value '"it-faculty"' for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T17:30:59.9097198+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is not valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T17:30:59.9098425+07:00 [DBG] (///) Request did not match any endpoints
2025-06-08T17:30:59.9100264+07:00 [DBG] (///) The request path "" does not match the path filter
2025-06-08T17:30:59.9103892+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""CNTT""
2025-06-08T17:30:59.9105236+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""CNTT""
2025-06-08T17:30:59.9107605+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 404 in 0.6706 ms
2025-06-08T17:30:59.9109786+07:00 [DBG] (///) Connection id ""0HND6ET6RJNMN"" completed keep alive response.
2025-06-08T17:30:59.9111289+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - 404 0 null 2.5945ms
2025-06-08T17:30:59.9113361+07:00 [INF] (///) Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes", Response status code: 404
2025-06-08T17:31:11.4090742+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T17:31:11.4095697+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T17:31:11.4097006+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' was rejected by constraint '"facultyCode"':'"FacultyService.Api.FacultyConstraint"' with value '"it-faculty"' for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T17:31:11.4099444+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is not valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T17:31:11.4100374+07:00 [DBG] (///) Request did not match any endpoints
2025-06-08T17:31:11.4101721+07:00 [DBG] (///) The request path "" does not match the path filter
2025-06-08T17:31:11.4104763+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""CNTT""
2025-06-08T17:31:11.4105765+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""CNTT""
2025-06-08T17:31:11.4107812+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 404 in 0.5371 ms
2025-06-08T17:31:11.4109618+07:00 [DBG] (///) Connection id ""0HND6ET6RJNMN"" completed keep alive response.
2025-06-08T17:31:11.4111284+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - 404 0 null 2.1215ms
2025-06-08T17:31:11.4112426+07:00 [INF] (///) Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes", Response status code: 404
2025-06-08T17:31:12.4327833+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T17:31:12.4333506+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T17:31:12.4335215+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' was rejected by constraint '"facultyCode"':'"FacultyService.Api.FacultyConstraint"' with value '"it-faculty"' for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T17:31:12.4336281+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is not valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T17:31:12.4337772+07:00 [DBG] (///) Request did not match any endpoints
2025-06-08T17:31:12.4339468+07:00 [DBG] (///) The request path "" does not match the path filter
2025-06-08T17:31:12.4342067+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""CNTT""
2025-06-08T17:31:12.4343026+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""CNTT""
2025-06-08T17:31:12.4346251+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 404 in 0.5207 ms
2025-06-08T17:31:12.4348366+07:00 [DBG] (///) Connection id ""0HND6ET6RJNMN"" completed keep alive response.
2025-06-08T17:31:12.4350004+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - 404 0 null 2.199ms
2025-06-08T17:31:12.4352288+07:00 [INF] (///) Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes", Response status code: 404
2025-06-08T17:32:41.1805472+07:00 [DBG] (///) Connection id ""0HND6ET6RJNMO"" disconnecting.
2025-06-08T17:32:41.1830300+07:00 [DBG] (///) Connection id ""0HND6ET6RJNMO"" stopped.
2025-06-08T17:32:41.1842242+07:00 [DBG] (///) Connection id ""0HND6ET6RJNMO"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-08T17:33:19.5062093+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T17:33:19.5066248+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T17:33:19.5067349+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' was rejected by constraint '"facultyCode"':'"FacultyService.Api.FacultyConstraint"' with value '"it-faculty"' for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T17:33:19.5069387+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is not valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T17:33:19.5070233+07:00 [DBG] (///) Request did not match any endpoints
2025-06-08T17:33:19.5071550+07:00 [DBG] (///) The request path "" does not match the path filter
2025-06-08T17:33:19.5075661+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""CNTT""
2025-06-08T17:33:19.5076632+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""CNTT""
2025-06-08T17:33:19.5078955+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 404 in 0.6103 ms
2025-06-08T17:33:19.5085581+07:00 [DBG] (///) Connection id ""0HND6ET6RJNMN"" completed keep alive response.
2025-06-08T17:33:19.5086971+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - 404 0 null 2.4755ms
2025-06-08T17:33:19.5088112+07:00 [INF] (///) Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes", Response status code: 404
2025-06-08T17:33:20.6045599+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T17:33:20.6049997+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T17:33:20.6051087+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' was rejected by constraint '"facultyCode"':'"FacultyService.Api.FacultyConstraint"' with value '"it-faculty"' for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T17:33:20.6052851+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is not valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T17:33:20.6053406+07:00 [DBG] (///) Request did not match any endpoints
2025-06-08T17:33:20.6054432+07:00 [DBG] (///) The request path "" does not match the path filter
2025-06-08T17:33:20.6056551+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""CNTT""
2025-06-08T17:33:20.6057335+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""CNTT""
2025-06-08T17:33:20.6058797+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 404 in 0.3779 ms
2025-06-08T17:33:20.6060154+07:00 [DBG] (///) Connection id ""0HND6ET6RJNMN"" completed keep alive response.
2025-06-08T17:33:20.6061239+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - 404 0 null 1.594ms
2025-06-08T17:33:20.6062129+07:00 [INF] (///) Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes", Response status code: 404
2025-06-08T17:33:46.3696592+07:00 [INF] (///) Application is shutting down...
2025-06-08T17:33:46.3717555+07:00 [DBG] (///) Hosting stopping
2025-06-08T17:33:46.3817822+07:00 [DBG] (///) Connection id ""0HND6ET6RJNMN"" disconnecting.
2025-06-08T17:33:46.3819833+07:00 [DBG] (///) Connection id ""0HND6ET6RJNMN"" stopped.
2025-06-08T17:33:46.3822006+07:00 [DBG] (///) Connection id ""0HND6ET6RJNMN"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-08T17:33:46.3891862+07:00 [DBG] (///) Hosting stopped
2025-06-08T17:33:50.2800707+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T17:33:50.4437201+07:00 [DBG] (///) Hosting starting
2025-06-08T17:33:50.5299629+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T17:33:50.5327557+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T17:33:50.6109174+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T17:33:50.6125258+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T17:33:50.6345031+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T17:33:50.6354187+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T17:33:50.6355073+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T17:33:50.6356900+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T17:33:50.6361315+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T17:33:50.6362104+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T17:33:50.6362818+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T17:33:50.6364213+07:00 [DBG] (///) Hosting started
2025-06-08T17:33:55.3932719+07:00 [DBG] (///) Connection id ""0HND6EVS546VH"" accepted.
2025-06-08T17:33:55.3943904+07:00 [DBG] (///) Connection id ""0HND6EVS546VH"" started.
2025-06-08T17:33:55.4304130+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T17:33:55.5383686+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T17:33:55.5449758+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T17:33:55.5516172+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:33:55.5622016+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T17:33:55.6055408+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T17:33:55.6144788+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""IT-FACULTY""
2025-06-08T17:33:55.6183770+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:33:55.6580775+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T17:33:55.6640492+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T17:33:55.6644282+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T17:33:55.6655286+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T17:33:55.6657382+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T17:33:55.6659838+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T17:33:55.6683519+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T17:33:55.6692484+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T17:33:55.6753817+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T17:33:55.6791171+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T17:33:55.6850291+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T17:33:55.6861551+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T17:33:55.6870053+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T17:33:55.6906241+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T17:33:55.6910942+07:00 [DBG] (///) Could not find a value in the request with name '"PageSize"' for binding property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T17:33:55.6913206+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T17:33:55.6915890+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T17:33:55.6917801+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T17:33:55.6919560+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T17:33:55.6921203+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T17:33:55.6924347+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T17:33:55.6925779+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T17:33:55.6930420+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:33:55.6932119+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:33:55.6935331+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T17:33:55.7068157+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:33:55.7071792+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T17:33:55.7080993+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T17:33:55.7083086+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T17:33:55.7085358+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T17:33:55.7328594+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T17:33:55.7707312+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 0, OrderBy: null, Filter: null })]
2025-06-08T17:33:56.0784003+07:00 [ERR] (///) Error processing request "DefaultClassQuery" after 301ms
Autofac.Core.DependencyResolutionException: An exception was thrown while activating FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler -> FacultyService.Application.FacultyDbContext.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while invoking the constructor 'Void .ctor(Microsoft.EntityFrameworkCore.DbContextOptions`1[FacultyService.Application.FacultyDbContext], Finbuckle.MultiTenant.Abstractions.IMultiTenantContextAccessor`1[FacultyService.Domain.AppTenantInfo], Microsoft.Extensions.Configuration.IConfiguration)' on type 'FacultyDbContext'.
 ---> System.InvalidOperationException: TenantInfo is null
   at FacultyService.Application.FacultyDbContext..ctor(DbContextOptions`1 options, IMultiTenantContextAccessor`1 multiTenantContextAccessor, IConfiguration configuration) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/FacultyDbContext.cs:line 26
   at lambda_method75(Closure, Object[])
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   --- End of inner exception stack trace ---
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   at Autofac.Core.Activators.Reflection.ReflectionActivator.<>c__DisplayClass14_0.<UseSingleConstructorActivation>b__0(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DelegateMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Extensions.DependencyInjection.KeyedServiceMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.RegistrationPipelineInvokeMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.Autofac.IComponentContext.ResolveComponent(ResolveRequest& request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetRequiredService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0(CancellationToken t)
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
2025-06-08T17:33:56.1695330+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 496.9199ms
2025-06-08T17:33:56.1834733+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:33:56.1852426+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
Autofac.Core.DependencyResolutionException: An exception was thrown while activating FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler -> FacultyService.Application.FacultyDbContext.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while invoking the constructor 'Void .ctor(Microsoft.EntityFrameworkCore.DbContextOptions`1[FacultyService.Application.FacultyDbContext], Finbuckle.MultiTenant.Abstractions.IMultiTenantContextAccessor`1[FacultyService.Domain.AppTenantInfo], Microsoft.Extensions.Configuration.IConfiguration)' on type 'FacultyDbContext'.
 ---> System.InvalidOperationException: TenantInfo is null
   at FacultyService.Application.FacultyDbContext..ctor(DbContextOptions`1 options, IMultiTenantContextAccessor`1 multiTenantContextAccessor, IConfiguration configuration) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/FacultyDbContext.cs:line 26
   at lambda_method75(Closure, Object[])
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   --- End of inner exception stack trace ---
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   at Autofac.Core.Activators.Reflection.ReflectionActivator.<>c__DisplayClass14_0.<UseSingleConstructorActivation>b__0(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DelegateMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Extensions.DependencyInjection.KeyedServiceMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.RegistrationPipelineInvokeMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.Autofac.IComponentContext.ResolveComponent(ResolveRequest& request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetRequiredService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0(CancellationToken t)
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
   at FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses(GridifyQuery gridifyQuery, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api/Classes/Controller/ClassesController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Finbuckle.MultiTenant.AspNetCore.Internal.MultiTenantMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-08T17:33:56.2507704+07:00 [ERR] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 500 in 686.3735 ms
2025-06-08T17:33:56.2526707+07:00 [DBG] (///) Connection id ""0HND6EVS546VH"" completed keep alive response.
2025-06-08T17:33:56.2594505+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - 500 null "application/problem+json" 831.1189ms
2025-06-08T17:33:57.2555213+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T17:33:57.2581467+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T17:33:57.2584708+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T17:33:57.2586428+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:33:57.2590105+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T17:33:57.2593935+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T17:33:57.2595449+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""IT-FACULTY""
2025-06-08T17:33:57.2596579+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:33:57.2599641+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T17:33:57.2602028+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T17:33:57.2603366+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T17:33:57.2604649+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T17:33:57.2605407+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T17:33:57.2606309+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T17:33:57.2607828+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T17:33:57.2609955+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T17:33:57.2612951+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T17:33:57.2614666+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T17:33:57.2616341+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T17:33:57.2617208+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T17:33:57.2618107+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T17:33:57.2619067+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T17:33:57.2620097+07:00 [DBG] (///) Could not find a value in the request with name '"PageSize"' for binding property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T17:33:57.2622121+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T17:33:57.2622937+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T17:33:57.2623854+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T17:33:57.2624651+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T17:33:57.2625337+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T17:33:57.2626197+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T17:33:57.2627358+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T17:33:57.2629925+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:33:57.2630806+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:33:57.2631431+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T17:33:57.2633956+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:33:57.2634779+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T17:33:57.2637198+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T17:33:57.2638081+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T17:33:57.2639858+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T17:33:57.2643569+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T17:33:57.2672953+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 0, OrderBy: null, Filter: null })]
2025-06-08T17:33:57.2892868+07:00 [ERR] (///) Error processing request "DefaultClassQuery" after 21ms
Autofac.Core.DependencyResolutionException: An exception was thrown while activating FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler -> FacultyService.Application.FacultyDbContext.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while invoking the constructor 'Void .ctor(Microsoft.EntityFrameworkCore.DbContextOptions`1[FacultyService.Application.FacultyDbContext], Finbuckle.MultiTenant.Abstractions.IMultiTenantContextAccessor`1[FacultyService.Domain.AppTenantInfo], Microsoft.Extensions.Configuration.IConfiguration)' on type 'FacultyDbContext'.
 ---> System.InvalidOperationException: TenantInfo is null
   at FacultyService.Application.FacultyDbContext..ctor(DbContextOptions`1 options, IMultiTenantContextAccessor`1 multiTenantContextAccessor, IConfiguration configuration) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/FacultyDbContext.cs:line 26
   at lambda_method75(Closure, Object[])
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   --- End of inner exception stack trace ---
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   at Autofac.Core.Activators.Reflection.ReflectionActivator.<>c__DisplayClass14_0.<UseSingleConstructorActivation>b__0(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DelegateMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Extensions.DependencyInjection.KeyedServiceMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.RegistrationPipelineInvokeMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.Autofac.IComponentContext.ResolveComponent(ResolveRequest& request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetRequiredService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0(CancellationToken t)
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
   at FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses(GridifyQuery gridifyQuery, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api/Classes/Controller/ClassesController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
2025-06-08T17:33:57.4003833+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 139.6015ms
2025-06-08T17:33:57.4005953+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:33:57.4007078+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
Autofac.Core.DependencyResolutionException: An exception was thrown while activating FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler -> FacultyService.Application.FacultyDbContext.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while invoking the constructor 'Void .ctor(Microsoft.EntityFrameworkCore.DbContextOptions`1[FacultyService.Application.FacultyDbContext], Finbuckle.MultiTenant.Abstractions.IMultiTenantContextAccessor`1[FacultyService.Domain.AppTenantInfo], Microsoft.Extensions.Configuration.IConfiguration)' on type 'FacultyDbContext'.
 ---> System.InvalidOperationException: TenantInfo is null
   at FacultyService.Application.FacultyDbContext..ctor(DbContextOptions`1 options, IMultiTenantContextAccessor`1 multiTenantContextAccessor, IConfiguration configuration) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/FacultyDbContext.cs:line 26
   at lambda_method75(Closure, Object[])
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   --- End of inner exception stack trace ---
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   at Autofac.Core.Activators.Reflection.ReflectionActivator.<>c__DisplayClass14_0.<UseSingleConstructorActivation>b__0(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DelegateMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Extensions.DependencyInjection.KeyedServiceMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.RegistrationPipelineInvokeMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.Autofac.IComponentContext.ResolveComponent(ResolveRequest& request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetRequiredService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0(CancellationToken t)
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
   at FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses(GridifyQuery gridifyQuery, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api/Classes/Controller/ClassesController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Finbuckle.MultiTenant.AspNetCore.Internal.MultiTenantMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-08T17:33:57.4106908+07:00 [ERR] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 500 in 151.4176 ms
2025-06-08T17:33:57.4111244+07:00 [DBG] (///) Connection id ""0HND6EVS546VH"" completed keep alive response.
2025-06-08T17:33:57.4116171+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - 500 null "application/problem+json" 156.0848ms
2025-06-08T17:36:07.5595005+07:00 [DBG] (///) Connection id ""0HND6EVS546VH"" disconnecting.
2025-06-08T17:36:07.5610837+07:00 [DBG] (///) Connection id ""0HND6EVS546VH"" stopped.
2025-06-08T17:36:07.5619164+07:00 [DBG] (///) Connection id ""0HND6EVS546VH"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-08T17:41:55.8984622+07:00 [DBG] (///) Config reload token fired. Checking for changes...
2025-06-08T17:41:55.8999784+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T17:41:55.9002275+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T17:42:53.6752775+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T17:42:53.6756288+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T17:42:53.6768393+07:00 [DBG] (///) Config reload token fired. Checking for changes...
2025-06-08T17:44:04.5852204+07:00 [INF] (///) Application is shutting down...
2025-06-08T17:44:04.5865342+07:00 [DBG] (///) Hosting stopping
2025-06-08T17:44:04.5975276+07:00 [DBG] (///) Hosting stopped
2025-06-08T17:44:11.7304262+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T17:44:11.9080779+07:00 [DBG] (///) Hosting starting
2025-06-08T17:44:12.0052639+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T17:44:12.0082601+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T17:44:12.1242927+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T17:44:12.1263528+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T17:44:12.1365585+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T17:44:12.1374054+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T17:44:12.1374859+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T17:44:12.1377508+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T17:44:12.1381557+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T17:44:12.1382345+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T17:44:12.1383059+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T17:44:12.1384238+07:00 [DBG] (///) Hosting started
2025-06-08T17:44:15.4476171+07:00 [DBG] (///) Connection id ""0HND6F5KUDPNI"" accepted.
2025-06-08T17:44:15.4488658+07:00 [DBG] (///) Connection id ""0HND6F5KUDPNI"" started.
2025-06-08T17:44:15.4868875+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T17:44:15.5924390+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T17:44:15.5984050+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T17:44:15.6057090+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:44:15.6152689+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T17:44:15.6377040+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T17:44:15.6449157+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""IT-FACULTY""
2025-06-08T17:44:15.6481856+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:44:15.6814881+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T17:44:15.6866078+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T17:44:15.6869596+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T17:44:15.6881445+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T17:44:15.6883334+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T17:44:15.6885761+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T17:44:15.6907081+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T17:44:15.6913225+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T17:44:15.6952784+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T17:44:15.6975828+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T17:44:15.7029797+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T17:44:15.7041795+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T17:44:15.7049987+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T17:44:15.7079231+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T17:44:15.7081543+07:00 [DBG] (///) Could not find a value in the request with name '"PageSize"' for binding property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T17:44:15.7083377+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T17:44:15.7085497+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T17:44:15.7087174+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T17:44:15.7088388+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T17:44:15.7089731+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T17:44:15.7092791+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T17:44:15.7094293+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T17:44:15.7097960+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:44:15.7100419+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:44:15.7101555+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T17:44:15.7169948+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:44:15.7172383+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T17:44:15.7179677+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T17:44:15.7181652+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T17:44:15.7184978+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T17:44:15.7301374+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T17:44:15.7538253+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 0, OrderBy: null, Filter: null })]
2025-06-08T17:44:15.9732328+07:00 [ERR] (///) Error processing request "DefaultClassQuery" after 213ms
Autofac.Core.DependencyResolutionException: An exception was thrown while activating FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler -> FacultyService.Application.FacultyDbContext.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while invoking the constructor 'Void .ctor(Microsoft.EntityFrameworkCore.DbContextOptions`1[FacultyService.Application.FacultyDbContext], Finbuckle.MultiTenant.Abstractions.IMultiTenantContextAccessor`1[FacultyService.Domain.AppTenantInfo], Microsoft.Extensions.Configuration.IConfiguration)' on type 'FacultyDbContext'.
 ---> System.InvalidOperationException: TenantInfo is null
   at FacultyService.Application.FacultyDbContext..ctor(DbContextOptions`1 options, IMultiTenantContextAccessor`1 multiTenantContextAccessor, IConfiguration configuration) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/FacultyDbContext.cs:line 26
   at lambda_method75(Closure, Object[])
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   --- End of inner exception stack trace ---
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   at Autofac.Core.Activators.Reflection.ReflectionActivator.<>c__DisplayClass14_0.<UseSingleConstructorActivation>b__0(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DelegateMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Extensions.DependencyInjection.KeyedServiceMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.RegistrationPipelineInvokeMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.Autofac.IComponentContext.ResolveComponent(ResolveRequest& request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetRequiredService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0(CancellationToken t)
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
2025-06-08T17:44:16.0553318+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 362.1189ms
2025-06-08T17:44:16.0686817+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:44:16.0703226+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
Autofac.Core.DependencyResolutionException: An exception was thrown while activating FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler -> FacultyService.Application.FacultyDbContext.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while invoking the constructor 'Void .ctor(Microsoft.EntityFrameworkCore.DbContextOptions`1[FacultyService.Application.FacultyDbContext], Finbuckle.MultiTenant.Abstractions.IMultiTenantContextAccessor`1[FacultyService.Domain.AppTenantInfo], Microsoft.Extensions.Configuration.IConfiguration)' on type 'FacultyDbContext'.
 ---> System.InvalidOperationException: TenantInfo is null
   at FacultyService.Application.FacultyDbContext..ctor(DbContextOptions`1 options, IMultiTenantContextAccessor`1 multiTenantContextAccessor, IConfiguration configuration) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/FacultyDbContext.cs:line 26
   at lambda_method75(Closure, Object[])
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   --- End of inner exception stack trace ---
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   at Autofac.Core.Activators.Reflection.ReflectionActivator.<>c__DisplayClass14_0.<UseSingleConstructorActivation>b__0(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DelegateMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Extensions.DependencyInjection.KeyedServiceMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.RegistrationPipelineInvokeMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.Autofac.IComponentContext.ResolveComponent(ResolveRequest& request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetRequiredService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0(CancellationToken t)
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
   at FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses(GridifyQuery gridifyQuery, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api/Classes/Controller/ClassesController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Finbuckle.MultiTenant.AspNetCore.Internal.MultiTenantMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-08T17:44:16.2311159+07:00 [ERR] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 500 in 611.9783 ms
2025-06-08T17:44:16.2330366+07:00 [DBG] (///) Connection id ""0HND6F5KUDPNI"" completed keep alive response.
2025-06-08T17:44:16.2394334+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - 500 null "application/problem+json" 754.675ms
2025-06-08T17:44:17.9547207+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T17:44:17.9574454+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T17:44:17.9577284+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T17:44:17.9580481+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:44:17.9585317+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T17:44:17.9591061+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T17:44:17.9593018+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""IT-FACULTY""
2025-06-08T17:44:17.9594901+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:44:17.9598981+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T17:44:17.9600717+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T17:44:17.9602636+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T17:44:17.9604600+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T17:44:17.9605641+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T17:44:17.9606621+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T17:44:17.9608609+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T17:44:17.9610934+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T17:44:17.9614439+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T17:44:17.9617779+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T17:44:17.9619927+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T17:44:17.9620874+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T17:44:17.9621815+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T17:44:17.9622844+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T17:44:17.9623861+07:00 [DBG] (///) Could not find a value in the request with name '"PageSize"' for binding property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T17:44:17.9624950+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T17:44:17.9626190+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T17:44:17.9627521+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T17:44:17.9628988+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T17:44:17.9630352+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T17:44:17.9631614+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T17:44:17.9632906+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T17:44:17.9635556+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:44:17.9636944+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:44:17.9637957+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T17:44:17.9644217+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:44:17.9645861+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T17:44:17.9649483+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T17:44:17.9650804+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T17:44:17.9652078+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T17:44:17.9657646+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T17:44:17.9678476+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 0, OrderBy: null, Filter: null })]
2025-06-08T17:44:17.9870344+07:00 [ERR] (///) Error processing request "DefaultClassQuery" after 18ms
Autofac.Core.DependencyResolutionException: An exception was thrown while activating FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler -> FacultyService.Application.FacultyDbContext.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while invoking the constructor 'Void .ctor(Microsoft.EntityFrameworkCore.DbContextOptions`1[FacultyService.Application.FacultyDbContext], Finbuckle.MultiTenant.Abstractions.IMultiTenantContextAccessor`1[FacultyService.Domain.AppTenantInfo], Microsoft.Extensions.Configuration.IConfiguration)' on type 'FacultyDbContext'.
 ---> System.InvalidOperationException: TenantInfo is null
   at FacultyService.Application.FacultyDbContext..ctor(DbContextOptions`1 options, IMultiTenantContextAccessor`1 multiTenantContextAccessor, IConfiguration configuration) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/FacultyDbContext.cs:line 26
   at lambda_method75(Closure, Object[])
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   --- End of inner exception stack trace ---
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   at Autofac.Core.Activators.Reflection.ReflectionActivator.<>c__DisplayClass14_0.<UseSingleConstructorActivation>b__0(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DelegateMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Extensions.DependencyInjection.KeyedServiceMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.RegistrationPipelineInvokeMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.Autofac.IComponentContext.ResolveComponent(ResolveRequest& request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetRequiredService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0(CancellationToken t)
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
   at FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses(GridifyQuery gridifyQuery, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api/Classes/Controller/ClassesController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2025-06-08T17:44:17.9979691+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 37.1396ms
2025-06-08T17:44:17.9982865+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:44:17.9985746+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
Autofac.Core.DependencyResolutionException: An exception was thrown while activating FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler -> FacultyService.Application.FacultyDbContext.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while invoking the constructor 'Void .ctor(Microsoft.EntityFrameworkCore.DbContextOptions`1[FacultyService.Application.FacultyDbContext], Finbuckle.MultiTenant.Abstractions.IMultiTenantContextAccessor`1[FacultyService.Domain.AppTenantInfo], Microsoft.Extensions.Configuration.IConfiguration)' on type 'FacultyDbContext'.
 ---> System.InvalidOperationException: TenantInfo is null
   at FacultyService.Application.FacultyDbContext..ctor(DbContextOptions`1 options, IMultiTenantContextAccessor`1 multiTenantContextAccessor, IConfiguration configuration) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/FacultyDbContext.cs:line 26
   at lambda_method75(Closure, Object[])
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   --- End of inner exception stack trace ---
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   at Autofac.Core.Activators.Reflection.ReflectionActivator.<>c__DisplayClass14_0.<UseSingleConstructorActivation>b__0(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DelegateMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Extensions.DependencyInjection.KeyedServiceMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.RegistrationPipelineInvokeMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.Autofac.IComponentContext.ResolveComponent(ResolveRequest& request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetRequiredService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0(CancellationToken t)
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
   at FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses(GridifyQuery gridifyQuery, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api/Classes/Controller/ClassesController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Finbuckle.MultiTenant.AspNetCore.Internal.MultiTenantMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-08T17:44:18.0091591+07:00 [ERR] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 500 in 50.4610 ms
2025-06-08T17:44:18.0094237+07:00 [DBG] (///) Connection id ""0HND6F5KUDPNI"" completed keep alive response.
2025-06-08T17:44:18.0097111+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - 500 null "application/problem+json" 55.0752ms
2025-06-08T17:44:19.0549602+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T17:44:19.0557523+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T17:44:19.0559850+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T17:44:19.0561413+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:44:19.0564881+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T17:44:19.0568867+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T17:44:19.0570415+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""IT-FACULTY""
2025-06-08T17:44:19.0571298+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:44:19.0575342+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T17:44:19.0577978+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T17:44:19.0579437+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T17:44:19.0580934+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T17:44:19.0581820+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T17:44:19.0582334+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T17:44:19.0583364+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T17:44:19.0584939+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T17:44:19.0586574+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T17:44:19.0588144+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T17:44:19.0590414+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T17:44:19.0591259+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T17:44:19.0591819+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T17:44:19.0592686+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T17:44:19.0593463+07:00 [DBG] (///) Could not find a value in the request with name '"PageSize"' for binding property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T17:44:19.0593966+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T17:44:19.0594630+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T17:44:19.0595587+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T17:44:19.0596615+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T17:44:19.0597557+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T17:44:19.0598404+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T17:44:19.0599035+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T17:44:19.0601383+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:44:19.0602194+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:44:19.0603810+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T17:44:19.0605208+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:44:19.0606052+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T17:44:19.0607535+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T17:44:19.0608255+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T17:44:19.0608919+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T17:44:19.0611641+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T17:44:19.0618788+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 0, OrderBy: null, Filter: null })]
2025-06-08T17:44:19.0626242+07:00 [ERR] (///) Error processing request "DefaultClassQuery" after 0ms
Autofac.Core.DependencyResolutionException: An exception was thrown while activating FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler -> FacultyService.Application.FacultyDbContext.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while invoking the constructor 'Void .ctor(Microsoft.EntityFrameworkCore.DbContextOptions`1[FacultyService.Application.FacultyDbContext], Finbuckle.MultiTenant.Abstractions.IMultiTenantContextAccessor`1[FacultyService.Domain.AppTenantInfo], Microsoft.Extensions.Configuration.IConfiguration)' on type 'FacultyDbContext'.
 ---> System.InvalidOperationException: TenantInfo is null
   at FacultyService.Application.FacultyDbContext..ctor(DbContextOptions`1 options, IMultiTenantContextAccessor`1 multiTenantContextAccessor, IConfiguration configuration) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/FacultyDbContext.cs:line 26
   at lambda_method75(Closure, Object[])
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   --- End of inner exception stack trace ---
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   at Autofac.Core.Activators.Reflection.ReflectionActivator.<>c__DisplayClass14_0.<UseSingleConstructorActivation>b__0(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DelegateMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Extensions.DependencyInjection.KeyedServiceMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.RegistrationPipelineInvokeMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.Autofac.IComponentContext.ResolveComponent(ResolveRequest& request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetRequiredService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0(CancellationToken t)
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
   at FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses(GridifyQuery gridifyQuery, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api/Classes/Controller/ClassesController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
2025-06-08T17:44:19.0717838+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 13.4769ms
2025-06-08T17:44:19.0719424+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:44:19.0721084+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
Autofac.Core.DependencyResolutionException: An exception was thrown while activating FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler -> FacultyService.Application.FacultyDbContext.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while invoking the constructor 'Void .ctor(Microsoft.EntityFrameworkCore.DbContextOptions`1[FacultyService.Application.FacultyDbContext], Finbuckle.MultiTenant.Abstractions.IMultiTenantContextAccessor`1[FacultyService.Domain.AppTenantInfo], Microsoft.Extensions.Configuration.IConfiguration)' on type 'FacultyDbContext'.
 ---> System.InvalidOperationException: TenantInfo is null
   at FacultyService.Application.FacultyDbContext..ctor(DbContextOptions`1 options, IMultiTenantContextAccessor`1 multiTenantContextAccessor, IConfiguration configuration) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/FacultyDbContext.cs:line 26
   at lambda_method75(Closure, Object[])
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   --- End of inner exception stack trace ---
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   at Autofac.Core.Activators.Reflection.ReflectionActivator.<>c__DisplayClass14_0.<UseSingleConstructorActivation>b__0(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DelegateMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Extensions.DependencyInjection.KeyedServiceMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.RegistrationPipelineInvokeMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.Autofac.IComponentContext.ResolveComponent(ResolveRequest& request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetRequiredService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0(CancellationToken t)
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
   at FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses(GridifyQuery gridifyQuery, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api/Classes/Controller/ClassesController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Finbuckle.MultiTenant.AspNetCore.Internal.MultiTenantMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-08T17:44:19.0791004+07:00 [ERR] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 500 in 22.4968 ms
2025-06-08T17:44:19.0792734+07:00 [DBG] (///) Connection id ""0HND6F5KUDPNI"" completed keep alive response.
2025-06-08T17:44:19.0794191+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - 500 null "application/problem+json" 24.479ms
2025-06-08T17:45:28.7046704+07:00 [INF] (///) Application is shutting down...
2025-06-08T17:45:28.7071035+07:00 [DBG] (///) Hosting stopping
2025-06-08T17:45:28.7176531+07:00 [DBG] (///) Connection id ""0HND6F5KUDPNI"" disconnecting.
2025-06-08T17:45:28.7190701+07:00 [DBG] (///) Connection id ""0HND6F5KUDPNI"" stopped.
2025-06-08T17:45:28.7198917+07:00 [DBG] (///) Connection id ""0HND6F5KUDPNI"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-08T17:45:28.7241562+07:00 [DBG] (///) Hosting stopped
2025-06-08T17:45:37.3928743+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T17:45:37.7326267+07:00 [DBG] (///) Hosting starting
2025-06-08T17:45:37.8980579+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T17:45:37.9023440+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T17:45:38.0591429+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T17:45:38.0625052+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T17:45:38.0818698+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T17:45:38.0829958+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T17:45:38.0831058+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T17:45:38.0832977+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T17:45:38.0839737+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T17:45:38.0840738+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T17:45:38.0841579+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T17:45:38.0843451+07:00 [DBG] (///) Hosting started
2025-06-08T17:45:42.5151467+07:00 [DBG] (///) Connection id ""0HND6F6ESOF29"" accepted.
2025-06-08T17:45:42.5173488+07:00 [DBG] (///) Connection id ""0HND6F6ESOF29"" started.
2025-06-08T17:45:42.5726295+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T17:45:42.7863201+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T17:45:42.7956559+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T17:45:42.8028819+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:45:42.8194721+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T17:45:42.8536167+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T17:45:42.8640536+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""IT-FACULTY""
2025-06-08T17:45:42.8702991+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:45:42.9197014+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T17:45:42.9265775+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T17:45:42.9271054+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T17:45:42.9281716+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T17:45:42.9287133+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T17:45:42.9290142+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T17:45:42.9324740+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T17:45:42.9343199+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T17:45:42.9417902+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T17:45:42.9451442+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T17:45:42.9528760+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T17:45:42.9540347+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T17:45:42.9546659+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T17:45:42.9584813+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T17:45:42.9587156+07:00 [DBG] (///) Could not find a value in the request with name '"PageSize"' for binding property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T17:45:42.9588016+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T17:45:42.9589637+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T17:45:42.9590861+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T17:45:42.9592009+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T17:45:42.9593227+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T17:45:42.9594445+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T17:45:42.9595582+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T17:45:42.9603362+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:45:42.9605383+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:45:42.9606622+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T17:45:42.9779082+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:45:42.9781291+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T17:45:42.9793078+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T17:45:42.9794453+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T17:45:42.9798153+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T17:45:42.9963676+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T17:45:43.0272341+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 0, OrderBy: null, Filter: null })]
2025-06-08T17:48:40.4769467+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T17:48:40.8782135+07:00 [DBG] (///) Hosting starting
2025-06-08T17:48:41.0393253+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T17:48:41.0435117+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T17:48:41.2136883+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T17:48:41.2171421+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T17:48:41.2363917+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T17:48:41.2382464+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T17:48:41.2384166+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T17:48:41.2385943+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T17:48:41.2394072+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T17:48:41.2395236+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T17:48:41.2396056+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T17:48:41.2397794+07:00 [DBG] (///) Hosting started
2025-06-08T17:48:49.9863270+07:00 [DBG] (///) Connection id ""0HND6F86OK7GT"" accepted.
2025-06-08T17:48:49.9878709+07:00 [DBG] (///) Connection id ""0HND6F86OK7GT"" started.
2025-06-08T17:48:50.0367477+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T17:48:50.2371927+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T17:48:50.2454798+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T17:48:50.2532436+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:48:50.2699545+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T17:48:50.3132469+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T17:48:50.3256624+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""IT-FACULTY""
2025-06-08T17:48:50.3338817+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T17:48:50.3957475+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T17:48:50.4083032+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T17:48:50.4091601+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T17:48:50.4111768+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T17:48:50.4118801+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T17:48:50.4123203+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T17:48:50.4209926+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T17:48:50.4237361+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T17:48:50.4425573+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T17:48:50.4475658+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T17:48:50.4612636+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T17:48:50.4634914+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T17:48:50.4644668+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T17:48:50.4703466+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T17:48:50.4706731+07:00 [DBG] (///) Could not find a value in the request with name '"PageSize"' for binding property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T17:48:50.4708305+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T17:48:50.4712675+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T17:48:50.4713893+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T17:48:50.4714988+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T17:48:50.4716046+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T17:48:50.4717039+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T17:48:50.4717983+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T17:48:50.4723992+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:48:50.4727227+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:48:50.4730981+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T17:48:50.4947745+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T17:48:50.4950163+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T17:48:50.4962663+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T17:48:50.4964004+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T17:48:50.4967288+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T17:48:50.5157028+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T17:48:50.5470186+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 0, OrderBy: null, Filter: null })]
2025-06-08T18:42:55.0459491+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T18:42:55.1719446+07:00 [DBG] (///) Hosting starting
2025-06-08T18:42:55.2300303+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T18:42:55.2316752+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T18:42:55.2992777+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T18:42:55.3009233+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T18:42:55.3105225+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T18:42:55.3110403+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T18:42:55.3110825+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T18:42:55.3111561+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T18:42:55.3114422+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T18:42:55.3114873+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T18:42:55.3115126+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T18:42:55.3115527+07:00 [DBG] (///) Hosting started
2025-06-08T18:42:57.7884404+07:00 [DBG] (///) Connection id ""0HND6G6EM2TP4"" accepted.
2025-06-08T18:42:57.7899097+07:00 [DBG] (///) Connection id ""0HND6G6EM2TP4"" started.
2025-06-08T18:42:57.8256786+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T18:42:57.9147708+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T18:42:57.9198239+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T18:42:57.9249691+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T18:42:57.9342773+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T18:42:57.9494906+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T18:42:57.9540491+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""IT-FACULTY""
2025-06-08T18:42:57.9564897+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T18:42:57.9819362+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T18:42:57.9860090+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T18:42:57.9864342+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T18:42:57.9872978+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T18:42:57.9876072+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T18:42:57.9878408+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T18:42:57.9905064+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T18:42:57.9915722+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T18:42:57.9951344+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T18:42:57.9968953+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T18:42:58.0007399+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T18:42:58.0015836+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T18:42:58.0019700+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T18:42:58.0038012+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T18:42:58.0039523+07:00 [DBG] (///) Could not find a value in the request with name '"PageSize"' for binding property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T18:42:58.0041006+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T18:42:58.0041882+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T18:42:58.0042312+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T18:42:58.0042708+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T18:42:58.0043113+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T18:42:58.0043470+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T18:42:58.0043784+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T18:42:58.0046602+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T18:42:58.0047857+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T18:42:58.0048551+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T18:42:58.0104778+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T18:42:58.0106017+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T18:42:58.0111427+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T18:42:58.0112087+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T18:42:58.0113563+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T18:42:58.0210354+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T18:42:58.0403165+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 0, OrderBy: null, Filter: null })]
2025-06-08T18:47:04.1028490+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T18:47:04.2355608+07:00 [DBG] (///) Hosting starting
2025-06-08T18:47:04.3054705+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T18:47:04.3078679+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T18:47:04.3891253+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T18:47:04.3911439+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T18:47:04.4028941+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T18:47:04.4036030+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T18:47:04.4036697+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T18:47:04.4037513+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T18:47:04.4041829+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T18:47:04.4042452+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T18:47:04.4042769+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T18:47:04.4043395+07:00 [DBG] (///) Hosting started
2025-06-08T18:47:24.2039238+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T18:47:24.3453903+07:00 [DBG] (///) Hosting starting
2025-06-08T18:47:24.4056032+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T18:47:24.4073175+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T18:47:24.5102121+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T18:47:24.5117975+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T18:47:24.5229040+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T18:47:24.5234947+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T18:47:24.5235561+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T18:47:24.5236329+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T18:47:24.5239530+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T18:47:24.5239986+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T18:47:24.5240218+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T18:47:24.5241509+07:00 [DBG] (///) Hosting started
2025-06-08T18:47:25.5507700+07:00 [DBG] (///) Connection id ""0HND6G8UFLGF7"" accepted.
2025-06-08T18:47:25.5514950+07:00 [DBG] (///) Connection id ""0HND6G8UFLGF7"" started.
2025-06-08T18:47:25.5844916+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T18:47:25.6556771+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T18:47:25.6591390+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T18:47:25.6619375+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T18:47:25.6683327+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T18:47:25.6817629+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T18:47:25.6871377+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""IT-FACULTY""
2025-06-08T18:47:25.6899832+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T18:47:25.7155794+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T18:47:25.7190624+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T18:47:25.7193708+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T18:47:25.7200092+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T18:47:25.7202500+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T18:47:25.7204367+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T18:47:25.7229997+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T18:47:25.7241481+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T18:47:25.7287242+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T18:47:25.7307547+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T18:47:25.7350735+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T18:47:25.7357042+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T18:47:25.7360058+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T18:47:25.7389311+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T18:47:25.7392403+07:00 [DBG] (///) Could not find a value in the request with name '"PageSize"' for binding property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T18:47:25.7393029+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T18:47:25.7393872+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T18:47:25.7394410+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T18:47:25.7394667+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T18:47:25.7396160+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T18:47:25.7396575+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T18:47:25.7396809+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T18:47:25.7399732+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T18:47:25.7400974+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T18:47:25.7401679+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T18:47:25.7502450+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T18:47:25.7504324+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T18:47:25.7515021+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T18:47:25.7516814+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T18:47:25.7519384+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T18:47:25.7640769+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T18:47:25.7820707+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 0, OrderBy: null, Filter: null })]
2025-06-08T18:56:38.6662082+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T18:56:38.7879462+07:00 [DBG] (///) Hosting starting
2025-06-08T18:56:38.8601306+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T18:56:38.8619579+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T18:56:38.9189784+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T18:56:38.9202183+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T18:56:38.9259355+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T18:56:38.9263469+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T18:56:38.9264017+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T18:56:38.9264819+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T18:56:38.9266400+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T18:56:38.9266818+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T18:56:38.9267338+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T18:56:38.9267719+07:00 [DBG] (///) Hosting started
2025-06-08T18:56:44.9559183+07:00 [INF] (///) Application is shutting down...
2025-06-08T18:56:44.9565974+07:00 [DBG] (///) Hosting stopping
2025-06-08T18:56:44.9627543+07:00 [DBG] (///) Hosting stopped
nderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T18:56:41.2936010+07:00 [DBG] (///) Hosting starting
2025-06-08T18:56:41.3796358+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T18:56:41.3818943+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T18:56:41.4841146+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T18:56:41.4861627+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T18:56:41.5029065+07:00 [ERR] (///) Hosting failed to start
System.IO.IOException: Failed to bind to address http://127.0.0.1:30000: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (98): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.EndpointsStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
2025-06-08T18:56:50.0328354+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T18:56:50.1648285+07:00 [DBG] (///) Hosting starting
2025-06-08T18:56:50.2265436+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T18:56:50.2282762+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T18:56:50.3024066+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T18:56:50.3039922+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T18:56:50.3141527+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T18:56:50.3146854+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T18:56:50.3147448+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T18:56:50.3148203+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T18:56:50.3150827+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T18:56:50.3151242+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T18:56:50.3151514+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T18:56:50.3151944+07:00 [DBG] (///) Hosting started
2025-06-08T18:56:50.9405852+07:00 [DBG] (///) Connection id ""0HND6GE6VKPFL"" accepted.
2025-06-08T18:56:50.9414891+07:00 [DBG] (///) Connection id ""0HND6GE6VKPFL"" started.
2025-06-08T18:56:50.9696203+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T18:56:51.0528210+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T18:56:51.0575527+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T18:56:51.0616708+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T18:56:51.0700261+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T18:56:51.0882650+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T18:56:51.0934780+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""IT-FACULTY""
2025-06-08T18:56:51.0966845+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T18:56:51.1203974+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T18:56:51.1231647+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T18:56:51.1233818+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T18:56:51.1239375+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T18:56:51.1241132+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T18:56:51.1242239+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T18:56:51.1257810+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T18:56:51.1264596+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T18:56:51.1292913+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T18:56:51.1307174+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T18:56:51.1341597+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T18:56:51.1347251+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T18:56:51.1350501+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T18:56:51.1368801+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T18:56:51.1369902+07:00 [DBG] (///) Could not find a value in the request with name '"PageSize"' for binding property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T18:56:51.1370255+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T18:56:51.1370850+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T18:56:51.1371435+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T18:56:51.1371715+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T18:56:51.1372041+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T18:56:51.1373074+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T18:56:51.1373503+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T18:56:51.1375954+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T18:56:51.1376999+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T18:56:51.1377733+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T18:56:51.1455585+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T18:56:51.1457409+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T18:56:51.1466092+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T18:56:51.1467335+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T18:56:51.1469663+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T18:56:51.1577401+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T18:56:51.1740345+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 0, OrderBy: null, Filter: null })]
2025-06-08T18:56:51.4923968+07:00 [ERR] (///) Error processing request "DefaultClassQuery" after 315ms
Autofac.Core.DependencyResolutionException: An exception was thrown while activating FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler -> FacultyService.Application.FacultyDbContext.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while invoking the constructor 'Void .ctor(Microsoft.EntityFrameworkCore.DbContextOptions`1[FacultyService.Application.FacultyDbContext], Finbuckle.MultiTenant.Abstractions.IMultiTenantContextAccessor`1[FacultyService.Domain.AppTenantInfo], Finbuckle.MultiTenant.Abstractions.IMultiTenantStore`1[FacultyService.Domain.AppTenantInfo], Microsoft.Extensions.Configuration.IConfiguration)' on type 'FacultyDbContext'.
 ---> System.InvalidOperationException: TenantInfo is null. Ensure the tenant is set before using the DbContext.
   at FacultyService.Application.FacultyDbContext..ctor(DbContextOptions`1 options, IMultiTenantContextAccessor`1 multiTenantContextAccessor, IMultiTenantStore`1 test, IConfiguration configuration) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/FacultyDbContext.cs:line 26
   at lambda_method75(Closure, Object[])
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   --- End of inner exception stack trace ---
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   at Autofac.Core.Activators.Reflection.ReflectionActivator.<>c__DisplayClass14_0.<UseSingleConstructorActivation>b__0(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DelegateMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Extensions.DependencyInjection.KeyedServiceMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.RegistrationPipelineInvokeMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.ScopeSelectionMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.Autofac.IComponentContext.ResolveComponent(ResolveRequest& request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetRequiredService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0(CancellationToken t)
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
2025-06-08T18:56:57.0744656+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 5948.1651ms
2025-06-08T18:56:57.0825029+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T18:56:57.0835972+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
Autofac.Core.DependencyResolutionException: An exception was thrown while activating FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler -> FacultyService.Application.FacultyDbContext.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while invoking the constructor 'Void .ctor(Microsoft.EntityFrameworkCore.DbContextOptions`1[FacultyService.Application.FacultyDbContext], Finbuckle.MultiTenant.Abstractions.IMultiTenantContextAccessor`1[FacultyService.Domain.AppTenantInfo], Finbuckle.MultiTenant.Abstractions.IMultiTenantStore`1[FacultyService.Domain.AppTenantInfo], Microsoft.Extensions.Configuration.IConfiguration)' on type 'FacultyDbContext'.
 ---> System.InvalidOperationException: TenantInfo is null. Ensure the tenant is set before using the DbContext.
   at FacultyService.Application.FacultyDbContext..ctor(DbContextOptions`1 options, IMultiTenantContextAccessor`1 multiTenantContextAccessor, IMultiTenantStore`1 test, IConfiguration configuration) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/FacultyDbContext.cs:line 26
   at lambda_method75(Closure, Object[])
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   --- End of inner exception stack trace ---
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   at Autofac.Core.Activators.Reflection.ReflectionActivator.<>c__DisplayClass14_0.<UseSingleConstructorActivation>b__0(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DelegateMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Extensions.DependencyInjection.KeyedServiceMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.RegistrationPipelineInvokeMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.ScopeSelectionMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.Autofac.IComponentContext.ResolveComponent(ResolveRequest& request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetRequiredService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0(CancellationToken t)
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
   at FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses(GridifyQuery gridifyQuery, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api/Classes/Controller/ClassesController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Finbuckle.MultiTenant.AspNetCore.Internal.MultiTenantMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-08T18:56:57.1511115+07:00 [ERR] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 500 in 6079.4092 ms
2025-06-08T18:56:57.1521296+07:00 [DBG] (///) Connection id ""0HND6GE6VKPFL"" completed keep alive response.
2025-06-08T18:56:57.1552775+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - 500 null "application/problem+json" 6187.4727ms
2025-06-08T18:56:58.1627398+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T18:56:58.1645052+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T18:56:58.1647650+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T18:56:58.1648928+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T18:56:58.1651605+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T18:56:58.1655048+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T18:56:58.1655825+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""IT-FACULTY""
2025-06-08T18:56:58.1656456+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T18:56:58.1659272+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T18:56:58.1665153+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T18:56:58.1665813+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T18:56:58.1666793+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T18:56:58.1667298+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T18:56:58.1667744+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T18:56:58.1668642+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T18:56:58.1669839+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T18:56:58.1672134+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T18:56:58.1673258+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T18:56:58.1673956+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T18:56:58.1674383+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T18:56:58.1674731+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T18:56:58.1675108+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T18:56:58.1675547+07:00 [DBG] (///) Could not find a value in the request with name '"PageSize"' for binding property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T18:56:58.1675833+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T18:56:58.1676793+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T18:56:58.1677280+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T18:56:58.1677647+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T18:56:58.1677990+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T18:56:58.1678383+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T18:56:58.1678707+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T18:56:58.1679357+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T18:56:58.1679751+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T18:56:58.1680020+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T18:56:58.1682608+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T18:56:58.1684330+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T18:56:58.1686995+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T18:56:58.1687451+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T18:56:58.1687823+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T18:56:58.1690411+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T18:56:58.1696038+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 0, OrderBy: null, Filter: null })]
2025-06-08T18:56:58.2239997+07:00 [ERR] (///) Error processing request "DefaultClassQuery" after 54ms
Autofac.Core.DependencyResolutionException: An exception was thrown while activating FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler -> FacultyService.Application.FacultyDbContext.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while invoking the constructor 'Void .ctor(Microsoft.EntityFrameworkCore.DbContextOptions`1[FacultyService.Application.FacultyDbContext], Finbuckle.MultiTenant.Abstractions.IMultiTenantContextAccessor`1[FacultyService.Domain.AppTenantInfo], Finbuckle.MultiTenant.Abstractions.IMultiTenantStore`1[FacultyService.Domain.AppTenantInfo], Microsoft.Extensions.Configuration.IConfiguration)' on type 'FacultyDbContext'.
 ---> System.InvalidOperationException: TenantInfo is null. Ensure the tenant is set before using the DbContext.
   at FacultyService.Application.FacultyDbContext..ctor(DbContextOptions`1 options, IMultiTenantContextAccessor`1 multiTenantContextAccessor, IMultiTenantStore`1 test, IConfiguration configuration) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/FacultyDbContext.cs:line 26
   at lambda_method75(Closure, Object[])
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   --- End of inner exception stack trace ---
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   at Autofac.Core.Activators.Reflection.ReflectionActivator.<>c__DisplayClass14_0.<UseSingleConstructorActivation>b__0(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DelegateMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Extensions.DependencyInjection.KeyedServiceMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.RegistrationPipelineInvokeMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.ScopeSelectionMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.Autofac.IComponentContext.ResolveComponent(ResolveRequest& request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetRequiredService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0(CancellationToken t)
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
2025-06-08T19:03:37.1797121+07:00 [DBG] (///) Connection id ""0HND6GE6VKPFL"" received FIN.
2025-06-08T19:03:37.2041317+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 399037.2508ms
2025-06-08T19:03:37.2045001+07:00 [DBG] (///) Connection id ""0HND6GE6VKPFM"" accepted.
2025-06-08T19:03:37.2045411+07:00 [DBG] (///) Connection id ""0HND6GE6VKPFL"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-08T19:03:37.2046193+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:03:37.2046329+07:00 [DBG] (///) Connection id ""0HND6GE6VKPFM"" started.
2025-06-08T19:03:37.2049466+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T19:03:37.2051401+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:03:37.2051951+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:03:37.2052893+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:03:37.2053680+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T19:03:37.2054658+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T19:03:37.2054999+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""IT-FACULTY""
2025-06-08T19:03:37.2055292+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:03:37.2056048+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T19:03:37.2056565+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T19:03:37.2056828+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T19:03:37.2057152+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:03:37.2057464+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T19:03:37.2058568+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:03:37.2059165+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:03:37.2060171+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:03:37.2060893+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:03:37.2061429+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T19:03:37.2061900+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T19:03:37.2062188+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:03:37.2062401+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:03:37.2062669+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T19:03:37.2062901+07:00 [DBG] (///) Could not find a value in the request with name '"PageSize"' for binding property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:03:37.2063134+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:03:37.2063390+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T19:03:37.2063630+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:03:37.2063870+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:03:37.2064095+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T19:03:37.2064313+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:03:37.2064515+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:03:37.2064751+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:03:37.2064962+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:03:37.2065226+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:03:37.2065766+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:03:37.2066093+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:03:37.2066546+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:03:37.2066784+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:03:37.2066961+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:03:37.2068323+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T19:03:37.2069544+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 0, OrderBy: null, Filter: null })]
2025-06-08T19:03:37.3237933+07:00 [DBG] (///) Connection id ""0HND6GE6VKPFL"" disconnecting.
2025-06-08T19:03:37.2048402+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
Autofac.Core.DependencyResolutionException: An exception was thrown while activating FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler -> FacultyService.Application.FacultyDbContext.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while invoking the constructor 'Void .ctor(Microsoft.EntityFrameworkCore.DbContextOptions`1[FacultyService.Application.FacultyDbContext], Finbuckle.MultiTenant.Abstractions.IMultiTenantContextAccessor`1[FacultyService.Domain.AppTenantInfo], Finbuckle.MultiTenant.Abstractions.IMultiTenantStore`1[FacultyService.Domain.AppTenantInfo], Microsoft.Extensions.Configuration.IConfiguration)' on type 'FacultyDbContext'.
 ---> System.InvalidOperationException: TenantInfo is null. Ensure the tenant is set before using the DbContext.
   at FacultyService.Application.FacultyDbContext..ctor(DbContextOptions`1 options, IMultiTenantContextAccessor`1 multiTenantContextAccessor, IMultiTenantStore`1 test, IConfiguration configuration) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/FacultyDbContext.cs:line 26
   at lambda_method75(Closure, Object[])
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   --- End of inner exception stack trace ---
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   at Autofac.Core.Activators.Reflection.ReflectionActivator.<>c__DisplayClass14_0.<UseSingleConstructorActivation>b__0(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DelegateMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Extensions.DependencyInjection.KeyedServiceMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.RegistrationPipelineInvokeMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.ScopeSelectionMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.Autofac.IComponentContext.ResolveComponent(ResolveRequest& request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetRequiredService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0(CancellationToken t)
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
   at FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses(GridifyQuery gridifyQuery, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api/Classes/Controller/ClassesController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Finbuckle.MultiTenant.AspNetCore.Internal.MultiTenantMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-08T19:03:37.3614168+07:00 [ERR] (///) An exception was thrown attempting to execute the error handler.
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponsePipeWriter.FlushAsync(CancellationToken cancellationToken)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Shared.Exception.ExceptionHandler.TryHandleAsync(HttpContext httpContext, Exception exception, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Exception/ExceptionHandler.cs:line 47
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
2025-06-08T19:03:37.3235842+07:00 [ERR] (///) Error processing request "DefaultClassQuery" after 116ms
Autofac.Core.DependencyResolutionException: An exception was thrown while activating FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler -> FacultyService.Application.FacultyDbContext.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while invoking the constructor 'Void .ctor(Microsoft.EntityFrameworkCore.DbContextOptions`1[FacultyService.Application.FacultyDbContext], Finbuckle.MultiTenant.Abstractions.IMultiTenantContextAccessor`1[FacultyService.Domain.AppTenantInfo], Finbuckle.MultiTenant.Abstractions.IMultiTenantStore`1[FacultyService.Domain.AppTenantInfo], Microsoft.Extensions.Configuration.IConfiguration)' on type 'FacultyDbContext'.
 ---> System.InvalidOperationException: TenantInfo is null. Ensure the tenant is set before using the DbContext.
   at FacultyService.Application.FacultyDbContext..ctor(DbContextOptions`1 options, IMultiTenantContextAccessor`1 multiTenantContextAccessor, IMultiTenantStore`1 test, IConfiguration configuration) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/FacultyDbContext.cs:line 26
   at lambda_method75(Closure, Object[])
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   --- End of inner exception stack trace ---
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   at Autofac.Core.Activators.Reflection.ReflectionActivator.<>c__DisplayClass14_0.<UseSingleConstructorActivation>b__0(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DelegateMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Extensions.DependencyInjection.KeyedServiceMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.RegistrationPipelineInvokeMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.ScopeSelectionMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.Autofac.IComponentContext.ResolveComponent(ResolveRequest& request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetRequiredService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0(CancellationToken t)
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
2025-06-08T19:03:40.3778926+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 3171.9704ms
2025-06-08T19:03:40.3781783+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:03:37.3848890+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
Autofac.Core.DependencyResolutionException: An exception was thrown while activating FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler -> FacultyService.Application.FacultyDbContext.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while invoking the constructor 'Void .ctor(Microsoft.EntityFrameworkCore.DbContextOptions`1[FacultyService.Application.FacultyDbContext], Finbuckle.MultiTenant.Abstractions.IMultiTenantContextAccessor`1[FacultyService.Domain.AppTenantInfo], Finbuckle.MultiTenant.Abstractions.IMultiTenantStore`1[FacultyService.Domain.AppTenantInfo], Microsoft.Extensions.Configuration.IConfiguration)' on type 'FacultyDbContext'.
 ---> System.InvalidOperationException: TenantInfo is null. Ensure the tenant is set before using the DbContext.
   at FacultyService.Application.FacultyDbContext..ctor(DbContextOptions`1 options, IMultiTenantContextAccessor`1 multiTenantContextAccessor, IMultiTenantStore`1 test, IConfiguration configuration) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/FacultyDbContext.cs:line 26
   at lambda_method75(Closure, Object[])
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   --- End of inner exception stack trace ---
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   at Autofac.Core.Activators.Reflection.ReflectionActivator.<>c__DisplayClass14_0.<UseSingleConstructorActivation>b__0(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DelegateMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Extensions.DependencyInjection.KeyedServiceMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.RegistrationPipelineInvokeMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.ScopeSelectionMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.Autofac.IComponentContext.ResolveComponent(ResolveRequest& request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetRequiredService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0(CancellationToken t)
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
   at FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses(GridifyQuery gridifyQuery, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api/Classes/Controller/ClassesController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Finbuckle.MultiTenant.AspNetCore.Internal.MultiTenantMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-08T19:03:40.3784170+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
Autofac.Core.DependencyResolutionException: An exception was thrown while activating FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler -> FacultyService.Application.FacultyDbContext.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while invoking the constructor 'Void .ctor(Microsoft.EntityFrameworkCore.DbContextOptions`1[FacultyService.Application.FacultyDbContext], Finbuckle.MultiTenant.Abstractions.IMultiTenantContextAccessor`1[FacultyService.Domain.AppTenantInfo], Finbuckle.MultiTenant.Abstractions.IMultiTenantStore`1[FacultyService.Domain.AppTenantInfo], Microsoft.Extensions.Configuration.IConfiguration)' on type 'FacultyDbContext'.
 ---> System.InvalidOperationException: TenantInfo is null. Ensure the tenant is set before using the DbContext.
   at FacultyService.Application.FacultyDbContext..ctor(DbContextOptions`1 options, IMultiTenantContextAccessor`1 multiTenantContextAccessor, IMultiTenantStore`1 test, IConfiguration configuration) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/FacultyDbContext.cs:line 26
   at lambda_method75(Closure, Object[])
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   --- End of inner exception stack trace ---
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   at Autofac.Core.Activators.Reflection.ReflectionActivator.<>c__DisplayClass14_0.<UseSingleConstructorActivation>b__0(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DelegateMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Extensions.DependencyInjection.KeyedServiceMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.RegistrationPipelineInvokeMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.ScopeSelectionMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.Autofac.IComponentContext.ResolveComponent(ResolveRequest& request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetRequiredService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0(CancellationToken t)
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
   at FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses(GridifyQuery gridifyQuery, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api/Classes/Controller/ClassesController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Finbuckle.MultiTenant.AspNetCore.Internal.MultiTenantMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-08T19:03:40.3874740+07:00 [ERR] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 500 in 3181.9950 ms
2025-06-08T19:03:40.3876104+07:00 [DBG] (///) Connection id ""0HND6GE6VKPFM"" completed keep alive response.
2025-06-08T19:03:40.3877550+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - 500 null "application/problem+json" 3182.7809ms
2025-06-08T19:03:40.4111393+07:00 [ERR] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 500 in 402245.9023 ms
2025-06-08T19:03:40.4113669+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - 499 null "application/problem+json" 402248.8585ms
2025-06-08T19:03:40.4136204+07:00 [DBG] (///) Connection id ""0HND6GE6VKPFL"" stopped.
2025-06-08T19:03:53.8547630+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T19:03:53.9917870+07:00 [DBG] (///) Hosting starting
2025-06-08T19:03:54.0520163+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T19:03:54.0536362+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T19:03:54.1308836+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T19:03:54.1323902+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T19:03:54.1410664+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T19:03:54.1417336+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T19:03:54.1417990+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T19:03:54.1418876+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T19:03:54.1422541+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T19:03:54.1423073+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T19:03:54.1423391+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T19:03:54.1424110+07:00 [DBG] (///) Hosting started
2025-06-08T19:04:04.2051130+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T19:04:04.3391080+07:00 [DBG] (///) Hosting starting
2025-06-08T19:04:04.4098469+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T19:04:04.4115988+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T19:04:04.4846862+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T19:04:04.4863282+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T19:04:04.4965560+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T19:04:04.4971634+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T19:04:04.4972273+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T19:04:04.4973018+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T19:04:04.4976109+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T19:04:04.4976633+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T19:04:04.4976790+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T19:04:04.4977399+07:00 [DBG] (///) Hosting started
2025-06-08T19:04:18.2228331+07:00 [INF] (///) Application is shutting down...
2025-06-08T19:04:18.2241594+07:00 [DBG] (///) Hosting stopping
2025-06-08T19:04:18.2762812+07:00 [DBG] (///) Hosting stopped
2025-06-08T19:05:28.6449507+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T19:05:28.7789954+07:00 [DBG] (///) Hosting starting
2025-06-08T19:05:28.8524649+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T19:05:28.8543058+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T19:05:28.9258284+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T19:05:28.9274004+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T19:05:28.9389356+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T19:05:28.9394784+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T19:05:28.9395356+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T19:05:28.9396106+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T19:05:28.9398957+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T19:05:28.9399412+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T19:05:28.9399622+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T19:05:28.9400164+07:00 [DBG] (///) Hosting started
2025-06-08T19:05:30.3985299+07:00 [INF] (///) Application is shutting down...
2025-06-08T19:05:30.3994985+07:00 [DBG] (///) Hosting stopping
2025-06-08T19:05:30.4296666+07:00 [DBG] (///) Hosting stopped
2025-06-08T19:14:53.0320012+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T19:14:53.1780751+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T19:14:53.1826684+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""IT-FACULTY""
2025-06-08T19:14:53.1845929+07:00 [DBG] (///) Hosting starting
2025-06-08T19:14:53.2427972+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T19:14:53.2455352+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T19:14:53.3204466+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T19:14:53.3216979+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T19:14:53.3347099+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T19:14:53.3356674+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T19:14:53.3357407+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T19:14:53.3358500+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T19:14:53.3369035+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T19:14:53.3369863+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T19:14:53.3370201+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T19:14:53.3370982+07:00 [DBG] (///) Hosting started
2025-06-08T19:14:59.9031865+07:00 [DBG] (///) Connection id ""0HND6GOBGPQ5F"" accepted.
2025-06-08T19:14:59.9041009+07:00 [DBG] (///) Connection id ""0HND6GOBGPQ5F"" started.
2025-06-08T19:14:59.9258900+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T19:14:59.9834409+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:14:59.9865192+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:14:59.9888471+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:14:59.9939918+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T19:14:59.9959290+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T19:14:59.9960205+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""IT-FACULTY""
2025-06-08T19:14:59.9967173+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:15:00.0150919+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T19:15:00.0176027+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T19:15:00.0177968+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T19:15:00.0182889+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:15:00.0184380+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T19:15:00.0185276+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:15:00.0199315+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:15:00.0205481+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:15:00.0233707+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:15:00.0245069+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T19:15:00.0272352+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T19:15:00.0276402+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:15:00.0278527+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:15:00.0291785+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T19:15:00.0292354+07:00 [DBG] (///) Could not find a value in the request with name '"PageSize"' for binding property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:15:00.0292600+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:15:00.0292998+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T19:15:00.0293267+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:15:00.0293503+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:15:00.0293736+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T19:15:00.0294015+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:15:00.0294258+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:15:00.0295554+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:15:00.0296257+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:15:00.0296625+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:15:00.0345937+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:15:00.0346783+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:15:00.0351100+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:15:00.0351529+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:15:00.0352558+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:15:00.0412719+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T19:15:00.0519890+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 0, OrderBy: null, Filter: null })]
2025-06-08T19:15:00.3010729+07:00 [ERR] (///) Error processing request "DefaultClassQuery" after 246ms
Autofac.Core.DependencyResolutionException: An exception was thrown while activating FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler -> FacultyService.Application.FacultyDbContext.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while invoking the constructor 'Void .ctor(Microsoft.EntityFrameworkCore.DbContextOptions`1[FacultyService.Application.FacultyDbContext], Finbuckle.MultiTenant.Abstractions.IMultiTenantContextAccessor`1[FacultyService.Domain.AppTenantInfo], Finbuckle.MultiTenant.Abstractions.IMultiTenantStore`1[FacultyService.Domain.AppTenantInfo], Microsoft.Extensions.Configuration.IConfiguration)' on type 'FacultyDbContext'.
 ---> System.InvalidOperationException: TenantInfo is null. Ensure the tenant is set before using the DbContext.
   at FacultyService.Application.FacultyDbContext..ctor(DbContextOptions`1 options, IMultiTenantContextAccessor`1 multiTenantContextAccessor, IMultiTenantStore`1 store, IConfiguration configuration) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/FacultyDbContext.cs:line 26
   at lambda_method75(Closure, Object[])
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   --- End of inner exception stack trace ---
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   at Autofac.Core.Activators.Reflection.ReflectionActivator.<>c__DisplayClass14_0.<UseSingleConstructorActivation>b__0(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DelegateMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Extensions.DependencyInjection.KeyedServiceMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.RegistrationPipelineInvokeMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.ScopeSelectionMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.Autofac.IComponentContext.ResolveComponent(ResolveRequest& request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetRequiredService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0(CancellationToken t)
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
2025-06-08T19:15:56.3549560+07:00 [DBG] (///) Connection id ""0HND6GOBGPQ5G"" accepted.
2025-06-08T19:15:56.3549117+07:00 [DBG] (///) Connection id ""0HND6GOBGPQ5F"" received FIN.
2025-06-08T19:15:56.3550347+07:00 [DBG] (///) Connection id ""0HND6GOBGPQ5G"" started.
2025-06-08T19:15:56.3555013+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T19:15:56.3675151+07:00 [DBG] (///) Connection id ""0HND6GOBGPQ5F"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-08T19:15:56.3681622+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:15:56.3897085+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:15:56.3899405+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:15:56.3902376+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T19:15:56.3904088+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T19:15:56.3904583+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""IT-FACULTY""
2025-06-08T19:15:56.3905284+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:15:56.3908017+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T19:15:56.3908805+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T19:15:56.3909097+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T19:15:56.3909524+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:15:56.3909837+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T19:15:56.3910150+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:15:56.3910633+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:15:56.3911233+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:15:56.3912817+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:15:56.3913749+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T19:15:56.3914410+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T19:15:56.3914798+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:15:56.3915071+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:15:56.3915998+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T19:15:56.3916265+07:00 [DBG] (///) Could not find a value in the request with name '"PageSize"' for binding property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:15:56.3916503+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:15:56.3916711+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T19:15:56.3916944+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:15:56.3917213+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:15:56.3917460+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T19:15:56.3917699+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:15:56.3917921+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:15:56.3918341+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:15:56.3918586+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:15:56.3918769+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:15:56.3920482+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:15:56.3921033+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:15:56.3923902+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:15:56.3924339+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:15:56.3924634+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:15:56.3927818+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T19:15:56.3930244+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 0, OrderBy: null, Filter: null })]
2025-06-08T19:15:56.3944645+07:00 [DBG] (///) Connection id ""0HND6GOBGPQ5F"" disconnecting.
2025-06-08T19:15:56.3975433+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 56376.3513ms
2025-06-08T19:15:56.4389320+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:15:56.4388706+07:00 [ERR] (///) Error processing request "DefaultClassQuery" after 45ms
Autofac.Core.DependencyResolutionException: An exception was thrown while activating FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler -> FacultyService.Application.FacultyDbContext.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while invoking the constructor 'Void .ctor(Microsoft.EntityFrameworkCore.DbContextOptions`1[FacultyService.Application.FacultyDbContext], Finbuckle.MultiTenant.Abstractions.IMultiTenantContextAccessor`1[FacultyService.Domain.AppTenantInfo], Finbuckle.MultiTenant.Abstractions.IMultiTenantStore`1[FacultyService.Domain.AppTenantInfo], Microsoft.Extensions.Configuration.IConfiguration)' on type 'FacultyDbContext'.
 ---> System.InvalidOperationException: TenantInfo is null. Ensure the tenant is set before using the DbContext.
   at FacultyService.Application.FacultyDbContext..ctor(DbContextOptions`1 options, IMultiTenantContextAccessor`1 multiTenantContextAccessor, IMultiTenantStore`1 store, IConfiguration configuration) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/FacultyDbContext.cs:line 26
   at lambda_method75(Closure, Object[])
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   --- End of inner exception stack trace ---
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   at Autofac.Core.Activators.Reflection.ReflectionActivator.<>c__DisplayClass14_0.<UseSingleConstructorActivation>b__0(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DelegateMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Extensions.DependencyInjection.KeyedServiceMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.RegistrationPipelineInvokeMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.ScopeSelectionMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.Autofac.IComponentContext.ResolveComponent(ResolveRequest& request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetRequiredService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0(CancellationToken t)
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
2025-06-08T19:16:04.4814286+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T19:16:04.6245587+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T19:16:04.6289027+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""IT-FACULTY""
2025-06-08T19:16:04.6306790+07:00 [DBG] (///) Hosting starting
2025-06-08T19:16:04.6863034+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T19:16:04.6881711+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T19:16:04.7682733+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T19:16:04.7693592+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T19:16:04.7770000+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T19:16:04.7775535+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T19:16:04.7776066+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T19:16:04.7776770+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T19:16:04.7779634+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T19:16:04.7780133+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T19:16:04.7780379+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T19:16:04.7780825+07:00 [DBG] (///) Hosting started
2025-06-08T19:16:13.1070261+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T19:16:13.2500404+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T19:16:13.2546167+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""IT-FACULTY""
2025-06-08T19:18:41.0859904+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T19:19:10.4110089+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T19:19:50.1641863+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""IT-FACULTY""
2025-06-08T19:21:13.6806212+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T19:21:16.7509786+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T19:22:39.7735079+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T19:22:43.3506777+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T19:26:28.7960041+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T19:26:31.1105334+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T19:26:46.8632525+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""IT-FACULTY""
2025-06-08T19:27:46.0432697+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T19:28:09.8640296+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T19:28:14.6525422+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT""
2025-06-08T19:28:33.8406892+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""IT""
2025-06-08T19:31:08.5810887+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T19:31:08.7264026+07:00 [DBG] (///) Hosting starting
2025-06-08T19:31:08.7905169+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T19:31:08.7925475+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T19:31:08.8759385+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T19:31:08.8776298+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T19:31:08.8881031+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T19:31:08.8887917+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T19:31:08.8888857+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T19:31:08.8889808+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T19:31:08.8893588+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T19:31:08.8894139+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T19:31:08.8894549+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T19:31:08.8895468+07:00 [DBG] (///) Hosting started
2025-06-08T19:31:30.6027652+07:00 [DBG] (///) Connection id ""0HND6H1IORAPK"" accepted.
2025-06-08T19:31:30.6034405+07:00 [DBG] (///) Connection id ""0HND6H1IORAPK"" started.
2025-06-08T19:31:30.6334592+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T19:31:30.7325967+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:31:30.7382409+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' was rejected by constraint '"facultyCode"':'"FacultyService.Api.FacultyConstraint"' with value '"it-faculty"' for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:31:30.7416515+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is not valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:31:30.7444187+07:00 [DBG] (///) Request did not match any endpoints
2025-06-08T19:31:30.7506452+07:00 [DBG] (///) The request path "" does not match the path filter
2025-06-08T19:31:34.1310654+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT""
2025-06-08T19:31:37.1669346+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""IT""
2025-06-08T19:31:37.1734309+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 404 in 6421.1812 ms
2025-06-08T19:31:37.1820549+07:00 [DBG] (///) Connection id ""0HND6H1IORAPK"" completed keep alive response.
2025-06-08T19:31:37.1857915+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - 404 0 null 6553.6981ms
2025-06-08T19:31:37.1869711+07:00 [INF] (///) Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes", Response status code: 404
2025-06-08T19:31:38.1894081+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T19:31:38.1901588+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:31:38.1902771+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' was rejected by constraint '"facultyCode"':'"FacultyService.Api.FacultyConstraint"' with value '"it-faculty"' for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:31:38.1903177+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is not valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:31:38.1903620+07:00 [DBG] (///) Request did not match any endpoints
2025-06-08T19:31:38.1904905+07:00 [DBG] (///) The request path "" does not match the path filter
2025-06-08T19:31:41.5366362+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT""
2025-06-08T19:31:42.8569724+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""IT""
2025-06-08T19:31:42.8598337+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 404 in 4669.1924 ms
2025-06-08T19:31:42.8601018+07:00 [DBG] (///) Connection id ""0HND6H1IORAPK"" completed keep alive response.
2025-06-08T19:31:42.8602619+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - 404 0 null 4670.8747ms
2025-06-08T19:31:42.8603330+07:00 [INF] (///) Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes", Response status code: 404
2025-06-08T19:31:58.0347228+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T19:31:58.1733511+07:00 [DBG] (///) Hosting starting
2025-06-08T19:31:58.2363672+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T19:31:58.2381751+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T19:31:58.3155004+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T19:31:58.3173487+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T19:31:58.3298665+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T19:31:58.3306128+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T19:31:58.3307085+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T19:31:58.3308127+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T19:31:58.3312139+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T19:31:58.3312987+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T19:31:58.3313378+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T19:31:58.3314200+07:00 [DBG] (///) Hosting started
2025-06-08T19:32:03.9363587+07:00 [DBG] (///) Connection id ""0HND6H1SMNUB1"" accepted.
2025-06-08T19:32:03.9370438+07:00 [DBG] (///) Connection id ""0HND6H1SMNUB1"" started.
2025-06-08T19:32:03.9632601+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T19:32:04.0546896+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:32:04.0591986+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' was rejected by constraint '"facultyCode"':'"FacultyService.Api.FacultyConstraint"' with value '"it-faculty"' for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:32:04.0621368+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is not valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:32:04.0653396+07:00 [DBG] (///) Request did not match any endpoints
2025-06-08T19:32:04.0812553+07:00 [DBG] (///) The request path "" does not match the path filter
2025-06-08T19:32:04.0985006+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT""
2025-06-08T19:32:09.6733147+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""IT""
2025-06-08T19:32:09.6791499+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 404 in 5606.8560 ms
2025-06-08T19:32:09.6855300+07:00 [DBG] (///) Connection id ""0HND6H1SMNUB1"" completed keep alive response.
2025-06-08T19:32:09.6889486+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - 404 0 null 5727.7755ms
2025-06-08T19:32:09.6901128+07:00 [INF] (///) Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes", Response status code: 404
2025-06-08T19:32:10.6930304+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T19:32:10.6939354+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:32:10.6940933+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' was rejected by constraint '"facultyCode"':'"FacultyService.Api.FacultyConstraint"' with value '"it-faculty"' for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:32:10.6941361+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is not valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:32:10.6941886+07:00 [DBG] (///) Request did not match any endpoints
2025-06-08T19:32:10.6943252+07:00 [DBG] (///) The request path "" does not match the path filter
2025-06-08T19:32:10.6944987+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT""
2025-06-08T19:32:10.6945639+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""IT""
2025-06-08T19:32:10.6947264+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 404 in 0.3398 ms
2025-06-08T19:32:10.6948896+07:00 [DBG] (///) Connection id ""0HND6H1SMNUB1"" completed keep alive response.
2025-06-08T19:32:10.6950075+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - 404 0 null 2.0796ms
2025-06-08T19:32:10.6950697+07:00 [INF] (///) Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes", Response status code: 404
2025-06-08T19:32:31.2140693+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T19:32:31.3431281+07:00 [DBG] (///) Hosting starting
2025-06-08T19:32:31.4058938+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T19:32:31.4078573+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T19:32:31.4808261+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T19:32:31.4823880+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T19:32:31.4921889+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T19:32:31.4926928+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T19:32:31.4927301+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T19:32:31.4928025+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T19:32:31.4930791+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T19:32:31.4931229+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T19:32:31.4931479+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T19:32:31.4931844+07:00 [DBG] (///) Hosting started
2025-06-08T19:32:38.6430627+07:00 [DBG] (///) Connection id ""0HND6H271NHA5"" accepted.
2025-06-08T19:32:38.6439433+07:00 [DBG] (///) Connection id ""0HND6H271NHA5"" started.
2025-06-08T19:32:38.6820568+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T19:32:38.7720294+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:32:38.7765351+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' was rejected by constraint '"facultyCode"':'"FacultyService.Api.FacultyConstraint"' with value '"it-faculty"' for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:32:38.7793542+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is not valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:32:38.7819879+07:00 [DBG] (///) Request did not match any endpoints
2025-06-08T19:32:38.7870505+07:00 [DBG] (///) The request path "" does not match the path filter
2025-06-08T19:32:38.8010694+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT""
2025-06-08T19:32:38.8047356+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""IT""
2025-06-08T19:32:38.8116531+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 404 in 21.9781 ms
2025-06-08T19:32:38.8219472+07:00 [DBG] (///) Connection id ""0HND6H271NHA5"" completed keep alive response.
2025-06-08T19:32:38.8253926+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - 404 0 null 145.5058ms
2025-06-08T19:32:38.8268307+07:00 [INF] (///) Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes", Response status code: 404
2025-06-08T19:32:39.8285994+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T19:32:39.8295480+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:32:39.8297356+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' was rejected by constraint '"facultyCode"':'"FacultyService.Api.FacultyConstraint"' with value '"it-faculty"' for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:32:39.8298510+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is not valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:32:39.8299095+07:00 [DBG] (///) Request did not match any endpoints
2025-06-08T19:32:39.8300495+07:00 [DBG] (///) The request path "" does not match the path filter
2025-06-08T19:32:39.8302473+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT""
2025-06-08T19:32:39.8303206+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""IT""
2025-06-08T19:32:39.8304995+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 404 in 0.3820 ms
2025-06-08T19:32:39.8306589+07:00 [DBG] (///) Connection id ""0HND6H271NHA5"" completed keep alive response.
2025-06-08T19:32:39.8307706+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - 404 0 null 2.249ms
2025-06-08T19:32:39.8308245+07:00 [INF] (///) Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes", Response status code: 404
2025-06-08T19:33:22.4406140+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T19:33:22.5683768+07:00 [DBG] (///) Hosting starting
2025-06-08T19:33:22.6297600+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T19:33:22.6315562+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T19:33:22.7118661+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T19:33:22.7136070+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T19:33:22.7237548+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T19:33:22.7242959+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T19:33:22.7243382+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T19:33:22.7244020+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T19:33:22.7247145+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T19:33:22.7247606+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T19:33:22.7247908+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T19:33:22.7248443+07:00 [DBG] (///) Hosting started
2025-06-08T19:33:25.9753531+07:00 [DBG] (///) Connection id ""0HND6H2L546MI"" accepted.
2025-06-08T19:33:25.9761485+07:00 [DBG] (///) Connection id ""0HND6H2L546MI"" started.
2025-06-08T19:33:26.0038326+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T19:33:26.0845917+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:33:26.0899664+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' was rejected by constraint '"facultyCode"':'"FacultyService.Api.FacultyConstraint"' with value '"it-faculty"' for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:33:26.0942190+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is not valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:33:26.0980297+07:00 [DBG] (///) Request did not match any endpoints
2025-06-08T19:33:26.1072680+07:00 [DBG] (///) The request path "" does not match the path filter
2025-06-08T19:33:26.1263196+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT""
2025-06-08T19:33:26.1306806+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""IT""
2025-06-08T19:33:26.1373080+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 404 in 30.2221 ms
2025-06-08T19:33:26.1440743+07:00 [DBG] (///) Connection id ""0HND6H2L546MI"" completed keep alive response.
2025-06-08T19:33:26.1478075+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - 404 0 null 145.1933ms
2025-06-08T19:33:26.1489243+07:00 [INF] (///) Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes", Response status code: 404
2025-06-08T19:33:27.1532462+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T19:33:27.1542175+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:33:27.1543327+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' was rejected by constraint '"facultyCode"':'"FacultyService.Api.FacultyConstraint"' with value '"it-faculty"' for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:33:27.1543900+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is not valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:33:27.1544409+07:00 [DBG] (///) Request did not match any endpoints
2025-06-08T19:33:27.1545812+07:00 [DBG] (///) The request path "" does not match the path filter
2025-06-08T19:33:27.1548196+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT""
2025-06-08T19:33:27.1548844+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""IT""
2025-06-08T19:33:27.1550432+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 404 in 0.4035 ms
2025-06-08T19:33:27.1552356+07:00 [DBG] (///) Connection id ""0HND6H2L546MI"" completed keep alive response.
2025-06-08T19:33:27.1553537+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - 404 0 null 2.1816ms
2025-06-08T19:33:27.1554117+07:00 [INF] (///) Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes", Response status code: 404
2025-06-08T19:33:47.0360330+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T19:33:47.1717661+07:00 [DBG] (///) Hosting starting
2025-06-08T19:33:47.2454891+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T19:33:47.2473261+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T19:33:47.3137627+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T19:33:47.3155061+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T19:33:47.3255604+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T19:33:47.3260712+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T19:33:47.3261348+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T19:33:47.3262051+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T19:33:47.3264737+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T19:33:47.3265131+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T19:33:47.3265322+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T19:33:47.3265665+07:00 [DBG] (///) Hosting started
2025-06-08T19:33:51.3510738+07:00 [DBG] (///) Connection id ""0HND6H2SN49OL"" accepted.
2025-06-08T19:33:51.3519330+07:00 [DBG] (///) Connection id ""0HND6H2SN49OL"" started.
2025-06-08T19:33:51.3758291+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T19:33:51.4615774+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:33:51.4670775+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' was rejected by constraint '"facultyCode"':'"FacultyService.Api.FacultyConstraint"' with value '"it-faculty"' for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:33:51.4709667+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is not valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:33:51.4744883+07:00 [DBG] (///) Request did not match any endpoints
2025-06-08T19:33:51.4838584+07:00 [DBG] (///) The request path "" does not match the path filter
2025-06-08T19:33:51.5008121+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT""
2025-06-08T19:33:51.5055861+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""IT""
2025-06-08T19:33:51.5145127+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 404 in 28.1734 ms
2025-06-08T19:33:51.5227917+07:00 [DBG] (///) Connection id ""0HND6H2SN49OL"" completed keep alive response.
2025-06-08T19:33:51.5266044+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - 404 0 null 151.8863ms
2025-06-08T19:33:51.5276762+07:00 [INF] (///) Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes", Response status code: 404
2025-06-08T19:33:52.5401211+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T19:33:52.5411026+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:33:52.5412436+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' was rejected by constraint '"facultyCode"':'"FacultyService.Api.FacultyConstraint"' with value '"it-faculty"' for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:33:52.5412923+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is not valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:33:52.5413484+07:00 [DBG] (///) Request did not match any endpoints
2025-06-08T19:33:52.5414894+07:00 [DBG] (///) The request path "" does not match the path filter
2025-06-08T19:33:52.5416702+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT""
2025-06-08T19:33:52.5417322+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""IT""
2025-06-08T19:33:52.5419146+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 404 in 0.3558 ms
2025-06-08T19:33:52.5420719+07:00 [DBG] (///) Connection id ""0HND6H2SN49OL"" completed keep alive response.
2025-06-08T19:33:52.5421982+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - 404 0 null 2.1709ms
2025-06-08T19:33:52.5422524+07:00 [INF] (///) Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes", Response status code: 404
2025-06-08T19:34:46.8349978+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T19:34:46.9592205+07:00 [DBG] (///) Hosting starting
2025-06-08T19:34:47.0338437+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T19:34:47.0355762+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T19:34:47.1023368+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T19:34:47.1038526+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T19:34:47.1129161+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T19:34:47.1134284+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T19:34:47.1134677+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T19:34:47.1135399+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T19:34:47.1138207+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T19:34:47.1138611+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T19:34:47.1138847+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T19:34:47.1139201+07:00 [DBG] (///) Hosting started
2025-06-08T19:34:49.6820091+07:00 [DBG] (///) Connection id ""0HND6H3E3DFMS"" accepted.
2025-06-08T19:34:49.6827338+07:00 [DBG] (///) Connection id ""0HND6H3E3DFMS"" started.
2025-06-08T19:34:49.7144639+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T19:34:49.7952968+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:34:49.8001639+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:34:49.8036916+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:34:49.8106269+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T19:34:49.8263941+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T19:34:49.8323084+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""IT-FACULTY""
2025-06-08T19:34:49.8345299+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:34:49.8557111+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T19:34:49.8582798+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T19:34:49.8585379+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T19:34:49.8590903+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:34:49.8593040+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T19:34:49.8594570+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:34:49.8612899+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:34:49.8621156+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:34:49.8657056+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:34:49.8680452+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T19:34:49.8717456+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T19:34:49.8722375+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:34:49.8725178+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:34:49.8739922+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T19:34:49.8740530+07:00 [DBG] (///) Could not find a value in the request with name '"PageSize"' for binding property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:34:49.8740885+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:34:49.8741314+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T19:34:49.8741680+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:34:49.8741927+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:34:49.8742184+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T19:34:49.8742482+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:34:49.8742717+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:34:49.8744103+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:34:49.8744908+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:34:49.8745987+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:34:49.8802485+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:34:49.8803878+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:34:49.8810020+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:34:49.8810681+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:34:49.8812242+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:34:49.8882003+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T19:34:49.9020442+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 0, OrderBy: null, Filter: null })]
2025-06-08T19:35:38.3768867+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T19:35:38.5023276+07:00 [DBG] (///) Hosting starting
2025-06-08T19:35:38.5638424+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T19:35:38.5657188+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T19:35:38.6357007+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T19:35:38.6375278+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T19:35:38.6695636+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T19:35:38.6700994+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T19:35:38.6701615+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T19:35:38.6702472+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T19:35:38.6705298+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T19:35:38.6705751+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T19:35:38.6705958+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T19:35:38.6706725+07:00 [DBG] (///) Hosting started
2025-06-08T19:35:46.2506390+07:00 [DBG] (///) Connection id ""0HND6H3UUSRS9"" accepted.
2025-06-08T19:35:46.2512627+07:00 [DBG] (///) Connection id ""0HND6H3UUSRS9"" started.
2025-06-08T19:35:46.2795773+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T19:35:46.3767952+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:35:46.3811416+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:35:46.3848398+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:35:46.3941496+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T19:35:46.4124066+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T19:35:46.4185893+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""IT-FACULTY""
2025-06-08T19:35:46.4213105+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:35:46.4447179+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T19:35:46.4500639+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T19:35:46.4504951+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T19:35:46.4514141+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:35:46.4517751+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T19:35:46.4520437+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:35:46.4549790+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:35:46.4563099+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:35:46.4609873+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:35:46.4635104+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T19:35:46.4714600+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T19:35:46.4722830+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:35:46.4726734+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:35:46.4748125+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T19:35:46.4750527+07:00 [DBG] (///) Could not find a value in the request with name '"PageSize"' for binding property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:35:46.4751413+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:35:46.4752435+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T19:35:46.4752978+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:35:46.4754659+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:35:46.4755308+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T19:35:46.4755863+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:35:46.4756340+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:35:46.4761146+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:35:46.4763363+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:35:46.4764613+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:35:46.4856914+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:35:46.4858810+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:35:46.4868265+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:35:46.4869305+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:35:46.4872042+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:35:46.4965336+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T19:35:46.5105756+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 0, OrderBy: null, Filter: null })]
2025-06-08T19:37:48.8416316+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T19:37:48.9889356+07:00 [DBG] (///) Hosting starting
2025-06-08T19:37:49.0554849+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T19:37:49.0571733+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T19:37:49.1247809+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T19:37:49.1264379+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T19:37:49.1780492+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T19:37:49.1785742+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T19:37:49.1786311+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T19:37:49.1787106+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T19:37:49.1789766+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T19:37:49.1790206+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T19:37:49.1790421+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T19:37:49.1791085+07:00 [DBG] (///) Hosting started
2025-06-08T19:38:07.5965362+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T19:38:07.7294005+07:00 [DBG] (///) Hosting starting
2025-06-08T19:38:07.7894538+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T19:38:07.7911668+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T19:38:07.8575652+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T19:38:07.8592133+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T19:38:07.8702682+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T19:38:07.8707712+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T19:38:07.8708196+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T19:38:07.8709137+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T19:38:07.8713320+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T19:38:07.8714111+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T19:38:07.8714556+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T19:38:07.8715467+07:00 [DBG] (///) Hosting started
2025-06-08T19:38:13.4659999+07:00 [DBG] (///) Connection id ""0HND6H5AQRD4J"" accepted.
2025-06-08T19:38:13.4667440+07:00 [DBG] (///) Connection id ""0HND6H5AQRD4J"" started.
2025-06-08T19:38:13.4934764+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T19:38:13.5795569+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:38:13.5844188+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:38:13.5880942+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:38:13.5963388+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T19:38:47.5067319+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T19:38:47.5111613+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""IT-FACULTY""
2025-06-08T19:38:47.5131087+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:38:47.5305069+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T19:38:47.5329715+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T19:38:47.5331407+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T19:38:47.5336139+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:38:47.5337649+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T19:38:47.5338494+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:38:47.5352387+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:38:47.5358680+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:38:47.5383927+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:38:47.5393893+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T19:38:47.5419999+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T19:38:47.5423451+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:38:47.5425505+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:38:47.5437725+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T19:38:47.5438311+07:00 [DBG] (///) Could not find a value in the request with name '"PageSize"' for binding property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:38:47.5438877+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:38:47.5439285+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T19:38:47.5439565+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:38:47.5439775+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:38:47.5440004+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T19:38:47.5440221+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:38:47.5440366+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:38:47.5441400+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:38:47.5441959+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:38:47.5442339+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:38:47.5492149+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:38:47.5493627+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:38:47.5498172+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:38:47.5498605+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:38:47.5499651+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:38:47.5567833+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T19:38:47.5671716+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 0, OrderBy: null, Filter: null })]
2025-06-08T19:39:02.0876523+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T19:39:02.2210808+07:00 [DBG] (///) Hosting starting
2025-06-08T19:39:02.2830066+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T19:39:02.2846882+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T19:39:02.3546629+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T19:39:02.3562187+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T19:39:02.3676017+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T19:39:02.3681917+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T19:39:02.3682549+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T19:39:02.3683369+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T19:39:02.3686166+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T19:39:02.3686612+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T19:39:02.3686905+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T19:39:02.3687351+07:00 [DBG] (///) Hosting started
2025-06-08T19:39:08.9378275+07:00 [DBG] (///) Connection id ""0HND6H5RBS2D4"" accepted.
2025-06-08T19:39:08.9388172+07:00 [DBG] (///) Connection id ""0HND6H5RBS2D4"" started.
2025-06-08T19:39:08.9665241+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T19:39:09.0459334+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:39:09.0510478+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:39:09.0540334+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:39:09.0612558+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T19:39:13.2773326+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T19:39:13.2815093+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""IT-FACULTY""
2025-06-08T19:39:13.2835650+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:39:13.3033279+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T19:39:13.3060053+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T19:39:13.3062230+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T19:39:13.3067487+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:39:13.3069196+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T19:39:13.3070408+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:39:13.3084921+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:39:13.3092009+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:39:13.3120950+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:39:13.3134111+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T19:39:13.3163849+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T19:39:13.3168641+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:39:13.3171007+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:39:13.3185272+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T19:39:13.3185991+07:00 [DBG] (///) Could not find a value in the request with name '"PageSize"' for binding property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:39:13.3186284+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:39:13.3186709+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T19:39:13.3186941+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:39:13.3187555+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:39:13.3187911+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T19:39:13.3188248+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:39:13.3188476+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:39:13.3190056+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:39:13.3190815+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:39:13.3191239+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:39:13.3250714+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:39:13.3252602+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:39:13.3262984+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:39:13.3263910+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:39:13.3266013+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:39:13.3378779+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T19:39:13.3526103+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 0, OrderBy: null, Filter: null })]
2025-06-08T19:39:27.0578561+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T19:39:27.2035349+07:00 [DBG] (///) Hosting starting
2025-06-08T19:39:27.2672120+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T19:39:27.2689548+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T19:39:27.3385651+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T19:39:27.3403015+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T19:39:27.3716015+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T19:39:27.3721179+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T19:39:27.3721550+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T19:39:27.3722212+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T19:39:27.3724695+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T19:39:27.3725158+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T19:39:27.3725349+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T19:39:27.3725724+07:00 [DBG] (///) Hosting started
2025-06-08T19:39:27.9631631+07:00 [DBG] (///) Connection id ""0HND6H611A4JS"" accepted.
2025-06-08T19:39:27.9638684+07:00 [DBG] (///) Connection id ""0HND6H611A4JS"" started.
2025-06-08T19:39:27.9935217+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T19:39:28.0667082+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:39:28.0711615+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:39:28.0744803+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:39:28.0827214+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T19:44:38.6593236+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T19:44:38.6632732+07:00 [DBG] (///) TryGetByIdentifierAsync: Unable to find Tenant with identifier ""IT-FACULTY""
2025-06-08T19:44:38.6655320+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:44:38.6850999+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T19:44:38.6890529+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T19:44:38.6893083+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T19:44:38.6900255+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:44:38.6902127+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T19:44:38.6903325+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:44:38.6919363+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:44:38.6927799+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:44:38.6965532+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:44:38.6979780+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T19:44:38.7011475+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T19:44:38.7016708+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:44:38.7019307+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:44:38.7036637+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T19:44:38.7037585+07:00 [DBG] (///) Could not find a value in the request with name '"PageSize"' for binding property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:44:38.7038001+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:44:38.7038574+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T19:44:38.7038995+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:44:38.7039342+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:44:38.7039678+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T19:44:38.7040681+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:44:38.7041049+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:44:38.7043054+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:44:38.7043899+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:44:38.7044492+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:44:38.7104457+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:44:38.7105624+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:44:38.7111454+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:44:38.7112094+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:44:38.7114245+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:44:38.7191810+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T19:44:38.7331972+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 0, OrderBy: null, Filter: null })]
2025-06-08T19:44:38.9074294+07:00 [DBG] (///) Config reload token fired. Checking for changes...
2025-06-08T19:44:38.9080784+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T19:44:38.9081480+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T19:44:39.0096659+07:00 [DBG] (///) An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration changed for 'Core:EnableSensitiveDataLogging', configuration changed for 'Core:EnableDetailedErrors', configuration changed for 'Core:ConfigureWarnings', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseAdminDatabase', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:SetPostgresVersion', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseRedshift', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ReverseNullOrdering', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:RemoteCertificateValidationCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvideClientCertificatesCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvidePasswordCallback'".
2025-06-08T19:44:39.6435792+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Class"' as the properties are already covered by the index "{'FacultyCode', 'ClassCode'}".
2025-06-08T19:44:39.6438788+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"CreditClass"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId'}".
2025-06-08T19:44:39.6439611+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId', 'StudentCode'}".
2025-06-08T19:44:39.6440149+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'StudentCode'}".
2025-06-08T19:44:39.6440596+07:00 [DBG] (///) The index "{'FacultyCode', 'CreditClassId'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId', 'StudentCode'}".
2025-06-08T19:44:39.6441105+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Student"' as the properties are already covered by the index "{'FacultyCode', 'StudentCode'}".
2025-06-08T19:44:39.6441457+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Student"' as the properties are already covered by the index "{'FacultyCode', 'ClassCode'}".
2025-06-08T19:44:39.7307846+07:00 [WRN] (///) Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-06-08T19:44:39.7640456+07:00 [WRN] (///) The foreign key property '"Registration"."StudentCode1"' was created in shadow state because a conflicting property with the simple name '"StudentCode"' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-08T19:44:39.7656187+07:00 [DBG] (///) The property '"Registration"."StudentFacultyCode"' was created in shadow state because there are no eligible CLR members with a matching name.
2025-06-08T19:44:39.8887973+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-08T19:44:39.9503437+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Class>()
    .OrderBy(__Class => __Class.ClassCode)
    .Select(c => new ClassBasicResponse{ 
        ClassCode = c.ClassCode, 
        ClassName = c.ClassName, 
        FacultyCode = c.FacultyCode, 
        StudentCount = c.Students.Count, 
        FacultyName = c.FacultyCodeNavigation.FacultyName, 
        AcademicYearCode = c.AcademicYearCode 
    }
    )
    .Count()"'
2025-06-08T19:44:40.2842558+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => 
{
    queryContext.AddParameter(
        name: \"__ef_filter__Id_0\", 
        value: (object)Invoke(queryContext => ((FacultyDbContext)queryContext.Context).TenantInfo.Id, queryContext));
    return ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
        asyncEnumerable: SingleQueryingEnumerable.Create<int>(
            relationalQueryContext: (RelationalQueryContext)queryContext, 
            relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
                Projection Mapping:
                    EmptyProjectionMember -> 0
                SELECT CAST(count(*) AS integer)
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0) | Resolver: c => new RelationalCommandCache(
                c.Dependencies.MemoryCache, 
                c.RelationalDependencies.QuerySqlGeneratorFactory, 
                c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
                Projection Mapping:
                    EmptyProjectionMember -> 0
                SELECT CAST(count(*) AS integer)
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0, 
                False, 
                new HashSet<string>(
                    new string[]{ }, 
                    StringComparer.Ordinal
                )
            )].GetRelationalCommandTemplate(parameters), 
            readerColumns: null, 
            shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                int? value1;
                value1 = try { dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0) } catch (Exception) { ... } ;
                return (int)value1;
            }, 
            contextType: FacultyService.Application.FacultyDbContext, 
            standAloneStateManager: False, 
            detailedErrorsEnabled: True, 
            threadSafetyChecksEnabled: True), 
        cancellationToken: queryContext.CancellationToken);
}"'
2025-06-08T19:44:40.3448208+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T19:44:40.4021680+07:00 [DBG] (///) Created DbConnection. (55ms).
2025-06-08T19:44:40.4059550+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:44:40.5559730+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:44:40.5630457+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:44:40.5701698+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (4ms).
2025-06-08T19:44:40.5791304+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (16ms).
2025-06-08T19:44:40.5892396+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:44:40.6912556+07:00 [INF] (///) Executed DbCommand ("102"ms) [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:44:40.7100196+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:44:40.7181808+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 20ms reading results.
2025-06-08T19:44:40.7235534+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:44:40.7287321+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (5ms).
2025-06-08T19:44:40.7330805+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Class>()
    .OrderBy(__Class => __Class.ClassCode)
    .Select(c => new ClassBasicResponse{ 
        ClassCode = c.ClassCode, 
        ClassName = c.ClassName, 
        FacultyCode = c.FacultyCode, 
        StudentCount = c.Students.Count, 
        FacultyName = c.FacultyCodeNavigation.FacultyName, 
        AcademicYearCode = c.AcademicYearCode 
    }
    )
    .Skip(__p_0)
    .Take(__p_0)"'
2025-06-08T19:44:40.8064412+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => 
{
    queryContext.AddParameter(
        name: \"__ef_filter__Id_0\", 
        value: (object)Invoke(queryContext => ((FacultyDbContext)queryContext.Context).TenantInfo.Id, queryContext));
    return SingleQueryingEnumerable.Create<ClassBasicResponse>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                ClassCode -> 0
                ClassName -> 1
                FacultyCode -> 2
                StudentCount -> 3
                FacultyName -> 4
                AcademicYearCode -> 5
            SELECT c0.class_code AS ClassCode, c0.class_name AS ClassName, c0.faculty_code AS FacultyCode, (
                SELECT CAST(count(*) AS integer)
                FROM student AS s
                WHERE (s.faculty_code == @__ef_filter__Id_0) && (((c0.faculty_code != NULL) && (c0.class_code != NULL)) && ((c0.faculty_code == s.faculty_code) && (c0.class_code == s.class_code)))) AS StudentCount, f0.faculty_name AS FacultyName, c0.academic_year_code AS AcademicYearCode
            FROM 
            (
                SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0
                ORDER BY c.class_code ASC
                OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
            ) AS c0
            INNER JOIN 
            (
                SELECT f.faculty_code, f.faculty_name
                FROM faculty AS f
                WHERE f.faculty_code == @__ef_filter__Id_0
            ) AS f0 ON c0.faculty_code == f0.faculty_code
            ORDER BY c0.class_code ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                ClassCode -> 0
                ClassName -> 1
                FacultyCode -> 2
                StudentCount -> 3
                FacultyName -> 4
                AcademicYearCode -> 5
            SELECT c0.class_code AS ClassCode, c0.class_name AS ClassName, c0.faculty_code AS FacultyCode, (
                SELECT CAST(count(*) AS integer)
                FROM student AS s
                WHERE (s.faculty_code == @__ef_filter__Id_0) && (((c0.faculty_code != NULL) && (c0.class_code != NULL)) && ((c0.faculty_code == s.faculty_code) && (c0.class_code == s.class_code)))) AS StudentCount, f0.faculty_name AS FacultyName, c0.academic_year_code AS AcademicYearCode
            FROM 
            (
                SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0
                ORDER BY c.class_code ASC
                OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
            ) AS c0
            INNER JOIN 
            (
                SELECT f.faculty_code, f.faculty_name
                FROM faculty AS f
                WHERE f.faculty_code == @__ef_filter__Id_0
            ) AS f0 ON c0.faculty_code == f0.faculty_code
            ORDER BY c0.class_code ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            string value1;
            string value2;
            string value3;
            int? value4;
            string value5;
            string value6;
            value1 = try { dataReader.GetString(0) } catch (Exception) { ... } ;
            value2 = try { dataReader.GetString(1) } catch (Exception) { ... } ;
            value3 = try { dataReader.GetString(2) } catch (Exception) { ... } ;
            value4 = try { dataReader.IsDBNull(3) ? default(int?) : (int?)dataReader.GetInt32(3) } catch (Exception) { ... } ;
            value5 = try { dataReader.GetString(4) } catch (Exception) { ... } ;
            value6 = try { dataReader.GetString(5) } catch (Exception) { ... } ;
            return new ClassBasicResponse{ 
                ClassCode = value1, 
                ClassName = value2, 
                FacultyCode = value3, 
                StudentCount = (int)value4, 
                FacultyName = value5, 
                AcademicYearCode = value6 
            }
            ;
        }, 
        contextType: FacultyService.Application.FacultyDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: True, 
        threadSafetyChecksEnabled: True);
}"'
2025-06-08T19:44:40.8160731+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:44:40.8167215+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:44:40.8169680+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:44:40.8170372+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:44:40.8171012+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:44:40.8172357+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_0 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T19:44:40.8338067+07:00 [INF] (///) Executed DbCommand ("17"ms) [Parameters=["@__ef_filter__Id_0='CNTT', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_0 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T19:44:40.8361002+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:44:40.8362261+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 2ms reading results.
2025-06-08T19:44:40.8363774+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:44:40.8364450+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:44:40.8375829+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 2101ms
2025-06-08T19:44:40.8421815+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2119.9238ms.
2025-06-08T19:44:40.8556699+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T19:44:40.8590052+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T19:44:40.8591331+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T19:44:40.8592231+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T19:44:40.8600856+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T19:44:40.8608534+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T19:44:40.9054966+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 2210.0745ms
2025-06-08T19:44:40.9074799+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:44:40.9264596+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 312834.4779 ms
2025-06-08T19:44:40.9354293+07:00 [DBG] (///) Connection id ""0HND6H611A4JS"" completed keep alive response.
2025-06-08T19:44:40.9470231+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T19:44:40.9549084+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:44:40.9575834+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (4ms).
2025-06-08T19:44:40.9602162+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - 200 null "application/json; charset=utf-8" 312968.4122ms
2025-06-08T19:44:41.9053616+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T19:44:41.9061294+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:44:41.9062810+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:44:41.9064221+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:44:41.9066634+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T19:44:41.9069460+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T19:44:41.9070434+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T19:44:41.9077801+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:44:41.9080409+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T19:44:41.9081365+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T19:44:41.9081663+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T19:44:41.9082257+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:44:41.9082673+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T19:44:41.9083081+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:44:41.9084144+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:44:41.9084922+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:44:41.9087095+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:44:41.9088402+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T19:44:41.9089276+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T19:44:41.9089840+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:44:41.9090255+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:44:41.9090672+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T19:44:41.9090997+07:00 [DBG] (///) Could not find a value in the request with name '"PageSize"' for binding property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:44:41.9091298+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:44:41.9091579+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T19:44:41.9091906+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:44:41.9092435+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:44:41.9093631+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T19:44:41.9094076+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:44:41.9094405+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:44:41.9094938+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:44:41.9095299+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:44:41.9095571+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:44:41.9097803+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:44:41.9098413+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:44:41.9099567+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:44:41.9100138+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:44:41.9100482+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:44:41.9103162+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T19:44:41.9106017+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 0, OrderBy: null, Filter: null })]
2025-06-08T19:44:41.9492282+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-08T19:44:41.9521420+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T19:44:41.9523107+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T19:44:41.9523665+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:44:41.9524203+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:44:41.9525753+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:44:41.9526563+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:44:41.9526996+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:44:41.9527509+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:44:41.9544065+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:44:41.9546534+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:44:41.9547179+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T19:44:41.9548321+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:44:41.9548779+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:44:41.9552506+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:44:41.9553014+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:44:41.9553921+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:44:41.9554235+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:44:41.9554559+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:44:41.9554960+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_0 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T19:44:41.9570568+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__ef_filter__Id_0='CNTT', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_0 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T19:44:41.9572780+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:44:41.9573419+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T19:44:41.9574346+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:44:41.9574784+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:44:41.9575841+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 46ms
2025-06-08T19:44:41.9576702+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 47.2691ms.
2025-06-08T19:44:41.9579928+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T19:44:41.9581067+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T19:44:41.9581286+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T19:44:41.9581496+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T19:44:41.9582406+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T19:44:41.9582791+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T19:44:41.9586314+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 50.2351ms
2025-06-08T19:44:41.9586980+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:44:41.9588795+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 52.1148 ms
2025-06-08T19:44:41.9590302+07:00 [DBG] (///) Connection id ""0HND6H611A4JS"" completed keep alive response.
2025-06-08T19:44:41.9591484+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T19:44:41.9592734+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:44:41.9593613+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:44:41.9594958+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - 200 null "application/json; charset=utf-8" 54.1561ms
2025-06-08T19:45:00.5148821+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T19:45:00.5153451+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:45:00.5154362+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:45:00.5154950+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:45:00.5155739+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T19:45:00.5156989+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T19:45:00.5157389+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T19:45:00.5157807+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:45:00.5158717+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T19:45:00.5160937+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T19:45:00.5161378+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T19:45:00.5161909+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:45:00.5162260+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T19:45:00.5162571+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:45:00.5163111+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:45:00.5163818+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:45:00.5164628+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:45:00.5165175+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T19:45:00.5165777+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T19:45:00.5166202+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:45:00.5167439+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:45:00.5167860+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T19:45:00.5168189+07:00 [DBG] (///) Could not find a value in the request with name '"PageSize"' for binding property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:45:00.5168512+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:45:00.5168832+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T19:45:00.5169529+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:45:00.5169808+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:45:00.5170024+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T19:45:00.5170290+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:45:00.5170533+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:45:00.5170834+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:45:00.5171177+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:45:00.5171396+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:45:00.5171963+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:45:00.5172885+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:45:00.5173683+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:45:00.5174004+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:45:00.5174332+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:45:00.5175808+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T19:45:00.5177456+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 0, OrderBy: null, Filter: null })]
2025-06-08T19:45:00.5362893+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-08T19:45:00.5371370+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T19:45:00.5372423+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T19:45:00.5372962+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:45:00.5373565+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:45:00.5375536+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:45:00.5376029+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:45:00.5376511+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:45:00.5377095+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:45:00.5405948+07:00 [INF] (///) Executed DbCommand ("3"ms) [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:45:00.5408645+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:45:00.5409429+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T19:45:00.5410531+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:45:00.5411072+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:45:00.5414643+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:45:00.5415259+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:45:00.5417023+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:45:00.5417493+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:45:00.5417940+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:45:00.5418561+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_0 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T19:45:00.5438093+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__ef_filter__Id_0='CNTT', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_0 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T19:45:00.5440622+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:45:00.5441334+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T19:45:00.5442554+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:45:00.5443294+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:45:00.5444307+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 26ms
2025-06-08T19:45:00.5444910+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 26.8446ms.
2025-06-08T19:45:00.5446802+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T19:45:00.5447414+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T19:45:00.5447688+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T19:45:00.5447879+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T19:45:00.5448239+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T19:45:00.5448576+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T19:45:00.5450320+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 28.7366ms
2025-06-08T19:45:00.5450875+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:45:00.5451843+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 29.5610 ms
2025-06-08T19:45:00.5452676+07:00 [DBG] (///) Connection id ""0HND6H611A4JS"" completed keep alive response.
2025-06-08T19:45:00.5453324+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T19:45:00.5453846+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:45:00.5454399+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:45:00.5454988+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - 200 null "application/json; charset=utf-8" 30.6298ms
2025-06-08T19:45:01.5782031+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T19:45:01.5785196+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:45:01.5786342+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:45:01.5787060+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:45:01.5788687+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T19:45:01.5789897+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T19:45:01.5790355+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T19:45:01.5790746+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:45:01.5791580+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T19:45:01.5792179+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T19:45:01.5792454+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T19:45:01.5792804+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:45:01.5793108+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T19:45:01.5793325+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:45:01.5793780+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:45:01.5794344+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:45:01.5795697+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:45:01.5796297+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T19:45:01.5796807+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T19:45:01.5797166+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:45:01.5797587+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:45:01.5797907+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T19:45:01.5798246+07:00 [DBG] (///) Could not find a value in the request with name '"PageSize"' for binding property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:45:01.5798544+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:45:01.5798822+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T19:45:01.5799092+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:45:01.5799321+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:45:01.5799575+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T19:45:01.5800833+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:45:01.5801092+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:45:01.5801385+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:45:01.5801603+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:45:01.5801812+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:45:01.5802297+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:45:01.5802571+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:45:01.5803095+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:45:01.5803381+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:45:01.5803662+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:45:01.5805148+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T19:45:01.5807219+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 0, OrderBy: null, Filter: null })]
2025-06-08T19:45:01.5815358+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-08T19:45:01.5820314+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T19:45:01.5820972+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T19:45:01.5821390+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:45:01.5821899+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:45:01.5823752+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:45:01.5824342+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:45:01.5824885+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:45:01.5825644+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:45:01.5855995+07:00 [INF] (///) Executed DbCommand ("3"ms) [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:45:01.5859218+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:45:01.5861032+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T19:45:01.5862783+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:45:01.5863531+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:45:01.5867264+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:45:01.5867985+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:45:01.5874733+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:45:01.5877597+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:45:01.5880533+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:45:01.5883161+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_0 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T19:45:01.5906554+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__ef_filter__Id_0='CNTT', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_0 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T19:45:01.5909397+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:45:01.5910099+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T19:45:01.5911107+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:45:01.5911545+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:45:01.5912632+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 10ms
2025-06-08T19:45:01.5913169+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 10.7539ms.
2025-06-08T19:45:01.5914895+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T19:45:01.5915506+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T19:45:01.5915721+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T19:45:01.5915892+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T19:45:01.5916132+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T19:45:01.5916417+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T19:45:01.5917886+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 12.4226ms
2025-06-08T19:45:01.5919186+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:45:01.5920033+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 13.0877 ms
2025-06-08T19:45:01.5920561+07:00 [DBG] (///) Connection id ""0HND6H611A4JS"" completed keep alive response.
2025-06-08T19:45:01.5921046+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T19:45:01.5921487+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:45:01.5921844+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:45:01.5922390+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - 200 null "application/json; charset=utf-8" 14.0496ms
2025-06-08T19:45:19.9075528+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T19:45:19.9078748+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:45:19.9080304+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:45:19.9080894+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:45:19.9081689+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T19:45:19.9082784+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T19:45:19.9083171+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T19:45:19.9083498+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:45:19.9084323+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T19:45:19.9086437+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T19:45:19.9086971+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T19:45:19.9087341+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:45:19.9087663+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T19:45:19.9088682+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:45:19.9089142+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:45:19.9089855+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:45:19.9090617+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:45:19.9091130+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T19:45:19.9091592+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T19:45:19.9091913+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:45:19.9092257+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:45:19.9092498+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T19:45:19.9092729+07:00 [DBG] (///) Could not find a value in the request with name '"PageSize"' for binding property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:45:19.9093055+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:45:19.9093982+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T19:45:19.9094264+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:45:19.9094537+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:45:19.9094783+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T19:45:19.9095091+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:45:19.9095354+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:45:19.9095644+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:45:19.9095863+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:45:19.9096133+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:45:19.9096698+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:45:19.9096995+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:45:19.9097488+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:45:19.9097737+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:45:19.9097986+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:45:19.9099705+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T19:45:19.9103032+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 0, OrderBy: null, Filter: null })]
2025-06-08T19:45:19.9112516+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-08T19:45:19.9116146+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T19:45:19.9116885+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T19:45:19.9117334+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:45:19.9118154+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:45:19.9120394+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:45:19.9120956+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:45:19.9121458+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:45:19.9122067+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:45:19.9141066+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:45:19.9143638+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:45:19.9144430+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T19:45:19.9145598+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:45:19.9146149+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:45:19.9149777+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:45:19.9150476+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:45:19.9152540+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:45:19.9153024+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:45:19.9153583+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:45:19.9154404+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_0 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T19:45:19.9181940+07:00 [INF] (///) Executed DbCommand ("3"ms) [Parameters=["@__ef_filter__Id_0='CNTT', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_0 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T19:45:19.9184638+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:45:19.9185535+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T19:45:19.9186751+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:45:19.9187310+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:45:19.9188958+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 8ms
2025-06-08T19:45:19.9189685+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 8.9438ms.
2025-06-08T19:45:19.9191841+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T19:45:19.9192580+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T19:45:19.9192788+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T19:45:19.9192994+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T19:45:19.9193360+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T19:45:19.9193628+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T19:45:19.9195186+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 10.6189ms
2025-06-08T19:45:19.9195741+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:45:19.9196722+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 11.4544 ms
2025-06-08T19:45:19.9197498+07:00 [DBG] (///) Connection id ""0HND6H611A4JS"" completed keep alive response.
2025-06-08T19:45:19.9199719+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T19:45:19.9200369+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:45:19.9200930+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:45:19.9201588+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - 200 null "application/json; charset=utf-8" 12.6245ms
2025-06-08T19:45:20.9497070+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T19:45:20.9500960+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:45:20.9502230+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:45:20.9503323+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:45:20.9504271+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T19:45:20.9505516+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T19:45:20.9506575+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T19:45:20.9507017+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:45:20.9507810+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T19:45:20.9508442+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T19:45:20.9508707+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T19:45:20.9509224+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:45:20.9509499+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T19:45:20.9509734+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:45:20.9510166+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:45:20.9510652+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:45:20.9511365+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:45:20.9511815+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T19:45:20.9512272+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T19:45:20.9512659+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:45:20.9513141+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:45:20.9513534+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T19:45:20.9513787+07:00 [DBG] (///) Could not find a value in the request with name '"PageSize"' for binding property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:45:20.9514299+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:45:20.9514575+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T19:45:20.9514763+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:45:20.9515076+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:45:20.9515375+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T19:45:20.9515633+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:45:20.9515910+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:45:20.9516136+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:45:20.9516382+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:45:20.9517294+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:45:20.9517919+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:45:20.9518218+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:45:20.9518694+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:45:20.9518916+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:45:20.9519093+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:45:20.9520219+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T19:45:20.9521849+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 0, OrderBy: null, Filter: null })]
2025-06-08T19:45:20.9532500+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-08T19:45:20.9535937+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T19:45:20.9536532+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T19:45:20.9536840+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:45:20.9537335+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:45:20.9538968+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:45:20.9539456+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:45:20.9539840+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:45:20.9540343+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:45:20.9553981+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:45:20.9555666+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:45:20.9556673+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T19:45:20.9557579+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:45:20.9558008+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:45:20.9561031+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:45:20.9561607+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:45:20.9562574+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:45:20.9562869+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:45:20.9563259+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:45:20.9563709+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_0 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T19:45:20.9577584+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__ef_filter__Id_0='CNTT', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_0 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T19:45:20.9578933+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:45:20.9579403+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T19:45:20.9580194+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:45:20.9580545+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:45:20.9581540+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 5ms
2025-06-08T19:45:20.9582045+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 6.1453ms.
2025-06-08T19:45:20.9583669+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T19:45:20.9584244+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T19:45:20.9584496+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T19:45:20.9584696+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T19:45:20.9584964+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T19:45:20.9586042+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T19:45:20.9587413+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 7.7376ms
2025-06-08T19:45:20.9587847+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:45:20.9588706+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 8.3910 ms
2025-06-08T19:45:20.9589215+07:00 [DBG] (///) Connection id ""0HND6H611A4JS"" completed keep alive response.
2025-06-08T19:45:20.9589625+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T19:45:20.9589953+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:45:20.9590219+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:45:20.9591187+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - 200 null "application/json; charset=utf-8" 9.3862ms
2025-06-08T19:45:42.3383079+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T19:45:42.4328181+07:00 [DBG] (///) Hosting starting
2025-06-08T19:45:42.4855336+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T19:45:42.4873250+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T19:45:42.5440524+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T19:45:42.5451161+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T19:45:42.5512408+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T19:45:42.5516783+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T19:45:42.5517221+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T19:45:42.5518062+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T19:45:42.5519788+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T19:45:42.5520261+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T19:45:42.5520455+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T19:45:42.5520890+07:00 [DBG] (///) Hosting started
2025-06-08T19:45:55.7622726+07:00 [INF] (///) Application is shutting down...
2025-06-08T19:45:55.7628651+07:00 [DBG] (///) Hosting stopping
2025-06-08T19:45:55.7696716+07:00 [DBG] (///) Hosting stopped
2025-06-08T19:46:05.0596100+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T19:46:05.1490705+07:00 [DBG] (///) Hosting starting
2025-06-08T19:46:05.1958643+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T19:46:05.1974126+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T19:46:05.2467768+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T19:46:05.2481300+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T19:46:05.2532369+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T19:46:05.2536111+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T19:46:05.2536481+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T19:46:05.2537130+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T19:46:05.2538589+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T19:46:05.2538987+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T19:46:05.2539127+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T19:46:05.2539527+07:00 [DBG] (///) Hosting started
2025-06-08T19:46:07.9392987+07:00 [DBG] (///) Connection id ""0HND6H9O7P78I"" accepted.
2025-06-08T19:46:07.9399076+07:00 [DBG] (///) Connection id ""0HND6H9O7P78I"" started.
2025-06-08T19:46:07.9603475+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T19:46:08.0172009+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:46:08.0222320+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:46:08.0270880+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:46:08.0346972+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T19:46:08.0665719+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T19:46:08.0715898+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T19:46:08.0750918+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:46:08.0986876+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T19:46:08.1012333+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T19:46:08.1014259+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T19:46:08.1019032+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:46:08.1020022+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T19:46:08.1020861+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:46:08.1041013+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:46:08.1054013+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:46:08.1086679+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:46:08.1098350+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T19:46:08.1131323+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T19:46:08.1137422+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:46:08.1140565+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:46:08.1154126+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T19:46:08.1155151+07:00 [DBG] (///) Could not find a value in the request with name '"PageSize"' for binding property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:46:08.1156422+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:46:08.1157352+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T19:46:08.1157918+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:46:08.1158337+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:46:08.1158684+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T19:46:08.1160209+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:46:08.1160795+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:46:08.1162487+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:46:08.1163200+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:46:08.1163580+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:46:08.1198904+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:46:08.1200433+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:46:08.1203571+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:46:08.1204180+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:46:08.1204960+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:46:08.1251730+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T19:46:08.1368973+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 0, OrderBy: null, Filter: null })]
2025-06-08T19:46:08.3083013+07:00 [DBG] (///) An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration changed for 'Core:EnableSensitiveDataLogging', configuration changed for 'Core:EnableDetailedErrors', configuration changed for 'Core:ConfigureWarnings', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseAdminDatabase', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:SetPostgresVersion', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseRedshift', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ReverseNullOrdering', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:RemoteCertificateValidationCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvideClientCertificatesCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvidePasswordCallback'".
2025-06-08T19:46:08.7390722+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Class"' as the properties are already covered by the index "{'FacultyCode', 'ClassCode'}".
2025-06-08T19:46:08.7393413+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"CreditClass"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId'}".
2025-06-08T19:46:08.7394679+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId', 'StudentCode'}".
2025-06-08T19:46:08.7395038+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'StudentCode'}".
2025-06-08T19:46:08.7395318+07:00 [DBG] (///) The index "{'FacultyCode', 'CreditClassId'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId', 'StudentCode'}".
2025-06-08T19:46:08.7395710+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Student"' as the properties are already covered by the index "{'FacultyCode', 'StudentCode'}".
2025-06-08T19:46:08.7396089+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Student"' as the properties are already covered by the index "{'FacultyCode', 'ClassCode'}".
2025-06-08T19:46:08.8079682+07:00 [WRN] (///) Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-06-08T19:46:08.8368219+07:00 [WRN] (///) The foreign key property '"Registration"."StudentCode1"' was created in shadow state because a conflicting property with the simple name '"StudentCode"' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-08T19:46:08.8380339+07:00 [DBG] (///) The property '"Registration"."StudentFacultyCode"' was created in shadow state because there are no eligible CLR members with a matching name.
2025-06-08T19:46:08.9237155+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-08T19:46:08.9634880+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Class>()
    .OrderBy(__Class => __Class.ClassCode)
    .Select(c => new ClassBasicResponse{ 
        ClassCode = c.ClassCode, 
        ClassName = c.ClassName, 
        FacultyCode = c.FacultyCode, 
        StudentCount = c.Students.Count, 
        FacultyName = c.FacultyCodeNavigation.FacultyName, 
        AcademicYearCode = c.AcademicYearCode 
    }
    )
    .Count()"'
2025-06-08T19:46:09.1393540+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => 
{
    queryContext.AddParameter(
        name: \"__ef_filter__Id_0\", 
        value: (object)Invoke(queryContext => ((FacultyDbContext)queryContext.Context).TenantInfo.Id, queryContext));
    return ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
        asyncEnumerable: SingleQueryingEnumerable.Create<int>(
            relationalQueryContext: (RelationalQueryContext)queryContext, 
            relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
                Projection Mapping:
                    EmptyProjectionMember -> 0
                SELECT CAST(count(*) AS integer)
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0) | Resolver: c => new RelationalCommandCache(
                c.Dependencies.MemoryCache, 
                c.RelationalDependencies.QuerySqlGeneratorFactory, 
                c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
                Projection Mapping:
                    EmptyProjectionMember -> 0
                SELECT CAST(count(*) AS integer)
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0, 
                False, 
                new HashSet<string>(
                    new string[]{ }, 
                    StringComparer.Ordinal
                )
            )].GetRelationalCommandTemplate(parameters), 
            readerColumns: null, 
            shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                int? value1;
                value1 = try { dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0) } catch (Exception) { ... } ;
                return (int)value1;
            }, 
            contextType: FacultyService.Application.FacultyDbContext, 
            standAloneStateManager: False, 
            detailedErrorsEnabled: True, 
            threadSafetyChecksEnabled: True), 
        cancellationToken: queryContext.CancellationToken);
}"'
2025-06-08T19:46:09.1730175+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T19:46:09.2027714+07:00 [DBG] (///) Created DbConnection. (27ms).
2025-06-08T19:46:09.2055435+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:46:09.2896832+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:46:09.2939023+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:46:09.3004494+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (2ms).
2025-06-08T19:46:09.3065269+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (12ms).
2025-06-08T19:46:09.3147715+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:46:09.3794453+07:00 [INF] (///) Executed DbCommand ("65"ms) [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:46:09.3945589+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:46:09.4007858+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 16ms reading results.
2025-06-08T19:46:09.4042834+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:46:09.4078600+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (3ms).
2025-06-08T19:46:09.4114548+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Class>()
    .OrderBy(__Class => __Class.ClassCode)
    .Select(c => new ClassBasicResponse{ 
        ClassCode = c.ClassCode, 
        ClassName = c.ClassName, 
        FacultyCode = c.FacultyCode, 
        StudentCount = c.Students.Count, 
        FacultyName = c.FacultyCodeNavigation.FacultyName, 
        AcademicYearCode = c.AcademicYearCode 
    }
    )
    .Skip(__p_0)
    .Take(__p_0)"'
2025-06-08T19:46:09.4610784+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => 
{
    queryContext.AddParameter(
        name: \"__ef_filter__Id_0\", 
        value: (object)Invoke(queryContext => ((FacultyDbContext)queryContext.Context).TenantInfo.Id, queryContext));
    return SingleQueryingEnumerable.Create<ClassBasicResponse>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                ClassCode -> 0
                ClassName -> 1
                FacultyCode -> 2
                StudentCount -> 3
                FacultyName -> 4
                AcademicYearCode -> 5
            SELECT c0.class_code AS ClassCode, c0.class_name AS ClassName, c0.faculty_code AS FacultyCode, (
                SELECT CAST(count(*) AS integer)
                FROM student AS s
                WHERE (s.faculty_code == @__ef_filter__Id_0) && (((c0.faculty_code != NULL) && (c0.class_code != NULL)) && ((c0.faculty_code == s.faculty_code) && (c0.class_code == s.class_code)))) AS StudentCount, f0.faculty_name AS FacultyName, c0.academic_year_code AS AcademicYearCode
            FROM 
            (
                SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0
                ORDER BY c.class_code ASC
                OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
            ) AS c0
            INNER JOIN 
            (
                SELECT f.faculty_code, f.faculty_name
                FROM faculty AS f
                WHERE f.faculty_code == @__ef_filter__Id_0
            ) AS f0 ON c0.faculty_code == f0.faculty_code
            ORDER BY c0.class_code ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                ClassCode -> 0
                ClassName -> 1
                FacultyCode -> 2
                StudentCount -> 3
                FacultyName -> 4
                AcademicYearCode -> 5
            SELECT c0.class_code AS ClassCode, c0.class_name AS ClassName, c0.faculty_code AS FacultyCode, (
                SELECT CAST(count(*) AS integer)
                FROM student AS s
                WHERE (s.faculty_code == @__ef_filter__Id_0) && (((c0.faculty_code != NULL) && (c0.class_code != NULL)) && ((c0.faculty_code == s.faculty_code) && (c0.class_code == s.class_code)))) AS StudentCount, f0.faculty_name AS FacultyName, c0.academic_year_code AS AcademicYearCode
            FROM 
            (
                SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0
                ORDER BY c.class_code ASC
                OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
            ) AS c0
            INNER JOIN 
            (
                SELECT f.faculty_code, f.faculty_name
                FROM faculty AS f
                WHERE f.faculty_code == @__ef_filter__Id_0
            ) AS f0 ON c0.faculty_code == f0.faculty_code
            ORDER BY c0.class_code ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            string value1;
            string value2;
            string value3;
            int? value4;
            string value5;
            string value6;
            value1 = try { dataReader.GetString(0) } catch (Exception) { ... } ;
            value2 = try { dataReader.GetString(1) } catch (Exception) { ... } ;
            value3 = try { dataReader.GetString(2) } catch (Exception) { ... } ;
            value4 = try { dataReader.IsDBNull(3) ? default(int?) : (int?)dataReader.GetInt32(3) } catch (Exception) { ... } ;
            value5 = try { dataReader.GetString(4) } catch (Exception) { ... } ;
            value6 = try { dataReader.GetString(5) } catch (Exception) { ... } ;
            return new ClassBasicResponse{ 
                ClassCode = value1, 
                ClassName = value2, 
                FacultyCode = value3, 
                StudentCount = (int)value4, 
                FacultyName = value5, 
                AcademicYearCode = value6 
            }
            ;
        }, 
        contextType: FacultyService.Application.FacultyDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: True, 
        threadSafetyChecksEnabled: True);
}"'
2025-06-08T19:46:09.4690272+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:46:09.4695307+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:46:09.4697194+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:46:09.4697653+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:46:09.4698245+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:46:09.4699233+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_0 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T19:46:09.4746438+07:00 [INF] (///) Executed DbCommand ("5"ms) [Parameters=["@__ef_filter__Id_0='CNTT', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_0 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T19:46:09.4764317+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:46:09.4765658+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 1ms reading results.
2025-06-08T19:46:09.4767009+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:46:09.4767606+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:46:09.4776242+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 1338ms
2025-06-08T19:46:09.4816147+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1353.4754ms.
2025-06-08T19:46:09.4893241+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T19:46:09.4915693+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T19:46:09.4916577+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T19:46:09.4916883+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T19:46:09.4922098+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T19:46:09.4926664+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T19:46:09.5970222+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 1491.5477ms
2025-06-08T19:46:09.5979792+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:46:09.6114026+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 1571.4128 ms
2025-06-08T19:46:09.6185483+07:00 [DBG] (///) Connection id ""0HND6H9O7P78I"" completed keep alive response.
2025-06-08T19:46:09.6303019+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T19:46:09.6359645+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:46:09.6382954+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (2ms).
2025-06-08T19:46:09.6401409+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - 200 null "application/json; charset=utf-8" 1680.9879ms
2025-06-08T19:46:10.5980951+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T19:46:10.5994549+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:46:10.5996072+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:46:10.5997137+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:46:10.5999325+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T19:46:10.6001507+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T19:46:10.6002266+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T19:46:10.6002928+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:46:10.6004790+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T19:46:10.6005769+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T19:46:10.6006312+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T19:46:10.6007056+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:46:10.6007515+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T19:46:10.6007984+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:46:10.6008727+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:46:10.6009557+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:46:10.6011200+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:46:10.6012146+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T19:46:10.6013068+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T19:46:10.6013469+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:46:10.6013832+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:46:10.6014173+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T19:46:10.6014622+07:00 [DBG] (///) Could not find a value in the request with name '"PageSize"' for binding property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:46:10.6015017+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:46:10.6016081+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T19:46:10.6016559+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:46:10.6016934+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:46:10.6017296+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T19:46:10.6017765+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:46:10.6018423+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:46:10.6020015+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:46:10.6020617+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:46:10.6021052+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:46:10.6022575+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:46:10.6023084+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:46:10.6024416+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:46:10.6024849+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:46:10.6025228+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:46:10.6027200+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T19:46:10.6034965+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 0, OrderBy: null, Filter: null })]
2025-06-08T19:46:10.6289923+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-08T19:46:10.6319290+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T19:46:10.6320800+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T19:46:10.6321602+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:46:10.6323006+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:46:10.6325597+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:46:10.6326553+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:46:10.6327130+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:46:10.6328898+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:46:10.6344624+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:46:10.6347869+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:46:10.6348668+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T19:46:10.6349699+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:46:10.6350235+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:46:10.6355062+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:46:10.6355663+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:46:10.6356651+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:46:10.6357094+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:46:10.6357614+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:46:10.6358211+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_0 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T19:46:10.6372848+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__ef_filter__Id_0='CNTT', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_0 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T19:46:10.6374968+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:46:10.6375669+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T19:46:10.6377185+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:46:10.6377900+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:46:10.6379093+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 34ms
2025-06-08T19:46:10.6380242+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 35.231ms.
2025-06-08T19:46:10.6383210+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T19:46:10.6384416+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T19:46:10.6384714+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T19:46:10.6384964+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T19:46:10.6386324+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T19:46:10.6386812+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T19:46:10.6390308+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 38.167ms
2025-06-08T19:46:10.6391033+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:46:10.6393356+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 39.2692 ms
2025-06-08T19:46:10.6396268+07:00 [DBG] (///) Connection id ""0HND6H9O7P78I"" completed keep alive response.
2025-06-08T19:46:10.6397546+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T19:46:10.6398576+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:46:10.6399262+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:46:10.6400581+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - 200 null "application/json; charset=utf-8" 41.9679ms
2025-06-08T19:46:54.6753495+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T19:46:54.6757023+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:46:54.6757810+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:46:54.6758313+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:46:54.6759303+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T19:46:54.6760794+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T19:46:54.6761423+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T19:46:54.6761857+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:46:54.6763182+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T19:46:54.6763748+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T19:46:54.6764035+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T19:46:54.6764409+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:46:54.6764567+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T19:46:54.6764779+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:46:54.6765115+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:46:54.6765625+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:46:54.6766466+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:46:54.6766943+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T19:46:54.6767347+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T19:46:54.6767540+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:46:54.6768773+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:46:54.6768977+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T19:46:54.6769159+07:00 [DBG] (///) Could not find a value in the request with name '"PageSize"' for binding property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:46:54.6769326+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:46:54.6769592+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T19:46:54.6769747+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:46:54.6769863+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:46:54.6770006+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T19:46:54.6770142+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:46:54.6770352+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:46:54.6770907+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:46:54.6771101+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:46:54.6771250+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:46:54.6771771+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:46:54.6772464+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:46:54.6772900+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:46:54.6773066+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:46:54.6773213+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:46:54.6774546+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T19:46:54.6779237+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 0, OrderBy: null, Filter: null })]
2025-06-08T19:46:54.7254030+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-08T19:46:54.7275026+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T19:46:54.7276557+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T19:46:54.7277121+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:46:54.7277813+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:46:54.7280390+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:46:54.7281080+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:46:54.7282597+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:46:54.7284014+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:46:54.7311288+07:00 [INF] (///) Executed DbCommand ("3"ms) [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:46:54.7314127+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:46:54.7314715+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T19:46:54.7315777+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:46:54.7316241+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:46:54.7320676+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:46:54.7321363+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:46:54.7322719+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:46:54.7323020+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:46:54.7324101+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:46:54.7324716+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_0 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T19:46:54.7355279+07:00 [INF] (///) Executed DbCommand ("3"ms) [Parameters=["@__ef_filter__Id_0='CNTT', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_0 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T19:46:54.7358274+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:46:54.7359037+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T19:46:54.7360400+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:46:54.7361024+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:46:54.7362353+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 58ms
2025-06-08T19:46:54.7363578+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 58.8553ms.
2025-06-08T19:46:54.7365619+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T19:46:54.7366327+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T19:46:54.7366463+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T19:46:54.7366622+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T19:46:54.7367344+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T19:46:54.7367572+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T19:46:54.7370397+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 60.5367ms
2025-06-08T19:46:54.7370935+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:46:54.7372850+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 61.2033 ms
2025-06-08T19:46:54.7373667+07:00 [DBG] (///) Connection id ""0HND6H9O7P78I"" completed keep alive response.
2025-06-08T19:46:54.7374088+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T19:46:54.7374521+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:46:54.7374839+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:46:54.7377119+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - 200 null "application/json; charset=utf-8" 62.1919ms
2025-06-08T19:46:55.7463649+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T19:46:55.7467037+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:46:55.7467561+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:46:55.7468097+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:46:55.7469120+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T19:46:55.7470494+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T19:46:55.7471032+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T19:46:55.7471770+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:46:55.7472691+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T19:46:55.7474328+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T19:46:55.7474628+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T19:46:55.7475123+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:46:55.7475454+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T19:46:55.7475701+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:46:55.7475986+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:46:55.7476336+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:46:55.7476887+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:46:55.7477380+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T19:46:55.7477720+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T19:46:55.7477996+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:46:55.7478155+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:46:55.7478846+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T19:46:55.7478984+07:00 [DBG] (///) Could not find a value in the request with name '"PageSize"' for binding property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:46:55.7479192+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:46:55.7479330+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T19:46:55.7479426+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:46:55.7480820+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:46:55.7481151+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T19:46:55.7481354+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:46:55.7481496+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:46:55.7481628+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:46:55.7481757+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:46:55.7481858+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:46:55.7482633+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:46:55.7482737+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:46:55.7483044+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:46:55.7483121+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:46:55.7483241+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:46:55.7484207+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T19:46:55.7485228+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 0, OrderBy: null, Filter: null })]
2025-06-08T19:46:55.7491748+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-08T19:46:55.7494745+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T19:46:55.7495263+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T19:46:55.7495564+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:46:55.7495919+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:46:55.7497090+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:46:55.7497382+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:46:55.7497689+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:46:55.7498073+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:46:55.7512203+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:46:55.7513577+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:46:55.7513960+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T19:46:55.7514621+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:46:55.7514947+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:46:55.7517536+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:46:55.7517905+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:46:55.7518810+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:46:55.7519106+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:46:55.7519372+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:46:55.7519704+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_0 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T19:46:55.7548081+07:00 [INF] (///) Executed DbCommand ("3"ms) [Parameters=["@__ef_filter__Id_0='CNTT', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_0 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T19:46:55.7549516+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:46:55.7549861+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T19:46:55.7550419+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:46:55.7550734+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:46:55.7551260+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 6ms
2025-06-08T19:46:55.7551942+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 6.7491ms.
2025-06-08T19:46:55.7553431+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T19:46:55.7553859+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T19:46:55.7553919+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T19:46:55.7554026+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T19:46:55.7554211+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T19:46:55.7554369+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T19:46:55.7555720+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 7.9821ms
2025-06-08T19:46:55.7556471+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:46:55.7557362+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 8.7723 ms
2025-06-08T19:46:55.7557843+07:00 [DBG] (///) Connection id ""0HND6H9O7P78I"" completed keep alive response.
2025-06-08T19:46:55.7558126+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T19:46:55.7558391+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:46:55.7558582+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:46:55.7559038+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - 200 null "application/json; charset=utf-8" 9.544ms
2025-06-08T19:49:02.1191991+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T19:49:02.1194663+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:49:02.1195248+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:49:02.1196430+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:49:02.1197237+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T19:49:02.1198248+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T19:49:02.1198596+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T19:49:02.1198842+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:49:02.1199559+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T19:49:02.1199983+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T19:49:02.1200164+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T19:49:02.1200507+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:49:02.1200639+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T19:49:02.1200808+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:49:02.1201595+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:49:02.1201951+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:49:02.1202651+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:49:02.1203007+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T19:49:02.1203323+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T19:49:02.1203623+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:49:02.1203832+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:49:02.1203968+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T19:49:02.1204086+07:00 [DBG] (///) Could not find a value in the request with name '"PageSize"' for binding property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:49:02.1204202+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:49:02.1204363+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T19:49:02.1204484+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:49:02.1204590+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:49:02.1205332+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T19:49:02.1205516+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:49:02.1205641+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:49:02.1205793+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:49:02.1205893+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:49:02.1205995+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:49:02.1206466+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:49:02.1206637+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:49:02.1206995+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:49:02.1207074+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:49:02.1207252+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:49:02.1208887+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T19:49:02.1210146+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 0, OrderBy: null, Filter: null })]
2025-06-08T19:49:02.1222553+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-08T19:49:02.1226225+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T19:49:02.1226673+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T19:49:02.1226973+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:49:02.1227371+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:49:02.1229062+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:49:02.1229377+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:49:02.1229712+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:49:02.1230156+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:49:02.1293724+07:00 [ERR] (///) Failed executing DbCommand ("5"ms) [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:49:02.1390155+07:00 [ERR] (///) An exception occurred while iterating over the results of a query for context type '"FacultyService.Application.FacultyDbContext"'."
""System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.IO.EndOfStreamException: Attempted to read past the end of the stream.
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()"
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.IO.EndOfStreamException: Attempted to read past the end of the stream.
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Arch.EntityFrameworkCore.UnitOfWork.Collections.IQueryablePageListExtensions.ToPagedListAsync[T](IQueryable`1 source, Int32 pageIndex, Int32 pageSize, Int32 indexFrom, CancellationToken cancellationToken)
   at FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler.Handle(DefaultClassQuery request, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/Classes/QueryHandler/GetAllClassesQueryHandler.cs:line 15
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
2025-06-08T19:49:02.1723566+07:00 [ERR] (///) Error processing request "DefaultClassQuery" after 50ms
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.IO.EndOfStreamException: Attempted to read past the end of the stream.
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Arch.EntityFrameworkCore.UnitOfWork.Collections.IQueryablePageListExtensions.ToPagedListAsync[T](IQueryable`1 source, Int32 pageIndex, Int32 pageSize, Int32 indexFrom, CancellationToken cancellationToken)
   at FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler.Handle(DefaultClassQuery request, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/Classes/QueryHandler/GetAllClassesQueryHandler.cs:line 15
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
   at FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses(GridifyQuery gridifyQuery, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api/Classes/Controller/ClassesController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Finbuckle.MultiTenant.AspNetCore.Internal.MultiTenantMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-08T19:49:02.1810294+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 60.8703ms
2025-06-08T19:49:02.1811146+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:49:02.1820441+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.IO.EndOfStreamException: Attempted to read past the end of the stream.
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Arch.EntityFrameworkCore.UnitOfWork.Collections.IQueryablePageListExtensions.ToPagedListAsync[T](IQueryable`1 source, Int32 pageIndex, Int32 pageSize, Int32 indexFrom, CancellationToken cancellationToken)
   at FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler.Handle(DefaultClassQuery request, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/Classes/QueryHandler/GetAllClassesQueryHandler.cs:line 15
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
   at FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses(GridifyQuery gridifyQuery, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api/Classes/Controller/ClassesController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Finbuckle.MultiTenant.AspNetCore.Internal.MultiTenantMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-08T19:49:02.2041160+07:00 [ERR] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 500 in 84.3242 ms
2025-06-08T19:49:02.2042021+07:00 [DBG] (///) Connection id ""0HND6H9O7P78I"" completed keep alive response.
2025-06-08T19:49:02.2042539+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T19:49:02.2043125+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:49:02.2043500+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:49:02.2044077+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - 500 null "application/problem+json" 85.2044ms
2025-06-08T19:49:03.2097755+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T19:49:03.2100608+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:49:03.2101003+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:49:03.2101513+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:49:03.2103071+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T19:49:03.2104114+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T19:49:03.2104360+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T19:49:03.2104692+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:49:03.2105830+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T19:49:03.2106786+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T19:49:03.2106972+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T19:49:03.2107218+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:49:03.2107333+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T19:49:03.2107438+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:49:03.2107702+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:49:03.2107969+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:49:03.2108540+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:49:03.2108877+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T19:49:03.2109274+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T19:49:03.2109407+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:49:03.2109549+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:49:03.2109714+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T19:49:03.2109852+07:00 [DBG] (///) Could not find a value in the request with name '"PageSize"' for binding property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:49:03.2109991+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:49:03.2110083+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T19:49:03.2110192+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:49:03.2110331+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:49:03.2110434+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T19:49:03.2110634+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:49:03.2110715+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:49:03.2110821+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:49:03.2110923+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:49:03.2111010+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:49:03.2111488+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:49:03.2111692+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:49:03.2112554+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:49:03.2112659+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:49:03.2112772+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:49:03.2113720+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T19:49:03.2114806+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 0, OrderBy: null, Filter: null })]
2025-06-08T19:49:03.2120863+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-08T19:49:03.2123657+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T19:49:03.2124070+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T19:49:03.2124308+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:49:03.2244959+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:49:03.2247210+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:49:03.2247707+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:49:03.2248199+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:49:03.2248715+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:49:03.2355573+07:00 [INF] (///) Executed DbCommand ("11"ms) [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:49:03.2357538+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:49:03.2357941+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T19:49:03.2358614+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:49:03.2359004+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:49:03.2361718+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:49:03.2362149+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:49:03.2362945+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:49:03.2363136+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:49:03.2363394+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:49:03.2363681+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_0 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T19:49:03.2390353+07:00 [INF] (///) Executed DbCommand ("3"ms) [Parameters=["@__ef_filter__Id_0='CNTT', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_0 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T19:49:03.2392099+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:49:03.2392616+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T19:49:03.2393532+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:49:03.2394018+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:49:03.2395023+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 27ms
2025-06-08T19:49:03.2395787+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 28.1728ms.
2025-06-08T19:49:03.2397480+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T19:49:03.2397999+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T19:49:03.2398205+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T19:49:03.2399348+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T19:49:03.2399665+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T19:49:03.2399875+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T19:49:03.2401567+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 29.3965ms
2025-06-08T19:49:03.2401900+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:49:03.2402696+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 29.9264 ms
2025-06-08T19:49:03.2403154+07:00 [DBG] (///) Connection id ""0HND6H9O7P78I"" completed keep alive response.
2025-06-08T19:49:03.2403471+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T19:49:03.2403801+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:49:03.2404102+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:49:03.2404789+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - 200 null "application/json; charset=utf-8" 30.6875ms
2025-06-08T19:51:12.6005230+07:00 [INF] (///) Application is shutting down...
2025-06-08T19:51:12.6013356+07:00 [DBG] (///) Hosting stopping
2025-06-08T19:51:12.6059546+07:00 [DBG] (///) Connection id ""0HND6H9O7P78I"" disconnecting.
2025-06-08T19:51:12.6065683+07:00 [DBG] (///) Connection id ""0HND6H9O7P78I"" stopped.
2025-06-08T19:51:12.6069375+07:00 [DBG] (///) Connection id ""0HND6H9O7P78I"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-08T19:51:12.6092567+07:00 [DBG] (///) Hosting stopped
2025-06-08T19:51:16.3092186+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T19:51:16.4399176+07:00 [DBG] (///) Hosting starting
2025-06-08T19:51:16.5003283+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T19:51:16.5020022+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T19:51:16.5716977+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T19:51:16.5734769+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T19:51:16.6048857+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T19:51:16.6054440+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T19:51:16.6054898+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T19:51:16.6055620+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T19:51:16.6058693+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T19:51:16.6059158+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T19:51:16.6059376+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T19:51:16.6059875+07:00 [DBG] (///) Hosting started
2025-06-08T19:51:19.8037175+07:00 [DBG] (///) Connection id ""0HND6HCL5UJQE"" accepted.
2025-06-08T19:51:19.8045337+07:00 [DBG] (///) Connection id ""0HND6HCL5UJQE"" started.
2025-06-08T19:51:19.8372963+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T19:51:19.9054078+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:51:19.9097441+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:51:19.9141870+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:51:19.9216529+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T19:51:19.9561975+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T19:51:19.9639503+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T19:51:19.9696292+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:51:20.0033796+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T19:51:20.0078213+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T19:51:20.0084428+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T19:51:20.0092813+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:51:20.0095092+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T19:51:20.0096738+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:51:20.0123265+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:51:20.0134247+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:51:20.0177683+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:51:20.0195526+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T19:51:20.0232895+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T19:51:20.0239787+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:51:20.0243226+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:51:20.0263717+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T19:51:20.0265283+07:00 [DBG] (///) Could not find a value in the request with name '"PageSize"' for binding property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:51:20.0265676+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:51:20.0266370+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T19:51:20.0266806+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:51:20.0267103+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:51:20.0267409+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T19:51:20.0267716+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:51:20.0267954+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:51:20.0270837+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:51:20.0272119+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:51:20.0273643+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:51:20.0364990+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:51:20.0366829+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:51:20.0374557+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:51:20.0375304+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:51:20.0377048+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:51:20.0509219+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T19:51:20.0750165+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 0, OrderBy: null, Filter: null })]
2025-06-08T19:51:20.3447093+07:00 [DBG] (///) An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration changed for 'Core:EnableSensitiveDataLogging', configuration changed for 'Core:EnableDetailedErrors', configuration changed for 'Core:ConfigureWarnings', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseAdminDatabase', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:SetPostgresVersion', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseRedshift', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ReverseNullOrdering', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:RemoteCertificateValidationCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvideClientCertificatesCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvidePasswordCallback'".
2025-06-08T19:51:20.9113602+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Class"' as the properties are already covered by the index "{'FacultyCode', 'ClassCode'}".
2025-06-08T19:51:20.9116950+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"CreditClass"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId'}".
2025-06-08T19:51:20.9118192+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId', 'StudentCode'}".
2025-06-08T19:51:20.9118831+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'StudentCode'}".
2025-06-08T19:51:20.9119239+07:00 [DBG] (///) The index "{'FacultyCode', 'CreditClassId'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId', 'StudentCode'}".
2025-06-08T19:51:20.9119700+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Student"' as the properties are already covered by the index "{'FacultyCode', 'StudentCode'}".
2025-06-08T19:51:20.9120026+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Student"' as the properties are already covered by the index "{'FacultyCode', 'ClassCode'}".
2025-06-08T19:51:20.9904809+07:00 [WRN] (///) Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-06-08T19:51:21.0243626+07:00 [WRN] (///) The foreign key property '"Registration"."StudentCode1"' was created in shadow state because a conflicting property with the simple name '"StudentCode"' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-08T19:51:21.0259621+07:00 [DBG] (///) The property '"Registration"."StudentFacultyCode"' was created in shadow state because there are no eligible CLR members with a matching name.
2025-06-08T19:51:21.1537752+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-08T19:51:21.2131149+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Class>()
    .OrderBy(__Class => __Class.ClassCode)
    .Select(c => new ClassBasicResponse{ 
        ClassCode = c.ClassCode, 
        ClassName = c.ClassName, 
        FacultyCode = c.FacultyCode, 
        StudentCount = c.Students.Count, 
        FacultyName = c.FacultyCodeNavigation.FacultyName, 
        AcademicYearCode = c.AcademicYearCode 
    }
    )
    .Count()"'
2025-06-08T19:51:21.4555378+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => 
{
    queryContext.AddParameter(
        name: \"__ef_filter__Id_0\", 
        value: (object)Invoke(queryContext => ((FacultyDbContext)queryContext.Context).TenantInfo.Id, queryContext));
    return ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
        asyncEnumerable: SingleQueryingEnumerable.Create<int>(
            relationalQueryContext: (RelationalQueryContext)queryContext, 
            relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
                Projection Mapping:
                    EmptyProjectionMember -> 0
                SELECT CAST(count(*) AS integer)
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0) | Resolver: c => new RelationalCommandCache(
                c.Dependencies.MemoryCache, 
                c.RelationalDependencies.QuerySqlGeneratorFactory, 
                c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
                Projection Mapping:
                    EmptyProjectionMember -> 0
                SELECT CAST(count(*) AS integer)
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0, 
                False, 
                new HashSet<string>(
                    new string[]{ }, 
                    StringComparer.Ordinal
                )
            )].GetRelationalCommandTemplate(parameters), 
            readerColumns: null, 
            shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                int? value1;
                value1 = try { dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0) } catch (Exception) { ... } ;
                return (int)value1;
            }, 
            contextType: FacultyService.Application.FacultyDbContext, 
            standAloneStateManager: False, 
            detailedErrorsEnabled: True, 
            threadSafetyChecksEnabled: True), 
        cancellationToken: queryContext.CancellationToken);
}"'
2025-06-08T19:51:21.4994385+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T19:51:21.5443867+07:00 [DBG] (///) Created DbConnection. (42ms).
2025-06-08T19:51:21.5480777+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:51:21.6689130+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:51:21.6760043+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:51:21.6833316+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (5ms).
2025-06-08T19:51:21.6913861+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (17ms).
2025-06-08T19:51:21.6998789+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:51:21.7931262+07:00 [INF] (///) Executed DbCommand ("92"ms) [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:51:21.8146353+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:51:21.8232942+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 24ms reading results.
2025-06-08T19:51:21.8285574+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:51:21.8338253+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (5ms).
2025-06-08T19:51:21.8387536+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Class>()
    .OrderBy(__Class => __Class.ClassCode)
    .Select(c => new ClassBasicResponse{ 
        ClassCode = c.ClassCode, 
        ClassName = c.ClassName, 
        FacultyCode = c.FacultyCode, 
        StudentCount = c.Students.Count, 
        FacultyName = c.FacultyCodeNavigation.FacultyName, 
        AcademicYearCode = c.AcademicYearCode 
    }
    )
    .Skip(__p_0)
    .Take(__p_0)"'
2025-06-08T19:51:21.9042585+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => 
{
    queryContext.AddParameter(
        name: \"__ef_filter__Id_0\", 
        value: (object)Invoke(queryContext => ((FacultyDbContext)queryContext.Context).TenantInfo.Id, queryContext));
    return SingleQueryingEnumerable.Create<ClassBasicResponse>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                ClassCode -> 0
                ClassName -> 1
                FacultyCode -> 2
                StudentCount -> 3
                FacultyName -> 4
                AcademicYearCode -> 5
            SELECT c0.class_code AS ClassCode, c0.class_name AS ClassName, c0.faculty_code AS FacultyCode, (
                SELECT CAST(count(*) AS integer)
                FROM student AS s
                WHERE (s.faculty_code == @__ef_filter__Id_0) && (((c0.faculty_code != NULL) && (c0.class_code != NULL)) && ((c0.faculty_code == s.faculty_code) && (c0.class_code == s.class_code)))) AS StudentCount, f0.faculty_name AS FacultyName, c0.academic_year_code AS AcademicYearCode
            FROM 
            (
                SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0
                ORDER BY c.class_code ASC
                OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
            ) AS c0
            INNER JOIN 
            (
                SELECT f.faculty_code, f.faculty_name
                FROM faculty AS f
                WHERE f.faculty_code == @__ef_filter__Id_0
            ) AS f0 ON c0.faculty_code == f0.faculty_code
            ORDER BY c0.class_code ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                ClassCode -> 0
                ClassName -> 1
                FacultyCode -> 2
                StudentCount -> 3
                FacultyName -> 4
                AcademicYearCode -> 5
            SELECT c0.class_code AS ClassCode, c0.class_name AS ClassName, c0.faculty_code AS FacultyCode, (
                SELECT CAST(count(*) AS integer)
                FROM student AS s
                WHERE (s.faculty_code == @__ef_filter__Id_0) && (((c0.faculty_code != NULL) && (c0.class_code != NULL)) && ((c0.faculty_code == s.faculty_code) && (c0.class_code == s.class_code)))) AS StudentCount, f0.faculty_name AS FacultyName, c0.academic_year_code AS AcademicYearCode
            FROM 
            (
                SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0
                ORDER BY c.class_code ASC
                OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
            ) AS c0
            INNER JOIN 
            (
                SELECT f.faculty_code, f.faculty_name
                FROM faculty AS f
                WHERE f.faculty_code == @__ef_filter__Id_0
            ) AS f0 ON c0.faculty_code == f0.faculty_code
            ORDER BY c0.class_code ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            string value1;
            string value2;
            string value3;
            int? value4;
            string value5;
            string value6;
            value1 = try { dataReader.GetString(0) } catch (Exception) { ... } ;
            value2 = try { dataReader.GetString(1) } catch (Exception) { ... } ;
            value3 = try { dataReader.GetString(2) } catch (Exception) { ... } ;
            value4 = try { dataReader.IsDBNull(3) ? default(int?) : (int?)dataReader.GetInt32(3) } catch (Exception) { ... } ;
            value5 = try { dataReader.GetString(4) } catch (Exception) { ... } ;
            value6 = try { dataReader.GetString(5) } catch (Exception) { ... } ;
            return new ClassBasicResponse{ 
                ClassCode = value1, 
                ClassName = value2, 
                FacultyCode = value3, 
                StudentCount = (int)value4, 
                FacultyName = value5, 
                AcademicYearCode = value6 
            }
            ;
        }, 
        contextType: FacultyService.Application.FacultyDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: True, 
        threadSafetyChecksEnabled: True);
}"'
2025-06-08T19:51:21.9128565+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:51:21.9133804+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:51:21.9135511+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:51:21.9135905+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:51:21.9136516+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:51:21.9137557+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_0 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T19:51:21.9228698+07:00 [INF] (///) Executed DbCommand ("9"ms) [Parameters=["@__ef_filter__Id_0='CNTT', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_0 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T19:51:21.9250605+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:51:21.9251471+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 1ms reading results.
2025-06-08T19:51:21.9252641+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:51:21.9253253+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:51:47.7558826+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T19:51:47.8450716+07:00 [DBG] (///) Hosting starting
2025-06-08T19:51:47.8921454+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T19:51:47.8936889+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T19:51:47.9637789+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T19:51:47.9648948+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T19:51:47.9702760+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T19:51:47.9706701+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T19:51:47.9707054+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T19:51:47.9707751+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T19:51:47.9709301+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T19:51:47.9709813+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T19:51:47.9710037+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T19:51:47.9710565+07:00 [DBG] (///) Hosting started
2025-06-08T19:53:51.7494643+07:00 [DBG] (///) Connection id ""0HND6HE2F0R9K"" accepted.
2025-06-08T19:53:51.7500348+07:00 [DBG] (///) Connection id ""0HND6HE2F0R9K"" started.
2025-06-08T19:53:51.7664106+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T19:53:51.8136424+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:53:51.8161474+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:53:51.8186746+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:53:51.8224062+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T19:53:51.8400222+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T19:53:51.8430033+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T19:53:51.8447846+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:53:51.8604041+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T19:53:51.8632210+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T19:53:51.8633933+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T19:53:51.8638558+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:53:51.8639393+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T19:53:51.8640179+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:53:51.8649706+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:53:51.8652726+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:53:51.8670282+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:53:51.8677653+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T19:53:51.8696529+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T19:53:51.8699901+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:53:51.8701992+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:53:51.8712328+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T19:53:51.8712911+07:00 [DBG] (///) Could not find a value in the request with name '"PageSize"' for binding property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:53:51.8713204+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:53:51.8713692+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T19:53:51.8714097+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:53:51.8714367+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:53:51.8714676+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T19:53:51.8716049+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:53:51.8716316+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:53:51.8717402+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:53:51.8717892+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:53:51.8718208+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:53:51.8747309+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:53:51.8747901+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:53:51.8750358+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:53:51.8751154+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:53:51.8751758+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:53:51.8791757+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T19:53:51.8878574+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 0, OrderBy: null, Filter: null })]
2025-06-08T19:53:52.0149524+07:00 [DBG] (///) An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration changed for 'Core:EnableSensitiveDataLogging', configuration changed for 'Core:EnableDetailedErrors', configuration changed for 'Core:ConfigureWarnings', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseAdminDatabase', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:SetPostgresVersion', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseRedshift', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ReverseNullOrdering', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:RemoteCertificateValidationCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvideClientCertificatesCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvidePasswordCallback'".
2025-06-08T19:53:52.4800951+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Class"' as the properties are already covered by the index "{'FacultyCode', 'ClassCode'}".
2025-06-08T19:53:52.4804788+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"CreditClass"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId'}".
2025-06-08T19:53:52.4805767+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId', 'StudentCode'}".
2025-06-08T19:53:52.4806290+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'StudentCode'}".
2025-06-08T19:53:52.4806624+07:00 [DBG] (///) The index "{'FacultyCode', 'CreditClassId'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId', 'StudentCode'}".
2025-06-08T19:53:52.4807260+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Student"' as the properties are already covered by the index "{'FacultyCode', 'StudentCode'}".
2025-06-08T19:53:52.4807631+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Student"' as the properties are already covered by the index "{'FacultyCode', 'ClassCode'}".
2025-06-08T19:53:52.5532036+07:00 [WRN] (///) Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-06-08T19:53:52.5802091+07:00 [WRN] (///) The foreign key property '"Registration"."StudentCode1"' was created in shadow state because a conflicting property with the simple name '"StudentCode"' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-08T19:53:52.5815162+07:00 [DBG] (///) The property '"Registration"."StudentFacultyCode"' was created in shadow state because there are no eligible CLR members with a matching name.
2025-06-08T19:53:52.6681343+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-08T19:53:52.7103422+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Class>()
    .OrderBy(__Class => __Class.ClassCode)
    .Select(c => new ClassBasicResponse{ 
        ClassCode = c.ClassCode, 
        ClassName = c.ClassName, 
        FacultyCode = c.FacultyCode, 
        StudentCount = c.Students.Count, 
        FacultyName = c.FacultyCodeNavigation.FacultyName, 
        AcademicYearCode = c.AcademicYearCode 
    }
    )
    .Count()"'
2025-06-08T19:53:52.8985124+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => 
{
    queryContext.AddParameter(
        name: \"__ef_filter__Id_0\", 
        value: (object)Invoke(queryContext => ((FacultyDbContext)queryContext.Context).TenantInfo.Id, queryContext));
    return ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
        asyncEnumerable: SingleQueryingEnumerable.Create<int>(
            relationalQueryContext: (RelationalQueryContext)queryContext, 
            relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
                Projection Mapping:
                    EmptyProjectionMember -> 0
                SELECT CAST(count(*) AS integer)
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0) | Resolver: c => new RelationalCommandCache(
                c.Dependencies.MemoryCache, 
                c.RelationalDependencies.QuerySqlGeneratorFactory, 
                c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
                Projection Mapping:
                    EmptyProjectionMember -> 0
                SELECT CAST(count(*) AS integer)
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0, 
                False, 
                new HashSet<string>(
                    new string[]{ }, 
                    StringComparer.Ordinal
                )
            )].GetRelationalCommandTemplate(parameters), 
            readerColumns: null, 
            shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                int? value1;
                value1 = try { dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0) } catch (Exception) { ... } ;
                return (int)value1;
            }, 
            contextType: FacultyService.Application.FacultyDbContext, 
            standAloneStateManager: False, 
            detailedErrorsEnabled: True, 
            threadSafetyChecksEnabled: True), 
        cancellationToken: queryContext.CancellationToken);
}"'
2025-06-08T19:53:52.9308953+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T19:53:52.9601845+07:00 [DBG] (///) Created DbConnection. (27ms).
2025-06-08T19:53:52.9632225+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:53:53.0472063+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:53:53.0511910+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:53:53.0556517+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (2ms).
2025-06-08T19:53:53.0611411+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (10ms).
2025-06-08T19:53:53.0671127+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:53:53.1332319+07:00 [INF] (///) Executed DbCommand ("63"ms) [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:53:53.1476813+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:53:53.1547135+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 15ms reading results.
2025-06-08T19:53:53.1595454+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:53:53.1635827+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (4ms).
2025-06-08T19:53:53.1677816+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Class>()
    .OrderBy(__Class => __Class.ClassCode)
    .Select(c => new ClassBasicResponse{ 
        ClassCode = c.ClassCode, 
        ClassName = c.ClassName, 
        FacultyCode = c.FacultyCode, 
        StudentCount = c.Students.Count, 
        FacultyName = c.FacultyCodeNavigation.FacultyName, 
        AcademicYearCode = c.AcademicYearCode 
    }
    )
    .Skip(__p_0)
    .Take(__p_0)"'
2025-06-08T19:53:53.2220521+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => 
{
    queryContext.AddParameter(
        name: \"__ef_filter__Id_0\", 
        value: (object)Invoke(queryContext => ((FacultyDbContext)queryContext.Context).TenantInfo.Id, queryContext));
    return SingleQueryingEnumerable.Create<ClassBasicResponse>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                ClassCode -> 0
                ClassName -> 1
                FacultyCode -> 2
                StudentCount -> 3
                FacultyName -> 4
                AcademicYearCode -> 5
            SELECT c0.class_code AS ClassCode, c0.class_name AS ClassName, c0.faculty_code AS FacultyCode, (
                SELECT CAST(count(*) AS integer)
                FROM student AS s
                WHERE (s.faculty_code == @__ef_filter__Id_0) && (((c0.faculty_code != NULL) && (c0.class_code != NULL)) && ((c0.faculty_code == s.faculty_code) && (c0.class_code == s.class_code)))) AS StudentCount, f0.faculty_name AS FacultyName, c0.academic_year_code AS AcademicYearCode
            FROM 
            (
                SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0
                ORDER BY c.class_code ASC
                OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
            ) AS c0
            INNER JOIN 
            (
                SELECT f.faculty_code, f.faculty_name
                FROM faculty AS f
                WHERE f.faculty_code == @__ef_filter__Id_0
            ) AS f0 ON c0.faculty_code == f0.faculty_code
            ORDER BY c0.class_code ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                ClassCode -> 0
                ClassName -> 1
                FacultyCode -> 2
                StudentCount -> 3
                FacultyName -> 4
                AcademicYearCode -> 5
            SELECT c0.class_code AS ClassCode, c0.class_name AS ClassName, c0.faculty_code AS FacultyCode, (
                SELECT CAST(count(*) AS integer)
                FROM student AS s
                WHERE (s.faculty_code == @__ef_filter__Id_0) && (((c0.faculty_code != NULL) && (c0.class_code != NULL)) && ((c0.faculty_code == s.faculty_code) && (c0.class_code == s.class_code)))) AS StudentCount, f0.faculty_name AS FacultyName, c0.academic_year_code AS AcademicYearCode
            FROM 
            (
                SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0
                ORDER BY c.class_code ASC
                OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
            ) AS c0
            INNER JOIN 
            (
                SELECT f.faculty_code, f.faculty_name
                FROM faculty AS f
                WHERE f.faculty_code == @__ef_filter__Id_0
            ) AS f0 ON c0.faculty_code == f0.faculty_code
            ORDER BY c0.class_code ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            string value1;
            string value2;
            string value3;
            int? value4;
            string value5;
            string value6;
            value1 = try { dataReader.GetString(0) } catch (Exception) { ... } ;
            value2 = try { dataReader.GetString(1) } catch (Exception) { ... } ;
            value3 = try { dataReader.GetString(2) } catch (Exception) { ... } ;
            value4 = try { dataReader.IsDBNull(3) ? default(int?) : (int?)dataReader.GetInt32(3) } catch (Exception) { ... } ;
            value5 = try { dataReader.GetString(4) } catch (Exception) { ... } ;
            value6 = try { dataReader.GetString(5) } catch (Exception) { ... } ;
            return new ClassBasicResponse{ 
                ClassCode = value1, 
                ClassName = value2, 
                FacultyCode = value3, 
                StudentCount = (int)value4, 
                FacultyName = value5, 
                AcademicYearCode = value6 
            }
            ;
        }, 
        contextType: FacultyService.Application.FacultyDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: True, 
        threadSafetyChecksEnabled: True);
}"'
2025-06-08T19:53:53.2291885+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:53:53.2296292+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:53:53.2297905+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:53:53.2298687+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:53:53.2299273+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:53:53.2300337+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_0 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T19:53:53.2341347+07:00 [INF] (///) Executed DbCommand ("4"ms) [Parameters=["@__ef_filter__Id_0='CNTT', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_0 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T19:53:53.2357096+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:53:53.2358402+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 1ms reading results.
2025-06-08T19:53:53.2359830+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:53:53.2360453+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:53:53.2368209+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 1347ms
2025-06-08T19:53:53.2404603+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1358.6861ms.
2025-06-08T19:53:53.2482082+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T19:53:53.2502283+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T19:53:53.2503054+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T19:53:53.2503296+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T19:53:53.2507799+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T19:53:53.2511985+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T19:53:53.2788464+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 1411.6742ms
2025-06-08T19:53:53.2796917+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:53:53.2890100+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 1462.1001 ms
2025-06-08T19:53:53.2966445+07:00 [DBG] (///) Connection id ""0HND6HE2F0R9K"" completed keep alive response.
2025-06-08T19:53:53.3039119+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T19:53:53.3082037+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:53:53.3112989+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (1ms).
2025-06-08T19:53:53.3129093+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - 200 null "application/json; charset=utf-8" 1547.3436ms
2025-06-08T19:53:54.2803807+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T19:53:54.2818305+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:53:54.2819930+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:53:54.2821142+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:53:54.2823612+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T19:53:54.2825990+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T19:53:54.2826851+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T19:53:54.2827510+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:53:54.2829625+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T19:53:54.2830568+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T19:53:54.2831213+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T19:53:54.2832007+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:53:54.2832536+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T19:53:54.2833050+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:53:54.2834468+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:53:54.2835731+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:53:54.2837894+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:53:54.2839268+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T19:53:54.2840730+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T19:53:54.2841322+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:53:54.2841882+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:53:54.2842337+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T19:53:54.2842702+07:00 [DBG] (///) Could not find a value in the request with name '"PageSize"' for binding property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:53:54.2843105+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:53:54.2843512+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T19:53:54.2844148+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:53:54.2844636+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:53:54.2845041+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T19:53:54.2846900+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:53:54.2847447+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:53:54.2850241+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:53:54.2850893+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:53:54.2851218+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:53:54.2854090+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:53:54.2854950+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:53:54.2857380+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:53:54.2857866+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:53:54.2858348+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:53:54.2861820+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T19:53:54.2872969+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 0, OrderBy: null, Filter: null })]
2025-06-08T19:53:54.3192958+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-08T19:53:54.3229635+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T19:53:54.3232089+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T19:53:54.3233053+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:53:54.3234350+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:53:54.3236940+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:53:54.3237679+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:53:54.3238405+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:53:54.3240299+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:53:54.3258836+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:53:54.3262240+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:53:54.3263007+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T19:53:54.3264285+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:53:54.3265017+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:53:54.3269925+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:53:54.3270693+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:53:54.3271895+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:53:54.3272283+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:53:54.3272798+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:53:54.3273386+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_0 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T19:53:54.3292425+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__ef_filter__Id_0='CNTT', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_0 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T19:53:54.3294952+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:53:54.3295557+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T19:53:54.3296560+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:53:54.3297166+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:53:54.3298346+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 42ms
2025-06-08T19:53:54.3299412+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 43.6693ms.
2025-06-08T19:53:54.3302689+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T19:53:54.3304019+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T19:53:54.3304293+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T19:53:54.3304496+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T19:53:54.3305465+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T19:53:54.3305833+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T19:53:54.3309731+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 47.5412ms
2025-06-08T19:53:54.3310398+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:53:54.3312862+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 48.7661 ms
2025-06-08T19:53:54.3314672+07:00 [DBG] (///) Connection id ""0HND6HE2F0R9K"" completed keep alive response.
2025-06-08T19:53:54.3315880+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T19:53:54.3316693+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:53:54.3317276+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:53:54.3318457+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - 200 null "application/json; charset=utf-8" 51.4791ms
2025-06-08T19:53:59.3517211+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T19:53:59.3520569+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:53:59.3521133+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:53:59.3521594+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:53:59.3522592+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T19:53:59.3523896+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T19:53:59.3524258+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T19:53:59.3524665+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:53:59.3525437+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T19:53:59.3525841+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T19:53:59.3526052+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T19:53:59.3526592+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:53:59.3527508+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T19:53:59.3527705+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:53:59.3528057+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:53:59.3528578+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:53:59.3529284+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:53:59.3529694+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T19:53:59.3530021+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T19:53:59.3530181+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:53:59.3530398+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:53:59.3530760+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T19:53:59.3530910+07:00 [DBG] (///) Could not find a value in the request with name '"PageSize"' for binding property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:53:59.3531063+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:53:59.3531185+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T19:53:59.3531869+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:53:59.3531965+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:53:59.3532094+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T19:53:59.3532257+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:53:59.3532380+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:53:59.3532781+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:53:59.3532936+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:53:59.3533065+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:53:59.3533496+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:53:59.3533645+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:53:59.3533968+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:53:59.3534064+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:53:59.3534231+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:53:59.3535300+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T19:53:59.3537197+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 0, OrderBy: null, Filter: null })]
2025-06-08T19:53:59.3866629+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-08T19:53:59.3875536+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T19:53:59.3876110+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T19:53:59.3876628+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:53:59.3877294+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:53:59.3878637+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:53:59.3878897+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:53:59.3879201+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:53:59.3879583+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:53:59.3893587+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:53:59.3895256+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:53:59.3895712+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T19:53:59.3896611+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:53:59.3897038+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:53:59.3900268+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:53:59.3901142+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:53:59.3901972+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:53:59.3902159+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:53:59.3902445+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:53:59.3902824+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_0 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T19:53:59.3917102+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__ef_filter__Id_0='CNTT', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_0 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T19:53:59.3918235+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:53:59.3918643+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T19:53:59.3919344+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:53:59.3919767+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:53:59.3920473+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 38ms
2025-06-08T19:53:59.3921090+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 38.545ms.
2025-06-08T19:53:59.3922615+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T19:53:59.3923041+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T19:53:59.3923112+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T19:53:59.3923207+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T19:53:59.3923420+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T19:53:59.3923571+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T19:53:59.3925199+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 39.7259ms
2025-06-08T19:53:59.3925514+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:53:59.3926375+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 40.3241 ms
2025-06-08T19:53:59.3927563+07:00 [DBG] (///) Connection id ""0HND6HE2F0R9K"" completed keep alive response.
2025-06-08T19:53:59.3927927+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T19:53:59.3928257+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:53:59.3928479+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:53:59.3929096+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - 200 null "application/json; charset=utf-8" 41.18ms
2025-06-08T19:54:00.3962209+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T19:54:00.3964953+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:54:00.3965804+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:54:00.3966217+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:54:00.3966954+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T19:54:00.3967947+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T19:54:00.3968248+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T19:54:00.3968553+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:54:00.3969285+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T19:54:00.3969730+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T19:54:00.3969912+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T19:54:00.3970280+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:54:00.3970645+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T19:54:00.3970743+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:54:00.3971574+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:54:00.3972025+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:54:00.3972580+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:54:00.3973189+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T19:54:00.3973525+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T19:54:00.3973672+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:54:00.3973950+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:54:00.3974079+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T19:54:00.3974161+07:00 [DBG] (///) Could not find a value in the request with name '"PageSize"' for binding property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:54:00.3974296+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:54:00.3974428+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T19:54:00.3975054+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:54:00.3975199+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:54:00.3975290+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T19:54:00.3975385+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:54:00.3975476+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:54:00.3975585+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:54:00.3975662+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:54:00.3975778+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:54:00.3976219+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:54:00.3976362+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:54:00.3976716+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:54:00.3976820+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:54:00.3976930+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:54:00.3978867+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T19:54:00.3980594+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 0, OrderBy: null, Filter: null })]
2025-06-08T19:54:00.3987306+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-08T19:54:00.3990740+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T19:54:00.3991256+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T19:54:00.3991491+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:00.3991947+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:00.3993078+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:54:00.3993320+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:54:00.3993600+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:54:00.3993938+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:54:00.4008789+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:54:00.4010625+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:00.4011020+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T19:54:00.4011679+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:00.4012039+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:54:00.4015161+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:00.4015611+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:00.4016480+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:54:00.4016657+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:54:00.4017020+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:54:00.4017373+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_0 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T19:54:00.4033563+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__ef_filter__Id_0='CNTT', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_0 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T19:54:00.4035101+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:00.4035470+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T19:54:00.4036086+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:00.4036435+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:54:00.4037242+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 5ms
2025-06-08T19:54:00.4037955+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.8257ms.
2025-06-08T19:54:00.4040079+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T19:54:00.4040663+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T19:54:00.4040781+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T19:54:00.4040971+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T19:54:00.4042497+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T19:54:00.4042724+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T19:54:00.4045028+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 7.3528ms
2025-06-08T19:54:00.4045455+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:54:00.4046461+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 7.8908 ms
2025-06-08T19:54:00.4047183+07:00 [DBG] (///) Connection id ""0HND6HE2F0R9K"" completed keep alive response.
2025-06-08T19:54:00.4047587+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T19:54:00.4047987+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:00.4048384+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:54:00.4048975+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - 200 null "application/json; charset=utf-8" 8.6727ms
2025-06-08T19:54:06.8782600+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T19:54:06.8785712+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:54:06.8786729+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:54:06.8787930+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:54:06.8789747+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T19:54:06.8791057+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T19:54:06.8791336+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T19:54:06.8791613+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:54:06.8792304+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T19:54:06.8792712+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T19:54:06.8792848+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T19:54:06.8793132+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:54:06.8793324+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T19:54:06.8793455+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:54:06.8793705+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:54:06.8794012+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:54:06.8794653+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:54:06.8795015+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T19:54:06.8795290+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T19:54:06.8795495+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:54:06.8795611+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:54:06.8795776+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T19:54:06.8795890+07:00 [DBG] (///) Could not find a value in the request with name '"PageSize"' for binding property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:54:06.8796009+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:54:06.8796131+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T19:54:06.8796215+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:54:06.8796304+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:54:06.8797167+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T19:54:06.8797291+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:54:06.8797407+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:54:06.8797513+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:54:06.8797624+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:54:06.8797727+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:54:06.8798146+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:54:06.8798228+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:54:06.8798554+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:54:06.8798643+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:54:06.8798746+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:54:06.8799916+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T19:54:06.8800807+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 0, OrderBy: null, Filter: null })]
2025-06-08T19:54:06.8807048+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-08T19:54:06.8810210+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T19:54:06.8810604+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T19:54:06.8810880+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:06.8811256+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:06.8812633+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:54:06.8812944+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:54:06.8813256+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:54:06.8813619+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:54:06.8829751+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:54:06.8831860+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:06.8832292+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T19:54:06.8833169+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:06.8833543+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:54:06.8836652+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:06.8837044+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:06.8837976+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:54:06.8838232+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:54:06.8838551+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:54:06.8839015+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_0 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T19:54:06.8855990+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__ef_filter__Id_0='CNTT', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_0 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T19:54:06.8857469+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:06.8857875+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T19:54:06.8858649+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:06.8858997+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:54:06.8859709+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 5ms
2025-06-08T19:54:06.8860151+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.9945ms.
2025-06-08T19:54:06.8861543+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T19:54:06.8861921+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T19:54:06.8862037+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T19:54:06.8862176+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T19:54:06.8862372+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T19:54:06.8863140+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T19:54:06.8864573+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 7.0939ms
2025-06-08T19:54:06.8865158+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:54:06.8865881+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 7.5785 ms
2025-06-08T19:54:06.8866421+07:00 [DBG] (///) Connection id ""0HND6HE2F0R9K"" completed keep alive response.
2025-06-08T19:54:06.8866771+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T19:54:06.8867058+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:06.8867275+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:54:06.8867823+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - 200 null "application/json; charset=utf-8" 8.5242ms
2025-06-08T19:54:07.8899331+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T19:54:07.8902237+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:54:07.8902843+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:54:07.8903550+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:54:07.8904540+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T19:54:07.8905964+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T19:54:07.8906623+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T19:54:07.8907050+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:54:07.8908529+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T19:54:07.8908838+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T19:54:07.8909016+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T19:54:07.8910025+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:54:07.8910185+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T19:54:07.8910257+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:54:07.8910464+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:54:07.8910781+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:54:07.8911298+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:54:07.8911597+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T19:54:07.8911960+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T19:54:07.8912106+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:54:07.8912250+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:54:07.8912393+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T19:54:07.8912508+07:00 [DBG] (///) Could not find a value in the request with name '"PageSize"' for binding property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:54:07.8912587+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:54:07.8912706+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T19:54:07.8912854+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:54:07.8913652+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:54:07.8913767+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T19:54:07.8914293+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:54:07.8914612+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:54:07.8914770+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:54:07.8914901+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:54:07.8914968+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:54:07.8915431+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:54:07.8915652+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:54:07.8916004+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:54:07.8916089+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:54:07.8916270+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:54:07.8917258+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T19:54:07.8918373+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 0, OrderBy: null, Filter: null })]
2025-06-08T19:54:07.8924100+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-08T19:54:07.8927089+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T19:54:07.8927411+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T19:54:07.8927638+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:07.8928006+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:07.8929242+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:54:07.8929613+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:54:07.8929862+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:54:07.8930257+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:54:07.8943572+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:54:07.8944729+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:07.8945238+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T19:54:07.8945933+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:07.8946215+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:54:07.8948744+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:07.8949062+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:07.8949850+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:54:07.8950006+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:54:07.8950253+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:54:07.8950598+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_0 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T19:54:07.8965232+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__ef_filter__Id_0='CNTT', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_0 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T19:54:07.8966181+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:07.8966511+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T19:54:07.8967036+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:07.8967413+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:54:07.8968071+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 4ms
2025-06-08T19:54:07.8968509+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.0971ms.
2025-06-08T19:54:07.8969794+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T19:54:07.8970173+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T19:54:07.8970289+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T19:54:07.8970394+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T19:54:07.8970646+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T19:54:07.8970786+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T19:54:07.8972739+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 6.2325ms
2025-06-08T19:54:07.8973021+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:54:07.8973670+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 6.8832 ms
2025-06-08T19:54:07.8974099+07:00 [DBG] (///) Connection id ""0HND6HE2F0R9K"" completed keep alive response.
2025-06-08T19:54:07.8974383+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T19:54:07.8974696+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:07.8974976+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:54:07.8975691+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - 200 null "application/json; charset=utf-8" 7.6157ms
2025-06-08T19:54:16.5008566+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - null null
2025-06-08T19:54:16.5011662+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:54:16.5012563+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:54:16.5012954+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:54:16.5013767+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T19:54:16.5015690+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T19:54:16.5016051+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T19:54:16.5016305+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:54:16.5017097+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T19:54:16.5017374+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T19:54:16.5017519+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T19:54:16.5017842+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:54:16.5018007+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T19:54:16.5018315+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:54:16.5018548+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:54:16.5018854+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:54:16.5019645+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:54:16.5020583+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T19:54:16.5021001+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T19:54:16.5021173+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:54:16.5021296+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:54:16.5021452+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T19:54:16.5021570+07:00 [DBG] (///) Could not find a value in the request with name '"PageSize"' for binding property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:54:16.5021736+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:54:16.5021833+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T19:54:16.5021991+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:54:16.5022112+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:54:16.5022233+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T19:54:16.5022341+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:54:16.5022466+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:54:16.5022572+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:54:16.5023013+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:54:16.5023103+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:54:16.5023593+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:54:16.5023698+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:54:16.5024095+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:54:16.5024276+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:54:16.5024388+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:54:16.5025251+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T19:54:16.5026277+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 0, OrderBy: null, Filter: null })]
2025-06-08T19:54:16.5032339+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-08T19:54:16.5035889+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T19:54:16.5036978+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T19:54:16.5037221+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:16.5037706+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:16.5038843+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:54:16.5039101+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:54:16.5039463+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:54:16.5039877+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:54:16.5043446+07:00 [DBG] (///) Connection id ""0HND6HE2F0R9L"" accepted.
2025-06-08T19:54:16.5044047+07:00 [DBG] (///) Connection id ""0HND6HE2F0R9L"" started.
2025-06-08T19:54:16.5047495+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?page=1&pageSize=50" - null null
2025-06-08T19:54:16.5057353+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:54:16.5059086+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:16.5059575+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T19:54:16.5060420+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:16.5060867+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:54:16.5064313+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:16.5064731+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:16.5065984+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:54:16.5066319+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:54:16.5066657+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:54:16.5067062+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_0 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T19:54:16.5079315+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:54:16.5080037+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:54:16.5080590+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:54:16.5081430+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T19:54:16.5082833+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T19:54:16.5083163+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T19:54:16.5083478+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:54:16.5084218+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T19:54:16.5085205+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T19:54:16.5085391+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T19:54:16.5085608+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:54:16.5085731+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T19:54:16.5085866+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:54:16.5086124+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:54:16.5086574+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:54:16.5089280+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:54:16.5090943+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__ef_filter__Id_0='CNTT', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_0 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T19:54:16.5092243+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:16.5092908+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T19:54:16.5092957+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T19:54:16.5093554+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T19:54:16.5093632+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:16.5094065+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:54:16.5094780+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 6ms
2025-06-08T19:54:16.5095178+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 6.9653ms.
2025-06-08T19:54:16.5095635+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:54:16.5096694+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T19:54:16.5097064+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T19:54:16.5097232+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T19:54:16.5097311+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T19:54:16.5097650+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T19:54:16.5098494+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T19:54:16.5099624+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T19:54:16.5099833+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 8.1339ms
2025-06-08T19:54:16.5100072+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:54:16.5100272+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:54:16.5101270+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 8.6664 ms
2025-06-08T19:54:16.5101810+07:00 [DBG] (///) Connection id ""0HND6HE2F0R9K"" completed keep alive response.
2025-06-08T19:54:16.5101720+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T19:54:16.5102039+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:54:16.5102147+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T19:54:16.5102213+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:54:16.5102397+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T19:54:16.5102409+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:16.5102538+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:54:16.5102744+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:54:16.5103240+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:54:16.5103296+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?" - 200 null "application/json; charset=utf-8" 9.4847ms
2025-06-08T19:54:16.5103393+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:54:16.5103551+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:54:16.5103673+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:54:16.5104437+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:54:16.5105021+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:54:16.5105756+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:54:16.5105930+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:54:16.5106070+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:54:16.5107122+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T19:54:16.5108332+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 1, PageSize: 50, OrderBy: null, Filter: null })]
2025-06-08T19:54:16.5114392+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-08T19:54:16.5117845+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T19:54:16.5118302+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T19:54:16.5118530+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:16.5118903+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:16.5120109+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:54:16.5120517+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:54:16.5120799+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:54:16.5121162+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:54:16.5135110+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:54:16.5136427+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:16.5137180+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T19:54:16.5137983+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:16.5138421+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:54:16.5141179+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:16.5141512+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:16.5142384+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:54:16.5142635+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:54:16.5142854+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:54:16.5143184+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT', @__p_0='50'"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_0 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T19:54:16.5157451+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__ef_filter__Id_0='CNTT', @__p_0='50'"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_0 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T19:54:16.5158595+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:16.5158937+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T19:54:16.5159502+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:16.5159866+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:54:16.5160517+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 5ms
2025-06-08T19:54:16.5160955+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.3477ms.
2025-06-08T19:54:16.5162371+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T19:54:16.5162855+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T19:54:16.5162979+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T19:54:16.5163106+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T19:54:16.5163315+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T19:54:16.5163526+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T19:54:16.5165518+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 7.9464ms
2025-06-08T19:54:16.5165788+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:54:16.5166846+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 8.4735 ms
2025-06-08T19:54:16.5167250+07:00 [DBG] (///) Connection id ""0HND6HE2F0R9L"" completed keep alive response.
2025-06-08T19:54:16.5167613+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T19:54:16.5167924+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:16.5168122+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:54:16.5168560+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?page=1&pageSize=50" - 200 null "application/json; charset=utf-8" 12.105ms
2025-06-08T19:54:17.5385835+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?page=1&pageSize=50" - null null
2025-06-08T19:54:17.5388878+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:54:17.5389321+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:54:17.5389688+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:54:17.5390378+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T19:54:17.5391498+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T19:54:17.5391787+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T19:54:17.5394324+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:54:17.5395675+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T19:54:17.5396155+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T19:54:17.5396368+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T19:54:17.5396703+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:54:17.5396873+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T19:54:17.5397098+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:54:17.5397452+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:54:17.5398989+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:54:17.5401121+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:54:17.5402442+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T19:54:17.5403019+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T19:54:17.5403490+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:54:17.5404173+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T19:54:17.5404396+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:54:17.5404713+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T19:54:17.5405035+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:54:17.5405195+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:54:17.5405366+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T19:54:17.5405459+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:54:17.5405587+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:54:17.5406531+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:54:17.5406649+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:54:17.5406730+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:54:17.5407369+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:54:17.5407545+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:54:17.5407811+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:54:17.5407899+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:54:17.5408034+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:54:17.5408953+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T19:54:17.5410000+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 1, PageSize: 50, OrderBy: null, Filter: null })]
2025-06-08T19:54:17.5417401+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-08T19:54:17.5420331+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T19:54:17.5420638+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T19:54:17.5421718+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:17.5422107+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:17.5423844+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:54:17.5424063+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:54:17.5424386+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:54:17.5425640+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:54:17.5441533+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:54:17.5443108+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:17.5443677+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T19:54:17.5444376+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:17.5445166+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:54:17.5447718+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:17.5448038+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:17.5448794+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:54:17.5449005+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:54:17.5449580+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:54:17.5450121+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT', @__p_0='50'"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_0 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T19:54:17.5468240+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__ef_filter__Id_0='CNTT', @__p_0='50'"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_0 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T19:54:17.5469823+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:17.5470241+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T19:54:17.5470903+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:17.5471357+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:54:17.5471960+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 6ms
2025-06-08T19:54:17.5472649+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 6.3351ms.
2025-06-08T19:54:17.5474013+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T19:54:17.5474378+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T19:54:17.5474481+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T19:54:17.5474565+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T19:54:17.5474791+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T19:54:17.5474948+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T19:54:17.5476460+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 7.913ms
2025-06-08T19:54:17.5476708+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:54:17.5478003+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 8.7277 ms
2025-06-08T19:54:17.5478492+07:00 [DBG] (///) Connection id ""0HND6HE2F0R9L"" completed keep alive response.
2025-06-08T19:54:17.5478829+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T19:54:17.5479071+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:54:17.5479323+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:54:17.5480131+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?page=1&pageSize=50" - 200 null "application/json; charset=utf-8" 9.404ms
2025-06-08T19:56:26.9247532+07:00 [DBG] (///) Connection id ""0HND6HE2F0R9K"" disconnecting.
2025-06-08T19:56:26.9257362+07:00 [DBG] (///) Connection id ""0HND6HE2F0R9K"" stopped.
2025-06-08T19:56:26.9262800+07:00 [DBG] (///) Connection id ""0HND6HE2F0R9K"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-08T19:56:27.9240719+07:00 [DBG] (///) Connection id ""0HND6HE2F0R9L"" disconnecting.
2025-06-08T19:56:27.9241863+07:00 [DBG] (///) Connection id ""0HND6HE2F0R9L"" stopped.
2025-06-08T19:56:27.9242762+07:00 [DBG] (///) Connection id ""0HND6HE2F0R9L"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-08T19:57:26.8694652+07:00 [DBG] (///) Connection id ""0HND6HE2F0R9M"" accepted.
2025-06-08T19:57:26.8696901+07:00 [DBG] (///) Connection id ""0HND6HE2F0R9M"" started.
2025-06-08T19:57:26.8699003+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?page=1&pageSize=50" - null null
2025-06-08T19:57:26.8701006+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:57:26.8701502+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:57:26.8701840+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:57:26.8702451+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T19:57:26.8703377+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T19:57:26.8703605+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T19:57:26.8703813+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:57:26.8704520+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T19:57:26.8704840+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T19:57:26.8704971+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T19:57:26.8705977+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:57:26.8706102+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T19:57:26.8706208+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:57:26.8706462+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:57:26.8706752+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:57:26.8707285+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:57:26.8707786+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T19:57:26.8708109+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T19:57:26.8708515+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:57:26.8708647+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T19:57:26.8708839+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:57:26.8709626+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T19:57:26.8709789+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:57:26.8709912+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:57:26.8710020+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T19:57:26.8710484+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:57:26.8710758+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:57:26.8710992+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:57:26.8711143+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:57:26.8711227+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:57:26.8711717+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:57:26.8711873+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:57:26.8712192+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:57:26.8712261+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:57:26.8712837+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:57:26.8713861+07:00 [DBG] (///) Connection id ""0HND6HE2F0R9N"" accepted.
2025-06-08T19:57:26.8714213+07:00 [DBG] (///) Connection id ""0HND6HE2F0R9N"" started.
2025-06-08T19:57:26.8714462+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T19:57:26.8715851+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - null null
2025-06-08T19:57:26.8715791+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 1, PageSize: 50, OrderBy: null, Filter: null })]
2025-06-08T19:57:26.8717509+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:57:26.8718316+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:57:26.8718634+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:57:26.8719203+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T19:57:26.8720022+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T19:57:26.8720309+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T19:57:26.8720571+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:57:26.8721168+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T19:57:26.8721446+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T19:57:26.8721629+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T19:57:26.8722163+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:57:26.8722318+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T19:57:26.8722454+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:57:26.8722697+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:57:26.8723084+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:57:26.8723660+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:57:26.8724094+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T19:57:26.8724419+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T19:57:26.8724619+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:57:26.8725329+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:57:26.8725519+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T19:57:26.8725805+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:57:26.8725934+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T19:57:26.8726077+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:57:26.8726214+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:57:26.8726345+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T19:57:26.8726433+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:57:26.8726598+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:57:26.8726730+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:57:26.8726851+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:57:26.8726939+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:57:26.8727438+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:57:26.8727596+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:57:26.8728304+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:57:26.8728497+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:57:26.8728650+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:57:26.8729602+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T19:57:26.8730234+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-08T19:57:26.8730615+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 50, OrderBy: null, Filter: null })]
2025-06-08T19:57:26.8733896+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T19:57:26.8734435+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T19:57:26.8734697+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:57:26.8735051+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:57:26.8736271+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:57:26.8736725+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:57:26.8737151+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:57:26.8737407+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-08T19:57:26.8737597+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:57:26.8740312+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T19:57:26.8740770+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T19:57:26.8740929+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:57:26.8805431+07:00 [ERR] (///) Failed executing DbCommand ("6"ms) [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:57:26.9078900+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:57:26.9080208+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:57:26.9080485+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:57:26.9080757+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:57:26.9081028+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:57:26.9189005+07:00 [INF] (///) Executed DbCommand ("11"ms) [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:57:26.9191199+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:57:26.9191831+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T19:57:26.9192636+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:57:26.8991850+07:00 [ERR] (///) An exception occurred while iterating over the results of a query for context type '"FacultyService.Application.FacultyDbContext"'."
""System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.IO.EndOfStreamException: Attempted to read past the end of the stream.
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()"
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.IO.EndOfStreamException: Attempted to read past the end of the stream.
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Arch.EntityFrameworkCore.UnitOfWork.Collections.IQueryablePageListExtensions.ToPagedListAsync[T](IQueryable`1 source, Int32 pageIndex, Int32 pageSize, Int32 indexFrom, CancellationToken cancellationToken)
   at FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler.Handle(DefaultClassQuery request, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/Classes/QueryHandler/GetAllClassesQueryHandler.cs:line 15
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
2025-06-08T19:57:26.9206884+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (1ms).
2025-06-08T19:57:26.9210483+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Class>()
    .OrderBy(__Class => __Class.ClassCode)
    .Select(c => new ClassBasicResponse{ 
        ClassCode = c.ClassCode, 
        ClassName = c.ClassName, 
        FacultyCode = c.FacultyCode, 
        StudentCount = c.Students.Count, 
        FacultyName = c.FacultyCodeNavigation.FacultyName, 
        AcademicYearCode = c.AcademicYearCode 
    }
    )
    .Skip(__p_0)
    .Take(__p_1)"'
2025-06-08T19:57:26.9249436+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => 
{
    queryContext.AddParameter(
        name: \"__ef_filter__Id_0\", 
        value: (object)Invoke(queryContext => ((FacultyDbContext)queryContext.Context).TenantInfo.Id, queryContext));
    return SingleQueryingEnumerable.Create<ClassBasicResponse>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                ClassCode -> 0
                ClassName -> 1
                FacultyCode -> 2
                StudentCount -> 3
                FacultyName -> 4
                AcademicYearCode -> 5
            SELECT c0.class_code AS ClassCode, c0.class_name AS ClassName, c0.faculty_code AS FacultyCode, (
                SELECT CAST(count(*) AS integer)
                FROM student AS s
                WHERE (s.faculty_code == @__ef_filter__Id_0) && (((c0.faculty_code != NULL) && (c0.class_code != NULL)) && ((c0.faculty_code == s.faculty_code) && (c0.class_code == s.class_code)))) AS StudentCount, f0.faculty_name AS FacultyName, c0.academic_year_code AS AcademicYearCode
            FROM 
            (
                SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0
                ORDER BY c.class_code ASC
                OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
            ) AS c0
            INNER JOIN 
            (
                SELECT f.faculty_code, f.faculty_name
                FROM faculty AS f
                WHERE f.faculty_code == @__ef_filter__Id_0
            ) AS f0 ON c0.faculty_code == f0.faculty_code
            ORDER BY c0.class_code ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                ClassCode -> 0
                ClassName -> 1
                FacultyCode -> 2
                StudentCount -> 3
                FacultyName -> 4
                AcademicYearCode -> 5
            SELECT c0.class_code AS ClassCode, c0.class_name AS ClassName, c0.faculty_code AS FacultyCode, (
                SELECT CAST(count(*) AS integer)
                FROM student AS s
                WHERE (s.faculty_code == @__ef_filter__Id_0) && (((c0.faculty_code != NULL) && (c0.class_code != NULL)) && ((c0.faculty_code == s.faculty_code) && (c0.class_code == s.class_code)))) AS StudentCount, f0.faculty_name AS FacultyName, c0.academic_year_code AS AcademicYearCode
            FROM 
            (
                SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0
                ORDER BY c.class_code ASC
                OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
            ) AS c0
            INNER JOIN 
            (
                SELECT f.faculty_code, f.faculty_name
                FROM faculty AS f
                WHERE f.faculty_code == @__ef_filter__Id_0
            ) AS f0 ON c0.faculty_code == f0.faculty_code
            ORDER BY c0.class_code ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            string value1;
            string value2;
            string value3;
            int? value4;
            string value5;
            string value6;
            value1 = try { dataReader.GetString(0) } catch (Exception) { ... } ;
            value2 = try { dataReader.GetString(1) } catch (Exception) { ... } ;
            value3 = try { dataReader.GetString(2) } catch (Exception) { ... } ;
            value4 = try { dataReader.IsDBNull(3) ? default(int?) : (int?)dataReader.GetInt32(3) } catch (Exception) { ... } ;
            value5 = try { dataReader.GetString(4) } catch (Exception) { ... } ;
            value6 = try { dataReader.GetString(5) } catch (Exception) { ... } ;
            return new ClassBasicResponse{ 
                ClassCode = value1, 
                ClassName = value2, 
                FacultyCode = value3, 
                StudentCount = (int)value4, 
                FacultyName = value5, 
                AcademicYearCode = value6 
            }
            ;
        }, 
        contextType: FacultyService.Application.FacultyDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: True, 
        threadSafetyChecksEnabled: True);
}"'
2025-06-08T19:57:26.9207948+07:00 [ERR] (///) Error processing request "DefaultClassQuery" after 48ms
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.IO.EndOfStreamException: Attempted to read past the end of the stream.
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Arch.EntityFrameworkCore.UnitOfWork.Collections.IQueryablePageListExtensions.ToPagedListAsync[T](IQueryable`1 source, Int32 pageIndex, Int32 pageSize, Int32 indexFrom, CancellationToken cancellationToken)
   at FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler.Handle(DefaultClassQuery request, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/Classes/QueryHandler/GetAllClassesQueryHandler.cs:line 15
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
   at FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses(GridifyQuery gridifyQuery, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api/Classes/Controller/ClassesController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Finbuckle.MultiTenant.AspNetCore.Internal.MultiTenantMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-08T19:57:26.9258652+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 55.219ms
2025-06-08T19:57:26.9259170+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:57:26.9259287+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:57:26.9265428+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.IO.EndOfStreamException: Attempted to read past the end of the stream.
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Arch.EntityFrameworkCore.UnitOfWork.Collections.IQueryablePageListExtensions.ToPagedListAsync[T](IQueryable`1 source, Int32 pageIndex, Int32 pageSize, Int32 indexFrom, CancellationToken cancellationToken)
   at FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler.Handle(DefaultClassQuery request, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/Classes/QueryHandler/GetAllClassesQueryHandler.cs:line 15
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
   at FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses(GridifyQuery gridifyQuery, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api/Classes/Controller/ClassesController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Finbuckle.MultiTenant.AspNetCore.Internal.MultiTenantMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-08T19:57:26.9328115+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:57:26.9329143+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:57:26.9329345+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:57:26.9329823+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:57:26.9330173+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT', @__p_1='50', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T19:57:26.9430618+07:00 [ERR] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 500 in 72.7661 ms
2025-06-08T19:57:26.9431519+07:00 [DBG] (///) Connection id ""0HND6HE2F0R9M"" completed keep alive response.
2025-06-08T19:57:26.9431953+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T19:57:26.9432364+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:57:26.9432754+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:57:26.9433335+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?page=1&pageSize=50" - 500 null "application/problem+json" 73.4257ms
2025-06-08T19:57:26.9449314+07:00 [INF] (///) Executed DbCommand ("12"ms) [Parameters=["@__ef_filter__Id_0='CNTT', @__p_1='50', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T19:57:26.9450889+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:57:26.9451445+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T19:57:26.9452623+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:57:26.9453064+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:57:26.9453688+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 72ms
2025-06-08T19:57:26.9454155+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 72.4171ms.
2025-06-08T19:57:26.9455990+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T19:57:26.9456395+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T19:57:26.9456491+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T19:57:26.9456553+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T19:57:26.9456746+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T19:57:26.9456892+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T19:57:26.9458415+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 73.5731ms
2025-06-08T19:57:26.9458748+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:57:26.9460288+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 73.9833 ms
2025-06-08T19:57:26.9460860+07:00 [DBG] (///) Connection id ""0HND6HE2F0R9N"" completed keep alive response.
2025-06-08T19:57:26.9461258+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T19:57:26.9461603+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:57:26.9461900+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:57:26.9462376+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - 200 null "application/json; charset=utf-8" 74.6456ms
2025-06-08T19:57:27.9558632+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - null null
2025-06-08T19:57:27.9562800+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:57:27.9563494+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:57:27.9564306+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:57:27.9565276+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T19:57:27.9566741+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T19:57:27.9577592+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T19:57:27.9577822+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:57:27.9578497+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T19:57:27.9578776+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T19:57:27.9578936+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T19:57:27.9579192+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:57:27.9579284+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T19:57:27.9579356+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:57:27.9579577+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:57:27.9579835+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:57:27.9580325+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:57:27.9580796+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T19:57:27.9581550+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T19:57:27.9581750+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:57:27.9581877+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:57:27.9581993+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T19:57:27.9582197+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:57:27.9582311+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T19:57:27.9582404+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:57:27.9582496+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:57:27.9582582+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T19:57:27.9582679+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:57:27.9582757+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:57:27.9582865+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:57:27.9582964+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:57:27.9583069+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:57:27.9583467+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:57:27.9583602+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:57:27.9584126+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:57:27.9584245+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:57:27.9584342+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:57:27.9585222+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T19:57:27.9586237+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 50, OrderBy: null, Filter: null })]
2025-06-08T19:57:27.9594303+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-08T19:57:27.9597161+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T19:57:27.9597508+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T19:57:27.9597670+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:57:27.9598966+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:57:27.9599611+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:57:27.9599801+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:57:27.9600226+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:57:27.9600462+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:57:27.9614837+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:57:27.9616038+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:57:27.9616468+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T19:57:27.9617081+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:57:27.9617406+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:57:27.9619932+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:57:27.9620220+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:57:27.9620835+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:57:27.9622018+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:57:27.9622301+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:57:27.9622536+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT', @__p_1='50', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T19:57:27.9638034+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__ef_filter__Id_0='CNTT', @__p_1='50', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T19:57:27.9638989+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:57:27.9639262+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T19:57:27.9640102+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:57:27.9640347+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:57:27.9640845+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 5ms
2025-06-08T19:57:27.9641182+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.5594ms.
2025-06-08T19:57:27.9642258+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T19:57:27.9642579+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T19:57:27.9642664+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T19:57:27.9642744+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T19:57:27.9642923+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T19:57:27.9643055+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T19:57:27.9644367+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 6.4857ms
2025-06-08T19:57:27.9644589+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:57:27.9645720+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 7.9648 ms
2025-06-08T19:57:27.9646737+07:00 [DBG] (///) Connection id ""0HND6HE2F0R9N"" completed keep alive response.
2025-06-08T19:57:27.9647129+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T19:57:27.9647370+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:57:27.9647582+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:57:27.9647958+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - 200 null "application/json; charset=utf-8" 8.9549ms
2025-06-08T19:57:51.4380134+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - null null
2025-06-08T19:57:51.4383162+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:57:51.4383550+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:57:51.4383894+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:57:51.4384579+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T19:57:51.4385580+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T19:57:51.4385863+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T19:57:51.4386151+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:57:51.4386788+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T19:57:51.4387044+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T19:57:51.4387173+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T19:57:51.4387976+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:57:51.4388101+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T19:57:51.4388237+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:57:51.4388419+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:57:51.4388724+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:57:51.4389184+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:57:51.4389595+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T19:57:51.4389870+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T19:57:51.4390265+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:57:51.4390429+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:57:51.4390575+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T19:57:51.4390784+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:57:51.4390910+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T19:57:51.4391012+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:57:51.4391098+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:57:51.4391194+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T19:57:51.4391291+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:57:51.4391371+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:57:51.4391500+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:57:51.4391604+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:57:51.4391679+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:57:51.4392126+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:57:51.4392271+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:57:51.4392526+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:57:51.4392614+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:57:51.4392704+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:57:51.4393881+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T19:57:51.4395471+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 50, OrderBy: null, Filter: null })]
2025-06-08T19:57:51.4404289+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-08T19:57:51.4408079+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T19:57:51.4408600+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T19:57:51.4408812+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:57:51.4409191+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:57:51.4410752+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:57:51.4411134+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:57:51.4411472+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:57:51.4411786+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:57:51.4434232+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:57:51.4437242+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:57:51.4437797+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T19:57:51.4438699+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:57:51.4439143+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:57:51.4442116+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:57:51.4442575+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:57:51.4443522+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:57:51.4443814+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:57:51.4444138+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:57:51.4444556+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT', @__p_1='50', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T19:57:51.4469162+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__ef_filter__Id_0='CNTT', @__p_1='50', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T19:57:51.4470848+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:57:51.4471376+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T19:57:51.4472217+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:57:51.4472640+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:57:51.4473496+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 7ms
2025-06-08T19:57:51.4474040+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 7.9796ms.
2025-06-08T19:57:51.4475600+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T19:57:51.4475998+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T19:57:51.4476079+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T19:57:51.4476187+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T19:57:51.4476746+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T19:57:51.4477025+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T19:57:51.4480670+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 9.2184ms
2025-06-08T19:57:51.4481231+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:57:51.4482204+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 9.7085 ms
2025-06-08T19:57:51.4482874+07:00 [DBG] (///) Connection id ""0HND6HE2F0R9N"" completed keep alive response.
2025-06-08T19:57:51.4483323+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T19:57:51.4483715+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:57:51.4484072+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:57:51.4484532+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - 200 null "application/json; charset=utf-8" 10.4442ms
2025-06-08T19:57:52.4886168+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - null null
2025-06-08T19:57:52.4889245+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:57:52.4889908+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:57:52.4890426+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:57:52.4891946+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T19:57:52.4893121+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T19:57:52.4893404+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T19:57:52.4893620+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:57:52.4894338+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T19:57:52.4894636+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T19:57:52.4894785+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T19:57:52.4895019+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:57:52.4895130+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T19:57:52.4895249+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:57:52.4895564+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:57:52.4895917+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:57:52.4896462+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:57:52.4896883+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T19:57:52.4897135+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T19:57:52.4897312+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:57:52.4897428+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:57:52.4897545+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T19:57:52.4897751+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:57:52.4897864+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T19:57:52.4897959+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:57:52.4898094+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:57:52.4898203+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T19:57:52.4898285+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:57:52.4898364+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:57:52.4898485+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:57:52.4898585+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:57:52.4898665+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:57:52.4899142+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:57:52.4899257+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:57:52.4899521+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:57:52.4899592+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:57:52.4899672+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:57:52.4900789+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T19:57:52.4901702+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 50, OrderBy: null, Filter: null })]
2025-06-08T19:57:52.4909725+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-08T19:57:52.4914403+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T19:57:52.4915050+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T19:57:52.4915277+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:57:52.4915846+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:57:52.4917718+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:57:52.4917991+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:57:52.4918395+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:57:52.4918693+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:57:52.4934123+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:57:52.4935421+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:57:52.4935845+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T19:57:52.4936441+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:57:52.4937203+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:57:52.4939632+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:57:52.4939992+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:57:52.4940754+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:57:52.4940968+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:57:52.4941230+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:57:52.4941511+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT', @__p_1='50', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T19:57:52.4962301+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__ef_filter__Id_0='CNTT', @__p_1='50', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T19:57:52.4964658+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:57:52.4965431+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T19:57:52.4966575+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:57:52.4966989+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:57:52.4967812+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 6ms
2025-06-08T19:57:52.4968412+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 6.7298ms.
2025-06-08T19:57:52.4969903+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T19:57:52.4970409+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T19:57:52.4970541+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T19:57:52.4970659+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T19:57:52.4970928+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T19:57:52.4971143+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T19:57:52.4972834+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 7.7386ms
2025-06-08T19:57:52.4973135+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:57:52.4974910+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 8.2440 ms
2025-06-08T19:57:52.4975503+07:00 [DBG] (///) Connection id ""0HND6HE2F0R9N"" completed keep alive response.
2025-06-08T19:57:52.4975962+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T19:57:52.4976224+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:57:52.4976436+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:57:52.4976811+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - 200 null "application/json; charset=utf-8" 9.0799ms
2025-06-08T19:59:11.6357790+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - null null
2025-06-08T19:59:11.6360628+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:59:11.6361186+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:59:11.6361704+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:59:11.6362450+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T19:59:11.6363623+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T19:59:11.6363926+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T19:59:11.6364255+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:59:11.6365005+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T19:59:11.6365450+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T19:59:11.6365657+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T19:59:11.6365993+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:59:11.6367226+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T19:59:11.6367347+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:59:11.6367588+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:59:11.6367990+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:59:11.6368633+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:59:11.6369058+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T19:59:11.6369350+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T19:59:11.6369575+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:59:11.6369787+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:59:11.6369905+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T19:59:11.6370092+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:59:11.6370860+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T19:59:11.6371186+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:59:11.6371284+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:59:11.6371429+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T19:59:11.6371584+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:59:11.6371725+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:59:11.6371915+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:59:11.6372019+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:59:11.6372156+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:59:11.6372677+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:59:11.6372857+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:59:11.6373149+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:59:11.6373244+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:59:11.6373343+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:59:11.6374611+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T19:59:11.6375495+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 50, OrderBy: null, Filter: null })]
2025-06-08T19:59:11.6381825+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-08T19:59:11.6384893+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T19:59:11.6385308+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T19:59:11.6385512+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:59:11.6385894+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:59:11.6387235+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:59:11.6387548+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:59:11.6387835+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:59:11.6388164+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:59:11.6395775+07:00 [ERR] (///) Failed executing DbCommand ("1"ms) [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:59:11.6411786+07:00 [ERR] (///) An exception occurred while iterating over the results of a query for context type '"FacultyService.Application.FacultyDbContext"'."
""System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.IO.EndOfStreamException: Attempted to read past the end of the stream.
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()"
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.IO.EndOfStreamException: Attempted to read past the end of the stream.
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Arch.EntityFrameworkCore.UnitOfWork.Collections.IQueryablePageListExtensions.ToPagedListAsync[T](IQueryable`1 source, Int32 pageIndex, Int32 pageSize, Int32 indexFrom, CancellationToken cancellationToken)
   at FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler.Handle(DefaultClassQuery request, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/Classes/QueryHandler/GetAllClassesQueryHandler.cs:line 15
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
2025-06-08T19:59:11.6472620+07:00 [ERR] (///) Error processing request "DefaultClassQuery" after 9ms
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.IO.EndOfStreamException: Attempted to read past the end of the stream.
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Arch.EntityFrameworkCore.UnitOfWork.Collections.IQueryablePageListExtensions.ToPagedListAsync[T](IQueryable`1 source, Int32 pageIndex, Int32 pageSize, Int32 indexFrom, CancellationToken cancellationToken)
   at FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler.Handle(DefaultClassQuery request, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/Classes/QueryHandler/GetAllClassesQueryHandler.cs:line 15
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
   at FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses(GridifyQuery gridifyQuery, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api/Classes/Controller/ClassesController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Finbuckle.MultiTenant.AspNetCore.Internal.MultiTenantMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-08T19:59:11.6527614+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 16.0024ms
2025-06-08T19:59:11.6528278+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:59:11.6528952+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.IO.EndOfStreamException: Attempted to read past the end of the stream.
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Arch.EntityFrameworkCore.UnitOfWork.Collections.IQueryablePageListExtensions.ToPagedListAsync[T](IQueryable`1 source, Int32 pageIndex, Int32 pageSize, Int32 indexFrom, CancellationToken cancellationToken)
   at FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler.Handle(DefaultClassQuery request, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/Classes/QueryHandler/GetAllClassesQueryHandler.cs:line 15
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
   at FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses(GridifyQuery gridifyQuery, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api/Classes/Controller/ClassesController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Finbuckle.MultiTenant.AspNetCore.Internal.MultiTenantMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-08T19:59:11.6609759+07:00 [ERR] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 500 in 24.6775 ms
2025-06-08T19:59:11.6610597+07:00 [DBG] (///) Connection id ""0HND6HE2F0R9N"" completed keep alive response.
2025-06-08T19:59:11.6611077+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T19:59:11.6611476+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:59:11.6611774+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:59:11.6612244+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - 500 null "application/problem+json" 25.4464ms
2025-06-08T19:59:12.6937659+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - null null
2025-06-08T19:59:12.6940530+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:59:12.6941100+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T19:59:12.6941733+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:59:12.6942530+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T19:59:12.6944445+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T19:59:12.6944959+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T19:59:12.6945330+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:59:12.6946112+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T19:59:12.6946548+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T19:59:12.6946755+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T19:59:12.6947055+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:59:12.6947239+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T19:59:12.6947419+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T19:59:12.6947705+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:59:12.6948125+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T19:59:12.6949099+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:59:12.6949666+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T19:59:12.6950121+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T19:59:12.6950412+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:59:12.6950610+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T19:59:12.6950866+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T19:59:12.6951098+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T19:59:12.6951202+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T19:59:12.6951300+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:59:12.6951390+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T19:59:12.6951478+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T19:59:12.6951571+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:59:12.6951683+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T19:59:12.6951777+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:59:12.6952425+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:59:12.6952520+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T19:59:12.6953052+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T19:59:12.6953213+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:59:12.6953530+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:59:12.6953589+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T19:59:12.6953698+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T19:59:12.6954416+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T19:59:12.6955100+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 50, OrderBy: null, Filter: null })]
2025-06-08T19:59:12.6959713+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "SensitiveDataLoggingEnabled DetailedErrorsEnabled "
2025-06-08T19:59:12.6962202+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T19:59:12.6962500+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T19:59:12.6962687+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:59:12.7077644+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:59:12.7079384+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:59:12.7079799+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:59:12.7080237+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:59:12.7080668+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:59:12.7193372+07:00 [INF] (///) Executed DbCommand ("11"ms) [Parameters=["@__ef_filter__Id_0='CNTT'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T19:59:12.7195265+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:59:12.7195878+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T19:59:12.7196856+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:59:12.7197289+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:59:12.7200293+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:59:12.7200730+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:59:12.7201776+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T19:59:12.7202022+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:59:12.7202342+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T19:59:12.7202721+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='CNTT', @__p_1='50', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T19:59:12.7230723+07:00 [INF] (///) Executed DbCommand ("3"ms) [Parameters=["@__ef_filter__Id_0='CNTT', @__p_1='50', @__p_0='0'"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T19:59:12.7232391+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:59:12.7232962+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T19:59:12.7233870+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:59:12.7234363+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:59:12.7235084+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 27ms
2025-06-08T19:59:12.7235677+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 28.0959ms.
2025-06-08T19:59:12.7237320+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T19:59:12.7237754+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T19:59:12.7237922+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T19:59:12.7238097+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T19:59:12.7238387+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T19:59:12.7238589+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T19:59:12.7240260+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 29.2593ms
2025-06-08T19:59:12.7240484+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T19:59:12.7241078+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 29.8237 ms
2025-06-08T19:59:12.7241507+07:00 [DBG] (///) Connection id ""0HND6HE2F0R9N"" completed keep alive response.
2025-06-08T19:59:12.7241827+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T19:59:12.7242014+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T19:59:12.7242184+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T19:59:12.7242645+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - 200 null "application/json; charset=utf-8" 30.5055ms
2025-06-08T19:59:37.9426720+07:00 [DBG] (///) Connection id ""0HND6HE2F0R9M"" disconnecting.
2025-06-08T19:59:37.9428122+07:00 [DBG] (///) Connection id ""0HND6HE2F0R9M"" stopped.
2025-06-08T19:59:37.9430690+07:00 [DBG] (///) Connection id ""0HND6HE2F0R9M"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-08T20:00:45.7035629+07:00 [INF] (///) Application is shutting down...
2025-06-08T20:00:45.7044554+07:00 [DBG] (///) Hosting stopping
2025-06-08T20:00:45.7087895+07:00 [DBG] (///) Connection id ""0HND6HE2F0R9N"" disconnecting.
2025-06-08T20:00:45.7088508+07:00 [DBG] (///) Connection id ""0HND6HE2F0R9N"" stopped.
2025-06-08T20:00:45.7088730+07:00 [DBG] (///) Connection id ""0HND6HE2F0R9N"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-08T20:00:45.7113125+07:00 [DBG] (///) Hosting stopped
2025-06-08T20:00:50.0780802+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T20:00:50.2121522+07:00 [DBG] (///) Hosting starting
2025-06-08T20:00:50.2794061+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T20:00:50.2897835+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T20:00:50.4034436+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T20:00:50.4054968+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T20:00:50.4141592+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T20:00:50.4147931+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T20:00:50.4148820+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T20:00:50.4150367+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T20:00:50.4152844+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T20:00:50.4153445+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T20:00:50.4153691+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T20:00:50.4154159+07:00 [DBG] (///) Hosting started
2025-06-08T20:00:51.3317786+07:00 [DBG] (///) Connection id ""0HND6HHVGF757"" accepted.
2025-06-08T20:00:51.3324122+07:00 [DBG] (///) Connection id ""0HND6HHVGF757"" started.
2025-06-08T20:00:51.3506943+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - null null
2025-06-08T20:00:51.3933779+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:00:51.3960967+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:00:51.3988693+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:00:51.4034785+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T20:00:51.4039835+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:00:51.4183243+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T20:00:51.4206057+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T20:00:51.4207634+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T20:00:51.4211939+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:00:51.4212697+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T20:00:51.4213319+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:00:51.4222422+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:00:51.4226012+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:00:51.4246601+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:00:51.4257532+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T20:00:51.4277584+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T20:00:51.4281686+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:00:51.4283954+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:00:51.4295523+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T20:00:51.4298772+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T20:00:51.4301678+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T20:00:51.4302252+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:00:51.4302668+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:00:51.4303010+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T20:00:51.4303458+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:00:51.4304537+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:00:51.4305958+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:00:51.4307223+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:00:51.4307671+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:00:51.4338372+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:00:51.4339206+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:00:51.4341489+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:00:51.4341948+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:00:51.4342769+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:00:51.4385161+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T20:00:51.4488080+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 50, OrderBy: null, Filter: null })]
2025-06-08T20:00:51.5414151+07:00 [ERR] (///) Error processing request "DefaultClassQuery" after 90ms
Autofac.Core.DependencyResolutionException: An exception was thrown while activating FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler -> FacultyService.Application.FacultyDbContext.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while invoking the constructor 'Void .ctor(Microsoft.EntityFrameworkCore.DbContextOptions`1[FacultyService.Application.FacultyDbContext], Finbuckle.MultiTenant.Abstractions.IMultiTenantContextAccessor`1[FacultyService.Domain.AppTenantInfo], Microsoft.Extensions.Configuration.IConfiguration)' on type 'FacultyDbContext'.
 ---> System.InvalidOperationException: TenantInfo is null
   at FacultyService.Application.FacultyDbContext..ctor(DbContextOptions`1 options, IMultiTenantContextAccessor`1 multiTenantContextAccessor, IConfiguration configuration) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/FacultyDbContext.cs:line 26
   at lambda_method75(Closure, Object[])
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   --- End of inner exception stack trace ---
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   at Autofac.Core.Activators.Reflection.ReflectionActivator.<>c__DisplayClass14_0.<UseSingleConstructorActivation>b__0(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DelegateMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Extensions.DependencyInjection.KeyedServiceMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.RegistrationPipelineInvokeMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.Autofac.IComponentContext.ResolveComponent(ResolveRequest& request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetRequiredService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0(CancellationToken t)
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
2025-06-08T20:00:51.5812367+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 158.012ms
2025-06-08T20:00:51.5861788+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:00:51.5869173+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
Autofac.Core.DependencyResolutionException: An exception was thrown while activating FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler -> FacultyService.Application.FacultyDbContext.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while invoking the constructor 'Void .ctor(Microsoft.EntityFrameworkCore.DbContextOptions`1[FacultyService.Application.FacultyDbContext], Finbuckle.MultiTenant.Abstractions.IMultiTenantContextAccessor`1[FacultyService.Domain.AppTenantInfo], Microsoft.Extensions.Configuration.IConfiguration)' on type 'FacultyDbContext'.
 ---> System.InvalidOperationException: TenantInfo is null
   at FacultyService.Application.FacultyDbContext..ctor(DbContextOptions`1 options, IMultiTenantContextAccessor`1 multiTenantContextAccessor, IConfiguration configuration) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/FacultyDbContext.cs:line 26
   at lambda_method75(Closure, Object[])
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   --- End of inner exception stack trace ---
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   at Autofac.Core.Activators.Reflection.ReflectionActivator.<>c__DisplayClass14_0.<UseSingleConstructorActivation>b__0(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DelegateMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Extensions.DependencyInjection.KeyedServiceMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.RegistrationPipelineInvokeMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.Autofac.IComponentContext.ResolveComponent(ResolveRequest& request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetRequiredService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0(CancellationToken t)
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
   at FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses(GridifyQuery gridifyQuery, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api/Classes/Controller/ClassesController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-08T20:00:51.6509586+07:00 [ERR] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 500 in 246.0601 ms
2025-06-08T20:00:51.6519677+07:00 [DBG] (///) Connection id ""0HND6HHVGF757"" completed keep alive response.
2025-06-08T20:00:51.6565254+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - 500 null "application/problem+json" 306.749ms
2025-06-08T20:00:52.7405097+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - null null
2025-06-08T20:00:52.7421422+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:00:52.7423341+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:00:52.7424622+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:00:52.7427312+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T20:00:52.7428660+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:00:52.7431240+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T20:00:52.7432484+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T20:00:52.7436602+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T20:00:52.7437870+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:00:52.7438641+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T20:00:52.7439655+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:00:52.7440710+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:00:52.7442198+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:00:52.7445104+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:00:52.7446945+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T20:00:52.7448396+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T20:00:52.7448992+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:00:52.7450352+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:00:52.7450951+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T20:00:52.7451924+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T20:00:52.7452750+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T20:00:52.7453361+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:00:52.7453862+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:00:52.7454317+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T20:00:52.7454846+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:00:52.7455346+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:00:52.7456066+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:00:52.7456627+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:00:52.7457208+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:00:52.7460769+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:00:52.7461533+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:00:52.7463574+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:00:52.7464101+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:00:52.7464585+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:00:52.7467384+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T20:00:52.7477818+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 50, OrderBy: null, Filter: null })]
2025-06-08T20:00:52.7572330+07:00 [ERR] (///) Error processing request "DefaultClassQuery" after 9ms
Autofac.Core.DependencyResolutionException: An exception was thrown while activating FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler -> FacultyService.Application.FacultyDbContext.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while invoking the constructor 'Void .ctor(Microsoft.EntityFrameworkCore.DbContextOptions`1[FacultyService.Application.FacultyDbContext], Finbuckle.MultiTenant.Abstractions.IMultiTenantContextAccessor`1[FacultyService.Domain.AppTenantInfo], Microsoft.Extensions.Configuration.IConfiguration)' on type 'FacultyDbContext'.
 ---> System.InvalidOperationException: TenantInfo is null
   at FacultyService.Application.FacultyDbContext..ctor(DbContextOptions`1 options, IMultiTenantContextAccessor`1 multiTenantContextAccessor, IConfiguration configuration) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/FacultyDbContext.cs:line 26
   at lambda_method75(Closure, Object[])
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   --- End of inner exception stack trace ---
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   at Autofac.Core.Activators.Reflection.ReflectionActivator.<>c__DisplayClass14_0.<UseSingleConstructorActivation>b__0(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DelegateMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Extensions.DependencyInjection.KeyedServiceMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.RegistrationPipelineInvokeMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.Autofac.IComponentContext.ResolveComponent(ResolveRequest& request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetRequiredService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0(CancellationToken t)
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
   at FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses(GridifyQuery gridifyQuery, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api/Classes/Controller/ClassesController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
2025-06-08T20:00:52.7626725+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 18.5761ms
2025-06-08T20:00:52.7628638+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:00:52.7629608+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
Autofac.Core.DependencyResolutionException: An exception was thrown while activating FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler -> FacultyService.Application.FacultyDbContext.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while invoking the constructor 'Void .ctor(Microsoft.EntityFrameworkCore.DbContextOptions`1[FacultyService.Application.FacultyDbContext], Finbuckle.MultiTenant.Abstractions.IMultiTenantContextAccessor`1[FacultyService.Domain.AppTenantInfo], Microsoft.Extensions.Configuration.IConfiguration)' on type 'FacultyDbContext'.
 ---> System.InvalidOperationException: TenantInfo is null
   at FacultyService.Application.FacultyDbContext..ctor(DbContextOptions`1 options, IMultiTenantContextAccessor`1 multiTenantContextAccessor, IConfiguration configuration) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/FacultyDbContext.cs:line 26
   at lambda_method75(Closure, Object[])
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   --- End of inner exception stack trace ---
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   at Autofac.Core.Activators.Reflection.ReflectionActivator.<>c__DisplayClass14_0.<UseSingleConstructorActivation>b__0(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DelegateMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Extensions.DependencyInjection.KeyedServiceMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.RegistrationPipelineInvokeMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.Autofac.IComponentContext.ResolveComponent(ResolveRequest& request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetRequiredService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0(CancellationToken t)
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
   at FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses(GridifyQuery gridifyQuery, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api/Classes/Controller/ClassesController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-08T20:00:52.7689805+07:00 [ERR] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 500 in 26.0910 ms
2025-06-08T20:00:52.7692385+07:00 [DBG] (///) Connection id ""0HND6HHVGF757"" completed keep alive response.
2025-06-08T20:00:52.7695593+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - 500 null "application/problem+json" 29.0646ms
2025-06-08T20:00:53.7817627+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - null null
2025-06-08T20:00:53.7820795+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:00:53.7821361+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:00:53.7822213+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:00:53.7823251+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T20:00:53.7823464+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:00:53.7824238+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T20:00:53.7824574+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T20:00:53.7824934+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T20:00:53.7825183+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:00:53.7825316+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T20:00:53.7825436+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:00:53.7825714+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:00:53.7826306+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:00:53.7827413+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:00:53.7827855+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T20:00:53.7828217+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T20:00:53.7828394+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:00:53.7828558+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:00:53.7828725+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T20:00:53.7828928+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T20:00:53.7829089+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T20:00:53.7829247+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:00:53.7829358+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:00:53.7829496+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T20:00:53.7829601+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:00:53.7829738+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:00:53.7830308+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:00:53.7830448+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:00:53.7830603+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:00:53.7831049+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:00:53.7831208+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:00:53.7831668+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:00:53.7831769+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:00:53.7831872+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:00:53.7832853+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T20:00:53.7835531+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 50, OrderBy: null, Filter: null })]
2025-06-08T20:00:53.7839675+07:00 [ERR] (///) Error processing request "DefaultClassQuery" after 0ms
Autofac.Core.DependencyResolutionException: An exception was thrown while activating FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler -> FacultyService.Application.FacultyDbContext.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while invoking the constructor 'Void .ctor(Microsoft.EntityFrameworkCore.DbContextOptions`1[FacultyService.Application.FacultyDbContext], Finbuckle.MultiTenant.Abstractions.IMultiTenantContextAccessor`1[FacultyService.Domain.AppTenantInfo], Microsoft.Extensions.Configuration.IConfiguration)' on type 'FacultyDbContext'.
 ---> System.InvalidOperationException: TenantInfo is null
   at FacultyService.Application.FacultyDbContext..ctor(DbContextOptions`1 options, IMultiTenantContextAccessor`1 multiTenantContextAccessor, IConfiguration configuration) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/FacultyDbContext.cs:line 26
   at lambda_method75(Closure, Object[])
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   --- End of inner exception stack trace ---
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   at Autofac.Core.Activators.Reflection.ReflectionActivator.<>c__DisplayClass14_0.<UseSingleConstructorActivation>b__0(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DelegateMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Extensions.DependencyInjection.KeyedServiceMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.RegistrationPipelineInvokeMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.Autofac.IComponentContext.ResolveComponent(ResolveRequest& request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetRequiredService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0(CancellationToken t)
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
   at FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses(GridifyQuery gridifyQuery, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api/Classes/Controller/ClassesController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
2025-06-08T20:00:53.7867956+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 4.2304ms
2025-06-08T20:00:53.7868387+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:00:53.7868796+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
Autofac.Core.DependencyResolutionException: An exception was thrown while activating FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler -> FacultyService.Application.FacultyDbContext.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while invoking the constructor 'Void .ctor(Microsoft.EntityFrameworkCore.DbContextOptions`1[FacultyService.Application.FacultyDbContext], Finbuckle.MultiTenant.Abstractions.IMultiTenantContextAccessor`1[FacultyService.Domain.AppTenantInfo], Microsoft.Extensions.Configuration.IConfiguration)' on type 'FacultyDbContext'.
 ---> System.InvalidOperationException: TenantInfo is null
   at FacultyService.Application.FacultyDbContext..ctor(DbContextOptions`1 options, IMultiTenantContextAccessor`1 multiTenantContextAccessor, IConfiguration configuration) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/FacultyDbContext.cs:line 26
   at lambda_method75(Closure, Object[])
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   --- End of inner exception stack trace ---
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   at Autofac.Core.Activators.Reflection.ReflectionActivator.<>c__DisplayClass14_0.<UseSingleConstructorActivation>b__0(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DelegateMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Extensions.DependencyInjection.KeyedServiceMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.RegistrationPipelineInvokeMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.Autofac.IComponentContext.ResolveComponent(ResolveRequest& request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetRequiredService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0(CancellationToken t)
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
   at FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses(GridifyQuery gridifyQuery, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api/Classes/Controller/ClassesController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-08T20:00:53.7892740+07:00 [ERR] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 500 in 6.8745 ms
2025-06-08T20:00:53.7893134+07:00 [DBG] (///) Connection id ""0HND6HHVGF757"" completed keep alive response.
2025-06-08T20:00:53.7893548+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - 500 null "application/problem+json" 7.6051ms
2025-06-08T20:01:15.5598467+07:00 [INF] (///) Application is shutting down...
2025-06-08T20:01:15.5604226+07:00 [DBG] (///) Hosting stopping
2025-06-08T20:01:15.5674874+07:00 [DBG] (///) Connection id ""0HND6HHVGF757"" disconnecting.
2025-06-08T20:01:15.5681616+07:00 [DBG] (///) Connection id ""0HND6HHVGF757"" stopped.
2025-06-08T20:01:15.5685745+07:00 [DBG] (///) Connection id ""0HND6HHVGF757"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-08T20:01:15.5712265+07:00 [DBG] (///) Hosting stopped
2025-06-08T20:01:18.0134641+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T20:01:18.1102252+07:00 [DBG] (///) Hosting starting
2025-06-08T20:01:18.1613537+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T20:01:18.1630435+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T20:01:18.2148352+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T20:01:18.2160319+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T20:01:18.2216603+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T20:01:18.2220871+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T20:01:18.2221470+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T20:01:18.2222354+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T20:01:18.2224103+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T20:01:18.2224610+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T20:01:18.2224795+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T20:01:18.2225258+07:00 [DBG] (///) Hosting started
2025-06-08T20:01:20.0117054+07:00 [DBG] (///) Connection id ""0HND6HI81VJTC"" accepted.
2025-06-08T20:01:20.0124294+07:00 [DBG] (///) Connection id ""0HND6HI81VJTC"" started.
2025-06-08T20:01:20.0364255+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - null null
2025-06-08T20:01:20.0984930+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:01:20.1022287+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:01:20.1062216+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:01:20.1141293+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T20:01:20.1455799+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T20:01:20.1502019+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T20:01:20.1533218+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:01:20.1784684+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T20:01:20.1817335+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T20:01:20.1820236+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T20:01:20.1826404+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:01:20.1827786+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T20:01:20.1829234+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:01:20.1842059+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:01:20.1846289+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:01:20.1887698+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:01:20.1914901+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T20:01:20.1956817+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T20:01:20.1964895+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:01:20.1969235+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:01:20.1987617+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T20:01:20.1993101+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T20:01:20.1997670+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T20:01:20.1998788+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:01:20.1999384+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:01:20.1999902+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T20:01:20.2000405+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:01:20.2001833+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:01:20.2003587+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:01:20.2004258+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:01:20.2004838+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:01:20.2042115+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:01:20.2043641+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:01:20.2047050+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:01:20.2047918+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:01:20.2049423+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:01:20.2121350+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T20:01:20.2279869+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 50, OrderBy: null, Filter: null })]
2025-06-08T20:01:20.4627690+07:00 [DBG] (///) An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration changed for 'Core:EnableDetailedErrors', configuration changed for 'Core:ConfigureWarnings', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseAdminDatabase', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:SetPostgresVersion', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseRedshift', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ReverseNullOrdering', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:RemoteCertificateValidationCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvideClientCertificatesCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvidePasswordCallback'".
2025-06-08T20:01:20.9188648+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Class"' as the properties are already covered by the index "{'FacultyCode', 'ClassCode'}".
2025-06-08T20:01:20.9191809+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"CreditClass"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId'}".
2025-06-08T20:01:20.9193238+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId', 'StudentCode'}".
2025-06-08T20:01:20.9193747+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'StudentCode'}".
2025-06-08T20:01:20.9193990+07:00 [DBG] (///) The index "{'FacultyCode', 'CreditClassId'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId', 'StudentCode'}".
2025-06-08T20:01:20.9194582+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Student"' as the properties are already covered by the index "{'FacultyCode', 'StudentCode'}".
2025-06-08T20:01:20.9194873+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Student"' as the properties are already covered by the index "{'FacultyCode', 'ClassCode'}".
2025-06-08T20:01:21.0150659+07:00 [WRN] (///) The foreign key property '"Registration"."StudentCode1"' was created in shadow state because a conflicting property with the simple name '"StudentCode"' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-08T20:01:21.0164250+07:00 [DBG] (///) The property '"Registration"."StudentFacultyCode"' was created in shadow state because there are no eligible CLR members with a matching name.
2025-06-08T20:01:21.1109380+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "DetailedErrorsEnabled "
2025-06-08T20:01:21.1524124+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Class>()
    .OrderBy(__Class => __Class.ClassCode)
    .Select(c => new ClassBasicResponse{ 
        ClassCode = c.ClassCode, 
        ClassName = c.ClassName, 
        FacultyCode = c.FacultyCode, 
        StudentCount = c.Students.Count, 
        FacultyName = c.FacultyCodeNavigation.FacultyName, 
        AcademicYearCode = c.AcademicYearCode 
    }
    )
    .Count()"'
2025-06-08T20:01:21.3345990+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => 
{
    queryContext.AddParameter(
        name: \"__ef_filter__Id_0\", 
        value: (object)Invoke(queryContext => ((FacultyDbContext)queryContext.Context).TenantInfo.Id, queryContext));
    return ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
        asyncEnumerable: SingleQueryingEnumerable.Create<int>(
            relationalQueryContext: (RelationalQueryContext)queryContext, 
            relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
                Projection Mapping:
                    EmptyProjectionMember -> 0
                SELECT CAST(count(*) AS integer)
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0) | Resolver: c => new RelationalCommandCache(
                c.Dependencies.MemoryCache, 
                c.RelationalDependencies.QuerySqlGeneratorFactory, 
                c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
                Projection Mapping:
                    EmptyProjectionMember -> 0
                SELECT CAST(count(*) AS integer)
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0, 
                False, 
                new HashSet<string>(
                    new string[]{ }, 
                    StringComparer.Ordinal
                )
            )].GetRelationalCommandTemplate(parameters), 
            readerColumns: null, 
            shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                int? value1;
                value1 = try { dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0) } catch (Exception) { ... } ;
                return (int)value1;
            }, 
            contextType: FacultyService.Application.FacultyDbContext, 
            standAloneStateManager: False, 
            detailedErrorsEnabled: True, 
            threadSafetyChecksEnabled: True), 
        cancellationToken: queryContext.CancellationToken);
}"'
2025-06-08T20:01:21.3674938+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T20:01:21.3965102+07:00 [DBG] (///) Created DbConnection. (27ms).
2025-06-08T20:01:21.3991858+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:01:21.4858638+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:01:21.4900847+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T20:01:21.4949154+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (2ms).
2025-06-08T20:01:21.5026100+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (12ms).
2025-06-08T20:01:21.5089080+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T20:01:21.5750664+07:00 [INF] (///) Executed DbCommand ("64"ms) [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T20:01:21.5886762+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:01:21.5949035+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 14ms reading results.
2025-06-08T20:01:21.6002092+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:01:21.6041300+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (3ms).
2025-06-08T20:01:21.6073018+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Class>()
    .OrderBy(__Class => __Class.ClassCode)
    .Select(c => new ClassBasicResponse{ 
        ClassCode = c.ClassCode, 
        ClassName = c.ClassName, 
        FacultyCode = c.FacultyCode, 
        StudentCount = c.Students.Count, 
        FacultyName = c.FacultyCodeNavigation.FacultyName, 
        AcademicYearCode = c.AcademicYearCode 
    }
    )
    .Skip(__p_0)
    .Take(__p_1)"'
2025-06-08T20:01:21.6617076+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => 
{
    queryContext.AddParameter(
        name: \"__ef_filter__Id_0\", 
        value: (object)Invoke(queryContext => ((FacultyDbContext)queryContext.Context).TenantInfo.Id, queryContext));
    return SingleQueryingEnumerable.Create<ClassBasicResponse>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                ClassCode -> 0
                ClassName -> 1
                FacultyCode -> 2
                StudentCount -> 3
                FacultyName -> 4
                AcademicYearCode -> 5
            SELECT c0.class_code AS ClassCode, c0.class_name AS ClassName, c0.faculty_code AS FacultyCode, (
                SELECT CAST(count(*) AS integer)
                FROM student AS s
                WHERE (s.faculty_code == @__ef_filter__Id_0) && (((c0.faculty_code != NULL) && (c0.class_code != NULL)) && ((c0.faculty_code == s.faculty_code) && (c0.class_code == s.class_code)))) AS StudentCount, f0.faculty_name AS FacultyName, c0.academic_year_code AS AcademicYearCode
            FROM 
            (
                SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0
                ORDER BY c.class_code ASC
                OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
            ) AS c0
            INNER JOIN 
            (
                SELECT f.faculty_code, f.faculty_name
                FROM faculty AS f
                WHERE f.faculty_code == @__ef_filter__Id_0
            ) AS f0 ON c0.faculty_code == f0.faculty_code
            ORDER BY c0.class_code ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                ClassCode -> 0
                ClassName -> 1
                FacultyCode -> 2
                StudentCount -> 3
                FacultyName -> 4
                AcademicYearCode -> 5
            SELECT c0.class_code AS ClassCode, c0.class_name AS ClassName, c0.faculty_code AS FacultyCode, (
                SELECT CAST(count(*) AS integer)
                FROM student AS s
                WHERE (s.faculty_code == @__ef_filter__Id_0) && (((c0.faculty_code != NULL) && (c0.class_code != NULL)) && ((c0.faculty_code == s.faculty_code) && (c0.class_code == s.class_code)))) AS StudentCount, f0.faculty_name AS FacultyName, c0.academic_year_code AS AcademicYearCode
            FROM 
            (
                SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0
                ORDER BY c.class_code ASC
                OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
            ) AS c0
            INNER JOIN 
            (
                SELECT f.faculty_code, f.faculty_name
                FROM faculty AS f
                WHERE f.faculty_code == @__ef_filter__Id_0
            ) AS f0 ON c0.faculty_code == f0.faculty_code
            ORDER BY c0.class_code ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            string value1;
            string value2;
            string value3;
            int? value4;
            string value5;
            string value6;
            value1 = try { dataReader.GetString(0) } catch (Exception) { ... } ;
            value2 = try { dataReader.GetString(1) } catch (Exception) { ... } ;
            value3 = try { dataReader.GetString(2) } catch (Exception) { ... } ;
            value4 = try { dataReader.IsDBNull(3) ? default(int?) : (int?)dataReader.GetInt32(3) } catch (Exception) { ... } ;
            value5 = try { dataReader.GetString(4) } catch (Exception) { ... } ;
            value6 = try { dataReader.GetString(5) } catch (Exception) { ... } ;
            return new ClassBasicResponse{ 
                ClassCode = value1, 
                ClassName = value2, 
                FacultyCode = value3, 
                StudentCount = (int)value4, 
                FacultyName = value5, 
                AcademicYearCode = value6 
            }
            ;
        }, 
        contextType: FacultyService.Application.FacultyDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: True, 
        threadSafetyChecksEnabled: True);
}"'
2025-06-08T20:01:21.6700886+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:01:21.6706056+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:01:21.6708563+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T20:01:21.6709212+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:01:21.6710031+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:01:21.6711301+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T20:01:21.6756476+07:00 [INF] (///) Executed DbCommand ("4"ms) [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T20:01:21.6777337+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:01:21.6779186+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 1ms reading results.
2025-06-08T20:01:21.6780840+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:01:21.6781557+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:01:21.6791756+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 1448ms
2025-06-08T20:01:21.6849091+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1468.1703ms.
2025-06-08T20:01:21.6935133+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T20:01:21.6958529+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T20:01:21.6960052+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T20:01:21.6960432+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T20:01:21.6966833+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T20:01:21.6971403+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T20:01:21.7957463+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 1608.827ms
2025-06-08T20:01:21.7969856+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:01:21.8103132+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 1689.5036 ms
2025-06-08T20:01:21.8158957+07:00 [DBG] (///) Connection id ""0HND6HI81VJTC"" completed keep alive response.
2025-06-08T20:01:21.8245611+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T20:01:21.8297617+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:01:21.8321663+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (2ms).
2025-06-08T20:01:21.8340595+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - 200 null "application/json; charset=utf-8" 1798.906ms
2025-06-08T20:01:22.7963234+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - null null
2025-06-08T20:01:22.7977249+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:01:22.7978733+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:01:22.7979801+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:01:22.7982004+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T20:01:22.7984113+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T20:01:22.7984853+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T20:01:22.7985423+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:01:22.7987190+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T20:01:22.7988547+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T20:01:22.7989044+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T20:01:22.7989583+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:01:22.7989962+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T20:01:22.7990391+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:01:22.7990991+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:01:22.7991853+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:01:22.7993469+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:01:22.7994565+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T20:01:22.7995461+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T20:01:22.7995934+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:01:22.7996403+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:01:22.7996863+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T20:01:22.7997889+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T20:01:22.7998447+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T20:01:22.7998832+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:01:22.7999269+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:01:22.7999703+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T20:01:22.8000090+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:01:22.8000536+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:01:22.8001109+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:01:22.8002319+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:01:22.8002722+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:01:22.8004239+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:01:22.8004726+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:01:22.8005608+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:01:22.8005971+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:01:22.8006291+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:01:22.8008597+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T20:01:22.8015446+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 50, OrderBy: null, Filter: null })]
2025-06-08T20:01:22.8257745+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "DetailedErrorsEnabled "
2025-06-08T20:01:22.8287959+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T20:01:22.8289948+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T20:01:22.8291223+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:01:22.8292191+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:01:22.8294179+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T20:01:22.8294748+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:01:22.8295289+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:01:22.8296354+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T20:01:22.8311897+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T20:01:22.8314881+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:01:22.8315780+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T20:01:22.8316894+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:01:22.8317509+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:01:22.8323020+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:01:22.8323838+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:01:22.8325141+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T20:01:22.8325543+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:01:22.8326087+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:01:22.8326794+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T20:01:22.8345323+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T20:01:22.8347930+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:01:22.8348752+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T20:01:22.8350349+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:01:22.8351324+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:01:22.8353310+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 33ms
2025-06-08T20:01:22.8355181+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 34.5395ms.
2025-06-08T20:01:22.8359988+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T20:01:22.8361742+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T20:01:22.8362012+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T20:01:22.8362220+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T20:01:22.8363191+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T20:01:22.8363535+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T20:01:22.8366703+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 37.5766ms
2025-06-08T20:01:22.8367324+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:01:22.8369850+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 38.6306 ms
2025-06-08T20:01:22.8371752+07:00 [DBG] (///) Connection id ""0HND6HI81VJTC"" completed keep alive response.
2025-06-08T20:01:22.8372926+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T20:01:22.8373776+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:01:22.8374496+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:01:22.8376000+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - 200 null "application/json; charset=utf-8" 41.3325ms
2025-06-08T20:03:33.1797997+07:00 [DBG] (///) Connection id ""0HND6HI81VJTC"" disconnecting.
2025-06-08T20:03:33.1807368+07:00 [DBG] (///) Connection id ""0HND6HI81VJTC"" stopped.
2025-06-08T20:03:33.1811467+07:00 [DBG] (///) Connection id ""0HND6HI81VJTC"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-08T20:03:43.2563302+07:00 [INF] (///) Application is shutting down...
2025-06-08T20:03:43.2571515+07:00 [DBG] (///) Hosting stopping
2025-06-08T20:03:43.2607500+07:00 [DBG] (///) Hosting stopped
2025-06-08T20:03:46.0382867+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T20:03:46.1711946+07:00 [DBG] (///) Hosting starting
2025-06-08T20:03:46.2355700+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T20:03:46.2374474+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T20:03:46.3194780+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T20:03:46.3214280+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T20:03:46.3329906+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T20:03:46.3336452+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T20:03:46.3337167+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T20:03:46.3338112+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T20:03:46.3341959+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T20:03:46.3342469+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T20:03:46.3342792+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T20:03:46.3343355+07:00 [DBG] (///) Hosting started
2025-06-08T20:14:20.9720972+07:00 [DBG] (///) Connection id ""0HND6HPGPPN5L"" accepted.
2025-06-08T20:14:20.9745637+07:00 [DBG] (///) Connection id ""0HND6HPGPPN5L"" started.
2025-06-08T20:14:21.0105131+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - null null
2025-06-08T20:14:21.1137283+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:14:21.1197455+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:14:21.1247638+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:14:21.1335280+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T20:14:21.1659190+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T20:14:21.1714748+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T20:14:21.1764978+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:14:21.2192551+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T20:14:21.2228351+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T20:14:21.2232535+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T20:14:21.2240184+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:14:21.2243840+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T20:14:21.2245906+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:14:21.2269630+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:14:21.2282393+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:14:21.2349331+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:14:21.2375772+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T20:14:21.2420153+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T20:14:21.2427182+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:14:21.2430089+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:14:21.2446407+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T20:14:21.2453425+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T20:14:21.2458244+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T20:14:21.2458847+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:14:21.2459144+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:14:21.2459467+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T20:14:21.2459790+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:14:21.2460540+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:14:21.2462520+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:14:21.2463193+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:14:21.2463665+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:14:21.2536701+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:14:21.2538264+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:14:21.2543264+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:14:21.2543806+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:14:21.2545883+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:14:21.2628683+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T20:14:21.2772120+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 50, OrderBy: null, Filter: null })]
2025-06-08T20:14:21.5405661+07:00 [DBG] (///) An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration changed for 'Core:EnableDetailedErrors', configuration changed for 'Core:ConfigureWarnings', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseAdminDatabase', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:SetPostgresVersion', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseRedshift', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ReverseNullOrdering', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:RemoteCertificateValidationCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvideClientCertificatesCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvidePasswordCallback'".
2025-06-08T20:14:22.1083608+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Class"' as the properties are already covered by the index "{'FacultyCode', 'ClassCode'}".
2025-06-08T20:14:22.1090002+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"CreditClass"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId'}".
2025-06-08T20:14:22.1090802+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId', 'StudentCode'}".
2025-06-08T20:14:22.1091334+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'StudentCode'}".
2025-06-08T20:14:22.1091584+07:00 [DBG] (///) The index "{'FacultyCode', 'CreditClassId'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId', 'StudentCode'}".
2025-06-08T20:14:22.1092037+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Student"' as the properties are already covered by the index "{'FacultyCode', 'StudentCode'}".
2025-06-08T20:14:22.1092379+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Student"' as the properties are already covered by the index "{'FacultyCode', 'ClassCode'}".
2025-06-08T20:14:22.2275111+07:00 [WRN] (///) The foreign key property '"Registration"."StudentCode1"' was created in shadow state because a conflicting property with the simple name '"StudentCode"' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-08T20:14:22.2292501+07:00 [DBG] (///) The property '"Registration"."StudentFacultyCode"' was created in shadow state because there are no eligible CLR members with a matching name.
2025-06-08T20:14:22.3487454+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "DetailedErrorsEnabled "
2025-06-08T20:14:22.4065303+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Class>()
    .OrderBy(__Class => __Class.ClassCode)
    .Select(c => new ClassBasicResponse{ 
        ClassCode = c.ClassCode, 
        ClassName = c.ClassName, 
        FacultyCode = c.FacultyCode, 
        StudentCount = c.Students.Count, 
        FacultyName = c.FacultyCodeNavigation.FacultyName, 
        AcademicYearCode = c.AcademicYearCode 
    }
    )
    .Count()"'
2025-06-08T20:14:22.6459279+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => 
{
    queryContext.AddParameter(
        name: \"__ef_filter__Id_0\", 
        value: (object)Invoke(queryContext => ((FacultyDbContext)queryContext.Context).TenantInfo.Id, queryContext));
    return ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
        asyncEnumerable: SingleQueryingEnumerable.Create<int>(
            relationalQueryContext: (RelationalQueryContext)queryContext, 
            relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
                Projection Mapping:
                    EmptyProjectionMember -> 0
                SELECT CAST(count(*) AS integer)
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0) | Resolver: c => new RelationalCommandCache(
                c.Dependencies.MemoryCache, 
                c.RelationalDependencies.QuerySqlGeneratorFactory, 
                c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
                Projection Mapping:
                    EmptyProjectionMember -> 0
                SELECT CAST(count(*) AS integer)
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0, 
                False, 
                new HashSet<string>(
                    new string[]{ }, 
                    StringComparer.Ordinal
                )
            )].GetRelationalCommandTemplate(parameters), 
            readerColumns: null, 
            shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                int? value1;
                value1 = try { dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0) } catch (Exception) { ... } ;
                return (int)value1;
            }, 
            contextType: FacultyService.Application.FacultyDbContext, 
            standAloneStateManager: False, 
            detailedErrorsEnabled: True, 
            threadSafetyChecksEnabled: True), 
        cancellationToken: queryContext.CancellationToken);
}"'
2025-06-08T20:14:22.6886384+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T20:14:22.7323295+07:00 [DBG] (///) Created DbConnection. (42ms).
2025-06-08T20:14:22.7362739+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:14:22.8734366+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:14:22.8791782+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T20:14:22.8858981+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (3ms).
2025-06-08T20:14:22.8948849+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (15ms).
2025-06-08T20:14:22.9025399+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T20:14:22.9866021+07:00 [INF] (///) Executed DbCommand ("82"ms) [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T20:14:23.0070213+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:14:23.0153433+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 22ms reading results.
2025-06-08T20:14:23.0203196+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:14:23.0254217+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (5ms).
2025-06-08T20:14:23.0296751+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Class>()
    .OrderBy(__Class => __Class.ClassCode)
    .Select(c => new ClassBasicResponse{ 
        ClassCode = c.ClassCode, 
        ClassName = c.ClassName, 
        FacultyCode = c.FacultyCode, 
        StudentCount = c.Students.Count, 
        FacultyName = c.FacultyCodeNavigation.FacultyName, 
        AcademicYearCode = c.AcademicYearCode 
    }
    )
    .Skip(__p_0)
    .Take(__p_1)"'
2025-06-08T20:14:23.0942592+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => 
{
    queryContext.AddParameter(
        name: \"__ef_filter__Id_0\", 
        value: (object)Invoke(queryContext => ((FacultyDbContext)queryContext.Context).TenantInfo.Id, queryContext));
    return SingleQueryingEnumerable.Create<ClassBasicResponse>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                ClassCode -> 0
                ClassName -> 1
                FacultyCode -> 2
                StudentCount -> 3
                FacultyName -> 4
                AcademicYearCode -> 5
            SELECT c0.class_code AS ClassCode, c0.class_name AS ClassName, c0.faculty_code AS FacultyCode, (
                SELECT CAST(count(*) AS integer)
                FROM student AS s
                WHERE (s.faculty_code == @__ef_filter__Id_0) && (((c0.faculty_code != NULL) && (c0.class_code != NULL)) && ((c0.faculty_code == s.faculty_code) && (c0.class_code == s.class_code)))) AS StudentCount, f0.faculty_name AS FacultyName, c0.academic_year_code AS AcademicYearCode
            FROM 
            (
                SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0
                ORDER BY c.class_code ASC
                OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
            ) AS c0
            INNER JOIN 
            (
                SELECT f.faculty_code, f.faculty_name
                FROM faculty AS f
                WHERE f.faculty_code == @__ef_filter__Id_0
            ) AS f0 ON c0.faculty_code == f0.faculty_code
            ORDER BY c0.class_code ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                ClassCode -> 0
                ClassName -> 1
                FacultyCode -> 2
                StudentCount -> 3
                FacultyName -> 4
                AcademicYearCode -> 5
            SELECT c0.class_code AS ClassCode, c0.class_name AS ClassName, c0.faculty_code AS FacultyCode, (
                SELECT CAST(count(*) AS integer)
                FROM student AS s
                WHERE (s.faculty_code == @__ef_filter__Id_0) && (((c0.faculty_code != NULL) && (c0.class_code != NULL)) && ((c0.faculty_code == s.faculty_code) && (c0.class_code == s.class_code)))) AS StudentCount, f0.faculty_name AS FacultyName, c0.academic_year_code AS AcademicYearCode
            FROM 
            (
                SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0
                ORDER BY c.class_code ASC
                OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
            ) AS c0
            INNER JOIN 
            (
                SELECT f.faculty_code, f.faculty_name
                FROM faculty AS f
                WHERE f.faculty_code == @__ef_filter__Id_0
            ) AS f0 ON c0.faculty_code == f0.faculty_code
            ORDER BY c0.class_code ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            string value1;
            string value2;
            string value3;
            int? value4;
            string value5;
            string value6;
            value1 = try { dataReader.GetString(0) } catch (Exception) { ... } ;
            value2 = try { dataReader.GetString(1) } catch (Exception) { ... } ;
            value3 = try { dataReader.GetString(2) } catch (Exception) { ... } ;
            value4 = try { dataReader.IsDBNull(3) ? default(int?) : (int?)dataReader.GetInt32(3) } catch (Exception) { ... } ;
            value5 = try { dataReader.GetString(4) } catch (Exception) { ... } ;
            value6 = try { dataReader.GetString(5) } catch (Exception) { ... } ;
            return new ClassBasicResponse{ 
                ClassCode = value1, 
                ClassName = value2, 
                FacultyCode = value3, 
                StudentCount = (int)value4, 
                FacultyName = value5, 
                AcademicYearCode = value6 
            }
            ;
        }, 
        contextType: FacultyService.Application.FacultyDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: True, 
        threadSafetyChecksEnabled: True);
}"'
2025-06-08T20:14:23.1025562+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:14:23.1031369+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:14:23.1033281+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T20:14:23.1033741+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:14:23.1034331+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:14:23.1035309+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T20:14:23.1082567+07:00 [INF] (///) Executed DbCommand ("5"ms) [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T20:14:23.1101938+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:14:23.1103111+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 1ms reading results.
2025-06-08T20:14:23.1104387+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:14:23.1104906+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:14:52.1208065+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 21066ms
2025-06-08T20:15:12.4130733+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 51146.9712ms.
2025-06-08T20:15:12.4261272+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T20:15:12.4292164+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T20:15:12.4293155+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T20:15:12.4293989+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T20:15:12.4301131+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T20:15:12.4306958+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T20:15:12.4647963+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 51236.4099ms
2025-06-08T20:15:12.4661105+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:15:12.4827230+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 51340.5015 ms
2025-06-08T20:15:12.4892281+07:00 [DBG] (///) Connection id ""0HND6HPGPPN5L"" completed keep alive response.
2025-06-08T20:15:12.5002876+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T20:15:12.5063994+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:15:12.5090325+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (2ms).
2025-06-08T20:15:12.5122462+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - 200 null "application/json; charset=utf-8" 51503.7521ms
2025-06-08T20:15:21.1262702+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - null null
2025-06-08T20:15:21.1272374+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:15:21.1273787+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:15:21.1274785+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:15:21.1276575+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T20:15:21.1278835+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T20:15:21.1279443+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T20:15:21.1279982+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:15:21.1282468+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T20:15:21.1283109+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T20:15:21.1284038+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T20:15:21.1284522+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:15:21.1284812+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T20:15:21.1285150+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:15:21.1285612+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:15:21.1286190+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:15:21.1287903+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:15:21.1289029+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T20:15:21.1289719+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T20:15:21.1290098+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:15:21.1290419+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:15:21.1290834+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T20:15:21.1292096+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T20:15:21.1292590+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T20:15:21.1292841+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:15:21.1293120+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:15:21.1293367+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T20:15:21.1293607+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:15:21.1293844+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:15:21.1294216+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:15:21.1294432+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:15:21.1294688+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:15:21.1296364+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:15:21.1296685+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:15:21.1297268+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:15:21.1298185+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:15:21.1298488+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:15:21.1302694+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T20:15:21.1305013+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 50, OrderBy: null, Filter: null })]
2025-06-08T20:15:21.1410833+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "DetailedErrorsEnabled "
2025-06-08T20:15:21.1695718+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T20:15:21.1697181+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T20:15:21.1697591+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:15:21.1698085+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:15:21.1699323+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T20:15:21.1699689+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:15:21.1700027+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:15:21.1700482+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T20:15:21.1713848+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T20:15:21.1715800+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:15:21.1716317+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T20:15:21.1717188+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:15:21.1717685+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:15:21.1720921+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:15:21.1721420+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:15:21.1722222+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T20:15:21.1722467+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:15:21.1722765+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:15:21.1723778+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T20:15:21.1736507+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T20:15:21.1738202+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:15:21.1738633+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T20:15:21.1739796+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:15:21.1740116+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:15:27.7294389+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 6598ms
2025-06-08T20:15:27.7323293+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 6601.9364ms.
2025-06-08T20:15:27.7327376+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T20:15:27.7328520+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T20:15:27.7328730+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T20:15:27.7328904+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T20:15:27.7329626+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T20:15:27.7330025+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T20:15:27.7333028+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 6604.7461ms
2025-06-08T20:15:27.7333584+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:15:27.7335075+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 6605.7694 ms
2025-06-08T20:15:27.7336219+07:00 [DBG] (///) Connection id ""0HND6HPGPPN5L"" completed keep alive response.
2025-06-08T20:15:27.7337130+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T20:15:27.7337956+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:15:27.7338656+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:15:27.7339742+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - 200 null "application/json; charset=utf-8" 6607.749ms
2025-06-08T20:16:34.2149121+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - null null
2025-06-08T20:16:34.2153285+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:16:34.2154209+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:16:34.2154939+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:16:34.2156008+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T20:16:34.2157572+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T20:16:34.2159441+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T20:16:34.2160161+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:16:34.2161609+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T20:16:34.2163293+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T20:16:34.2163758+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T20:16:34.2164208+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:16:34.2164600+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T20:16:34.2164862+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:16:34.2166461+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:16:34.2167284+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:16:34.2168233+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:16:34.2169391+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T20:16:34.2170037+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T20:16:34.2170467+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:16:34.2170875+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:16:34.2171262+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T20:16:34.2171727+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T20:16:34.2172062+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T20:16:34.2172535+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:16:34.2172956+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:16:34.2173351+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T20:16:34.2173706+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:16:34.2174009+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:16:34.2176591+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:16:34.2177752+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:16:34.2206806+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:16:34.2208448+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:16:34.2208928+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:16:34.2209814+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:16:34.2210174+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:16:34.2210832+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:16:34.2213207+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T20:16:34.2215037+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 50, OrderBy: null, Filter: null })]
2025-06-08T20:16:34.2434726+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "DetailedErrorsEnabled "
2025-06-08T20:16:34.2442375+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T20:16:34.2443137+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T20:16:34.2443536+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:16:34.2444104+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:16:34.2445751+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T20:16:34.2446202+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:16:34.2446605+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:16:34.2447910+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T20:16:34.2536428+07:00 [ERR] (///) Failed executing DbCommand ("7"ms) [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T20:16:34.2776418+07:00 [ERR] (///) An exception occurred while iterating over the results of a query for context type '"FacultyService.Application.FacultyDbContext"'."
""System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.IO.EndOfStreamException: Attempted to read past the end of the stream.
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()"
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.IO.EndOfStreamException: Attempted to read past the end of the stream.
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Arch.EntityFrameworkCore.UnitOfWork.Collections.IQueryablePageListExtensions.ToPagedListAsync[T](IQueryable`1 source, Int32 pageIndex, Int32 pageSize, Int32 indexFrom, CancellationToken cancellationToken)
   at FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler.Handle(DefaultClassQuery request, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/Classes/QueryHandler/GetAllClassesQueryHandler.cs:line 15
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
2025-06-08T20:16:34.4065138+07:00 [ERR] (///) Error processing request "DefaultClassQuery" after 184ms
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.IO.EndOfStreamException: Attempted to read past the end of the stream.
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Arch.EntityFrameworkCore.UnitOfWork.Collections.IQueryablePageListExtensions.ToPagedListAsync[T](IQueryable`1 source, Int32 pageIndex, Int32 pageSize, Int32 indexFrom, CancellationToken cancellationToken)
   at FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler.Handle(DefaultClassQuery request, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/Classes/QueryHandler/GetAllClassesQueryHandler.cs:line 15
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
   at FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses(GridifyQuery gridifyQuery, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api/Classes/Controller/ClassesController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
2025-06-08T20:16:34.4818054+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 265.1564ms
2025-06-08T20:16:34.4823186+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:16:34.4836943+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.IO.EndOfStreamException: Attempted to read past the end of the stream.
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Arch.EntityFrameworkCore.UnitOfWork.Collections.IQueryablePageListExtensions.ToPagedListAsync[T](IQueryable`1 source, Int32 pageIndex, Int32 pageSize, Int32 indexFrom, CancellationToken cancellationToken)
   at FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler.Handle(DefaultClassQuery request, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/Classes/QueryHandler/GetAllClassesQueryHandler.cs:line 15
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
   at FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses(GridifyQuery gridifyQuery, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api/Classes/Controller/ClassesController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Finbuckle.MultiTenant.AspNetCore.Internal.MultiTenantMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-08T20:16:34.5195487+07:00 [ERR] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 500 in 303.8591 ms
2025-06-08T20:16:34.5197409+07:00 [DBG] (///) Connection id ""0HND6HPGPPN5L"" completed keep alive response.
2025-06-08T20:16:34.5198103+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T20:16:34.5198834+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:16:34.5199361+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:16:34.5200074+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - 500 null "application/problem+json" 305.107ms
2025-06-08T20:16:35.5254418+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - null null
2025-06-08T20:16:35.5257537+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:16:35.5258532+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:16:35.5259369+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:16:35.5260848+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T20:16:35.5262149+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T20:16:35.5262554+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T20:16:35.5262917+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:16:35.5263799+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T20:16:35.5264477+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T20:16:35.5264788+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T20:16:35.5265141+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:16:35.5265381+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T20:16:35.5265637+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:16:35.5266181+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:16:35.5267428+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:16:35.5268326+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:16:35.5268958+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T20:16:35.5269431+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T20:16:35.5269835+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:16:35.5270139+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:16:35.5270414+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T20:16:35.5270745+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T20:16:35.5271021+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T20:16:35.5271367+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:16:35.5271631+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:16:35.5271908+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T20:16:35.5272994+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:16:35.5273297+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:16:35.5273529+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:16:35.5273757+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:16:35.5273947+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:16:35.5274558+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:16:35.5274934+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:16:35.5275506+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:16:35.5275832+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:16:35.5276110+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:16:35.5277467+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T20:16:35.5281010+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 50, OrderBy: null, Filter: null })]
2025-06-08T20:16:35.5289310+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "DetailedErrorsEnabled "
2025-06-08T20:16:35.5294005+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T20:16:35.5294685+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T20:16:35.5295072+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:16:35.5408393+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:16:35.5410804+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T20:16:35.5411470+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:16:35.5411902+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:16:35.5412934+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T20:16:35.5516297+07:00 [INF] (///) Executed DbCommand ("10"ms) [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T20:16:35.5519288+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:16:35.5519935+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T20:16:35.5520954+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:16:35.5521513+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:16:35.5524488+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:16:35.5524986+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:16:35.5525836+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T20:16:35.5526097+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:16:35.5526843+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:16:35.5527418+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T20:16:35.5559817+07:00 [INF] (///) Executed DbCommand ("3"ms) [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T20:16:35.5561279+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:16:35.5561816+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T20:16:35.5562685+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:16:35.5563042+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:19:02.9269743+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 147398ms
2025-06-08T20:19:02.9497021+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 147400.2732ms.
2025-06-08T20:19:02.9738579+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T20:19:02.9738382+07:00 [DBG] (///) Connection id ""0HND6HPGPPN5L"" received FIN.
2025-06-08T20:19:02.9739479+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T20:19:02.9739640+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T20:19:02.9739801+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T20:19:02.9740064+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T20:19:02.9740439+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T20:19:02.9969905+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 147470.3679ms
2025-06-08T20:19:02.9971145+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:19:02.9971182+07:00 [DBG] (///) Connection id ""0HND6HPGPPN5M"" accepted.
2025-06-08T20:19:02.9972103+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 147471.0671 ms
2025-06-08T20:19:02.9972836+07:00 [DBG] (///) Connection id ""0HND6HPGPPN5L"" completed keep alive response.
2025-06-08T20:19:02.9973277+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T20:19:02.9973771+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:19:02.9974274+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:19:02.9974879+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - 200 null "application/json; charset=utf-8" 147472.0566ms
2025-06-08T20:19:02.9975732+07:00 [DBG] (///) Connection id ""0HND6HPGPPN5M"" started.
2025-06-08T20:19:03.0217470+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - null null
2025-06-08T20:19:03.0218657+07:00 [DBG] (///) Connection id ""0HND6HPGPPN5L"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-08T20:19:03.0220340+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:19:03.0220981+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:19:03.0221540+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:19:03.0222345+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T20:19:03.0223110+07:00 [DBG] (///) Connection id ""0HND6HPGPPN5L"" disconnecting.
2025-06-08T20:19:03.0223631+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T20:19:03.0224114+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T20:19:03.0224481+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:19:03.0225274+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T20:19:03.0225867+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T20:19:03.0226161+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T20:19:03.0226491+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:19:03.0226910+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T20:19:03.0227864+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:19:03.0228261+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:19:03.0228818+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:19:03.0229497+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:19:03.0229991+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T20:19:03.0230355+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T20:19:03.0230718+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:19:03.0230985+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:19:03.0231218+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T20:19:03.0231507+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T20:19:03.0231743+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T20:19:03.0231983+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:19:03.0232822+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:19:03.0233047+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T20:19:03.0233280+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:19:03.0233520+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:19:03.0233763+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:19:03.0233953+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:19:03.0234259+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:19:03.0234688+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:19:03.0234925+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:19:03.0235281+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:19:03.0235466+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:19:03.0235651+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:19:03.0236734+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T20:19:03.0237808+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 50, OrderBy: null, Filter: null })]
2025-06-08T20:19:03.0246611+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "DetailedErrorsEnabled "
2025-06-08T20:19:03.0250645+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T20:19:03.0251239+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T20:19:03.0251577+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:19:03.0252041+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:19:03.0253664+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T20:19:03.0254055+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:19:03.0254493+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:19:03.0254998+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T20:19:03.0264280+07:00 [DBG] (///) Connection id ""0HND6HPGPPN5L"" reset.
2025-06-08T20:19:03.0273034+07:00 [DBG] (///) Connection id ""0HND6HPGPPN5L"" stopped.
2025-06-08T20:19:03.0284780+07:00 [ERR] (///) Failed executing DbCommand ("3"ms) [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T20:19:03.0307030+07:00 [ERR] (///) An exception occurred while iterating over the results of a query for context type '"FacultyService.Application.FacultyDbContext"'."
""System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.IO.EndOfStreamException: Attempted to read past the end of the stream.
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()"
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.IO.EndOfStreamException: Attempted to read past the end of the stream.
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Arch.EntityFrameworkCore.UnitOfWork.Collections.IQueryablePageListExtensions.ToPagedListAsync[T](IQueryable`1 source, Int32 pageIndex, Int32 pageSize, Int32 indexFrom, CancellationToken cancellationToken)
   at FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler.Handle(DefaultClassQuery request, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/Classes/QueryHandler/GetAllClassesQueryHandler.cs:line 15
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
2025-06-08T20:19:03.0980825+07:00 [ERR] (///) Error processing request "DefaultClassQuery" after 74ms
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.IO.EndOfStreamException: Attempted to read past the end of the stream.
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Arch.EntityFrameworkCore.UnitOfWork.Collections.IQueryablePageListExtensions.ToPagedListAsync[T](IQueryable`1 source, Int32 pageIndex, Int32 pageSize, Int32 indexFrom, CancellationToken cancellationToken)
   at FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler.Handle(DefaultClassQuery request, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/Classes/QueryHandler/GetAllClassesQueryHandler.cs:line 15
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
   at FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses(GridifyQuery gridifyQuery, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api/Classes/Controller/ClassesController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-06-08T20:19:03.1771613+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 154.3273ms
2025-06-08T20:19:03.1774427+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:19:03.1778064+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.IO.EndOfStreamException: Attempted to read past the end of the stream.
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Arch.EntityFrameworkCore.UnitOfWork.Collections.IQueryablePageListExtensions.ToPagedListAsync[T](IQueryable`1 source, Int32 pageIndex, Int32 pageSize, Int32 indexFrom, CancellationToken cancellationToken)
   at FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler.Handle(DefaultClassQuery request, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/Classes/QueryHandler/GetAllClassesQueryHandler.cs:line 15
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
   at FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses(GridifyQuery gridifyQuery, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api/Classes/Controller/ClassesController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Finbuckle.MultiTenant.AspNetCore.Internal.MultiTenantMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-08T20:19:03.1863908+07:00 [ERR] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 500 in 164.1036 ms
2025-06-08T20:19:03.1865032+07:00 [DBG] (///) Connection id ""0HND6HPGPPN5M"" completed keep alive response.
2025-06-08T20:19:03.1865938+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T20:19:03.1866769+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:19:03.1867203+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:19:03.1867800+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - 500 null "application/problem+json" 165.0389ms
2025-06-08T20:19:04.1923296+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - null null
2025-06-08T20:19:04.1926604+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:19:04.1927226+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:19:04.1927772+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:19:04.1928692+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T20:19:04.1929842+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T20:19:04.1930269+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T20:19:04.1930698+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:19:04.1932090+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T20:19:04.1932663+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T20:19:04.1932911+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T20:19:04.1933332+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:19:04.1933510+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T20:19:04.1933722+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:19:04.1934100+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:19:04.1934539+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:19:04.1935105+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:19:04.1935537+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T20:19:04.1935937+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T20:19:04.1936248+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:19:04.1937224+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:19:04.1937606+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T20:19:04.1937930+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T20:19:04.1938220+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T20:19:04.1938442+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:19:04.1938668+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:19:04.1938889+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T20:19:04.1939124+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:19:04.1939353+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:19:04.1939573+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:19:04.1939771+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:19:04.1939949+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:19:04.1940426+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:19:04.1940757+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:19:04.1941701+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:19:04.1942013+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:19:04.1942246+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:19:04.1943347+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T20:19:04.1944676+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 50, OrderBy: null, Filter: null })]
2025-06-08T20:19:04.1951782+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "DetailedErrorsEnabled "
2025-06-08T20:19:04.1954802+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T20:19:04.1955293+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T20:19:04.1955609+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:19:04.2037432+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:19:04.2039651+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T20:19:04.2040074+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:19:04.2040431+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:19:04.2040897+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T20:19:04.2148783+07:00 [INF] (///) Executed DbCommand ("11"ms) [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T20:19:04.2151810+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:19:04.2152665+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T20:19:04.2154059+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:19:04.2154531+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:19:04.2157889+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:19:04.2158515+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:19:04.2159635+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T20:19:04.2159995+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:19:04.2160339+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:19:04.2161244+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T20:19:04.2194766+07:00 [INF] (///) Executed DbCommand ("3"ms) [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T20:19:04.2197202+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:19:04.2198360+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T20:19:04.2199364+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:19:04.2199773+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:19:06.8571130+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 2662ms
2025-06-08T20:19:06.8572783+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2662.8711ms.
2025-06-08T20:19:06.8575303+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T20:19:06.8575928+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T20:19:06.8576118+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T20:19:06.8576268+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T20:19:06.8576550+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T20:19:06.8576856+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T20:19:06.8578431+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 2664.4417ms
2025-06-08T20:19:06.8578868+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:19:06.8580601+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 2665.1557 ms
2025-06-08T20:19:06.8581160+07:00 [DBG] (///) Connection id ""0HND6HPGPPN5M"" completed keep alive response.
2025-06-08T20:19:06.8582114+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T20:19:06.8582563+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:19:06.8582936+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:19:06.8583434+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - 200 null "application/json; charset=utf-8" 2666.0307ms
2025-06-08T20:19:37.8378166+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T20:19:37.9736175+07:00 [DBG] (///) Hosting starting
2025-06-08T20:19:38.0359029+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T20:19:38.0378765+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T20:19:38.1174121+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T20:19:38.1191027+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T20:19:38.1494744+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T20:19:38.1500573+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T20:19:38.1501244+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T20:19:38.1502077+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T20:19:38.1505239+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T20:19:38.1505696+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T20:19:38.1505974+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T20:19:38.1506521+07:00 [DBG] (///) Hosting started
2025-06-08T20:19:39.5919123+07:00 [DBG] (///) Connection id ""0HND6HSFOCR0I"" accepted.
2025-06-08T20:19:39.5925110+07:00 [DBG] (///) Connection id ""0HND6HSFOCR0I"" started.
2025-06-08T20:19:39.6204949+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - null null
2025-06-08T20:19:39.6903522+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:19:39.6954670+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:19:39.6995932+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:19:39.7071848+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T20:19:39.7383981+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T20:19:39.7471146+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T20:19:39.7521541+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:19:39.7821834+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T20:19:39.7855588+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T20:19:39.7859679+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T20:19:39.7868767+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:19:39.7872602+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T20:19:39.7874347+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:19:39.7905167+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:19:39.7923961+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:19:39.7972298+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:19:39.7994230+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T20:19:39.8037728+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T20:19:39.8046303+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:19:39.8050611+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:19:39.8087157+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T20:19:39.8101330+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T20:19:39.8110873+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T20:19:39.8112403+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:19:39.8113050+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:19:39.8113444+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T20:19:39.8113806+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:19:39.8114157+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:19:39.8118835+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:19:39.8120746+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:19:39.8121695+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:19:39.8330325+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:19:39.8332034+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:19:39.8338366+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:19:39.8338942+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:19:39.8341083+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:19:39.8452032+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T20:19:56.2012586+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 50, OrderBy: null, Filter: null })]
2025-06-08T20:19:56.4415862+07:00 [DBG] (///) An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration changed for 'Core:EnableDetailedErrors', configuration changed for 'Core:ConfigureWarnings', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseAdminDatabase', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:SetPostgresVersion', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseRedshift', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ReverseNullOrdering', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:RemoteCertificateValidationCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvideClientCertificatesCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvidePasswordCallback'".
2025-06-08T20:19:56.9893175+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Class"' as the properties are already covered by the index "{'FacultyCode', 'ClassCode'}".
2025-06-08T20:19:56.9896323+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"CreditClass"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId'}".
2025-06-08T20:19:56.9897071+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId', 'StudentCode'}".
2025-06-08T20:19:56.9897494+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'StudentCode'}".
2025-06-08T20:19:56.9897910+07:00 [DBG] (///) The index "{'FacultyCode', 'CreditClassId'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId', 'StudentCode'}".
2025-06-08T20:19:56.9898540+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Student"' as the properties are already covered by the index "{'FacultyCode', 'StudentCode'}".
2025-06-08T20:19:56.9898968+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Student"' as the properties are already covered by the index "{'FacultyCode', 'ClassCode'}".
2025-06-08T20:19:57.1029630+07:00 [WRN] (///) The foreign key property '"Registration"."StudentCode1"' was created in shadow state because a conflicting property with the simple name '"StudentCode"' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-08T20:19:57.1045006+07:00 [DBG] (///) The property '"Registration"."StudentFacultyCode"' was created in shadow state because there are no eligible CLR members with a matching name.
2025-06-08T20:19:57.2241739+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "DetailedErrorsEnabled "
2025-06-08T20:19:57.2810297+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Class>()
    .OrderBy(__Class => __Class.ClassCode)
    .Select(c => new ClassBasicResponse{ 
        ClassCode = c.ClassCode, 
        ClassName = c.ClassName, 
        FacultyCode = c.FacultyCode, 
        StudentCount = c.Students.Count, 
        FacultyName = c.FacultyCodeNavigation.FacultyName, 
        AcademicYearCode = c.AcademicYearCode 
    }
    )
    .Count()"'
2025-06-08T20:19:57.5773388+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => 
{
    queryContext.AddParameter(
        name: \"__ef_filter__Id_0\", 
        value: (object)Invoke(queryContext => ((FacultyDbContext)queryContext.Context).TenantInfo.Id, queryContext));
    return ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
        asyncEnumerable: SingleQueryingEnumerable.Create<int>(
            relationalQueryContext: (RelationalQueryContext)queryContext, 
            relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
                Projection Mapping:
                    EmptyProjectionMember -> 0
                SELECT CAST(count(*) AS integer)
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0) | Resolver: c => new RelationalCommandCache(
                c.Dependencies.MemoryCache, 
                c.RelationalDependencies.QuerySqlGeneratorFactory, 
                c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
                Projection Mapping:
                    EmptyProjectionMember -> 0
                SELECT CAST(count(*) AS integer)
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0, 
                False, 
                new HashSet<string>(
                    new string[]{ }, 
                    StringComparer.Ordinal
                )
            )].GetRelationalCommandTemplate(parameters), 
            readerColumns: null, 
            shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                int? value1;
                value1 = try { dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0) } catch (Exception) { ... } ;
                return (int)value1;
            }, 
            contextType: FacultyService.Application.FacultyDbContext, 
            standAloneStateManager: False, 
            detailedErrorsEnabled: True, 
            threadSafetyChecksEnabled: True), 
        cancellationToken: queryContext.CancellationToken);
}"'
2025-06-08T20:19:57.6289392+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T20:19:57.6805867+07:00 [DBG] (///) Created DbConnection. (51ms).
2025-06-08T20:19:57.6845457+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:19:57.8244984+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:19:57.8305875+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T20:19:57.8414966+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (3ms).
2025-06-08T20:19:57.8513672+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (20ms).
2025-06-08T20:19:57.8596284+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T20:19:57.9467992+07:00 [INF] (///) Executed DbCommand ("86"ms) [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T20:19:57.9642808+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:19:57.9720122+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 19ms reading results.
2025-06-08T20:19:57.9768039+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:19:57.9815025+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (4ms).
2025-06-08T20:19:57.9858806+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Class>()
    .OrderBy(__Class => __Class.ClassCode)
    .Select(c => new ClassBasicResponse{ 
        ClassCode = c.ClassCode, 
        ClassName = c.ClassName, 
        FacultyCode = c.FacultyCode, 
        StudentCount = c.Students.Count, 
        FacultyName = c.FacultyCodeNavigation.FacultyName, 
        AcademicYearCode = c.AcademicYearCode 
    }
    )
    .Skip(__p_0)
    .Take(__p_1)"'
2025-06-08T20:19:58.0483295+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => 
{
    queryContext.AddParameter(
        name: \"__ef_filter__Id_0\", 
        value: (object)Invoke(queryContext => ((FacultyDbContext)queryContext.Context).TenantInfo.Id, queryContext));
    return SingleQueryingEnumerable.Create<ClassBasicResponse>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                ClassCode -> 0
                ClassName -> 1
                FacultyCode -> 2
                StudentCount -> 3
                FacultyName -> 4
                AcademicYearCode -> 5
            SELECT c0.class_code AS ClassCode, c0.class_name AS ClassName, c0.faculty_code AS FacultyCode, (
                SELECT CAST(count(*) AS integer)
                FROM student AS s
                WHERE (s.faculty_code == @__ef_filter__Id_0) && (((c0.faculty_code != NULL) && (c0.class_code != NULL)) && ((c0.faculty_code == s.faculty_code) && (c0.class_code == s.class_code)))) AS StudentCount, f0.faculty_name AS FacultyName, c0.academic_year_code AS AcademicYearCode
            FROM 
            (
                SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0
                ORDER BY c.class_code ASC
                OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
            ) AS c0
            INNER JOIN 
            (
                SELECT f.faculty_code, f.faculty_name
                FROM faculty AS f
                WHERE f.faculty_code == @__ef_filter__Id_0
            ) AS f0 ON c0.faculty_code == f0.faculty_code
            ORDER BY c0.class_code ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                ClassCode -> 0
                ClassName -> 1
                FacultyCode -> 2
                StudentCount -> 3
                FacultyName -> 4
                AcademicYearCode -> 5
            SELECT c0.class_code AS ClassCode, c0.class_name AS ClassName, c0.faculty_code AS FacultyCode, (
                SELECT CAST(count(*) AS integer)
                FROM student AS s
                WHERE (s.faculty_code == @__ef_filter__Id_0) && (((c0.faculty_code != NULL) && (c0.class_code != NULL)) && ((c0.faculty_code == s.faculty_code) && (c0.class_code == s.class_code)))) AS StudentCount, f0.faculty_name AS FacultyName, c0.academic_year_code AS AcademicYearCode
            FROM 
            (
                SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0
                ORDER BY c.class_code ASC
                OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
            ) AS c0
            INNER JOIN 
            (
                SELECT f.faculty_code, f.faculty_name
                FROM faculty AS f
                WHERE f.faculty_code == @__ef_filter__Id_0
            ) AS f0 ON c0.faculty_code == f0.faculty_code
            ORDER BY c0.class_code ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            string value1;
            string value2;
            string value3;
            int? value4;
            string value5;
            string value6;
            value1 = try { dataReader.GetString(0) } catch (Exception) { ... } ;
            value2 = try { dataReader.GetString(1) } catch (Exception) { ... } ;
            value3 = try { dataReader.GetString(2) } catch (Exception) { ... } ;
            value4 = try { dataReader.IsDBNull(3) ? default(int?) : (int?)dataReader.GetInt32(3) } catch (Exception) { ... } ;
            value5 = try { dataReader.GetString(4) } catch (Exception) { ... } ;
            value6 = try { dataReader.GetString(5) } catch (Exception) { ... } ;
            return new ClassBasicResponse{ 
                ClassCode = value1, 
                ClassName = value2, 
                FacultyCode = value3, 
                StudentCount = (int)value4, 
                FacultyName = value5, 
                AcademicYearCode = value6 
            }
            ;
        }, 
        contextType: FacultyService.Application.FacultyDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: True, 
        threadSafetyChecksEnabled: True);
}"'
2025-06-08T20:19:58.0575388+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:19:58.0581995+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:19:58.0584277+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T20:19:58.0584873+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:19:58.0585994+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:19:58.0587147+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T20:19:58.0641198+07:00 [INF] (///) Executed DbCommand ("5"ms) [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T20:19:58.0660930+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:19:58.0662432+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 1ms reading results.
2025-06-08T20:19:58.0663641+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:19:58.0664187+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:19:58.0675263+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 1864ms
2025-06-08T20:19:58.0720401+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 18223.6955ms.
2025-06-08T20:19:58.0847785+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T20:19:58.0882763+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T20:19:58.0883869+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T20:19:58.0884710+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T20:19:58.0892252+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T20:19:58.0898626+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T20:19:58.1278467+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 18336.5732ms
2025-06-08T20:19:58.1290933+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:19:58.1482228+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 18429.6378 ms
2025-06-08T20:19:58.1547236+07:00 [DBG] (///) Connection id ""0HND6HSFOCR0I"" completed keep alive response.
2025-06-08T20:19:58.1651701+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T20:19:58.1714549+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:19:58.1739060+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (2ms).
2025-06-08T20:19:58.1765149+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - 200 null "application/json; charset=utf-8" 18557.1735ms
2025-06-08T20:19:59.1302308+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - null null
2025-06-08T20:19:59.1316826+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:19:59.1318350+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:19:59.1319675+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:19:59.1321860+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T20:19:59.1325024+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T20:19:59.1326059+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T20:19:59.1326696+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:19:59.1329305+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T20:19:59.1333661+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T20:19:59.1334222+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T20:19:59.1334854+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:19:59.1335290+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T20:19:59.1335735+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:19:59.1336454+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:19:59.1337286+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:19:59.1338990+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:19:59.1340021+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T20:19:59.1340588+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T20:19:59.1340931+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:19:59.1341284+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:19:59.1341689+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T20:19:59.1342187+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T20:19:59.1342566+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T20:19:59.1342823+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:19:59.1343218+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:19:59.1343521+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T20:19:59.1343772+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:19:59.1343964+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:19:59.1344370+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:19:59.1345029+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:19:59.1345225+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:19:59.1346847+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:19:59.1347287+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:19:59.1348013+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:19:59.1348465+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:19:59.1348782+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:19:59.1350640+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T20:20:02.9950489+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 50, OrderBy: null, Filter: null })]
2025-06-08T20:20:03.0059424+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "DetailedErrorsEnabled "
2025-06-08T20:20:03.0096291+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T20:20:03.0097454+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T20:20:03.0097826+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:20:03.0098352+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:20:03.0099617+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T20:20:03.0099984+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:20:03.0100401+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:20:03.0100923+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T20:20:03.0117720+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T20:20:03.0120513+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:20:03.0121135+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T20:20:03.0121948+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:20:03.0122324+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:20:03.0125882+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:20:03.0126421+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:20:03.0127304+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T20:20:03.0127589+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:20:03.0127865+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:20:03.0128259+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T20:20:03.0144052+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T20:20:03.0146349+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:20:03.0146977+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T20:20:03.0148089+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:20:03.0148625+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:20:03.0149791+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 19ms
2025-06-08T20:20:03.0150681+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3879.9097ms.
2025-06-08T20:20:03.0153481+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T20:20:03.0155242+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T20:20:03.0155475+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T20:20:03.0155662+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T20:20:03.0156415+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T20:20:03.0156764+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T20:20:03.0159731+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 3882.3507ms
2025-06-08T20:20:03.0160293+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:20:03.0161974+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 3883.9169 ms
2025-06-08T20:20:03.0163253+07:00 [DBG] (///) Connection id ""0HND6HSFOCR0I"" completed keep alive response.
2025-06-08T20:20:03.0164208+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T20:20:03.0164920+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:20:03.0165399+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:20:03.0166602+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - 200 null "application/json; charset=utf-8" 3886.5917ms
2025-06-08T20:21:14.0578455+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - null null
2025-06-08T20:21:14.0583498+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:21:14.0585349+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:21:14.0586340+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:21:14.0587431+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T20:21:14.0589397+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T20:21:14.0589884+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T20:21:14.0590361+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:21:14.0591482+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T20:21:14.0593146+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T20:21:14.0595230+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T20:21:14.0595868+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:21:14.0596263+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T20:21:14.0602980+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:21:14.0813426+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:21:14.0815191+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:21:14.0816392+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:21:14.0817123+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T20:21:14.0817737+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T20:21:14.0818324+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:21:14.0818903+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:21:14.0820454+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T20:21:14.0821208+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T20:21:14.0821771+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T20:21:14.0822511+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:21:14.0823162+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:21:14.0823778+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T20:21:14.0824366+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:21:14.0824774+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:21:14.0825113+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:21:14.0825741+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:21:14.0826002+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:21:14.0826501+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:21:14.0826766+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:21:14.0827479+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:21:14.0827704+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:21:14.0827962+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:21:14.0829144+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T20:22:19.5159564+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T20:22:19.6081296+07:00 [DBG] (///) Hosting starting
2025-06-08T20:22:19.6564702+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T20:22:19.6581007+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T20:22:19.7093612+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T20:22:19.7105549+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T20:22:19.7163901+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T20:22:19.7168400+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T20:22:19.7168848+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T20:22:19.7169656+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T20:22:19.7171264+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T20:22:19.7171685+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T20:22:19.7171869+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T20:22:19.7172284+07:00 [DBG] (///) Hosting started
2025-06-08T20:22:38.8173788+07:00 [DBG] (///) Connection id ""0HND6HU55K3O0"" accepted.
2025-06-08T20:22:38.8189764+07:00 [DBG] (///) Connection id ""0HND6HU55K3O0"" started.
2025-06-08T20:22:38.8666574+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - null null
2025-06-08T20:22:38.9749956+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:22:38.9807036+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:22:38.9849639+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:22:38.9944652+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T20:22:39.0266532+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T20:22:39.0324066+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T20:22:39.0360377+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:22:39.0655259+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T20:22:39.0702128+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T20:22:39.0706130+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T20:22:39.0715142+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:22:39.0717228+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T20:22:39.0719246+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:22:39.0741858+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:22:39.0750505+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:22:39.0796455+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:22:39.0819683+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T20:22:39.0866911+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T20:22:39.0875770+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:22:39.0880693+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:22:39.0930706+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T20:22:39.0941117+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T20:22:39.0948438+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T20:22:39.0950450+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:22:39.0951294+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:22:39.0951898+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T20:22:39.0952404+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:22:39.0953761+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:22:39.0956285+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:22:39.0957246+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:22:39.0957864+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:22:39.1021866+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:22:39.1024367+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:22:39.1028297+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:22:39.1029076+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:22:39.1030589+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:22:39.1117578+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T20:22:39.1273255+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 50, OrderBy: null, Filter: null })]
2025-06-08T20:22:39.3319515+07:00 [DBG] (///) An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration changed for 'Core:EnableDetailedErrors', configuration changed for 'Core:ConfigureWarnings', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseAdminDatabase', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:SetPostgresVersion', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseRedshift', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ReverseNullOrdering', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:RemoteCertificateValidationCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvideClientCertificatesCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvidePasswordCallback'".
2025-06-08T20:22:39.8608069+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Class"' as the properties are already covered by the index "{'FacultyCode', 'ClassCode'}".
2025-06-08T20:22:39.8611477+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"CreditClass"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId'}".
2025-06-08T20:22:39.8612358+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId', 'StudentCode'}".
2025-06-08T20:22:39.8612798+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'StudentCode'}".
2025-06-08T20:22:39.8613152+07:00 [DBG] (///) The index "{'FacultyCode', 'CreditClassId'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId', 'StudentCode'}".
2025-06-08T20:22:39.8614049+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Student"' as the properties are already covered by the index "{'FacultyCode', 'StudentCode'}".
2025-06-08T20:22:39.8614473+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Student"' as the properties are already covered by the index "{'FacultyCode', 'ClassCode'}".
2025-06-08T20:22:39.9654414+07:00 [WRN] (///) The foreign key property '"Registration"."StudentCode1"' was created in shadow state because a conflicting property with the simple name '"StudentCode"' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-08T20:22:39.9669445+07:00 [DBG] (///) The property '"Registration"."StudentFacultyCode"' was created in shadow state because there are no eligible CLR members with a matching name.
2025-06-08T20:22:40.0637890+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "DetailedErrorsEnabled "
2025-06-08T20:22:40.1103885+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Class>()
    .OrderBy(__Class => __Class.ClassCode)
    .Select(c => new ClassBasicResponse{ 
        ClassCode = c.ClassCode, 
        ClassName = c.ClassName, 
        FacultyCode = c.FacultyCode, 
        StudentCount = c.Students.Count, 
        FacultyName = c.FacultyCodeNavigation.FacultyName, 
        AcademicYearCode = c.AcademicYearCode 
    }
    )
    .Count()"'
2025-06-08T20:22:40.2970547+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => 
{
    queryContext.AddParameter(
        name: \"__ef_filter__Id_0\", 
        value: (object)Invoke(queryContext => ((FacultyDbContext)queryContext.Context).TenantInfo.Id, queryContext));
    return ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
        asyncEnumerable: SingleQueryingEnumerable.Create<int>(
            relationalQueryContext: (RelationalQueryContext)queryContext, 
            relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
                Projection Mapping:
                    EmptyProjectionMember -> 0
                SELECT CAST(count(*) AS integer)
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0) | Resolver: c => new RelationalCommandCache(
                c.Dependencies.MemoryCache, 
                c.RelationalDependencies.QuerySqlGeneratorFactory, 
                c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
                Projection Mapping:
                    EmptyProjectionMember -> 0
                SELECT CAST(count(*) AS integer)
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0, 
                False, 
                new HashSet<string>(
                    new string[]{ }, 
                    StringComparer.Ordinal
                )
            )].GetRelationalCommandTemplate(parameters), 
            readerColumns: null, 
            shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                int? value1;
                value1 = try { dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0) } catch (Exception) { ... } ;
                return (int)value1;
            }, 
            contextType: FacultyService.Application.FacultyDbContext, 
            standAloneStateManager: False, 
            detailedErrorsEnabled: True, 
            threadSafetyChecksEnabled: True), 
        cancellationToken: queryContext.CancellationToken);
}"'
2025-06-08T20:22:40.3317240+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T20:22:40.3625303+07:00 [DBG] (///) Created DbConnection. (29ms).
2025-06-08T20:22:40.3653231+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:22:40.4636069+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:22:40.4704039+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T20:22:40.4758987+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (2ms).
2025-06-08T20:22:40.4833985+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (13ms).
2025-06-08T20:22:40.4904049+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T20:22:40.5647168+07:00 [INF] (///) Executed DbCommand ("72"ms) [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T20:22:40.5810575+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:22:40.5876016+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 17ms reading results.
2025-06-08T20:22:40.5911915+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:22:40.5949168+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (3ms).
2025-06-08T20:22:40.5986654+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Class>()
    .OrderBy(__Class => __Class.ClassCode)
    .Select(c => new ClassBasicResponse{ 
        ClassCode = c.ClassCode, 
        ClassName = c.ClassName, 
        FacultyCode = c.FacultyCode, 
        StudentCount = c.Students.Count, 
        FacultyName = c.FacultyCodeNavigation.FacultyName, 
        AcademicYearCode = c.AcademicYearCode 
    }
    )
    .Skip(__p_0)
    .Take(__p_1)"'
2025-06-08T20:22:40.6512753+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => 
{
    queryContext.AddParameter(
        name: \"__ef_filter__Id_0\", 
        value: (object)Invoke(queryContext => ((FacultyDbContext)queryContext.Context).TenantInfo.Id, queryContext));
    return SingleQueryingEnumerable.Create<ClassBasicResponse>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                ClassCode -> 0
                ClassName -> 1
                FacultyCode -> 2
                StudentCount -> 3
                FacultyName -> 4
                AcademicYearCode -> 5
            SELECT c0.class_code AS ClassCode, c0.class_name AS ClassName, c0.faculty_code AS FacultyCode, (
                SELECT CAST(count(*) AS integer)
                FROM student AS s
                WHERE (s.faculty_code == @__ef_filter__Id_0) && (((c0.faculty_code != NULL) && (c0.class_code != NULL)) && ((c0.faculty_code == s.faculty_code) && (c0.class_code == s.class_code)))) AS StudentCount, f0.faculty_name AS FacultyName, c0.academic_year_code AS AcademicYearCode
            FROM 
            (
                SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0
                ORDER BY c.class_code ASC
                OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
            ) AS c0
            INNER JOIN 
            (
                SELECT f.faculty_code, f.faculty_name
                FROM faculty AS f
                WHERE f.faculty_code == @__ef_filter__Id_0
            ) AS f0 ON c0.faculty_code == f0.faculty_code
            ORDER BY c0.class_code ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                ClassCode -> 0
                ClassName -> 1
                FacultyCode -> 2
                StudentCount -> 3
                FacultyName -> 4
                AcademicYearCode -> 5
            SELECT c0.class_code AS ClassCode, c0.class_name AS ClassName, c0.faculty_code AS FacultyCode, (
                SELECT CAST(count(*) AS integer)
                FROM student AS s
                WHERE (s.faculty_code == @__ef_filter__Id_0) && (((c0.faculty_code != NULL) && (c0.class_code != NULL)) && ((c0.faculty_code == s.faculty_code) && (c0.class_code == s.class_code)))) AS StudentCount, f0.faculty_name AS FacultyName, c0.academic_year_code AS AcademicYearCode
            FROM 
            (
                SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0
                ORDER BY c.class_code ASC
                OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
            ) AS c0
            INNER JOIN 
            (
                SELECT f.faculty_code, f.faculty_name
                FROM faculty AS f
                WHERE f.faculty_code == @__ef_filter__Id_0
            ) AS f0 ON c0.faculty_code == f0.faculty_code
            ORDER BY c0.class_code ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            string value1;
            string value2;
            string value3;
            int? value4;
            string value5;
            string value6;
            value1 = try { dataReader.GetString(0) } catch (Exception) { ... } ;
            value2 = try { dataReader.GetString(1) } catch (Exception) { ... } ;
            value3 = try { dataReader.GetString(2) } catch (Exception) { ... } ;
            value4 = try { dataReader.IsDBNull(3) ? default(int?) : (int?)dataReader.GetInt32(3) } catch (Exception) { ... } ;
            value5 = try { dataReader.GetString(4) } catch (Exception) { ... } ;
            value6 = try { dataReader.GetString(5) } catch (Exception) { ... } ;
            return new ClassBasicResponse{ 
                ClassCode = value1, 
                ClassName = value2, 
                FacultyCode = value3, 
                StudentCount = (int)value4, 
                FacultyName = value5, 
                AcademicYearCode = value6 
            }
            ;
        }, 
        contextType: FacultyService.Application.FacultyDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: True, 
        threadSafetyChecksEnabled: True);
}"'
2025-06-08T20:22:40.6607772+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:22:40.6613385+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:22:40.6615784+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T20:22:40.6616544+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:22:40.6617308+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:22:40.6618844+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T20:22:40.6666677+07:00 [INF] (///) Executed DbCommand ("5"ms) [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T20:22:40.6687116+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:22:40.6688168+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 1ms reading results.
2025-06-08T20:22:40.6689356+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:22:40.6690292+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:22:40.6698443+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 1539ms
2025-06-08T20:22:40.6734517+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1558.8596ms.
2025-06-08T20:22:40.6811083+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T20:22:40.6835135+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T20:22:40.6835862+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T20:22:40.6836727+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T20:22:40.6841427+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T20:22:40.6845493+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T20:22:40.7146461+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 1638.5574ms
2025-06-08T20:22:40.7161782+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:22:40.7311073+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 1731.4546 ms
2025-06-08T20:22:40.7392201+07:00 [DBG] (///) Connection id ""0HND6HU55K3O0"" completed keep alive response.
2025-06-08T20:22:40.7401691+07:00 [DBG] (///) Connection id ""0HND6HU55K3O0"" received FIN.
2025-06-08T20:22:40.7406515+07:00 [DBG] (///) Connection id ""0HND6HU55K3O0"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-08T20:22:40.7458334+07:00 [DBG] (///) Connection id ""0HND6HU55K3O0"" disconnecting.
2025-06-08T20:22:40.7549229+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T20:22:40.7637854+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:22:40.7663841+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (2ms).
2025-06-08T20:22:40.7681883+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - 200 null "application/json; charset=utf-8" 1903.5062ms
2025-06-08T20:22:40.7717033+07:00 [DBG] (///) Connection id ""0HND6HU55K3O0"" stopped.
2025-06-08T20:22:41.7155551+07:00 [DBG] (///) Connection id ""0HND6HU55K3O1"" accepted.
2025-06-08T20:22:41.7157810+07:00 [DBG] (///) Connection id ""0HND6HU55K3O1"" started.
2025-06-08T20:22:41.7162617+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - null null
2025-06-08T20:22:41.7174778+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:22:41.7175973+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:22:41.7177075+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:22:41.7179335+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T20:22:41.7181384+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T20:22:41.7182193+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T20:22:41.7182781+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:22:41.7184503+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T20:22:41.7185346+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T20:22:41.7185788+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T20:22:41.7186879+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:22:41.7187283+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T20:22:41.7187791+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:22:41.7188402+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:22:41.7189176+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:22:41.7190767+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:22:41.7191881+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T20:22:41.7192759+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T20:22:41.7193199+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:22:41.7193502+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:22:41.7193820+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T20:22:41.7194309+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T20:22:41.7195044+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T20:22:41.7195563+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:22:41.7196748+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:22:41.7197142+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T20:22:41.7197592+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:22:41.7199753+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:22:41.7200558+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:22:41.7200985+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:22:41.7201256+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:22:41.7202810+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:22:41.7203183+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:22:41.7204106+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:22:41.7204462+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:22:41.7204798+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:22:41.7207330+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T20:22:41.7215268+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 50, OrderBy: null, Filter: null })]
2025-06-08T20:22:41.7490153+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "DetailedErrorsEnabled "
2025-06-08T20:22:41.7522413+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T20:22:41.7524009+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T20:22:41.7524875+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:22:41.7526438+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:22:41.7527966+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T20:22:41.7528462+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:22:41.7528927+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:22:41.7530086+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T20:22:41.7544826+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T20:22:41.7547951+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:22:41.7549024+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T20:22:41.7550267+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:22:41.7550921+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:22:41.7555376+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:22:41.7556017+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:22:41.7557056+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T20:22:41.7557383+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:22:41.7557841+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:22:41.7558431+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T20:22:41.7574702+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T20:22:41.7577138+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:22:41.7577907+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T20:22:41.7579070+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:22:41.7579743+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:22:41.7581077+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 36ms
2025-06-08T20:22:41.7582548+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 37.4483ms.
2025-06-08T20:22:41.7587711+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T20:22:41.7589349+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T20:22:41.7589740+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T20:22:41.7590167+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T20:22:41.7592551+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T20:22:41.7593146+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T20:22:41.7598699+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 41.0128ms
2025-06-08T20:22:41.7599995+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:22:41.7604336+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 42.1885 ms
2025-06-08T20:22:41.7607437+07:00 [DBG] (///) Connection id ""0HND6HU55K3O1"" completed keep alive response.
2025-06-08T20:22:41.7609502+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T20:22:41.7610678+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:22:41.7611511+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:22:41.7613305+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - 200 null "application/json; charset=utf-8" 45.05ms
2025-06-08T20:24:19.9705417+07:00 [DBG] (///) Connection id ""0HND6HU55K3O2"" accepted.
2025-06-08T20:24:19.9707523+07:00 [DBG] (///) Connection id ""0HND6HU55K3O2"" started.
2025-06-08T20:24:19.9827993+07:00 [INF] (///) Request starting "HTTP/1.1" "POST" "http"://"localhost:30000""""/api/v1.0/it-faculty/Classes""" - null 0
2025-06-08T20:24:19.9833392+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1.0/it-faculty/Classes"'
2025-06-08T20:24:19.9834054+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.CreateClass (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1.0/it-faculty/Classes"'
2025-06-08T20:24:19.9834722+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.CreateClass (FacultyService.Api)"'
2025-06-08T20:24:19.9835994+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T20:24:19.9837868+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T20:24:19.9838314+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T20:24:19.9838987+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.CreateClass (FacultyService.Api)"'
2025-06-08T20:24:19.9866549+07:00 [INF] (///) Route matched with "{action = \"CreateClass\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateClass(FacultyService.Api.Classes.Request.ClassBasicRequest, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T20:24:19.9867422+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T20:24:19.9867723+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T20:24:19.9868027+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:24:19.9868197+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T20:24:19.9868365+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:24:19.9868710+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:24:19.9869367+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:24:19.9870211+07:00 [DBG] (///) Attempting to bind parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"' ...
2025-06-08T20:24:19.9874442+07:00 [DBG] (///) Attempting to bind parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"' using the name '""' in request data ...
2025-06-08T20:24:19.9878510+07:00 [DBG] (///) Rejected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type 'null'.
2025-06-08T20:24:19.9878854+07:00 [DBG] (///) No input formatter was found to support the content type 'null' for use with the [FromBody] attribute.
2025-06-08T20:24:19.9882075+07:00 [DBG] (///) Done attempting to bind parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"'.
2025-06-08T20:24:19.9882303+07:00 [DBG] (///) Done attempting to bind parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"'.
2025-06-08T20:24:19.9882468+07:00 [DBG] (///) Attempting to validate the bound parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"' ...
2025-06-08T20:24:19.9886580+07:00 [DBG] (///) Done attempting to validate the bound parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"'.
2025-06-08T20:24:19.9886801+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:24:19.9887147+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:24:19.9887243+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:24:19.9887530+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:24:19.9890708+07:00 [DBG] (///) Request was short circuited at action filter '"Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter"'.
2025-06-08T20:24:19.9893636+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T20:24:19.9894032+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T20:24:19.9897352+07:00 [DBG] (///) Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml", "application/problem+json", "application/problem+xml"]'.
2025-06-08T20:24:19.9898341+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
2025-06-08T20:24:19.9898658+07:00 [INF] (///) Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
2025-06-08T20:24:19.9992737+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.CreateClass (FacultyService.Api)" in 12.4113ms
2025-06-08T20:24:19.9993470+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.CreateClass (FacultyService.Api)"'
2025-06-08T20:24:19.9994960+07:00 [INF] (///) HTTP "POST" "/api/v1.0/it-faculty/Classes" responded 415 in 15.7846 ms
2025-06-08T20:24:19.9995506+07:00 [DBG] (///) Connection id ""0HND6HU55K3O2"" completed keep alive response.
2025-06-08T20:24:19.9996121+07:00 [INF] (///) Request finished "HTTP/1.1" "POST" "http"://"localhost:30000""""/api/v1.0/it-faculty/Classes""" - 415 null "application/problem+json; charset=utf-8" 16.8187ms
2025-06-08T20:24:41.9729151+07:00 [DBG] (///) Connection id ""0HND6HU55K3O3"" accepted.
2025-06-08T20:24:41.9729935+07:00 [DBG] (///) Connection id ""0HND6HU55K3O3"" started.
2025-06-08T20:24:41.9736088+07:00 [INF] (///) Request starting "HTTP/1.1" "POST" "http"://"localhost:30000""""/api/v1.0/it-faculty/Classes""" - null 0
2025-06-08T20:24:41.9738773+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1.0/it-faculty/Classes"'
2025-06-08T20:24:41.9739423+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.CreateClass (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1.0/it-faculty/Classes"'
2025-06-08T20:24:41.9741283+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.CreateClass (FacultyService.Api)"'
2025-06-08T20:24:41.9742171+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T20:24:41.9743411+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T20:24:41.9743730+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T20:24:41.9744318+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.CreateClass (FacultyService.Api)"'
2025-06-08T20:24:41.9745248+07:00 [INF] (///) Route matched with "{action = \"CreateClass\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateClass(FacultyService.Api.Classes.Request.ClassBasicRequest, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T20:24:41.9745743+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T20:24:41.9745942+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T20:24:41.9746178+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:24:41.9746349+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T20:24:41.9746472+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:24:41.9747339+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:24:41.9747758+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:24:41.9748867+07:00 [DBG] (///) Attempting to bind parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"' ...
2025-06-08T20:24:41.9749724+07:00 [DBG] (///) Attempting to bind parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"' using the name '""' in request data ...
2025-06-08T20:24:41.9750874+07:00 [DBG] (///) Rejected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type 'null'.
2025-06-08T20:24:41.9751117+07:00 [DBG] (///) No input formatter was found to support the content type 'null' for use with the [FromBody] attribute.
2025-06-08T20:24:41.9751514+07:00 [DBG] (///) Done attempting to bind parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"'.
2025-06-08T20:24:41.9751646+07:00 [DBG] (///) Done attempting to bind parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"'.
2025-06-08T20:24:41.9751762+07:00 [DBG] (///) Attempting to validate the bound parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"' ...
2025-06-08T20:24:41.9752312+07:00 [DBG] (///) Done attempting to validate the bound parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"'.
2025-06-08T20:24:41.9752431+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:24:41.9752693+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:24:41.9753453+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:24:41.9753594+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:24:41.9754343+07:00 [DBG] (///) Request was short circuited at action filter '"Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter"'.
2025-06-08T20:24:41.9755603+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T20:24:41.9755985+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T20:24:41.9756172+07:00 [DBG] (///) Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml", "application/problem+json", "application/problem+xml"]'.
2025-06-08T20:24:41.9756539+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
2025-06-08T20:24:41.9756751+07:00 [INF] (///) Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
2025-06-08T20:24:41.9758322+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.CreateClass (FacultyService.Api)" in 1.1065ms
2025-06-08T20:24:41.9758670+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.CreateClass (FacultyService.Api)"'
2025-06-08T20:24:41.9759363+07:00 [INF] (///) HTTP "POST" "/api/v1.0/it-faculty/Classes" responded 415 in 1.6805 ms
2025-06-08T20:24:41.9759819+07:00 [DBG] (///) Connection id ""0HND6HU55K3O3"" completed keep alive response.
2025-06-08T20:24:41.9760448+07:00 [INF] (///) Request finished "HTTP/1.1" "POST" "http"://"localhost:30000""""/api/v1.0/it-faculty/Classes""" - 415 null "application/problem+json; charset=utf-8" 2.4294ms
2025-06-08T20:24:53.6778865+07:00 [DBG] (///) Connection id ""0HND6HU55K3O1"" disconnecting.
2025-06-08T20:24:53.6780738+07:00 [DBG] (///) Connection id ""0HND6HU55K3O1"" stopped.
2025-06-08T20:24:53.6783378+07:00 [DBG] (///) Connection id ""0HND6HU55K3O1"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-08T20:26:15.6531432+07:00 [DBG] (///) Connection id ""0HND6HU55K3O4"" accepted.
2025-06-08T20:26:15.6532281+07:00 [DBG] (///) Connection id ""0HND6HU55K3O4"" started.
2025-06-08T20:26:15.6540403+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1.0/it-faculty/Classes""?gridifyQuery=page%3D0&pageSize=10" - null null
2025-06-08T20:26:15.6547376+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1.0/it-faculty/Classes"'
2025-06-08T20:26:15.6547949+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1.0/it-faculty/Classes"'
2025-06-08T20:26:15.6548628+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:26:15.6549492+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T20:26:15.6550594+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T20:26:15.6551037+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T20:26:15.6551352+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:26:15.6552061+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T20:26:15.6552527+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T20:26:15.6552760+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T20:26:15.6553141+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:26:15.6553304+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T20:26:15.6553758+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:26:15.6554606+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:26:15.6555015+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:26:15.6555570+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:26:15.6556340+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '"gridifyQuery"' in request data ...
2025-06-08T20:26:15.6556754+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"gridifyQuery.Page"' in request data ...
2025-06-08T20:26:15.6557023+07:00 [DBG] (///) Could not find a value in the request with name '"gridifyQuery.Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:26:15.6557234+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:26:15.6557456+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"gridifyQuery.PageSize"' in request data ...
2025-06-08T20:26:15.6557675+07:00 [DBG] (///) Could not find a value in the request with name '"gridifyQuery.PageSize"' for binding property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T20:26:15.6557787+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T20:26:15.6557925+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"gridifyQuery.OrderBy"' in request data ...
2025-06-08T20:26:15.6558158+07:00 [DBG] (///) Could not find a value in the request with name '"gridifyQuery.OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:26:15.6558371+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:26:15.6558524+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"gridifyQuery.Filter"' in request data ...
2025-06-08T20:26:15.6558637+07:00 [DBG] (///) Could not find a value in the request with name '"gridifyQuery.Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:26:15.6558804+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:26:15.6559003+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:26:15.6559236+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:26:15.6559335+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:26:15.6559829+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:26:15.6559969+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:26:15.6560294+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:26:15.6560411+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:26:15.6560505+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:26:15.6561888+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T20:26:15.6563497+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 0, OrderBy: null, Filter: null })]
2025-06-08T20:26:15.6877697+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "DetailedErrorsEnabled "
2025-06-08T20:26:15.6885516+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T20:26:15.6885999+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T20:26:15.6886250+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:26:15.6886645+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:26:15.6887919+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T20:26:15.6888126+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:26:15.6888394+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:26:15.6888760+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T20:26:15.6934652+07:00 [ERR] (///) Failed executing DbCommand ("4"ms) [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T20:26:15.7006686+07:00 [ERR] (///) An exception occurred while iterating over the results of a query for context type '"FacultyService.Application.FacultyDbContext"'."
""System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.IO.EndOfStreamException: Attempted to read past the end of the stream.
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()"
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.IO.EndOfStreamException: Attempted to read past the end of the stream.
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Arch.EntityFrameworkCore.UnitOfWork.Collections.IQueryablePageListExtensions.ToPagedListAsync[T](IQueryable`1 source, Int32 pageIndex, Int32 pageSize, Int32 indexFrom, CancellationToken cancellationToken)
   at FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler.Handle(DefaultClassQuery request, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/Classes/QueryHandler/GetAllClassesQueryHandler.cs:line 15
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
2025-06-08T20:26:15.7191605+07:00 [ERR] (///) Error processing request "DefaultClassQuery" after 62ms
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.IO.EndOfStreamException: Attempted to read past the end of the stream.
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Arch.EntityFrameworkCore.UnitOfWork.Collections.IQueryablePageListExtensions.ToPagedListAsync[T](IQueryable`1 source, Int32 pageIndex, Int32 pageSize, Int32 indexFrom, CancellationToken cancellationToken)
   at FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler.Handle(DefaultClassQuery request, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/Classes/QueryHandler/GetAllClassesQueryHandler.cs:line 15
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
   at FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses(GridifyQuery gridifyQuery, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api/Classes/Controller/ClassesController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Finbuckle.MultiTenant.AspNetCore.Internal.MultiTenantMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-08T20:26:15.7239491+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 68.4972ms
2025-06-08T20:26:15.7240078+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:26:15.7245047+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.IO.EndOfStreamException: Attempted to read past the end of the stream.
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Arch.EntityFrameworkCore.UnitOfWork.Collections.IQueryablePageListExtensions.ToPagedListAsync[T](IQueryable`1 source, Int32 pageIndex, Int32 pageSize, Int32 indexFrom, CancellationToken cancellationToken)
   at FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler.Handle(DefaultClassQuery request, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/Classes/QueryHandler/GetAllClassesQueryHandler.cs:line 15
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
   at FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses(GridifyQuery gridifyQuery, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api/Classes/Controller/ClassesController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Finbuckle.MultiTenant.AspNetCore.Internal.MultiTenantMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-08T20:26:15.7327767+07:00 [ERR] (///) HTTP "GET" "/api/v1.0/it-faculty/Classes" responded 500 in 77.8029 ms
2025-06-08T20:26:15.7328540+07:00 [DBG] (///) Connection id ""0HND6HU55K3O4"" completed keep alive response.
2025-06-08T20:26:15.7328940+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T20:26:15.7329326+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:26:15.7329641+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:26:15.7330131+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1.0/it-faculty/Classes""?gridifyQuery=page%3D0&pageSize=10" - 500 null "application/problem+json" 78.9664ms
2025-06-08T20:26:31.6877855+07:00 [DBG] (///) Connection id ""0HND6HU55K3O2"" disconnecting.
2025-06-08T20:26:31.6879075+07:00 [DBG] (///) Connection id ""0HND6HU55K3O2"" stopped.
2025-06-08T20:26:31.6880246+07:00 [DBG] (///) Connection id ""0HND6HU55K3O2"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-08T20:26:53.6896131+07:00 [DBG] (///) Connection id ""0HND6HU55K3O3"" disconnecting.
2025-06-08T20:26:53.6897128+07:00 [DBG] (///) Connection id ""0HND6HU55K3O3"" stopped.
2025-06-08T20:26:53.6897639+07:00 [DBG] (///) Connection id ""0HND6HU55K3O3"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-08T20:28:26.6988006+07:00 [DBG] (///) Connection id ""0HND6HU55K3O4"" disconnecting.
2025-06-08T20:28:26.6988982+07:00 [DBG] (///) Connection id ""0HND6HU55K3O4"" stopped.
2025-06-08T20:28:26.6991839+07:00 [DBG] (///) Connection id ""0HND6HU55K3O4"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-08T20:28:33.3747874+07:00 [DBG] (///) Config reload token fired. Checking for changes...
2025-06-08T20:28:33.3753651+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T20:28:33.3754175+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T20:28:33.6262318+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T20:28:33.6262965+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T20:28:33.6266679+07:00 [DBG] (///) Config reload token fired. Checking for changes...
2025-06-08T20:28:36.1594106+07:00 [INF] (///) Application is shutting down...
2025-06-08T20:28:36.1601975+07:00 [DBG] (///) Hosting stopping
2025-06-08T20:28:36.1656224+07:00 [DBG] (///) Hosting stopped
2025-06-08T20:28:38.3795285+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T20:28:38.4639199+07:00 [DBG] (///) Hosting starting
2025-06-08T20:28:38.5108242+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T20:28:38.5123573+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T20:28:38.5692547+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T20:28:38.5706519+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T20:28:38.5760727+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T20:28:38.5766132+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T20:28:38.5766629+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T20:28:38.5767451+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T20:28:38.5769156+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T20:28:38.5769567+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T20:28:38.5769835+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T20:28:38.5770196+07:00 [DBG] (///) Hosting started
2025-06-08T20:28:53.3934029+07:00 [DBG] (///) Connection id ""0HND6I1KPRM43"" accepted.
2025-06-08T20:28:53.3941304+07:00 [DBG] (///) Connection id ""0HND6I1KPRM43"" started.
2025-06-08T20:28:53.4074397+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1.0/it-faculty/Classes""?gridifyQuery=page%3D0&pageSize=10" - null null
2025-06-08T20:28:53.4534301+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1.0/it-faculty/Classes"'
2025-06-08T20:28:53.4559722+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1.0/it-faculty/Classes"'
2025-06-08T20:28:53.4585025+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:28:53.4623027+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T20:28:53.4797156+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T20:28:53.4824865+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T20:28:53.4841201+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:28:53.4993050+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T20:28:53.5014463+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T20:28:53.5015687+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T20:28:53.5020101+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:28:53.5020830+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T20:28:53.5021429+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:28:53.5030884+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:28:53.5033758+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:28:53.5052199+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:28:53.5061585+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '"gridifyQuery"' in request data ...
2025-06-08T20:28:53.5079971+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"gridifyQuery.Page"' in request data ...
2025-06-08T20:28:53.5083235+07:00 [DBG] (///) Could not find a value in the request with name '"gridifyQuery.Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:28:53.5085363+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:28:53.5095529+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"gridifyQuery.PageSize"' in request data ...
2025-06-08T20:28:53.5096177+07:00 [DBG] (///) Could not find a value in the request with name '"gridifyQuery.PageSize"' for binding property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T20:28:53.5096473+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T20:28:53.5097650+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"gridifyQuery.OrderBy"' in request data ...
2025-06-08T20:28:53.5098912+07:00 [DBG] (///) Could not find a value in the request with name '"gridifyQuery.OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:28:53.5099283+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:28:53.5099920+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"gridifyQuery.Filter"' in request data ...
2025-06-08T20:28:53.5101167+07:00 [DBG] (///) Could not find a value in the request with name '"gridifyQuery.Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:28:53.5101593+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:28:53.5103048+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:28:53.5103572+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:28:53.5103965+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:28:53.5135920+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:28:53.5136615+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:28:53.5139375+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:28:53.5139921+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:28:53.5140655+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:28:53.5185994+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T20:28:53.5282695+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 0, OrderBy: null, Filter: null })]
2025-06-08T20:28:53.6568753+07:00 [DBG] (///) An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration changed for 'Core:EnableDetailedErrors', configuration changed for 'Core:ConfigureWarnings', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseAdminDatabase', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:SetPostgresVersion', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseRedshift', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ReverseNullOrdering', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:RemoteCertificateValidationCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvideClientCertificatesCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvidePasswordCallback'".
2025-06-08T20:28:54.0646548+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Class"' as the properties are already covered by the index "{'FacultyCode', 'ClassCode'}".
2025-06-08T20:28:54.0649563+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"CreditClass"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId'}".
2025-06-08T20:28:54.0650627+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId', 'StudentCode'}".
2025-06-08T20:28:54.0651182+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'StudentCode'}".
2025-06-08T20:28:54.0651661+07:00 [DBG] (///) The index "{'FacultyCode', 'CreditClassId'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId', 'StudentCode'}".
2025-06-08T20:28:54.0652174+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Student"' as the properties are already covered by the index "{'FacultyCode', 'StudentCode'}".
2025-06-08T20:28:54.0652547+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Student"' as the properties are already covered by the index "{'FacultyCode', 'ClassCode'}".
2025-06-08T20:28:54.1575101+07:00 [WRN] (///) The foreign key property '"Registration"."StudentCode1"' was created in shadow state because a conflicting property with the simple name '"StudentCode"' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-08T20:28:54.1588127+07:00 [DBG] (///) The property '"Registration"."StudentFacultyCode"' was created in shadow state because there are no eligible CLR members with a matching name.
2025-06-08T20:28:54.2505830+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "DetailedErrorsEnabled "
2025-06-08T20:28:54.2904722+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Class>()
    .OrderBy(__Class => __Class.ClassCode)
    .Select(c => new ClassBasicResponse{ 
        ClassCode = c.ClassCode, 
        ClassName = c.ClassName, 
        FacultyCode = c.FacultyCode, 
        StudentCount = c.Students.Count, 
        FacultyName = c.FacultyCodeNavigation.FacultyName, 
        AcademicYearCode = c.AcademicYearCode 
    }
    )
    .Count()"'
2025-06-08T20:28:54.4707431+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => 
{
    queryContext.AddParameter(
        name: \"__ef_filter__Id_0\", 
        value: (object)Invoke(queryContext => ((FacultyDbContext)queryContext.Context).TenantInfo.Id, queryContext));
    return ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
        asyncEnumerable: SingleQueryingEnumerable.Create<int>(
            relationalQueryContext: (RelationalQueryContext)queryContext, 
            relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
                Projection Mapping:
                    EmptyProjectionMember -> 0
                SELECT CAST(count(*) AS integer)
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0) | Resolver: c => new RelationalCommandCache(
                c.Dependencies.MemoryCache, 
                c.RelationalDependencies.QuerySqlGeneratorFactory, 
                c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
                Projection Mapping:
                    EmptyProjectionMember -> 0
                SELECT CAST(count(*) AS integer)
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0, 
                False, 
                new HashSet<string>(
                    new string[]{ }, 
                    StringComparer.Ordinal
                )
            )].GetRelationalCommandTemplate(parameters), 
            readerColumns: null, 
            shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                int? value1;
                value1 = try { dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0) } catch (Exception) { ... } ;
                return (int)value1;
            }, 
            contextType: FacultyService.Application.FacultyDbContext, 
            standAloneStateManager: False, 
            detailedErrorsEnabled: True, 
            threadSafetyChecksEnabled: True), 
        cancellationToken: queryContext.CancellationToken);
}"'
2025-06-08T20:28:54.5033732+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T20:28:54.5314470+07:00 [DBG] (///) Created DbConnection. (26ms).
2025-06-08T20:28:54.5341177+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:28:54.6306932+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:28:54.6350597+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T20:28:54.6398905+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (2ms).
2025-06-08T20:28:54.6458548+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (10ms).
2025-06-08T20:28:54.6519844+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T20:28:54.7198725+07:00 [INF] (///) Executed DbCommand ("66"ms) [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T20:28:54.7331036+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:28:54.7392223+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 14ms reading results.
2025-06-08T20:28:54.7426026+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:28:54.7460561+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (3ms).
2025-06-08T20:28:54.7491110+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Class>()
    .OrderBy(__Class => __Class.ClassCode)
    .Select(c => new ClassBasicResponse{ 
        ClassCode = c.ClassCode, 
        ClassName = c.ClassName, 
        FacultyCode = c.FacultyCode, 
        StudentCount = c.Students.Count, 
        FacultyName = c.FacultyCodeNavigation.FacultyName, 
        AcademicYearCode = c.AcademicYearCode 
    }
    )
    .Skip(__p_0)
    .Take(__p_0)"'
2025-06-08T20:28:54.7999982+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => 
{
    queryContext.AddParameter(
        name: \"__ef_filter__Id_0\", 
        value: (object)Invoke(queryContext => ((FacultyDbContext)queryContext.Context).TenantInfo.Id, queryContext));
    return SingleQueryingEnumerable.Create<ClassBasicResponse>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                ClassCode -> 0
                ClassName -> 1
                FacultyCode -> 2
                StudentCount -> 3
                FacultyName -> 4
                AcademicYearCode -> 5
            SELECT c0.class_code AS ClassCode, c0.class_name AS ClassName, c0.faculty_code AS FacultyCode, (
                SELECT CAST(count(*) AS integer)
                FROM student AS s
                WHERE (s.faculty_code == @__ef_filter__Id_0) && (((c0.faculty_code != NULL) && (c0.class_code != NULL)) && ((c0.faculty_code == s.faculty_code) && (c0.class_code == s.class_code)))) AS StudentCount, f0.faculty_name AS FacultyName, c0.academic_year_code AS AcademicYearCode
            FROM 
            (
                SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0
                ORDER BY c.class_code ASC
                OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
            ) AS c0
            INNER JOIN 
            (
                SELECT f.faculty_code, f.faculty_name
                FROM faculty AS f
                WHERE f.faculty_code == @__ef_filter__Id_0
            ) AS f0 ON c0.faculty_code == f0.faculty_code
            ORDER BY c0.class_code ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                ClassCode -> 0
                ClassName -> 1
                FacultyCode -> 2
                StudentCount -> 3
                FacultyName -> 4
                AcademicYearCode -> 5
            SELECT c0.class_code AS ClassCode, c0.class_name AS ClassName, c0.faculty_code AS FacultyCode, (
                SELECT CAST(count(*) AS integer)
                FROM student AS s
                WHERE (s.faculty_code == @__ef_filter__Id_0) && (((c0.faculty_code != NULL) && (c0.class_code != NULL)) && ((c0.faculty_code == s.faculty_code) && (c0.class_code == s.class_code)))) AS StudentCount, f0.faculty_name AS FacultyName, c0.academic_year_code AS AcademicYearCode
            FROM 
            (
                SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0
                ORDER BY c.class_code ASC
                OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
            ) AS c0
            INNER JOIN 
            (
                SELECT f.faculty_code, f.faculty_name
                FROM faculty AS f
                WHERE f.faculty_code == @__ef_filter__Id_0
            ) AS f0 ON c0.faculty_code == f0.faculty_code
            ORDER BY c0.class_code ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            string value1;
            string value2;
            string value3;
            int? value4;
            string value5;
            string value6;
            value1 = try { dataReader.GetString(0) } catch (Exception) { ... } ;
            value2 = try { dataReader.GetString(1) } catch (Exception) { ... } ;
            value3 = try { dataReader.GetString(2) } catch (Exception) { ... } ;
            value4 = try { dataReader.IsDBNull(3) ? default(int?) : (int?)dataReader.GetInt32(3) } catch (Exception) { ... } ;
            value5 = try { dataReader.GetString(4) } catch (Exception) { ... } ;
            value6 = try { dataReader.GetString(5) } catch (Exception) { ... } ;
            return new ClassBasicResponse{ 
                ClassCode = value1, 
                ClassName = value2, 
                FacultyCode = value3, 
                StudentCount = (int)value4, 
                FacultyName = value5, 
                AcademicYearCode = value6 
            }
            ;
        }, 
        contextType: FacultyService.Application.FacultyDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: True, 
        threadSafetyChecksEnabled: True);
}"'
2025-06-08T20:28:54.8076475+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:28:54.8081235+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:28:54.8083219+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T20:28:54.8083774+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:28:54.8084323+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:28:54.8085278+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?', @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_0 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T20:28:54.8131210+07:00 [INF] (///) Executed DbCommand ("5"ms) [Parameters=["@__ef_filter__Id_0='?', @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_0 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T20:28:54.8146723+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:28:54.8147862+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 1ms reading results.
2025-06-08T20:28:54.8149254+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:28:54.8149858+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:28:54.8158821+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 1285ms
2025-06-08T20:28:54.8197103+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1298.3356ms.
2025-06-08T20:28:54.8269529+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T20:28:54.8294983+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T20:28:54.8295980+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T20:28:54.8296332+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T20:28:54.8301386+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T20:28:54.8306231+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T20:28:54.8621678+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 1356.8827ms
2025-06-08T20:28:54.8630804+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:28:54.8746849+07:00 [INF] (///) HTTP "GET" "/api/v1.0/it-faculty/Classes" responded 200 in 1406.2459 ms
2025-06-08T20:28:54.8785200+07:00 [DBG] (///) Connection id ""0HND6I1KPRM43"" completed keep alive response.
2025-06-08T20:28:54.8857215+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T20:28:54.8905689+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:28:54.8928776+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (2ms).
2025-06-08T20:28:54.8947908+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1.0/it-faculty/Classes""?gridifyQuery=page%3D0&pageSize=10" - 200 null "application/json; charset=utf-8" 1488.1672ms
2025-06-08T20:29:05.3582924+07:00 [DBG] (///) Connection id ""0HND6I1KPRM44"" accepted.
2025-06-08T20:29:05.3585419+07:00 [DBG] (///) Connection id ""0HND6I1KPRM44"" started.
2025-06-08T20:29:05.3606371+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - null null
2025-06-08T20:29:05.3625604+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:29:05.3628443+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:29:05.3630645+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:29:05.3634808+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T20:29:05.3638861+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T20:29:05.3640261+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T20:29:05.3641428+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:29:05.3644785+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T20:29:05.3646410+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T20:29:05.3647222+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T20:29:05.3648262+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:29:05.3648922+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T20:29:05.3649784+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:29:05.3651716+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:29:05.3653038+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:29:05.3656033+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:29:05.3657891+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T20:29:05.3659227+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T20:29:05.3659789+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:29:05.3660229+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:29:05.3660740+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T20:29:05.3662995+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T20:29:05.3668310+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T20:29:05.3669077+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:29:05.3669979+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:29:05.3670672+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T20:29:05.3671519+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:29:05.3673276+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:29:05.3674055+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:29:05.3674510+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:29:05.3674812+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:29:05.3677662+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:29:05.3678295+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:29:05.3679943+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:29:05.3680387+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:29:05.3680698+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:29:05.3683438+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T20:29:05.3694782+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 50, OrderBy: null, Filter: null })]
2025-06-08T20:29:05.3966912+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "DetailedErrorsEnabled "
2025-06-08T20:29:05.3998416+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T20:29:05.3999669+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T20:29:05.4000162+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:05.4000824+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:05.4002864+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T20:29:05.4003489+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:29:05.4003948+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:29:05.4005041+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T20:29:05.4020780+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T20:29:05.4023178+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:05.4023842+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T20:29:05.4025198+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:05.4025768+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:29:05.4030588+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Class>()
    .OrderBy(__Class => __Class.ClassCode)
    .Select(c => new ClassBasicResponse{ 
        ClassCode = c.ClassCode, 
        ClassName = c.ClassName, 
        FacultyCode = c.FacultyCode, 
        StudentCount = c.Students.Count, 
        FacultyName = c.FacultyCodeNavigation.FacultyName, 
        AcademicYearCode = c.AcademicYearCode 
    }
    )
    .Skip(__p_0)
    .Take(__p_1)"'
2025-06-08T20:29:05.4079645+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => 
{
    queryContext.AddParameter(
        name: \"__ef_filter__Id_0\", 
        value: (object)Invoke(queryContext => ((FacultyDbContext)queryContext.Context).TenantInfo.Id, queryContext));
    return SingleQueryingEnumerable.Create<ClassBasicResponse>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                ClassCode -> 0
                ClassName -> 1
                FacultyCode -> 2
                StudentCount -> 3
                FacultyName -> 4
                AcademicYearCode -> 5
            SELECT c0.class_code AS ClassCode, c0.class_name AS ClassName, c0.faculty_code AS FacultyCode, (
                SELECT CAST(count(*) AS integer)
                FROM student AS s
                WHERE (s.faculty_code == @__ef_filter__Id_0) && (((c0.faculty_code != NULL) && (c0.class_code != NULL)) && ((c0.faculty_code == s.faculty_code) && (c0.class_code == s.class_code)))) AS StudentCount, f0.faculty_name AS FacultyName, c0.academic_year_code AS AcademicYearCode
            FROM 
            (
                SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0
                ORDER BY c.class_code ASC
                OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
            ) AS c0
            INNER JOIN 
            (
                SELECT f.faculty_code, f.faculty_name
                FROM faculty AS f
                WHERE f.faculty_code == @__ef_filter__Id_0
            ) AS f0 ON c0.faculty_code == f0.faculty_code
            ORDER BY c0.class_code ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                ClassCode -> 0
                ClassName -> 1
                FacultyCode -> 2
                StudentCount -> 3
                FacultyName -> 4
                AcademicYearCode -> 5
            SELECT c0.class_code AS ClassCode, c0.class_name AS ClassName, c0.faculty_code AS FacultyCode, (
                SELECT CAST(count(*) AS integer)
                FROM student AS s
                WHERE (s.faculty_code == @__ef_filter__Id_0) && (((c0.faculty_code != NULL) && (c0.class_code != NULL)) && ((c0.faculty_code == s.faculty_code) && (c0.class_code == s.class_code)))) AS StudentCount, f0.faculty_name AS FacultyName, c0.academic_year_code AS AcademicYearCode
            FROM 
            (
                SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0
                ORDER BY c.class_code ASC
                OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
            ) AS c0
            INNER JOIN 
            (
                SELECT f.faculty_code, f.faculty_name
                FROM faculty AS f
                WHERE f.faculty_code == @__ef_filter__Id_0
            ) AS f0 ON c0.faculty_code == f0.faculty_code
            ORDER BY c0.class_code ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            string value1;
            string value2;
            string value3;
            int? value4;
            string value5;
            string value6;
            value1 = try { dataReader.GetString(0) } catch (Exception) { ... } ;
            value2 = try { dataReader.GetString(1) } catch (Exception) { ... } ;
            value3 = try { dataReader.GetString(2) } catch (Exception) { ... } ;
            value4 = try { dataReader.IsDBNull(3) ? default(int?) : (int?)dataReader.GetInt32(3) } catch (Exception) { ... } ;
            value5 = try { dataReader.GetString(4) } catch (Exception) { ... } ;
            value6 = try { dataReader.GetString(5) } catch (Exception) { ... } ;
            return new ClassBasicResponse{ 
                ClassCode = value1, 
                ClassName = value2, 
                FacultyCode = value3, 
                StudentCount = (int)value4, 
                FacultyName = value5, 
                AcademicYearCode = value6 
            }
            ;
        }, 
        contextType: FacultyService.Application.FacultyDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: True, 
        threadSafetyChecksEnabled: True);
}"'
2025-06-08T20:29:05.4094223+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:05.4095360+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:05.4096853+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T20:29:05.4097346+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:29:05.4097851+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:29:05.4098614+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T20:29:05.4120408+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T20:29:05.4123412+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:05.4124213+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T20:29:05.4125791+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:05.4126373+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:29:05.4127506+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 43ms
2025-06-08T20:29:05.4128736+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 44.4213ms.
2025-06-08T20:29:05.4131818+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T20:29:05.4133005+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T20:29:05.4133284+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T20:29:05.4133519+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T20:29:05.4134960+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T20:29:05.4135481+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T20:29:05.4140123+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 48.8667ms
2025-06-08T20:29:05.4140846+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:29:05.4144195+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 50.7117 ms
2025-06-08T20:29:05.4147458+07:00 [DBG] (///) Connection id ""0HND6I1KPRM44"" completed keep alive response.
2025-06-08T20:29:05.4149091+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T20:29:05.4150471+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:05.4151330+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:29:05.4152820+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - 200 null "application/json; charset=utf-8" 54.6608ms
2025-06-08T20:29:06.5754966+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - null null
2025-06-08T20:29:06.5758215+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:29:06.5758905+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:29:06.5759397+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:29:06.5760416+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T20:29:06.5762829+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T20:29:06.5763621+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T20:29:06.5764502+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:29:06.5765443+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T20:29:06.5766068+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T20:29:06.5766470+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T20:29:06.5766753+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:29:06.5766931+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T20:29:06.5767091+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:29:06.5767398+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:29:06.5768007+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:29:06.5768936+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:29:06.5770100+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T20:29:06.5770579+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T20:29:06.5770874+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:29:06.5771187+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:29:06.5771504+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T20:29:06.5771910+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T20:29:06.5772351+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T20:29:06.5772560+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:29:06.5772719+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:29:06.5772896+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T20:29:06.5773023+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:29:06.5773188+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:29:06.5773383+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:29:06.5774456+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:29:06.5774939+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:29:06.5775475+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:29:06.5775672+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:29:06.5776029+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:29:06.5776233+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:29:06.5776358+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:29:06.5777664+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T20:29:06.5779352+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 50, OrderBy: null, Filter: null })]
2025-06-08T20:29:06.6337591+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "DetailedErrorsEnabled "
2025-06-08T20:29:06.6349841+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T20:29:06.6350738+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T20:29:06.6351117+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:06.6352789+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:06.6354466+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T20:29:06.6354854+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:29:06.6355257+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:29:06.6355761+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T20:29:06.6385097+07:00 [INF] (///) Executed DbCommand ("3"ms) [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T20:29:06.6388388+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:06.6389384+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T20:29:06.6391038+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:06.6391872+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:29:06.6396989+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:06.6397499+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:06.6398823+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T20:29:06.6399134+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:29:06.6399684+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:29:06.6400802+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T20:29:06.6436495+07:00 [INF] (///) Executed DbCommand ("4"ms) [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T20:29:06.6440173+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:06.6441228+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T20:29:06.6442964+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:06.6444343+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:29:06.6445583+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 66ms
2025-06-08T20:29:06.6446278+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 66.8146ms.
2025-06-08T20:29:06.6448443+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T20:29:06.6449143+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T20:29:06.6449283+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T20:29:06.6449404+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T20:29:06.6449800+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T20:29:06.6450019+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T20:29:06.6453126+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 68.5793ms
2025-06-08T20:29:06.6453671+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:29:06.6454873+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 69.3634 ms
2025-06-08T20:29:06.6456395+07:00 [DBG] (///) Connection id ""0HND6I1KPRM44"" completed keep alive response.
2025-06-08T20:29:06.6456952+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T20:29:06.6457448+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:06.6457802+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:29:06.6458569+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - 200 null "application/json; charset=utf-8" 70.3456ms
2025-06-08T20:29:07.6575796+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - null null
2025-06-08T20:29:07.6579268+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:29:07.6580539+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:29:07.6581269+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:29:07.6582283+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T20:29:07.6583379+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T20:29:07.6583635+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T20:29:07.6583887+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:29:07.6584526+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T20:29:07.6584944+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T20:29:07.6585181+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T20:29:07.6585539+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:29:07.6585689+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T20:29:07.6585781+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:29:07.6586595+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:29:07.6586965+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:29:07.6587478+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:29:07.6588183+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T20:29:07.6588512+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T20:29:07.6588709+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:29:07.6588931+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:29:07.6589096+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T20:29:07.6589287+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T20:29:07.6589445+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T20:29:07.6589570+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:29:07.6589731+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:29:07.6590386+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T20:29:07.6590479+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:29:07.6590597+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:29:07.6590772+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:29:07.6590888+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:29:07.6590964+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:29:07.6591394+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:29:07.6591570+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:29:07.6591840+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:29:07.6591940+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:29:07.6592021+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:29:07.6592936+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T20:29:07.6593950+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 50, OrderBy: null, Filter: null })]
2025-06-08T20:29:07.6603755+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "DetailedErrorsEnabled "
2025-06-08T20:29:07.6608977+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T20:29:07.6609638+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T20:29:07.6609949+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:07.6610342+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:07.6611900+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T20:29:07.6612171+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:29:07.6612525+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:29:07.6612996+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T20:29:07.6630650+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T20:29:07.6633383+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:07.6633940+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T20:29:07.6635002+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:07.6635430+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:29:07.6638889+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:07.6639318+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:07.6640390+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T20:29:07.6640611+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:29:07.6641011+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:29:07.6641451+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T20:29:07.6674199+07:00 [INF] (///) Executed DbCommand ("3"ms) [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T20:29:07.6677195+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:07.6677776+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T20:29:07.6678745+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:07.6679133+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:29:07.6679840+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 8ms
2025-06-08T20:29:07.6680538+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 8.7276ms.
2025-06-08T20:29:07.6682398+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T20:29:07.6682879+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T20:29:07.6683084+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T20:29:07.6683490+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T20:29:07.6684348+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T20:29:07.6684511+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T20:29:07.6686042+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 9.9513ms
2025-06-08T20:29:07.6686294+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:29:07.6687227+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 10.4397 ms
2025-06-08T20:29:07.6687668+07:00 [DBG] (///) Connection id ""0HND6I1KPRM44"" completed keep alive response.
2025-06-08T20:29:07.6688081+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T20:29:07.6688395+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:07.6688637+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:29:07.6689171+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - 200 null "application/json; charset=utf-8" 11.3423ms
2025-06-08T20:29:15.7111412+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - null null
2025-06-08T20:29:15.7114726+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:29:15.7115306+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:29:15.7117471+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:29:15.7118534+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T20:29:15.7119848+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T20:29:15.7120203+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T20:29:15.7120613+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:29:15.7121595+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T20:29:15.7122012+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T20:29:15.7122204+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T20:29:15.7122589+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:29:15.7122741+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T20:29:15.7123115+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:29:15.7123565+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:29:15.7124066+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:29:15.7125093+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:29:15.7125694+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T20:29:15.7126098+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T20:29:15.7126457+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:29:15.7126686+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:29:15.7126865+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T20:29:15.7127172+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T20:29:15.7127432+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T20:29:15.7127659+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:29:15.7127794+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:29:15.7127925+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T20:29:15.7128069+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:29:15.7129207+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:29:15.7129390+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:29:15.7129520+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:29:15.7129643+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:29:15.7130317+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:29:15.7130566+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:29:15.7131001+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:29:15.7131107+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:29:15.7131250+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:29:15.7133308+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T20:29:15.7134857+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 50, OrderBy: null, Filter: null })]
2025-06-08T20:29:15.7142473+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "DetailedErrorsEnabled "
2025-06-08T20:29:15.7147158+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T20:29:15.7147704+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T20:29:15.7148276+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:15.7148725+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:15.7150262+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T20:29:15.7150558+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:29:15.7150831+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:29:15.7151251+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T20:29:15.7168599+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T20:29:15.7170872+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:15.7171497+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T20:29:15.7172990+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:15.7173537+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:29:15.7177169+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:15.7177731+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:15.7179130+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T20:29:15.7179501+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:29:15.7179984+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:29:15.7180481+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T20:29:15.7211733+07:00 [INF] (///) Executed DbCommand ("3"ms) [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T20:29:15.7215209+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:15.7216001+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T20:29:15.7217015+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:15.7217519+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:29:15.7218297+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 8ms
2025-06-08T20:29:15.7218848+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 8.5118ms.
2025-06-08T20:29:15.7220506+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T20:29:15.7221115+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T20:29:15.7221390+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T20:29:15.7221488+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T20:29:15.7221750+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T20:29:15.7221994+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T20:29:15.7224617+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 10.1187ms
2025-06-08T20:29:15.7225047+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:29:15.7226177+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 10.6962 ms
2025-06-08T20:29:15.7226705+07:00 [DBG] (///) Connection id ""0HND6I1KPRM44"" completed keep alive response.
2025-06-08T20:29:15.7227217+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T20:29:15.7227604+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:15.7227942+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:29:15.7228588+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - 200 null "application/json; charset=utf-8" 11.7117ms
2025-06-08T20:29:16.7617357+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - null null
2025-06-08T20:29:16.7620815+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:29:16.7621332+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:29:16.7621800+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:29:16.7622597+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T20:29:16.7623765+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T20:29:16.7624077+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T20:29:16.7624475+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:29:16.7625820+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T20:29:16.7626194+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T20:29:16.7626388+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T20:29:16.7626622+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:29:16.7627272+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T20:29:16.7627383+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:29:16.7627687+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:29:16.7628107+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:29:16.7628647+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:29:16.7629173+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T20:29:16.7629637+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T20:29:16.7629928+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:29:16.7630092+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:29:16.7630326+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T20:29:16.7630541+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T20:29:16.7630716+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T20:29:16.7630844+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:29:16.7631490+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:29:16.7631648+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T20:29:16.7631831+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:29:16.7631960+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:29:16.7632131+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:29:16.7632262+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:29:16.7632336+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:29:16.7632803+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:29:16.7632953+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:29:16.7633307+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:29:16.7633399+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:29:16.7633515+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:29:16.7634656+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T20:29:16.7636344+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 50, OrderBy: null, Filter: null })]
2025-06-08T20:29:16.7642840+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "DetailedErrorsEnabled "
2025-06-08T20:29:16.7645936+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T20:29:16.7646435+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T20:29:16.7646700+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:16.7647076+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:16.7648286+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T20:29:16.7648570+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:29:16.7648840+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:29:16.7649303+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T20:29:16.7666862+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T20:29:16.7668985+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:16.7669508+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T20:29:16.7670321+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:16.7670722+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:29:16.7673758+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:16.7674192+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:16.7675220+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T20:29:16.7675447+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:29:16.7675768+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:29:16.7676131+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T20:29:16.7694152+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T20:29:16.7695616+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:16.7696095+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T20:29:16.7696822+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:16.7697250+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:29:16.7697941+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 6ms
2025-06-08T20:29:16.7698558+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 6.3333ms.
2025-06-08T20:29:16.7700248+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T20:29:16.7700673+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T20:29:16.7700767+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T20:29:16.7700915+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T20:29:16.7701838+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T20:29:16.7701980+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T20:29:16.7703649+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 7.6026ms
2025-06-08T20:29:16.7704070+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:29:16.7704982+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 8.1952 ms
2025-06-08T20:29:16.7705479+07:00 [DBG] (///) Connection id ""0HND6I1KPRM44"" completed keep alive response.
2025-06-08T20:29:16.7705829+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T20:29:16.7706161+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:16.7706431+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:29:16.7706933+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - 200 null "application/json; charset=utf-8" 8.9577ms
2025-06-08T20:29:32.2380999+07:00 [DBG] (///) Connection id ""0HND6I1KPRM45"" accepted.
2025-06-08T20:29:32.2381639+07:00 [DBG] (///) Connection id ""0HND6I1KPRM45"" started.
2025-06-08T20:29:32.2383398+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1.0/it-faculty/Classes""?gridifyQuery=page%3D0&pageSize=10" - null null
2025-06-08T20:29:32.2386284+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1.0/it-faculty/Classes"'
2025-06-08T20:29:32.2387049+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1.0/it-faculty/Classes"'
2025-06-08T20:29:32.2387448+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:29:32.2388236+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T20:29:32.2389505+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T20:29:32.2389906+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T20:29:32.2390273+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:29:32.2391106+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T20:29:32.2391413+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T20:29:32.2391563+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T20:29:32.2391821+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:29:32.2391933+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T20:29:32.2392112+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:29:32.2392369+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:29:32.2393880+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:29:32.2394647+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:29:32.2395181+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '"gridifyQuery"' in request data ...
2025-06-08T20:29:32.2395750+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"gridifyQuery.Page"' in request data ...
2025-06-08T20:29:32.2395977+07:00 [DBG] (///) Could not find a value in the request with name '"gridifyQuery.Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:29:32.2396213+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:29:32.2396390+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"gridifyQuery.PageSize"' in request data ...
2025-06-08T20:29:32.2396489+07:00 [DBG] (///) Could not find a value in the request with name '"gridifyQuery.PageSize"' for binding property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T20:29:32.2396607+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T20:29:32.2396730+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"gridifyQuery.OrderBy"' in request data ...
2025-06-08T20:29:32.2396856+07:00 [DBG] (///) Could not find a value in the request with name '"gridifyQuery.OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:29:32.2396968+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:29:32.2397070+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"gridifyQuery.Filter"' in request data ...
2025-06-08T20:29:32.2398136+07:00 [DBG] (///) Could not find a value in the request with name '"gridifyQuery.Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:29:32.2398302+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:29:32.2398442+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:29:32.2398590+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:29:32.2398676+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:29:32.2399538+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:29:32.2399775+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:29:32.2400225+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:29:32.2400403+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:29:32.2400502+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:29:32.2401856+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T20:29:32.2403028+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 0, OrderBy: null, Filter: null })]
2025-06-08T20:29:32.2409828+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "DetailedErrorsEnabled "
2025-06-08T20:29:32.2413679+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T20:29:32.2414088+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T20:29:32.2414332+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:32.2414752+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:32.2416070+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T20:29:32.2416366+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:29:32.2416726+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:29:32.2417150+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T20:29:32.2432893+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T20:29:32.2434490+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:32.2435237+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T20:29:32.2435983+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:32.2436668+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:29:32.2439673+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:32.2440030+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:32.2440840+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T20:29:32.2441064+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:29:32.2441351+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:29:32.2441614+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?', @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_0 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T20:29:32.2455874+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__ef_filter__Id_0='?', @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_0 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T20:29:32.2457055+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:32.2457390+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T20:29:32.2457999+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:32.2458405+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:29:32.2459004+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 5ms
2025-06-08T20:29:32.2459425+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.7193ms.
2025-06-08T20:29:32.2460665+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T20:29:32.2461046+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T20:29:32.2461138+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T20:29:32.2461239+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T20:29:32.2461564+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T20:29:32.2461703+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T20:29:32.2464140+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 7.1783ms
2025-06-08T20:29:32.2464579+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:29:32.2465237+07:00 [INF] (///) HTTP "GET" "/api/v1.0/it-faculty/Classes" responded 200 in 7.6766 ms
2025-06-08T20:29:32.2465754+07:00 [DBG] (///) Connection id ""0HND6I1KPRM45"" completed keep alive response.
2025-06-08T20:29:32.2466089+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T20:29:32.2466346+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:29:32.2466615+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:29:32.2467222+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1.0/it-faculty/Classes""?gridifyQuery=page%3D0&pageSize=10" - 200 null "application/json; charset=utf-8" 8.3639ms
2025-06-08T20:30:37.2874733+07:00 [INF] (///) Application is shutting down...
2025-06-08T20:30:37.2882375+07:00 [DBG] (///) Hosting stopping
2025-06-08T20:30:37.2948525+07:00 [DBG] (///) Connection id ""0HND6I1KPRM43"" disconnecting.
2025-06-08T20:30:37.2948507+07:00 [DBG] (///) Connection id ""0HND6I1KPRM45"" disconnecting.
2025-06-08T20:30:37.2954276+07:00 [DBG] (///) Connection id ""0HND6I1KPRM44"" disconnecting.
2025-06-08T20:30:37.2957452+07:00 [DBG] (///) Connection id ""0HND6I1KPRM43"" stopped.
2025-06-08T20:30:37.2957491+07:00 [DBG] (///) Connection id ""0HND6I1KPRM45"" stopped.
2025-06-08T20:30:37.2957445+07:00 [DBG] (///) Connection id ""0HND6I1KPRM44"" stopped.
2025-06-08T20:30:37.2962269+07:00 [DBG] (///) Connection id ""0HND6I1KPRM43"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-08T20:30:37.2962313+07:00 [DBG] (///) Connection id ""0HND6I1KPRM45"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-08T20:30:37.2962325+07:00 [DBG] (///) Connection id ""0HND6I1KPRM44"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-08T20:30:37.2991745+07:00 [DBG] (///) Hosting stopped
2025-06-08T20:30:41.1289834+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T20:30:41.2273563+07:00 [DBG] (///) Hosting starting
2025-06-08T20:30:41.2758016+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T20:30:41.2774126+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T20:30:41.3276449+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T20:30:41.3289395+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T20:30:41.3344683+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T20:30:41.3349983+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T20:30:41.3350543+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T20:30:41.3351590+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T20:30:41.3353528+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T20:30:41.3353977+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T20:30:41.3354322+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T20:30:41.3354735+07:00 [DBG] (///) Hosting started
2025-06-08T20:30:43.4254517+07:00 [DBG] (///) Connection id ""0HND6I2LJ6P6P"" accepted.
2025-06-08T20:30:43.4260858+07:00 [DBG] (///) Connection id ""0HND6I2LJ6P6P"" started.
2025-06-08T20:30:43.4453397+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - null null
2025-06-08T20:30:43.5053240+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:30:43.5109163+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:30:43.5160931+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:30:43.5242739+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T20:30:43.5524737+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T20:30:43.5567679+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T20:30:43.5592917+07:00 [DBG] (///) The request has an origin header: '"http://localhost:32101"'.
2025-06-08T20:30:43.5595781+07:00 [INF] (///) CORS policy execution successful.
2025-06-08T20:30:43.5603072+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:30:43.5804910+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T20:30:43.5831771+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T20:30:43.5833679+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T20:30:43.5838624+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:30:43.5839399+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T20:30:43.5840068+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:30:43.5850886+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:30:43.5854765+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:30:43.5877809+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:30:43.5889009+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T20:30:43.5913883+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T20:30:43.5919008+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:30:43.5921620+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:30:43.5936593+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T20:30:43.5941786+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T20:30:43.5945169+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T20:30:43.5945785+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:30:43.5946141+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:30:43.5947354+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T20:30:43.5948165+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:30:43.5948626+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:30:43.5950072+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:30:43.5950611+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:30:43.5951113+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:30:43.5988164+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:30:43.5989710+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:30:43.5992472+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:30:43.5993047+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:30:43.5993915+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:30:43.6042705+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T20:30:43.6246285+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 50, OrderBy: null, Filter: null })]
2025-06-08T20:30:43.7998815+07:00 [DBG] (///) An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration changed for 'Core:EnableDetailedErrors', configuration changed for 'Core:ConfigureWarnings', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseAdminDatabase', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:SetPostgresVersion', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseRedshift', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ReverseNullOrdering', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:RemoteCertificateValidationCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvideClientCertificatesCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvidePasswordCallback'".
2025-06-08T20:30:44.2508961+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Class"' as the properties are already covered by the index "{'FacultyCode', 'ClassCode'}".
2025-06-08T20:30:44.2512034+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"CreditClass"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId'}".
2025-06-08T20:30:44.2512736+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId', 'StudentCode'}".
2025-06-08T20:30:44.2513004+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'StudentCode'}".
2025-06-08T20:30:44.2513325+07:00 [DBG] (///) The index "{'FacultyCode', 'CreditClassId'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId', 'StudentCode'}".
2025-06-08T20:30:44.2513993+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Student"' as the properties are already covered by the index "{'FacultyCode', 'StudentCode'}".
2025-06-08T20:30:44.2514361+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Student"' as the properties are already covered by the index "{'FacultyCode', 'ClassCode'}".
2025-06-08T20:30:44.3575233+07:00 [WRN] (///) The foreign key property '"Registration"."StudentCode1"' was created in shadow state because a conflicting property with the simple name '"StudentCode"' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-08T20:30:44.3590720+07:00 [DBG] (///) The property '"Registration"."StudentFacultyCode"' was created in shadow state because there are no eligible CLR members with a matching name.
2025-06-08T20:30:44.4476916+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "DetailedErrorsEnabled "
2025-06-08T20:30:44.4874904+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Class>()
    .OrderBy(__Class => __Class.ClassCode)
    .Select(c => new ClassBasicResponse{ 
        ClassCode = c.ClassCode, 
        ClassName = c.ClassName, 
        FacultyCode = c.FacultyCode, 
        StudentCount = c.Students.Count, 
        FacultyName = c.FacultyCodeNavigation.FacultyName, 
        AcademicYearCode = c.AcademicYearCode 
    }
    )
    .Count()"'
2025-06-08T20:30:44.6651875+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => 
{
    queryContext.AddParameter(
        name: \"__ef_filter__Id_0\", 
        value: (object)Invoke(queryContext => ((FacultyDbContext)queryContext.Context).TenantInfo.Id, queryContext));
    return ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
        asyncEnumerable: SingleQueryingEnumerable.Create<int>(
            relationalQueryContext: (RelationalQueryContext)queryContext, 
            relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
                Projection Mapping:
                    EmptyProjectionMember -> 0
                SELECT CAST(count(*) AS integer)
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0) | Resolver: c => new RelationalCommandCache(
                c.Dependencies.MemoryCache, 
                c.RelationalDependencies.QuerySqlGeneratorFactory, 
                c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
                Projection Mapping:
                    EmptyProjectionMember -> 0
                SELECT CAST(count(*) AS integer)
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0, 
                False, 
                new HashSet<string>(
                    new string[]{ }, 
                    StringComparer.Ordinal
                )
            )].GetRelationalCommandTemplate(parameters), 
            readerColumns: null, 
            shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                int? value1;
                value1 = try { dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0) } catch (Exception) { ... } ;
                return (int)value1;
            }, 
            contextType: FacultyService.Application.FacultyDbContext, 
            standAloneStateManager: False, 
            detailedErrorsEnabled: True, 
            threadSafetyChecksEnabled: True), 
        cancellationToken: queryContext.CancellationToken);
}"'
2025-06-08T20:30:44.7014108+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T20:30:44.7301651+07:00 [DBG] (///) Created DbConnection. (27ms).
2025-06-08T20:30:44.7328504+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:30:44.8911756+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:30:44.9021341+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T20:30:44.9161757+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (6ms).
2025-06-08T20:30:44.9279463+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (27ms).
2025-06-08T20:30:44.9343617+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T20:30:45.0259495+07:00 [INF] (///) Executed DbCommand ("89"ms) [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T20:30:45.0425253+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:30:45.0506690+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 19ms reading results.
2025-06-08T20:30:45.0546130+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:30:45.0588075+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (4ms).
2025-06-08T20:30:45.0624420+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Class>()
    .OrderBy(__Class => __Class.ClassCode)
    .Select(c => new ClassBasicResponse{ 
        ClassCode = c.ClassCode, 
        ClassName = c.ClassName, 
        FacultyCode = c.FacultyCode, 
        StudentCount = c.Students.Count, 
        FacultyName = c.FacultyCodeNavigation.FacultyName, 
        AcademicYearCode = c.AcademicYearCode 
    }
    )
    .Skip(__p_0)
    .Take(__p_1)"'
2025-06-08T20:30:45.1109482+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => 
{
    queryContext.AddParameter(
        name: \"__ef_filter__Id_0\", 
        value: (object)Invoke(queryContext => ((FacultyDbContext)queryContext.Context).TenantInfo.Id, queryContext));
    return SingleQueryingEnumerable.Create<ClassBasicResponse>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                ClassCode -> 0
                ClassName -> 1
                FacultyCode -> 2
                StudentCount -> 3
                FacultyName -> 4
                AcademicYearCode -> 5
            SELECT c0.class_code AS ClassCode, c0.class_name AS ClassName, c0.faculty_code AS FacultyCode, (
                SELECT CAST(count(*) AS integer)
                FROM student AS s
                WHERE (s.faculty_code == @__ef_filter__Id_0) && (((c0.faculty_code != NULL) && (c0.class_code != NULL)) && ((c0.faculty_code == s.faculty_code) && (c0.class_code == s.class_code)))) AS StudentCount, f0.faculty_name AS FacultyName, c0.academic_year_code AS AcademicYearCode
            FROM 
            (
                SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0
                ORDER BY c.class_code ASC
                OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
            ) AS c0
            INNER JOIN 
            (
                SELECT f.faculty_code, f.faculty_name
                FROM faculty AS f
                WHERE f.faculty_code == @__ef_filter__Id_0
            ) AS f0 ON c0.faculty_code == f0.faculty_code
            ORDER BY c0.class_code ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                ClassCode -> 0
                ClassName -> 1
                FacultyCode -> 2
                StudentCount -> 3
                FacultyName -> 4
                AcademicYearCode -> 5
            SELECT c0.class_code AS ClassCode, c0.class_name AS ClassName, c0.faculty_code AS FacultyCode, (
                SELECT CAST(count(*) AS integer)
                FROM student AS s
                WHERE (s.faculty_code == @__ef_filter__Id_0) && (((c0.faculty_code != NULL) && (c0.class_code != NULL)) && ((c0.faculty_code == s.faculty_code) && (c0.class_code == s.class_code)))) AS StudentCount, f0.faculty_name AS FacultyName, c0.academic_year_code AS AcademicYearCode
            FROM 
            (
                SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0
                ORDER BY c.class_code ASC
                OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
            ) AS c0
            INNER JOIN 
            (
                SELECT f.faculty_code, f.faculty_name
                FROM faculty AS f
                WHERE f.faculty_code == @__ef_filter__Id_0
            ) AS f0 ON c0.faculty_code == f0.faculty_code
            ORDER BY c0.class_code ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            string value1;
            string value2;
            string value3;
            int? value4;
            string value5;
            string value6;
            value1 = try { dataReader.GetString(0) } catch (Exception) { ... } ;
            value2 = try { dataReader.GetString(1) } catch (Exception) { ... } ;
            value3 = try { dataReader.GetString(2) } catch (Exception) { ... } ;
            value4 = try { dataReader.IsDBNull(3) ? default(int?) : (int?)dataReader.GetInt32(3) } catch (Exception) { ... } ;
            value5 = try { dataReader.GetString(4) } catch (Exception) { ... } ;
            value6 = try { dataReader.GetString(5) } catch (Exception) { ... } ;
            return new ClassBasicResponse{ 
                ClassCode = value1, 
                ClassName = value2, 
                FacultyCode = value3, 
                StudentCount = (int)value4, 
                FacultyName = value5, 
                AcademicYearCode = value6 
            }
            ;
        }, 
        contextType: FacultyService.Application.FacultyDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: True, 
        threadSafetyChecksEnabled: True);
}"'
2025-06-08T20:30:45.1183396+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:30:45.1188165+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:30:45.1190049+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T20:30:45.1190521+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:30:45.1190995+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:30:45.1192467+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T20:30:45.1238938+07:00 [INF] (///) Executed DbCommand ("5"ms) [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T20:30:45.1254682+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:30:45.1256087+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 1ms reading results.
2025-06-08T20:30:45.1257269+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:30:45.1257791+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:30:45.1265721+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 1499ms
2025-06-08T20:30:45.1308613+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1523.1649ms.
2025-06-08T20:30:45.1375522+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T20:30:45.1397605+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T20:30:45.1399079+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T20:30:45.1399390+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T20:30:45.1404925+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T20:30:45.1409710+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T20:30:45.2380776+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 1651.0822ms
2025-06-08T20:30:45.2389042+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:30:45.2476760+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 1721.6921 ms
2025-06-08T20:30:45.2511831+07:00 [DBG] (///) Connection id ""0HND6I2LJ6P6P"" completed keep alive response.
2025-06-08T20:30:45.2585310+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T20:30:45.2632680+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:30:45.2655487+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (2ms).
2025-06-08T20:30:45.2675499+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - 200 null "application/json; charset=utf-8" 1823.536ms
2025-06-08T20:32:55.2965884+07:00 [DBG] (///) Connection id ""0HND6I2LJ6P6P"" disconnecting.
2025-06-08T20:32:55.2975150+07:00 [DBG] (///) Connection id ""0HND6I2LJ6P6P"" stopped.
2025-06-08T20:32:55.2980642+07:00 [DBG] (///) Connection id ""0HND6I2LJ6P6P"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-08T20:39:07.6784151+07:00 [DBG] (///) Connection id ""0HND6I2LJ6P6Q"" accepted.
2025-06-08T20:39:07.6786919+07:00 [DBG] (///) Connection id ""0HND6I2LJ6P6Q"" started.
2025-06-08T20:39:07.6793902+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - null null
2025-06-08T20:39:07.6808592+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:39:07.6810204+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:39:07.6812004+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:39:07.6814391+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T20:39:07.6816551+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T20:39:07.6817284+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T20:39:07.6818644+07:00 [DBG] (///) The request has an origin header: '"http://localhost:32101"'.
2025-06-08T20:39:07.6819083+07:00 [INF] (///) CORS policy execution successful.
2025-06-08T20:39:07.6819752+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:39:07.6821752+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T20:39:07.6822558+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T20:39:07.6823056+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T20:39:07.6823676+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:39:07.6824595+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T20:39:07.6824994+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:39:07.6825636+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:39:07.6826515+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:39:07.6828483+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:39:07.6829751+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T20:39:07.6830785+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T20:39:07.6831245+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:39:07.6831565+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:39:07.6831999+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T20:39:07.6832508+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T20:39:07.6833748+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T20:39:07.6834177+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:39:07.6835635+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:39:07.6836118+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T20:39:07.6836472+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:39:07.6836945+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:39:07.6837496+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:39:07.6837807+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:39:07.6838017+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:39:07.6840076+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:39:07.6840610+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:39:07.6841739+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:39:07.6842115+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:39:07.6842413+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:39:07.6845108+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T20:39:07.6854184+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 50, OrderBy: null, Filter: null })]
2025-06-08T20:39:07.7109932+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "DetailedErrorsEnabled "
2025-06-08T20:39:07.7138561+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T20:39:07.7139634+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T20:39:07.7140032+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:39:07.7375900+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:39:07.7380781+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T20:39:07.7382019+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:39:07.7383220+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:39:07.7385293+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T20:39:07.7490077+07:00 [INF] (///) Executed DbCommand ("11"ms) [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T20:39:07.7494833+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:39:07.7495925+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T20:39:07.7496748+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:39:07.7497204+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:39:07.7501298+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:39:07.7501885+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:39:07.7502910+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T20:39:07.7503251+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:39:07.7503585+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:39:07.7504122+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T20:39:07.7531530+07:00 [INF] (///) Executed DbCommand ("3"ms) [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T20:39:07.7534378+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:39:07.7535015+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T20:39:07.7535914+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:39:07.7536462+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:39:07.7537657+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 68ms
2025-06-08T20:39:07.7538842+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 69.2953ms.
2025-06-08T20:39:07.7542000+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T20:39:07.7543327+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T20:39:07.7543611+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T20:39:07.7543765+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T20:39:07.7544701+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T20:39:07.7545636+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T20:39:07.7549301+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 72.3772ms
2025-06-08T20:39:07.7550050+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:39:07.7552598+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 73.6471 ms
2025-06-08T20:39:07.7554713+07:00 [DBG] (///) Connection id ""0HND6I2LJ6P6Q"" completed keep alive response.
2025-06-08T20:39:07.7556085+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T20:39:07.7557024+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:39:07.7557681+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:39:07.7558934+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - 200 null "application/json; charset=utf-8" 76.5373ms
2025-06-08T20:41:19.3417785+07:00 [DBG] (///) Connection id ""0HND6I2LJ6P6Q"" disconnecting.
2025-06-08T20:41:19.3421253+07:00 [DBG] (///) Connection id ""0HND6I2LJ6P6Q"" stopped.
2025-06-08T20:41:19.3424764+07:00 [DBG] (///) Connection id ""0HND6I2LJ6P6Q"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-08T20:50:24.9842600+07:00 [DBG] (///) Connection id ""0HND6I2LJ6P6R"" accepted.
2025-06-08T20:50:24.9845232+07:00 [DBG] (///) Connection id ""0HND6I2LJ6P6R"" started.
2025-06-08T20:50:24.9850812+07:00 [INF] (///) Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:30000""""/api/v1/it-faculty/classes""" - null null
2025-06-08T20:50:24.9855252+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:50:24.9855809+07:00 [DBG] (///) Request matched endpoint '"405 HTTP Method Not Supported"'
2025-06-08T20:50:24.9857209+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T20:50:24.9858923+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T20:50:24.9859298+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T20:50:24.9860789+07:00 [DBG] (///) The request has an origin header: '"http://localhost:32101"'.
2025-06-08T20:50:24.9860961+07:00 [INF] (///) CORS policy execution successful.
2025-06-08T20:50:24.9862652+07:00 [DBG] (///) The request is a preflight request.
2025-06-08T20:50:24.9869424+07:00 [INF] (///) HTTP "OPTIONS" "/api/v1/it-faculty/classes" responded 204 in 1.1559 ms
2025-06-08T20:50:24.9870694+07:00 [DBG] (///) Connection id ""0HND6I2LJ6P6R"" completed keep alive response.
2025-06-08T20:50:24.9871655+07:00 [INF] (///) Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:30000""""/api/v1/it-faculty/classes""" - 204 null null 2.068ms
2025-06-08T20:50:24.9889955+07:00 [INF] (///) Request starting "HTTP/1.1" "POST" "http"://"localhost:30000""""/api/v1/it-faculty/classes""" - "application/json" 104
2025-06-08T20:50:24.9892524+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:50:24.9893026+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.CreateClass (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:50:24.9893686+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.CreateClass (FacultyService.Api)"'
2025-06-08T20:50:24.9895170+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T20:50:24.9897182+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T20:50:24.9897518+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T20:50:24.9898189+07:00 [DBG] (///) The request has an origin header: '"http://localhost:32101"'.
2025-06-08T20:50:24.9898350+07:00 [INF] (///) CORS policy execution successful.
2025-06-08T20:50:24.9898720+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.CreateClass (FacultyService.Api)"'
2025-06-08T20:50:24.9932914+07:00 [INF] (///) Route matched with "{action = \"CreateClass\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateClass(FacultyService.Api.Classes.Request.ClassBasicRequest, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T20:50:24.9933918+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T20:50:24.9934123+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T20:50:24.9934438+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:50:24.9934623+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T20:50:24.9934873+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:50:24.9935259+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:50:24.9936022+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:50:24.9937416+07:00 [DBG] (///) Attempting to bind parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"' ...
2025-06-08T20:50:24.9945096+07:00 [DBG] (///) Attempting to bind parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"' using the name '""' in request data ...
2025-06-08T20:50:24.9952565+07:00 [DBG] (///) Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
2025-06-08T20:50:25.0005976+07:00 [DBG] (///) Connection id ""0HND6I2LJ6P6R"", Request id ""0HND6I2LJ6P6R:00000002"": started reading request body.
2025-06-08T20:50:25.0007770+07:00 [DBG] (///) Connection id ""0HND6I2LJ6P6R"", Request id ""0HND6I2LJ6P6R:00000002"": done reading request body.
2025-06-08T20:50:25.0029549+07:00 [DBG] (///) JSON input formatter succeeded, deserializing to type '"FacultyService.Api.Classes.Request.ClassBasicRequest"'
2025-06-08T20:50:25.0031130+07:00 [DBG] (///) Done attempting to bind parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"'.
2025-06-08T20:50:25.0031403+07:00 [DBG] (///) Done attempting to bind parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"'.
2025-06-08T20:50:25.0031769+07:00 [DBG] (///) Attempting to validate the bound parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"' ...
2025-06-08T20:50:25.0047855+07:00 [DBG] (///) Done attempting to validate the bound parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"'.
2025-06-08T20:50:25.0048597+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:50:25.0049333+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:50:25.0049496+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:50:25.0049863+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:50:25.0052213+07:00 [DBG] (///) The request has model state errors, returning an error response.
2025-06-08T20:50:25.0059159+07:00 [DBG] (///) Request was short circuited at action filter '"Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter"'.
2025-06-08T20:50:25.0060689+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T20:50:25.0061154+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T20:50:25.0064605+07:00 [DBG] (///) Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml", "application/problem+json", "application/problem+xml"]'.
2025-06-08T20:50:25.0065398+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
2025-06-08T20:50:25.0065666+07:00 [INF] (///) Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2025-06-08T20:50:25.0180651+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.CreateClass (FacultyService.Api)" in 24.5454ms
2025-06-08T20:50:25.0181389+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.CreateClass (FacultyService.Api)"'
2025-06-08T20:50:25.0182820+07:00 [INF] (///) HTTP "POST" "/api/v1/it-faculty/classes" responded 400 in 28.6534 ms
2025-06-08T20:50:25.0183442+07:00 [DBG] (///) Connection id ""0HND6I2LJ6P6R"" completed keep alive response.
2025-06-08T20:50:25.0184047+07:00 [INF] (///) Request finished "HTTP/1.1" "POST" "http"://"localhost:30000""""/api/v1/it-faculty/classes""" - 400 null "application/problem+json; charset=utf-8" 29.4058ms
2025-06-08T20:50:25.0228299+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - null null
2025-06-08T20:50:25.0231366+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:50:25.0231799+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:50:25.0232226+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:50:25.0233076+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T20:50:25.0234359+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T20:50:25.0234732+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T20:50:25.0235217+07:00 [DBG] (///) The request has an origin header: '"http://localhost:32101"'.
2025-06-08T20:50:25.0235390+07:00 [INF] (///) CORS policy execution successful.
2025-06-08T20:50:25.0235866+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:50:25.0236709+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T20:50:25.0237094+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T20:50:25.0237269+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T20:50:25.0238399+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:50:25.0238592+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T20:50:25.0238771+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:50:25.0239076+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:50:25.0239509+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:50:25.0240108+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:50:25.0240562+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T20:50:25.0240966+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T20:50:25.0241293+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:50:25.0241430+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:50:25.0241640+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T20:50:25.0241943+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T20:50:25.0242868+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T20:50:25.0243090+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:50:25.0243357+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:50:25.0243584+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T20:50:25.0243723+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:50:25.0243860+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:50:25.0244006+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:50:25.0244097+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:50:25.0244220+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:50:25.0244733+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:50:25.0244918+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:50:25.0245266+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:50:25.0245417+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:50:25.0245970+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:50:25.0247595+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T20:50:25.0249285+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 50, OrderBy: null, Filter: null })]
2025-06-08T20:50:25.0594840+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "DetailedErrorsEnabled "
2025-06-08T20:50:25.0605716+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T20:50:25.0606535+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T20:50:25.0606882+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:50:25.0855438+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:50:25.0858066+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T20:50:25.0858616+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:50:25.0860300+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:50:25.0860895+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T20:50:25.0978434+07:00 [INF] (///) Executed DbCommand ("12"ms) [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T20:50:25.0981048+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:50:25.0981662+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T20:50:25.0982561+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:50:25.0983025+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:50:25.0986876+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:50:25.0987299+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:50:25.0988331+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T20:50:25.0988541+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:50:25.0989277+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:50:25.0989779+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T20:50:25.1027500+07:00 [INF] (///) Executed DbCommand ("4"ms) [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T20:50:25.1029920+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:50:25.1030654+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T20:50:25.1031696+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:50:25.1032726+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:50:25.1033696+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 78ms
2025-06-08T20:50:25.1034690+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 78.6588ms.
2025-06-08T20:50:25.1036637+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T20:50:25.1037186+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T20:50:25.1037307+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T20:50:25.1037406+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T20:50:25.1037780+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T20:50:25.1037956+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T20:50:25.1039634+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 80.0643ms
2025-06-08T20:50:25.1039953+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:50:25.1040937+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 80.7257 ms
2025-06-08T20:50:25.1041506+07:00 [DBG] (///) Connection id ""0HND6I2LJ6P6R"" completed keep alive response.
2025-06-08T20:50:25.1041883+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T20:50:25.1042418+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:50:25.1044480+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:50:25.1045128+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - 200 null "application/json; charset=utf-8" 81.6819ms
2025-06-08T20:52:36.4073342+07:00 [DBG] (///) Connection id ""0HND6I2LJ6P6R"" disconnecting.
2025-06-08T20:52:36.4076740+07:00 [DBG] (///) Connection id ""0HND6I2LJ6P6R"" stopped.
2025-06-08T20:52:36.4079151+07:00 [DBG] (///) Connection id ""0HND6I2LJ6P6R"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-08T20:55:01.0779490+07:00 [INF] (///) Application is shutting down...
2025-06-08T20:55:01.0787986+07:00 [DBG] (///) Hosting stopping
2025-06-08T20:55:01.0835503+07:00 [DBG] (///) Hosting stopped
2025-06-08T20:55:05.6005509+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T20:55:05.6988454+07:00 [DBG] (///) Hosting starting
2025-06-08T20:55:05.7515010+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T20:55:05.7530770+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T20:55:05.8062583+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T20:55:05.8077261+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T20:55:05.8141197+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T20:55:05.8145432+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T20:55:05.8145878+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T20:55:05.8146675+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T20:55:05.8148384+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T20:55:05.8148902+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T20:55:05.8149119+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T20:55:05.8149666+07:00 [DBG] (///) Hosting started
2025-06-08T20:55:17.6220840+07:00 [INF] (///) Application is shutting down...
2025-06-08T20:55:17.6225908+07:00 [DBG] (///) Hosting stopping
2025-06-08T20:55:17.6296882+07:00 [DBG] (///) Hosting stopped
2025-06-08T20:55:20.2557453+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T20:55:20.3509394+07:00 [DBG] (///) Hosting starting
2025-06-08T20:55:20.4035471+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T20:55:20.4051651+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T20:55:20.4527787+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T20:55:20.4542466+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T20:55:20.4592894+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T20:55:20.4596987+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T20:55:20.4597597+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T20:55:20.4598620+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T20:55:20.4600375+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T20:55:20.4600792+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T20:55:20.4601115+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T20:55:20.4601632+07:00 [DBG] (///) Hosting started
2025-06-08T20:55:48.7233794+07:00 [DBG] (///) Connection id ""0HND6IGM6R8S0"" accepted.
2025-06-08T20:55:48.7240540+07:00 [DBG] (///) Connection id ""0HND6IGM6R8S0"" started.
2025-06-08T20:55:48.7417805+07:00 [INF] (///) Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:30000""""/api/v1/it-faculty/classes""" - null null
2025-06-08T20:55:48.7963444+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:55:48.7968918+07:00 [DBG] (///) Request matched endpoint '"405 HTTP Method Not Supported"'
2025-06-08T20:55:48.8011391+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T20:55:48.8215777+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T20:55:48.8245822+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T20:55:48.8263984+07:00 [DBG] (///) The request has an origin header: '"http://localhost:32101"'.
2025-06-08T20:55:48.8265567+07:00 [INF] (///) CORS policy execution successful.
2025-06-08T20:55:48.8269430+07:00 [DBG] (///) The request is a preflight request.
2025-06-08T20:55:48.8304724+07:00 [INF] (///) HTTP "OPTIONS" "/api/v1/it-faculty/classes" responded 204 in 28.3054 ms
2025-06-08T20:55:48.8358882+07:00 [DBG] (///) Connection id ""0HND6IGM6R8S0"" completed keep alive response.
2025-06-08T20:55:48.8387961+07:00 [INF] (///) Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:30000""""/api/v1/it-faculty/classes""" - 204 null null 98.1066ms
2025-06-08T20:55:48.8404552+07:00 [INF] (///) Request starting "HTTP/1.1" "POST" "http"://"localhost:30000""""/api/v1/it-faculty/classes""" - "application/json" 104
2025-06-08T20:55:48.8416961+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:55:48.8444485+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.CreateClass (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:55:48.8470591+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.CreateClass (FacultyService.Api)"'
2025-06-08T20:55:48.8473566+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T20:55:48.8475225+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T20:55:48.8475802+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T20:55:48.8477012+07:00 [DBG] (///) The request has an origin header: '"http://localhost:32101"'.
2025-06-08T20:55:48.8477428+07:00 [INF] (///) CORS policy execution successful.
2025-06-08T20:55:48.8482344+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.CreateClass (FacultyService.Api)"'
2025-06-08T20:55:48.8620634+07:00 [INF] (///) Route matched with "{action = \"CreateClass\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateClass(FacultyService.Api.Classes.Request.ClassBasicRequest, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T20:55:48.8642240+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T20:55:48.8643727+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T20:55:48.8648158+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:55:48.8648995+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T20:55:48.8649649+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:55:48.8659411+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:55:48.8662446+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:55:48.8680316+07:00 [DBG] (///) Attempting to bind parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"' ...
2025-06-08T20:55:48.8691551+07:00 [DBG] (///) Attempting to bind parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"' using the name '""' in request data ...
2025-06-08T20:55:48.8697104+07:00 [DBG] (///) Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
2025-06-08T20:55:48.8757260+07:00 [DBG] (///) Connection id ""0HND6IGM6R8S0"", Request id ""0HND6IGM6R8S0:00000002"": started reading request body.
2025-06-08T20:55:48.8759325+07:00 [DBG] (///) Connection id ""0HND6IGM6R8S0"", Request id ""0HND6IGM6R8S0:00000002"": done reading request body.
2025-06-08T20:55:48.8779433+07:00 [DBG] (///) JSON input formatter succeeded, deserializing to type '"FacultyService.Api.Classes.Request.ClassBasicRequest"'
2025-06-08T20:55:48.8780944+07:00 [DBG] (///) Done attempting to bind parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"'.
2025-06-08T20:55:48.8781719+07:00 [DBG] (///) Done attempting to bind parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"'.
2025-06-08T20:55:48.8782227+07:00 [DBG] (///) Attempting to validate the bound parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"' ...
2025-06-08T20:55:48.8815269+07:00 [DBG] (///) Done attempting to validate the bound parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"'.
2025-06-08T20:55:48.8824029+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:55:48.8826053+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:55:48.8826470+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:55:48.8827046+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:55:48.8829733+07:00 [DBG] (///) The request has model state errors, returning an error response.
2025-06-08T20:55:48.8834749+07:00 [DBG] (///) Request was short circuited at action filter '"Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter"'.
2025-06-08T20:55:48.8849330+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T20:55:48.8861175+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T20:55:48.8864252+07:00 [DBG] (///) Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml", "application/problem+json", "application/problem+xml"]'.
2025-06-08T20:55:48.8869398+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
2025-06-08T20:55:48.8872257+07:00 [INF] (///) Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2025-06-08T20:55:48.9047002+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.CreateClass (FacultyService.Api)" in 37.3992ms
2025-06-08T20:55:48.9050241+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.CreateClass (FacultyService.Api)"'
2025-06-08T20:55:48.9052805+07:00 [INF] (///) HTTP "POST" "/api/v1/it-faculty/classes" responded 400 in 57.7540 ms
2025-06-08T20:55:48.9054461+07:00 [DBG] (///) Connection id ""0HND6IGM6R8S0"" completed keep alive response.
2025-06-08T20:55:48.9057372+07:00 [INF] (///) Request finished "HTTP/1.1" "POST" "http"://"localhost:30000""""/api/v1/it-faculty/classes""" - 400 null "application/problem+json; charset=utf-8" 65.2209ms
2025-06-08T20:55:48.9058301+07:00 [DBG] (///) Connection id ""0HND6IGM6R8S1"" accepted.
2025-06-08T20:55:48.9059237+07:00 [DBG] (///) Connection id ""0HND6IGM6R8S1"" started.
2025-06-08T20:55:48.9072937+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - null null
2025-06-08T20:55:48.9097967+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:55:48.9100466+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:55:48.9101726+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:55:48.9103230+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T20:55:48.9104640+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T20:55:48.9105657+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T20:55:48.9106390+07:00 [DBG] (///) The request has an origin header: '"http://localhost:32101"'.
2025-06-08T20:55:48.9106773+07:00 [INF] (///) CORS policy execution successful.
2025-06-08T20:55:48.9107442+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:55:48.9141980+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T20:55:48.9142830+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T20:55:48.9143114+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T20:55:48.9143565+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:55:48.9143994+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T20:55:48.9144377+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:55:48.9145028+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:55:48.9145751+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:55:48.9148491+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:55:48.9151922+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T20:55:48.9171860+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T20:55:48.9174843+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:55:48.9177014+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:55:48.9179387+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T20:55:48.9180980+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T20:55:48.9183617+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T20:55:48.9184175+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:55:48.9184456+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:55:48.9184797+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T20:55:48.9185097+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:55:48.9185398+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:55:48.9186992+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:55:48.9187489+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:55:48.9187693+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:55:48.9198342+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:55:48.9199208+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:55:48.9200378+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:55:48.9200813+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:55:48.9201232+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:55:48.9253285+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T20:55:48.9358244+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 50, OrderBy: null, Filter: null })]
2025-06-08T20:55:49.0804863+07:00 [DBG] (///) An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration changed for 'Core:EnableDetailedErrors', configuration changed for 'Core:ConfigureWarnings', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseAdminDatabase', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:SetPostgresVersion', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseRedshift', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ReverseNullOrdering', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:RemoteCertificateValidationCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvideClientCertificatesCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvidePasswordCallback'".
2025-06-08T20:55:49.4863825+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Class"' as the properties are already covered by the index "{'FacultyCode', 'ClassCode'}".
2025-06-08T20:55:49.4867147+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"CreditClass"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId'}".
2025-06-08T20:55:49.4868247+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId', 'StudentCode'}".
2025-06-08T20:55:49.4868873+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'StudentCode'}".
2025-06-08T20:55:49.4869331+07:00 [DBG] (///) The index "{'FacultyCode', 'CreditClassId'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId', 'StudentCode'}".
2025-06-08T20:55:49.4869971+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Student"' as the properties are already covered by the index "{'FacultyCode', 'StudentCode'}".
2025-06-08T20:55:49.4870481+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Student"' as the properties are already covered by the index "{'FacultyCode', 'ClassCode'}".
2025-06-08T20:55:49.5788878+07:00 [WRN] (///) The foreign key property '"Registration"."StudentCode1"' was created in shadow state because a conflicting property with the simple name '"StudentCode"' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-08T20:55:49.5801051+07:00 [DBG] (///) The property '"Registration"."StudentFacultyCode"' was created in shadow state because there are no eligible CLR members with a matching name.
2025-06-08T20:55:49.6625809+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "DetailedErrorsEnabled "
2025-06-08T20:55:49.7038964+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Class>()
    .OrderBy(__Class => __Class.ClassCode)
    .Select(c => new ClassBasicResponse{ 
        ClassCode = c.ClassCode, 
        ClassName = c.ClassName, 
        FacultyCode = c.FacultyCode, 
        StudentCount = c.Students.Count, 
        FacultyName = c.FacultyCodeNavigation.FacultyName, 
        AcademicYearCode = c.AcademicYearCode 
    }
    )
    .Count()"'
2025-06-08T20:55:49.8810643+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => 
{
    queryContext.AddParameter(
        name: \"__ef_filter__Id_0\", 
        value: (object)Invoke(queryContext => ((FacultyDbContext)queryContext.Context).TenantInfo.Id, queryContext));
    return ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
        asyncEnumerable: SingleQueryingEnumerable.Create<int>(
            relationalQueryContext: (RelationalQueryContext)queryContext, 
            relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
                Projection Mapping:
                    EmptyProjectionMember -> 0
                SELECT CAST(count(*) AS integer)
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0) | Resolver: c => new RelationalCommandCache(
                c.Dependencies.MemoryCache, 
                c.RelationalDependencies.QuerySqlGeneratorFactory, 
                c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
                Projection Mapping:
                    EmptyProjectionMember -> 0
                SELECT CAST(count(*) AS integer)
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0, 
                False, 
                new HashSet<string>(
                    new string[]{ }, 
                    StringComparer.Ordinal
                )
            )].GetRelationalCommandTemplate(parameters), 
            readerColumns: null, 
            shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                int? value1;
                value1 = try { dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0) } catch (Exception) { ... } ;
                return (int)value1;
            }, 
            contextType: FacultyService.Application.FacultyDbContext, 
            standAloneStateManager: False, 
            detailedErrorsEnabled: True, 
            threadSafetyChecksEnabled: True), 
        cancellationToken: queryContext.CancellationToken);
}"'
2025-06-08T20:55:49.9114705+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T20:55:49.9417008+07:00 [DBG] (///) Created DbConnection. (28ms).
2025-06-08T20:55:49.9448097+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:55:50.0335907+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:55:50.0379151+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T20:55:50.0426452+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (2ms).
2025-06-08T20:55:50.0482937+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (10ms).
2025-06-08T20:55:50.0547327+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T20:55:50.1206294+07:00 [INF] (///) Executed DbCommand ("66"ms) [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T20:55:50.1342209+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:55:50.1404664+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 14ms reading results.
2025-06-08T20:55:50.1440980+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:55:50.1476865+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (3ms).
2025-06-08T20:55:50.1522462+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Class>()
    .OrderBy(__Class => __Class.ClassCode)
    .Select(c => new ClassBasicResponse{ 
        ClassCode = c.ClassCode, 
        ClassName = c.ClassName, 
        FacultyCode = c.FacultyCode, 
        StudentCount = c.Students.Count, 
        FacultyName = c.FacultyCodeNavigation.FacultyName, 
        AcademicYearCode = c.AcademicYearCode 
    }
    )
    .Skip(__p_0)
    .Take(__p_1)"'
2025-06-08T20:55:50.2039685+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => 
{
    queryContext.AddParameter(
        name: \"__ef_filter__Id_0\", 
        value: (object)Invoke(queryContext => ((FacultyDbContext)queryContext.Context).TenantInfo.Id, queryContext));
    return SingleQueryingEnumerable.Create<ClassBasicResponse>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                ClassCode -> 0
                ClassName -> 1
                FacultyCode -> 2
                StudentCount -> 3
                FacultyName -> 4
                AcademicYearCode -> 5
            SELECT c0.class_code AS ClassCode, c0.class_name AS ClassName, c0.faculty_code AS FacultyCode, (
                SELECT CAST(count(*) AS integer)
                FROM student AS s
                WHERE (s.faculty_code == @__ef_filter__Id_0) && (((c0.faculty_code != NULL) && (c0.class_code != NULL)) && ((c0.faculty_code == s.faculty_code) && (c0.class_code == s.class_code)))) AS StudentCount, f0.faculty_name AS FacultyName, c0.academic_year_code AS AcademicYearCode
            FROM 
            (
                SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0
                ORDER BY c.class_code ASC
                OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
            ) AS c0
            INNER JOIN 
            (
                SELECT f.faculty_code, f.faculty_name
                FROM faculty AS f
                WHERE f.faculty_code == @__ef_filter__Id_0
            ) AS f0 ON c0.faculty_code == f0.faculty_code
            ORDER BY c0.class_code ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                ClassCode -> 0
                ClassName -> 1
                FacultyCode -> 2
                StudentCount -> 3
                FacultyName -> 4
                AcademicYearCode -> 5
            SELECT c0.class_code AS ClassCode, c0.class_name AS ClassName, c0.faculty_code AS FacultyCode, (
                SELECT CAST(count(*) AS integer)
                FROM student AS s
                WHERE (s.faculty_code == @__ef_filter__Id_0) && (((c0.faculty_code != NULL) && (c0.class_code != NULL)) && ((c0.faculty_code == s.faculty_code) && (c0.class_code == s.class_code)))) AS StudentCount, f0.faculty_name AS FacultyName, c0.academic_year_code AS AcademicYearCode
            FROM 
            (
                SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0
                ORDER BY c.class_code ASC
                OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
            ) AS c0
            INNER JOIN 
            (
                SELECT f.faculty_code, f.faculty_name
                FROM faculty AS f
                WHERE f.faculty_code == @__ef_filter__Id_0
            ) AS f0 ON c0.faculty_code == f0.faculty_code
            ORDER BY c0.class_code ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            string value1;
            string value2;
            string value3;
            int? value4;
            string value5;
            string value6;
            value1 = try { dataReader.GetString(0) } catch (Exception) { ... } ;
            value2 = try { dataReader.GetString(1) } catch (Exception) { ... } ;
            value3 = try { dataReader.GetString(2) } catch (Exception) { ... } ;
            value4 = try { dataReader.IsDBNull(3) ? default(int?) : (int?)dataReader.GetInt32(3) } catch (Exception) { ... } ;
            value5 = try { dataReader.GetString(4) } catch (Exception) { ... } ;
            value6 = try { dataReader.GetString(5) } catch (Exception) { ... } ;
            return new ClassBasicResponse{ 
                ClassCode = value1, 
                ClassName = value2, 
                FacultyCode = value3, 
                StudentCount = (int)value4, 
                FacultyName = value5, 
                AcademicYearCode = value6 
            }
            ;
        }, 
        contextType: FacultyService.Application.FacultyDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: True, 
        threadSafetyChecksEnabled: True);
}"'
2025-06-08T20:55:50.2134785+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:55:50.2140780+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:55:50.2143112+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T20:55:50.2143649+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:55:50.2144452+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:55:50.2145506+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T20:55:50.2194431+07:00 [INF] (///) Executed DbCommand ("5"ms) [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T20:55:50.2210245+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:55:50.2211481+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 1ms reading results.
2025-06-08T20:55:50.2212912+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:55:50.2213566+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:55:50.2221909+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 1284ms
2025-06-08T20:55:50.2257786+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1297.6765ms.
2025-06-08T20:55:50.2292805+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T20:55:50.2294187+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T20:55:50.2294680+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T20:55:50.2295024+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T20:55:50.2295631+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T20:55:50.2296342+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T20:55:50.2450313+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 1330.508ms
2025-06-08T20:55:50.2458991+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:55:50.2494607+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 1339.0473 ms
2025-06-08T20:55:50.2512077+07:00 [DBG] (///) Connection id ""0HND6IGM6R8S0"" completed keep alive response.
2025-06-08T20:55:50.2545608+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T20:55:50.2602564+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:55:50.2622241+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (3ms).
2025-06-08T20:55:50.2629097+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - 200 null "application/json; charset=utf-8" 1355.6147ms
2025-06-08T20:56:12.8461733+07:00 [INF] (///) Application is shutting down...
2025-06-08T20:56:12.8470875+07:00 [DBG] (///) Hosting stopping
2025-06-08T20:56:12.8528477+07:00 [DBG] (///) Connection id ""0HND6IGM6R8S0"" disconnecting.
2025-06-08T20:56:12.8530283+07:00 [DBG] (///) Connection id ""0HND6IGM6R8S1"" disconnecting.
2025-06-08T20:56:12.8536216+07:00 [DBG] (///) Connection id ""0HND6IGM6R8S0"" stopped.
2025-06-08T20:56:12.8536322+07:00 [DBG] (///) Connection id ""0HND6IGM6R8S1"" stopped.
2025-06-08T20:56:12.8540807+07:00 [DBG] (///) Connection id ""0HND6IGM6R8S0"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-08T20:56:12.8540802+07:00 [DBG] (///) Connection id ""0HND6IGM6R8S1"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-08T20:56:12.8562173+07:00 [DBG] (///) Hosting stopped
2025-06-08T20:56:15.9069203+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T20:56:16.0463134+07:00 [DBG] (///) Hosting starting
2025-06-08T20:56:16.1107002+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T20:56:16.1124227+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T20:56:16.1853297+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T20:56:16.1868966+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T20:56:16.1951391+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T20:56:16.1956858+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T20:56:16.1957291+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T20:56:16.1958005+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T20:56:16.1960670+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T20:56:16.1961129+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T20:56:16.1961457+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T20:56:16.1961999+07:00 [DBG] (///) Hosting started
2025-06-08T20:56:26.0571922+07:00 [DBG] (///) Connection id ""0HND6IH1ASJIL"" accepted.
2025-06-08T20:56:26.0582292+07:00 [DBG] (///) Connection id ""0HND6IH1ASJIL"" started.
2025-06-08T20:56:26.0799909+07:00 [INF] (///) Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:30000""""/api/v1/it-faculty/classes""" - null null
2025-06-08T20:56:26.1306507+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:56:26.1312266+07:00 [DBG] (///) Request matched endpoint '"405 HTTP Method Not Supported"'
2025-06-08T20:56:26.1368091+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T20:56:26.1643468+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T20:56:26.1677887+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T20:56:26.1705499+07:00 [DBG] (///) The request has an origin header: '"http://localhost:32101"'.
2025-06-08T20:56:26.1707781+07:00 [INF] (///) CORS policy execution successful.
2025-06-08T20:56:26.1716490+07:00 [DBG] (///) The request is a preflight request.
2025-06-08T20:56:26.1763240+07:00 [INF] (///) HTTP "OPTIONS" "/api/v1/it-faculty/classes" responded 204 in 38.1671 ms
2025-06-08T20:56:26.1827175+07:00 [DBG] (///) Connection id ""0HND6IH1ASJIL"" completed keep alive response.
2025-06-08T20:56:26.1862831+07:00 [INF] (///) Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:30000""""/api/v1/it-faculty/classes""" - 204 null null 107.2066ms
2025-06-08T20:56:26.1886383+07:00 [INF] (///) Request starting "HTTP/1.1" "POST" "http"://"localhost:30000""""/api/v1/it-faculty/classes""" - "application/json" 104
2025-06-08T20:56:26.1896884+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:56:26.1932318+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.CreateClass (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:56:26.1955361+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.CreateClass (FacultyService.Api)"'
2025-06-08T20:56:26.1958447+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T20:56:26.1960162+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T20:56:26.1960773+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T20:56:26.1961986+07:00 [DBG] (///) The request has an origin header: '"http://localhost:32101"'.
2025-06-08T20:56:26.1962239+07:00 [INF] (///) CORS policy execution successful.
2025-06-08T20:56:26.1969154+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.CreateClass (FacultyService.Api)"'
2025-06-08T20:56:26.2149025+07:00 [INF] (///) Route matched with "{action = \"CreateClass\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateClass(FacultyService.Api.Classes.Request.ClassBasicRequest, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T20:56:26.2174324+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T20:56:26.2176159+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T20:56:26.2180959+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:56:26.2182495+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T20:56:26.2183497+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:56:26.2202932+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:56:26.2210251+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:56:26.2241392+07:00 [DBG] (///) Attempting to bind parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"' ...
2025-06-08T20:56:26.2258097+07:00 [DBG] (///) Attempting to bind parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"' using the name '""' in request data ...
2025-06-08T20:56:26.2266427+07:00 [DBG] (///) Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
2025-06-08T20:56:26.2312595+07:00 [DBG] (///) Connection id ""0HND6IH1ASJIL"", Request id ""0HND6IH1ASJIL:00000002"": started reading request body.
2025-06-08T20:56:26.2314772+07:00 [DBG] (///) Connection id ""0HND6IH1ASJIL"", Request id ""0HND6IH1ASJIL:00000002"": done reading request body.
2025-06-08T20:56:26.2337113+07:00 [DBG] (///) JSON input formatter succeeded, deserializing to type '"FacultyService.Api.Classes.Request.ClassBasicRequest"'
2025-06-08T20:56:26.2338809+07:00 [DBG] (///) Done attempting to bind parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"'.
2025-06-08T20:56:26.2339340+07:00 [DBG] (///) Done attempting to bind parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"'.
2025-06-08T20:56:26.2339831+07:00 [DBG] (///) Attempting to validate the bound parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"' ...
2025-06-08T20:56:26.2401128+07:00 [DBG] (///) Done attempting to validate the bound parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"'.
2025-06-08T20:56:26.2412526+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:56:26.2416014+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:56:26.2416483+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:56:26.2417814+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:56:26.2423524+07:00 [DBG] (///) The request has model state errors, returning an error response.
2025-06-08T20:56:26.2432049+07:00 [DBG] (///) Request was short circuited at action filter '"Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter"'.
2025-06-08T20:56:26.2453093+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T20:56:26.2467571+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T20:56:26.2470232+07:00 [DBG] (///) Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml", "application/problem+json", "application/problem+xml"]'.
2025-06-08T20:56:26.2474916+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
2025-06-08T20:56:26.2477359+07:00 [INF] (///) Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2025-06-08T20:56:26.2711792+07:00 [DBG] (///) Connection id ""0HND6IH1ASJIM"" accepted.
2025-06-08T20:56:26.2713336+07:00 [DBG] (///) Connection id ""0HND6IH1ASJIM"" started.
2025-06-08T20:56:26.2714474+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.CreateClass (FacultyService.Api)" in 50.4143ms
2025-06-08T20:56:26.2716647+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.CreateClass (FacultyService.Api)"'
2025-06-08T20:56:26.2717286+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - null null
2025-06-08T20:56:26.2718906+07:00 [INF] (///) HTTP "POST" "/api/v1/it-faculty/classes" responded 400 in 75.8746 ms
2025-06-08T20:56:26.2720494+07:00 [DBG] (///) Connection id ""0HND6IH1ASJIL"" completed keep alive response.
2025-06-08T20:56:26.2722576+07:00 [INF] (///) Request finished "HTTP/1.1" "POST" "http"://"localhost:30000""""/api/v1/it-faculty/classes""" - 400 null "application/problem+json; charset=utf-8" 83.6257ms
2025-06-08T20:56:26.2752706+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:56:26.2756134+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T20:56:26.2757649+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:56:26.2759095+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T20:56:26.2760469+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T20:56:26.2760936+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T20:56:26.2761651+07:00 [DBG] (///) The request has an origin header: '"http://localhost:32101"'.
2025-06-08T20:56:26.2761957+07:00 [INF] (///) CORS policy execution successful.
2025-06-08T20:56:26.2762668+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:56:26.2797914+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T20:56:26.2799290+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T20:56:26.2799565+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T20:56:26.2800510+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:56:26.2800861+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T20:56:26.2801320+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T20:56:26.2801897+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:56:26.2802653+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T20:56:26.2806592+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:56:26.2811690+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T20:56:26.2849629+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T20:56:26.2855105+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:56:26.2857933+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T20:56:26.2861551+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T20:56:26.2865270+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T20:56:26.2869652+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T20:56:26.2870294+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:56:26.2870602+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T20:56:26.2870937+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T20:56:26.2871233+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:56:26.2871503+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T20:56:26.2873567+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:56:26.2874114+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:56:26.2874356+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T20:56:26.2886652+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T20:56:26.2887319+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:56:26.2888355+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:56:26.2888690+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T20:56:26.2889054+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T20:56:26.2966143+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T20:56:26.3097278+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 50, OrderBy: null, Filter: null })]
2025-06-08T20:56:26.5405594+07:00 [DBG] (///) An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration changed for 'Core:EnableDetailedErrors', configuration changed for 'Core:ConfigureWarnings', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseAdminDatabase', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:SetPostgresVersion', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseRedshift', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ReverseNullOrdering', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:RemoteCertificateValidationCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvideClientCertificatesCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvidePasswordCallback'".
2025-06-08T20:56:27.0984681+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Class"' as the properties are already covered by the index "{'FacultyCode', 'ClassCode'}".
2025-06-08T20:56:27.0990786+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"CreditClass"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId'}".
2025-06-08T20:56:27.0991667+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId', 'StudentCode'}".
2025-06-08T20:56:27.0992743+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'StudentCode'}".
2025-06-08T20:56:27.0993033+07:00 [DBG] (///) The index "{'FacultyCode', 'CreditClassId'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId', 'StudentCode'}".
2025-06-08T20:56:27.0993639+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Student"' as the properties are already covered by the index "{'FacultyCode', 'StudentCode'}".
2025-06-08T20:56:27.0993939+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Student"' as the properties are already covered by the index "{'FacultyCode', 'ClassCode'}".
2025-06-08T20:56:27.2059736+07:00 [WRN] (///) The foreign key property '"Registration"."StudentCode1"' was created in shadow state because a conflicting property with the simple name '"StudentCode"' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-08T20:56:27.2077330+07:00 [DBG] (///) The property '"Registration"."StudentFacultyCode"' was created in shadow state because there are no eligible CLR members with a matching name.
2025-06-08T20:56:27.3279873+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "DetailedErrorsEnabled "
2025-06-08T20:56:27.3882120+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Class>()
    .OrderBy(__Class => __Class.ClassCode)
    .Select(c => new ClassBasicResponse{ 
        ClassCode = c.ClassCode, 
        ClassName = c.ClassName, 
        FacultyCode = c.FacultyCode, 
        StudentCount = c.Students.Count, 
        FacultyName = c.FacultyCodeNavigation.FacultyName, 
        AcademicYearCode = c.AcademicYearCode 
    }
    )
    .Count()"'
2025-06-08T20:56:27.6261749+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => 
{
    queryContext.AddParameter(
        name: \"__ef_filter__Id_0\", 
        value: (object)Invoke(queryContext => ((FacultyDbContext)queryContext.Context).TenantInfo.Id, queryContext));
    return ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
        asyncEnumerable: SingleQueryingEnumerable.Create<int>(
            relationalQueryContext: (RelationalQueryContext)queryContext, 
            relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
                Projection Mapping:
                    EmptyProjectionMember -> 0
                SELECT CAST(count(*) AS integer)
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0) | Resolver: c => new RelationalCommandCache(
                c.Dependencies.MemoryCache, 
                c.RelationalDependencies.QuerySqlGeneratorFactory, 
                c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
                Projection Mapping:
                    EmptyProjectionMember -> 0
                SELECT CAST(count(*) AS integer)
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0, 
                False, 
                new HashSet<string>(
                    new string[]{ }, 
                    StringComparer.Ordinal
                )
            )].GetRelationalCommandTemplate(parameters), 
            readerColumns: null, 
            shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                int? value1;
                value1 = try { dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0) } catch (Exception) { ... } ;
                return (int)value1;
            }, 
            contextType: FacultyService.Application.FacultyDbContext, 
            standAloneStateManager: False, 
            detailedErrorsEnabled: True, 
            threadSafetyChecksEnabled: True), 
        cancellationToken: queryContext.CancellationToken);
}"'
2025-06-08T20:56:27.6672283+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T20:56:27.7119581+07:00 [DBG] (///) Created DbConnection. (43ms).
2025-06-08T20:56:27.7154594+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:56:27.8243504+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:56:27.8296337+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T20:56:27.8359048+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (3ms).
2025-06-08T20:56:27.8433799+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (13ms).
2025-06-08T20:56:27.8510707+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T20:56:27.9320335+07:00 [INF] (///) Executed DbCommand ("82"ms) [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T20:56:27.9489128+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:56:27.9561946+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 18ms reading results.
2025-06-08T20:56:27.9613818+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:56:27.9659259+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (5ms).
2025-06-08T20:56:27.9709651+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Class>()
    .OrderBy(__Class => __Class.ClassCode)
    .Select(c => new ClassBasicResponse{ 
        ClassCode = c.ClassCode, 
        ClassName = c.ClassName, 
        FacultyCode = c.FacultyCode, 
        StudentCount = c.Students.Count, 
        FacultyName = c.FacultyCodeNavigation.FacultyName, 
        AcademicYearCode = c.AcademicYearCode 
    }
    )
    .Skip(__p_0)
    .Take(__p_1)"'
2025-06-08T20:56:28.0335277+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => 
{
    queryContext.AddParameter(
        name: \"__ef_filter__Id_0\", 
        value: (object)Invoke(queryContext => ((FacultyDbContext)queryContext.Context).TenantInfo.Id, queryContext));
    return SingleQueryingEnumerable.Create<ClassBasicResponse>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                ClassCode -> 0
                ClassName -> 1
                FacultyCode -> 2
                StudentCount -> 3
                FacultyName -> 4
                AcademicYearCode -> 5
            SELECT c0.class_code AS ClassCode, c0.class_name AS ClassName, c0.faculty_code AS FacultyCode, (
                SELECT CAST(count(*) AS integer)
                FROM student AS s
                WHERE (s.faculty_code == @__ef_filter__Id_0) && (((c0.faculty_code != NULL) && (c0.class_code != NULL)) && ((c0.faculty_code == s.faculty_code) && (c0.class_code == s.class_code)))) AS StudentCount, f0.faculty_name AS FacultyName, c0.academic_year_code AS AcademicYearCode
            FROM 
            (
                SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0
                ORDER BY c.class_code ASC
                OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
            ) AS c0
            INNER JOIN 
            (
                SELECT f.faculty_code, f.faculty_name
                FROM faculty AS f
                WHERE f.faculty_code == @__ef_filter__Id_0
            ) AS f0 ON c0.faculty_code == f0.faculty_code
            ORDER BY c0.class_code ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                ClassCode -> 0
                ClassName -> 1
                FacultyCode -> 2
                StudentCount -> 3
                FacultyName -> 4
                AcademicYearCode -> 5
            SELECT c0.class_code AS ClassCode, c0.class_name AS ClassName, c0.faculty_code AS FacultyCode, (
                SELECT CAST(count(*) AS integer)
                FROM student AS s
                WHERE (s.faculty_code == @__ef_filter__Id_0) && (((c0.faculty_code != NULL) && (c0.class_code != NULL)) && ((c0.faculty_code == s.faculty_code) && (c0.class_code == s.class_code)))) AS StudentCount, f0.faculty_name AS FacultyName, c0.academic_year_code AS AcademicYearCode
            FROM 
            (
                SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0
                ORDER BY c.class_code ASC
                OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
            ) AS c0
            INNER JOIN 
            (
                SELECT f.faculty_code, f.faculty_name
                FROM faculty AS f
                WHERE f.faculty_code == @__ef_filter__Id_0
            ) AS f0 ON c0.faculty_code == f0.faculty_code
            ORDER BY c0.class_code ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            string value1;
            string value2;
            string value3;
            int? value4;
            string value5;
            string value6;
            value1 = try { dataReader.GetString(0) } catch (Exception) { ... } ;
            value2 = try { dataReader.GetString(1) } catch (Exception) { ... } ;
            value3 = try { dataReader.GetString(2) } catch (Exception) { ... } ;
            value4 = try { dataReader.IsDBNull(3) ? default(int?) : (int?)dataReader.GetInt32(3) } catch (Exception) { ... } ;
            value5 = try { dataReader.GetString(4) } catch (Exception) { ... } ;
            value6 = try { dataReader.GetString(5) } catch (Exception) { ... } ;
            return new ClassBasicResponse{ 
                ClassCode = value1, 
                ClassName = value2, 
                FacultyCode = value3, 
                StudentCount = (int)value4, 
                FacultyName = value5, 
                AcademicYearCode = value6 
            }
            ;
        }, 
        contextType: FacultyService.Application.FacultyDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: True, 
        threadSafetyChecksEnabled: True);
}"'
2025-06-08T20:56:28.0417256+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:56:28.0421941+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:56:28.0423506+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T20:56:28.0423872+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:56:28.0424348+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T20:56:28.0425282+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T20:56:28.0471703+07:00 [INF] (///) Executed DbCommand ("5"ms) [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T20:56:28.0489554+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:56:28.0490440+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 1ms reading results.
2025-06-08T20:56:28.0491642+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:56:28.0492189+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T20:56:28.0502622+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 1738ms
2025-06-08T20:56:28.0548200+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1754.88ms.
2025-06-08T20:56:28.0592525+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T20:56:28.0593698+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T20:56:28.0594473+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T20:56:28.0595242+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T20:56:28.0595697+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T20:56:28.0596343+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T20:56:28.0812878+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 1801.0797ms
2025-06-08T20:56:28.0822076+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T20:56:28.0865962+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 1810.5229 ms
2025-06-08T20:56:28.0894953+07:00 [DBG] (///) Connection id ""0HND6IH1ASJIM"" completed keep alive response.
2025-06-08T20:56:28.0939050+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T20:56:28.0999017+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T20:56:28.1025414+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (2ms).
2025-06-08T20:56:28.1033678+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - 200 null "application/json; charset=utf-8" 1831.6271ms
2025-06-08T21:00:10.0293882+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T21:00:10.1611578+07:00 [DBG] (///) Hosting starting
2025-06-08T21:00:10.2256207+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T21:00:10.2273754+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T21:00:10.3026368+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T21:00:10.3043076+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T21:00:10.3147041+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T21:00:10.3152919+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T21:00:10.3153496+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T21:00:10.3154162+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T21:00:10.3157117+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T21:00:10.3157557+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T21:00:10.3157870+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T21:00:10.3158470+07:00 [DBG] (///) Hosting started
2025-06-08T21:00:19.7583156+07:00 [DBG] (///) Connection id ""0HND6IJ6VKHJ0"" accepted.
2025-06-08T21:00:19.7591794+07:00 [DBG] (///) Connection id ""0HND6IJ6VKHJ0"" started.
2025-06-08T21:00:19.7821764+07:00 [INF] (///) Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:30000""""/api/v1/it-faculty/classes""" - null null
2025-06-08T21:00:19.8356673+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T21:00:19.8366355+07:00 [DBG] (///) Request matched endpoint '"405 HTTP Method Not Supported"'
2025-06-08T21:00:19.8518193+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T21:00:19.8774924+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T21:00:19.8812527+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T21:00:19.8838847+07:00 [DBG] (///) The request has an origin header: '"http://localhost:32101"'.
2025-06-08T21:00:19.8840695+07:00 [INF] (///) CORS policy execution successful.
2025-06-08T21:00:19.8848603+07:00 [DBG] (///) The request is a preflight request.
2025-06-08T21:00:19.8907917+07:00 [INF] (///) HTTP "OPTIONS" "/api/v1/it-faculty/classes" responded 204 in 36.8814 ms
2025-06-08T21:00:19.8985404+07:00 [DBG] (///) Connection id ""0HND6IJ6VKHJ0"" completed keep alive response.
2025-06-08T21:00:19.9023930+07:00 [INF] (///) Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:30000""""/api/v1/it-faculty/classes""" - 204 null null 120.9291ms
2025-06-08T21:00:19.9050082+07:00 [INF] (///) Request starting "HTTP/1.1" "POST" "http"://"localhost:30000""""/api/v1/it-faculty/classes""" - "application/json" 104
2025-06-08T21:00:19.9059058+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T21:00:19.9092128+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.CreateClass (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T21:00:19.9118217+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.CreateClass (FacultyService.Api)"'
2025-06-08T21:00:19.9121626+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T21:00:19.9123572+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T21:00:19.9124287+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T21:00:19.9125512+07:00 [DBG] (///) The request has an origin header: '"http://localhost:32101"'.
2025-06-08T21:00:19.9125895+07:00 [INF] (///) CORS policy execution successful.
2025-06-08T21:00:19.9133539+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.CreateClass (FacultyService.Api)"'
2025-06-08T21:00:19.9332510+07:00 [INF] (///) Route matched with "{action = \"CreateClass\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateClass(FacultyService.Api.Classes.Request.ClassBasicRequest, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T21:00:19.9364737+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T21:00:19.9367918+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T21:00:19.9374754+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:00:19.9376940+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T21:00:19.9378322+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:00:19.9396195+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:00:19.9404432+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:00:19.9437570+07:00 [DBG] (///) Attempting to bind parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"' ...
2025-06-08T21:00:19.9457037+07:00 [DBG] (///) Attempting to bind parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"' using the name '""' in request data ...
2025-06-08T21:00:19.9467053+07:00 [DBG] (///) Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
2025-06-08T21:00:19.9519969+07:00 [DBG] (///) Connection id ""0HND6IJ6VKHJ0"", Request id ""0HND6IJ6VKHJ0:00000002"": started reading request body.
2025-06-08T21:00:19.9523368+07:00 [DBG] (///) Connection id ""0HND6IJ6VKHJ0"", Request id ""0HND6IJ6VKHJ0:00000002"": done reading request body.
2025-06-08T21:00:19.9555253+07:00 [DBG] (///) JSON input formatter succeeded, deserializing to type '"FacultyService.Api.Classes.Request.ClassBasicRequest"'
2025-06-08T21:00:19.9559679+07:00 [DBG] (///) Done attempting to bind parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"'.
2025-06-08T21:00:19.9560785+07:00 [DBG] (///) Done attempting to bind parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"'.
2025-06-08T21:00:19.9561592+07:00 [DBG] (///) Attempting to validate the bound parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"' ...
2025-06-08T21:00:19.9687702+07:00 [DBG] (///) Done attempting to validate the bound parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"'.
2025-06-08T21:00:19.9709048+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:00:19.9715209+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:00:19.9715940+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:00:19.9718104+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:00:19.9728768+07:00 [DBG] (///) The request has model state errors, returning an error response.
2025-06-08T21:00:19.9745645+07:00 [DBG] (///) Request was short circuited at action filter '"Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter"'.
2025-06-08T21:00:19.9791008+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T21:00:19.9819917+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T21:00:19.9826102+07:00 [DBG] (///) Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml", "application/problem+json", "application/problem+xml"]'.
2025-06-08T21:00:19.9834639+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
2025-06-08T21:00:19.9839111+07:00 [INF] (///) Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2025-06-08T21:00:20.0169701+07:00 [DBG] (///) Connection id ""0HND6IJ6VKHJ1"" accepted.
2025-06-08T21:00:20.0171842+07:00 [DBG] (///) Connection id ""0HND6IJ6VKHJ1"" started.
2025-06-08T21:00:20.0175399+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.CreateClass (FacultyService.Api)" in 76.019ms
2025-06-08T21:00:20.0177960+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.CreateClass (FacultyService.Api)"'
2025-06-08T21:00:20.0180635+07:00 [INF] (///) HTTP "POST" "/api/v1/it-faculty/classes" responded 400 in 105.6922 ms
2025-06-08T21:00:20.0182938+07:00 [DBG] (///) Connection id ""0HND6IJ6VKHJ0"" completed keep alive response.
2025-06-08T21:00:20.0180758+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - null null
2025-06-08T21:00:20.0184480+07:00 [INF] (///) Request finished "HTTP/1.1" "POST" "http"://"localhost:30000""""/api/v1/it-faculty/classes""" - 400 null "application/problem+json; charset=utf-8" 113.4339ms
2025-06-08T21:00:20.0232419+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T21:00:20.0235936+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T21:00:20.0237576+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T21:00:20.0239924+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T21:00:20.0241401+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T21:00:20.0241896+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T21:00:20.0242549+07:00 [DBG] (///) The request has an origin header: '"http://localhost:32101"'.
2025-06-08T21:00:20.0242799+07:00 [INF] (///) CORS policy execution successful.
2025-06-08T21:00:20.0243560+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T21:00:20.0281498+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T21:00:20.0283011+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T21:00:20.0283978+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T21:00:20.0284670+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:00:20.0285046+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T21:00:20.0285437+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:00:20.0286145+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:00:20.0287059+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:00:20.0291888+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T21:00:20.0297133+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T21:00:20.0339646+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T21:00:20.0345803+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T21:00:20.0349885+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T21:00:20.0357248+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T21:00:20.0375395+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T21:00:20.0382633+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T21:00:20.0384034+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T21:00:20.0384396+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T21:00:20.0385317+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T21:00:20.0385658+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T21:00:20.0386071+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T21:00:20.0388710+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T21:00:20.0389336+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T21:00:20.0389624+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T21:00:20.0402693+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T21:00:20.0403468+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:00:20.0404389+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:00:20.0404711+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:00:20.0405130+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:00:20.0500553+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T21:00:20.0751124+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 50, OrderBy: null, Filter: null })]
2025-06-08T21:00:20.3351108+07:00 [DBG] (///) An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration changed for 'Core:EnableDetailedErrors', configuration changed for 'Core:ConfigureWarnings', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseAdminDatabase', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:SetPostgresVersion', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseRedshift', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ReverseNullOrdering', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:RemoteCertificateValidationCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvideClientCertificatesCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvidePasswordCallback'".
2025-06-08T21:00:20.8781621+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Class"' as the properties are already covered by the index "{'FacultyCode', 'ClassCode'}".
2025-06-08T21:00:20.8783909+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"CreditClass"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId'}".
2025-06-08T21:00:20.8784381+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId', 'StudentCode'}".
2025-06-08T21:00:20.8784692+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'StudentCode'}".
2025-06-08T21:00:20.8784967+07:00 [DBG] (///) The index "{'FacultyCode', 'CreditClassId'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId', 'StudentCode'}".
2025-06-08T21:00:20.8785349+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Student"' as the properties are already covered by the index "{'FacultyCode', 'StudentCode'}".
2025-06-08T21:00:20.8785565+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Student"' as the properties are already covered by the index "{'FacultyCode', 'ClassCode'}".
2025-06-08T21:00:20.9846447+07:00 [WRN] (///) The foreign key property '"Registration"."StudentCode1"' was created in shadow state because a conflicting property with the simple name '"StudentCode"' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-08T21:00:20.9861701+07:00 [DBG] (///) The property '"Registration"."StudentFacultyCode"' was created in shadow state because there are no eligible CLR members with a matching name.
2025-06-08T21:00:21.1151695+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "DetailedErrorsEnabled "
2025-06-08T21:00:21.1724941+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Class>()
    .OrderBy(__Class => __Class.ClassCode)
    .Select(c => new ClassBasicResponse{ 
        ClassCode = c.ClassCode, 
        ClassName = c.ClassName, 
        FacultyCode = c.FacultyCode, 
        StudentCount = c.Students.Count, 
        FacultyName = c.FacultyCodeNavigation.FacultyName, 
        AcademicYearCode = c.AcademicYearCode 
    }
    )
    .Count()"'
2025-06-08T21:00:21.4045270+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => 
{
    queryContext.AddParameter(
        name: \"__ef_filter__Id_0\", 
        value: (object)Invoke(queryContext => ((FacultyDbContext)queryContext.Context).TenantInfo.Id, queryContext));
    return ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
        asyncEnumerable: SingleQueryingEnumerable.Create<int>(
            relationalQueryContext: (RelationalQueryContext)queryContext, 
            relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
                Projection Mapping:
                    EmptyProjectionMember -> 0
                SELECT CAST(count(*) AS integer)
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0) | Resolver: c => new RelationalCommandCache(
                c.Dependencies.MemoryCache, 
                c.RelationalDependencies.QuerySqlGeneratorFactory, 
                c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
                Projection Mapping:
                    EmptyProjectionMember -> 0
                SELECT CAST(count(*) AS integer)
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0, 
                False, 
                new HashSet<string>(
                    new string[]{ }, 
                    StringComparer.Ordinal
                )
            )].GetRelationalCommandTemplate(parameters), 
            readerColumns: null, 
            shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                int? value1;
                value1 = try { dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0) } catch (Exception) { ... } ;
                return (int)value1;
            }, 
            contextType: FacultyService.Application.FacultyDbContext, 
            standAloneStateManager: False, 
            detailedErrorsEnabled: True, 
            threadSafetyChecksEnabled: True), 
        cancellationToken: queryContext.CancellationToken);
}"'
2025-06-08T21:00:21.4490068+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T21:00:21.5002950+07:00 [DBG] (///) Created DbConnection. (49ms).
2025-06-08T21:00:21.5038853+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:00:21.6139314+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:00:21.6226875+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T21:00:21.6304798+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (4ms).
2025-06-08T21:00:21.6394059+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (17ms).
2025-06-08T21:00:21.6474678+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T21:00:21.7279459+07:00 [INF] (///) Executed DbCommand ("81"ms) [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T21:00:21.7466024+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:00:21.7542625+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 20ms reading results.
2025-06-08T21:00:21.7592487+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:00:21.7641445+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (4ms).
2025-06-08T21:00:21.7677780+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Class>()
    .OrderBy(__Class => __Class.ClassCode)
    .Select(c => new ClassBasicResponse{ 
        ClassCode = c.ClassCode, 
        ClassName = c.ClassName, 
        FacultyCode = c.FacultyCode, 
        StudentCount = c.Students.Count, 
        FacultyName = c.FacultyCodeNavigation.FacultyName, 
        AcademicYearCode = c.AcademicYearCode 
    }
    )
    .Skip(__p_0)
    .Take(__p_1)"'
2025-06-08T21:00:21.8313292+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => 
{
    queryContext.AddParameter(
        name: \"__ef_filter__Id_0\", 
        value: (object)Invoke(queryContext => ((FacultyDbContext)queryContext.Context).TenantInfo.Id, queryContext));
    return SingleQueryingEnumerable.Create<ClassBasicResponse>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                ClassCode -> 0
                ClassName -> 1
                FacultyCode -> 2
                StudentCount -> 3
                FacultyName -> 4
                AcademicYearCode -> 5
            SELECT c0.class_code AS ClassCode, c0.class_name AS ClassName, c0.faculty_code AS FacultyCode, (
                SELECT CAST(count(*) AS integer)
                FROM student AS s
                WHERE (s.faculty_code == @__ef_filter__Id_0) && (((c0.faculty_code != NULL) && (c0.class_code != NULL)) && ((c0.faculty_code == s.faculty_code) && (c0.class_code == s.class_code)))) AS StudentCount, f0.faculty_name AS FacultyName, c0.academic_year_code AS AcademicYearCode
            FROM 
            (
                SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0
                ORDER BY c.class_code ASC
                OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
            ) AS c0
            INNER JOIN 
            (
                SELECT f.faculty_code, f.faculty_name
                FROM faculty AS f
                WHERE f.faculty_code == @__ef_filter__Id_0
            ) AS f0 ON c0.faculty_code == f0.faculty_code
            ORDER BY c0.class_code ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                ClassCode -> 0
                ClassName -> 1
                FacultyCode -> 2
                StudentCount -> 3
                FacultyName -> 4
                AcademicYearCode -> 5
            SELECT c0.class_code AS ClassCode, c0.class_name AS ClassName, c0.faculty_code AS FacultyCode, (
                SELECT CAST(count(*) AS integer)
                FROM student AS s
                WHERE (s.faculty_code == @__ef_filter__Id_0) && (((c0.faculty_code != NULL) && (c0.class_code != NULL)) && ((c0.faculty_code == s.faculty_code) && (c0.class_code == s.class_code)))) AS StudentCount, f0.faculty_name AS FacultyName, c0.academic_year_code AS AcademicYearCode
            FROM 
            (
                SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0
                ORDER BY c.class_code ASC
                OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
            ) AS c0
            INNER JOIN 
            (
                SELECT f.faculty_code, f.faculty_name
                FROM faculty AS f
                WHERE f.faculty_code == @__ef_filter__Id_0
            ) AS f0 ON c0.faculty_code == f0.faculty_code
            ORDER BY c0.class_code ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            string value1;
            string value2;
            string value3;
            int? value4;
            string value5;
            string value6;
            value1 = try { dataReader.GetString(0) } catch (Exception) { ... } ;
            value2 = try { dataReader.GetString(1) } catch (Exception) { ... } ;
            value3 = try { dataReader.GetString(2) } catch (Exception) { ... } ;
            value4 = try { dataReader.IsDBNull(3) ? default(int?) : (int?)dataReader.GetInt32(3) } catch (Exception) { ... } ;
            value5 = try { dataReader.GetString(4) } catch (Exception) { ... } ;
            value6 = try { dataReader.GetString(5) } catch (Exception) { ... } ;
            return new ClassBasicResponse{ 
                ClassCode = value1, 
                ClassName = value2, 
                FacultyCode = value3, 
                StudentCount = (int)value4, 
                FacultyName = value5, 
                AcademicYearCode = value6 
            }
            ;
        }, 
        contextType: FacultyService.Application.FacultyDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: True, 
        threadSafetyChecksEnabled: True);
}"'
2025-06-08T21:00:21.8405990+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:00:21.8412100+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:00:21.8414013+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T21:00:21.8414461+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:00:21.8415057+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:00:21.8416009+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T21:00:21.8461428+07:00 [INF] (///) Executed DbCommand ("4"ms) [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T21:00:21.8482793+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:00:21.8484102+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 1ms reading results.
2025-06-08T21:00:21.8485740+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:00:21.8486285+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T21:00:21.8496885+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 1771ms
2025-06-08T21:00:21.8539263+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1800.7045ms.
2025-06-08T21:00:21.8585451+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T21:00:21.8587147+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T21:00:21.8587874+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T21:00:21.8588628+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T21:00:21.8589027+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T21:00:21.8590354+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T21:00:21.8791371+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 1850.5188ms
2025-06-08T21:00:21.8800837+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T21:00:21.8844173+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 1860.3077 ms
2025-06-08T21:00:21.8869800+07:00 [DBG] (///) Connection id ""0HND6IJ6VKHJ1"" completed keep alive response.
2025-06-08T21:00:21.8910159+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T21:00:21.8965748+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:00:21.8991845+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (2ms).
2025-06-08T21:00:21.9000251+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - 200 null "application/json; charset=utf-8" 1881.9249ms
2025-06-08T21:00:45.8571031+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T21:00:45.9907190+07:00 [DBG] (///) Hosting starting
2025-06-08T21:00:46.0546820+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T21:00:46.0564046+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T21:00:46.1334029+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T21:00:46.1350054+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T21:00:46.1453839+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T21:00:46.1459558+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T21:00:46.1459943+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T21:00:46.1460651+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T21:00:46.1463206+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T21:00:46.1463617+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T21:00:46.1463789+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T21:00:46.1464323+07:00 [DBG] (///) Hosting started
2025-06-08T21:00:52.8717620+07:00 [DBG] (///) Connection id ""0HND6IJGRDUI3"" accepted.
2025-06-08T21:00:52.8726873+07:00 [DBG] (///) Connection id ""0HND6IJGRDUI3"" started.
2025-06-08T21:00:52.8953652+07:00 [INF] (///) Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:30000""""/api/v1/it-faculty/classes""" - null null
2025-06-08T21:00:52.9543500+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T21:00:52.9550107+07:00 [DBG] (///) Request matched endpoint '"405 HTTP Method Not Supported"'
2025-06-08T21:00:52.9602803+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T21:00:52.9817464+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T21:00:52.9851550+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T21:00:52.9882429+07:00 [DBG] (///) The request has an origin header: '"http://localhost:32101"'.
2025-06-08T21:00:52.9884730+07:00 [INF] (///) CORS policy execution successful.
2025-06-08T21:00:52.9894729+07:00 [DBG] (///) The request is a preflight request.
2025-06-08T21:00:52.9946649+07:00 [INF] (///) HTTP "OPTIONS" "/api/v1/it-faculty/classes" responded 204 in 32.4147 ms
2025-06-08T21:00:53.0010167+07:00 [DBG] (///) Connection id ""0HND6IJGRDUI3"" completed keep alive response.
2025-06-08T21:00:53.0052787+07:00 [INF] (///) Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:30000""""/api/v1/it-faculty/classes""" - 204 null null 110.8156ms
2025-06-08T21:00:53.0076229+07:00 [INF] (///) Request starting "HTTP/1.1" "POST" "http"://"localhost:30000""""/api/v1/it-faculty/classes""" - "application/json" 104
2025-06-08T21:00:53.0086495+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T21:00:53.0124057+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.CreateClass (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T21:00:53.0150219+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.CreateClass (FacultyService.Api)"'
2025-06-08T21:00:53.0153666+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T21:00:53.0155352+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T21:00:53.0155932+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T21:00:53.0157117+07:00 [DBG] (///) The request has an origin header: '"http://localhost:32101"'.
2025-06-08T21:00:53.0157432+07:00 [INF] (///) CORS policy execution successful.
2025-06-08T21:00:53.0164569+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.CreateClass (FacultyService.Api)"'
2025-06-08T21:00:53.0343849+07:00 [INF] (///) Route matched with "{action = \"CreateClass\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateClass(FacultyService.Api.Classes.Request.ClassBasicRequest, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T21:00:53.0372298+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T21:00:53.0374887+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T21:00:53.0379988+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:00:53.0381576+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T21:00:53.0382593+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:00:53.0397630+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:00:53.0404793+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:00:53.0431375+07:00 [DBG] (///) Attempting to bind parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"' ...
2025-06-08T21:00:53.0446207+07:00 [DBG] (///) Attempting to bind parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"' using the name '""' in request data ...
2025-06-08T21:00:53.0453602+07:00 [DBG] (///) Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
2025-06-08T21:00:53.0499882+07:00 [DBG] (///) Connection id ""0HND6IJGRDUI3"", Request id ""0HND6IJGRDUI3:00000002"": started reading request body.
2025-06-08T21:00:53.0502023+07:00 [DBG] (///) Connection id ""0HND6IJGRDUI3"", Request id ""0HND6IJGRDUI3:00000002"": done reading request body.
2025-06-08T21:00:53.0526121+07:00 [DBG] (///) JSON input formatter succeeded, deserializing to type '"FacultyService.Api.Classes.Request.ClassBasicRequest"'
2025-06-08T21:00:53.0528423+07:00 [DBG] (///) Done attempting to bind parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"'.
2025-06-08T21:00:53.0529196+07:00 [DBG] (///) Done attempting to bind parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"'.
2025-06-08T21:00:53.0529687+07:00 [DBG] (///) Attempting to validate the bound parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"' ...
2025-06-08T21:00:53.0599292+07:00 [DBG] (///) Done attempting to validate the bound parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"'.
2025-06-08T21:00:53.0610516+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:00:53.0613916+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:00:53.0614317+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:00:53.0615574+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:00:53.0621154+07:00 [DBG] (///) The request has model state errors, returning an error response.
2025-06-08T21:00:53.0630189+07:00 [DBG] (///) Request was short circuited at action filter '"Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter"'.
2025-06-08T21:00:53.0655361+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T21:00:53.0671708+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T21:00:53.0674699+07:00 [DBG] (///) Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml", "application/problem+json", "application/problem+xml"]'.
2025-06-08T21:00:53.0679197+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
2025-06-08T21:00:53.0681873+07:00 [INF] (///) Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2025-06-08T21:00:53.0913827+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.CreateClass (FacultyService.Api)" in 50.7967ms
2025-06-08T21:00:53.0917303+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.CreateClass (FacultyService.Api)"'
2025-06-08T21:00:53.0920031+07:00 [DBG] (///) Connection id ""0HND6IJGRDUI4"" accepted.
2025-06-08T21:00:53.0920393+07:00 [INF] (///) HTTP "POST" "/api/v1/it-faculty/classes" responded 400 in 76.4525 ms
2025-06-08T21:00:53.0921112+07:00 [DBG] (///) Connection id ""0HND6IJGRDUI4"" started.
2025-06-08T21:00:53.0922173+07:00 [DBG] (///) Connection id ""0HND6IJGRDUI3"" completed keep alive response.
2025-06-08T21:00:53.0923714+07:00 [INF] (///) Request finished "HTTP/1.1" "POST" "http"://"localhost:30000""""/api/v1/it-faculty/classes""" - 400 null "application/problem+json; charset=utf-8" 84.7376ms
2025-06-08T21:00:53.0924621+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - null null
2025-06-08T21:00:53.0963159+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T21:00:53.0966154+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T21:00:53.0967670+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T21:00:53.0969676+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T21:00:53.0970981+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T21:00:53.0971471+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T21:00:53.0972164+07:00 [DBG] (///) The request has an origin header: '"http://localhost:32101"'.
2025-06-08T21:00:53.0973100+07:00 [INF] (///) CORS policy execution successful.
2025-06-08T21:00:53.0974178+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T21:00:53.1008211+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T21:00:53.1009591+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T21:00:53.1009917+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T21:00:53.1010320+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:00:53.1010671+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T21:00:53.1011036+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:00:53.1011628+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:00:53.1012399+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:00:53.1017390+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T21:00:53.1022324+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T21:00:53.1056967+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T21:00:53.1062620+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T21:00:53.1065413+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T21:00:53.1069330+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T21:00:53.1072752+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T21:00:53.1076713+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T21:00:53.1077394+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T21:00:53.1077767+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T21:00:53.1078196+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T21:00:53.1078530+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T21:00:53.1078822+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T21:00:53.1080592+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T21:00:53.1081051+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T21:00:53.1081285+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T21:00:53.1096255+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T21:00:53.1097951+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:00:53.1099692+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:00:53.1100171+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:00:53.1100899+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:00:53.1183763+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T21:00:53.1405535+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 50, OrderBy: null, Filter: null })]
2025-06-08T21:00:53.3872849+07:00 [DBG] (///) An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration changed for 'Core:EnableDetailedErrors', configuration changed for 'Core:ConfigureWarnings', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseAdminDatabase', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:SetPostgresVersion', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseRedshift', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ReverseNullOrdering', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:RemoteCertificateValidationCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvideClientCertificatesCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvidePasswordCallback'".
2025-06-08T21:00:53.9514918+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Class"' as the properties are already covered by the index "{'FacultyCode', 'ClassCode'}".
2025-06-08T21:00:53.9521757+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"CreditClass"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId'}".
2025-06-08T21:00:53.9522789+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId', 'StudentCode'}".
2025-06-08T21:00:53.9524156+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'StudentCode'}".
2025-06-08T21:00:53.9524773+07:00 [DBG] (///) The index "{'FacultyCode', 'CreditClassId'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId', 'StudentCode'}".
2025-06-08T21:00:53.9525474+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Student"' as the properties are already covered by the index "{'FacultyCode', 'StudentCode'}".
2025-06-08T21:00:53.9525921+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Student"' as the properties are already covered by the index "{'FacultyCode', 'ClassCode'}".
2025-06-08T21:00:54.0651275+07:00 [WRN] (///) The foreign key property '"Registration"."StudentCode1"' was created in shadow state because a conflicting property with the simple name '"StudentCode"' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-08T21:00:54.0666635+07:00 [DBG] (///) The property '"Registration"."StudentFacultyCode"' was created in shadow state because there are no eligible CLR members with a matching name.
2025-06-08T21:00:54.1911389+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "DetailedErrorsEnabled "
2025-06-08T21:00:54.2467317+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Class>()
    .OrderBy(__Class => __Class.ClassCode)
    .Select(c => new ClassBasicResponse{ 
        ClassCode = c.ClassCode, 
        ClassName = c.ClassName, 
        FacultyCode = c.FacultyCode, 
        StudentCount = c.Students.Count, 
        FacultyName = c.FacultyCodeNavigation.FacultyName, 
        AcademicYearCode = c.AcademicYearCode 
    }
    )
    .Count()"'
2025-06-08T21:00:54.4851596+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => 
{
    queryContext.AddParameter(
        name: \"__ef_filter__Id_0\", 
        value: (object)Invoke(queryContext => ((FacultyDbContext)queryContext.Context).TenantInfo.Id, queryContext));
    return ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
        asyncEnumerable: SingleQueryingEnumerable.Create<int>(
            relationalQueryContext: (RelationalQueryContext)queryContext, 
            relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
                Projection Mapping:
                    EmptyProjectionMember -> 0
                SELECT CAST(count(*) AS integer)
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0) | Resolver: c => new RelationalCommandCache(
                c.Dependencies.MemoryCache, 
                c.RelationalDependencies.QuerySqlGeneratorFactory, 
                c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
                Projection Mapping:
                    EmptyProjectionMember -> 0
                SELECT CAST(count(*) AS integer)
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0, 
                False, 
                new HashSet<string>(
                    new string[]{ }, 
                    StringComparer.Ordinal
                )
            )].GetRelationalCommandTemplate(parameters), 
            readerColumns: null, 
            shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                int? value1;
                value1 = try { dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0) } catch (Exception) { ... } ;
                return (int)value1;
            }, 
            contextType: FacultyService.Application.FacultyDbContext, 
            standAloneStateManager: False, 
            detailedErrorsEnabled: True, 
            threadSafetyChecksEnabled: True), 
        cancellationToken: queryContext.CancellationToken);
}"'
2025-06-08T21:00:54.5291852+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T21:00:54.5730615+07:00 [DBG] (///) Created DbConnection. (42ms).
2025-06-08T21:00:54.5772342+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:00:54.6876256+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:00:54.6936529+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T21:00:54.7015591+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (4ms).
2025-06-08T21:00:54.7111527+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (17ms).
2025-06-08T21:00:54.7202240+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T21:00:54.7980199+07:00 [INF] (///) Executed DbCommand ("80"ms) [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T21:00:54.8161527+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:00:54.8255340+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 21ms reading results.
2025-06-08T21:00:54.8305300+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:00:54.8351511+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (4ms).
2025-06-08T21:00:54.8389897+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Class>()
    .OrderBy(__Class => __Class.ClassCode)
    .Select(c => new ClassBasicResponse{ 
        ClassCode = c.ClassCode, 
        ClassName = c.ClassName, 
        FacultyCode = c.FacultyCode, 
        StudentCount = c.Students.Count, 
        FacultyName = c.FacultyCodeNavigation.FacultyName, 
        AcademicYearCode = c.AcademicYearCode 
    }
    )
    .Skip(__p_0)
    .Take(__p_1)"'
2025-06-08T21:00:54.9005393+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => 
{
    queryContext.AddParameter(
        name: \"__ef_filter__Id_0\", 
        value: (object)Invoke(queryContext => ((FacultyDbContext)queryContext.Context).TenantInfo.Id, queryContext));
    return SingleQueryingEnumerable.Create<ClassBasicResponse>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                ClassCode -> 0
                ClassName -> 1
                FacultyCode -> 2
                StudentCount -> 3
                FacultyName -> 4
                AcademicYearCode -> 5
            SELECT c0.class_code AS ClassCode, c0.class_name AS ClassName, c0.faculty_code AS FacultyCode, (
                SELECT CAST(count(*) AS integer)
                FROM student AS s
                WHERE (s.faculty_code == @__ef_filter__Id_0) && (((c0.faculty_code != NULL) && (c0.class_code != NULL)) && ((c0.faculty_code == s.faculty_code) && (c0.class_code == s.class_code)))) AS StudentCount, f0.faculty_name AS FacultyName, c0.academic_year_code AS AcademicYearCode
            FROM 
            (
                SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0
                ORDER BY c.class_code ASC
                OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
            ) AS c0
            INNER JOIN 
            (
                SELECT f.faculty_code, f.faculty_name
                FROM faculty AS f
                WHERE f.faculty_code == @__ef_filter__Id_0
            ) AS f0 ON c0.faculty_code == f0.faculty_code
            ORDER BY c0.class_code ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                ClassCode -> 0
                ClassName -> 1
                FacultyCode -> 2
                StudentCount -> 3
                FacultyName -> 4
                AcademicYearCode -> 5
            SELECT c0.class_code AS ClassCode, c0.class_name AS ClassName, c0.faculty_code AS FacultyCode, (
                SELECT CAST(count(*) AS integer)
                FROM student AS s
                WHERE (s.faculty_code == @__ef_filter__Id_0) && (((c0.faculty_code != NULL) && (c0.class_code != NULL)) && ((c0.faculty_code == s.faculty_code) && (c0.class_code == s.class_code)))) AS StudentCount, f0.faculty_name AS FacultyName, c0.academic_year_code AS AcademicYearCode
            FROM 
            (
                SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0
                ORDER BY c.class_code ASC
                OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
            ) AS c0
            INNER JOIN 
            (
                SELECT f.faculty_code, f.faculty_name
                FROM faculty AS f
                WHERE f.faculty_code == @__ef_filter__Id_0
            ) AS f0 ON c0.faculty_code == f0.faculty_code
            ORDER BY c0.class_code ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            string value1;
            string value2;
            string value3;
            int? value4;
            string value5;
            string value6;
            value1 = try { dataReader.GetString(0) } catch (Exception) { ... } ;
            value2 = try { dataReader.GetString(1) } catch (Exception) { ... } ;
            value3 = try { dataReader.GetString(2) } catch (Exception) { ... } ;
            value4 = try { dataReader.IsDBNull(3) ? default(int?) : (int?)dataReader.GetInt32(3) } catch (Exception) { ... } ;
            value5 = try { dataReader.GetString(4) } catch (Exception) { ... } ;
            value6 = try { dataReader.GetString(5) } catch (Exception) { ... } ;
            return new ClassBasicResponse{ 
                ClassCode = value1, 
                ClassName = value2, 
                FacultyCode = value3, 
                StudentCount = (int)value4, 
                FacultyName = value5, 
                AcademicYearCode = value6 
            }
            ;
        }, 
        contextType: FacultyService.Application.FacultyDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: True, 
        threadSafetyChecksEnabled: True);
}"'
2025-06-08T21:00:54.9087381+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:00:54.9092368+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:00:54.9094241+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T21:00:54.9094832+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:00:54.9095608+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:00:54.9096643+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T21:00:54.9144871+07:00 [INF] (///) Executed DbCommand ("5"ms) [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T21:00:54.9164252+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:00:54.9165308+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 1ms reading results.
2025-06-08T21:00:54.9166648+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:00:54.9167746+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T21:00:54.9192343+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 1774ms
2025-06-08T21:00:54.9234468+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1802.0556ms.
2025-06-08T21:00:54.9278718+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T21:00:54.9279842+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T21:00:54.9280454+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T21:00:54.9281040+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T21:00:54.9281544+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T21:00:54.9282045+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T21:00:54.9480432+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 1846.867ms
2025-06-08T21:00:54.9489764+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T21:00:54.9534744+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 1856.3688 ms
2025-06-08T21:00:54.9581462+07:00 [DBG] (///) Connection id ""0HND6IJGRDUI4"" completed keep alive response.
2025-06-08T21:00:54.9631492+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T21:00:54.9689364+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:00:54.9716514+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (2ms).
2025-06-08T21:00:54.9726691+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - 200 null "application/json; charset=utf-8" 1880.1817ms
2025-06-08T21:01:06.8517268+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T21:01:06.9941622+07:00 [DBG] (///) Hosting starting
2025-06-08T21:01:07.0605250+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T21:01:07.0624464+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T21:01:07.1352452+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T21:01:07.1369931+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T21:01:07.1460316+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T21:01:07.1465784+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T21:01:07.1466334+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T21:01:07.1467085+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T21:01:07.1469849+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T21:01:07.1470302+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T21:01:07.1470530+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T21:01:07.1471003+07:00 [DBG] (///) Hosting started
2025-06-08T21:01:18.6530220+07:00 [DBG] (///) Connection id ""0HND6IJOH9PAM"" accepted.
2025-06-08T21:01:18.6539139+07:00 [DBG] (///) Connection id ""0HND6IJOH9PAM"" started.
2025-06-08T21:01:18.6759661+07:00 [INF] (///) Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:30000""""/api/v1/it-faculty/classes""" - null null
2025-06-08T21:01:18.7327917+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T21:01:18.7333981+07:00 [DBG] (///) Request matched endpoint '"405 HTTP Method Not Supported"'
2025-06-08T21:01:18.7384499+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T21:01:18.7591234+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T21:01:18.7625807+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T21:01:18.7651556+07:00 [DBG] (///) The request has an origin header: '"http://localhost:32101"'.
2025-06-08T21:01:18.7653309+07:00 [INF] (///) CORS policy execution successful.
2025-06-08T21:01:18.7660240+07:00 [DBG] (///) The request is a preflight request.
2025-06-08T21:01:18.7706573+07:00 [INF] (///) HTTP "OPTIONS" "/api/v1/it-faculty/classes" responded 204 in 30.4778 ms
2025-06-08T21:01:18.7771037+07:00 [DBG] (///) Connection id ""0HND6IJOH9PAM"" completed keep alive response.
2025-06-08T21:01:18.7804263+07:00 [INF] (///) Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:30000""""/api/v1/it-faculty/classes""" - 204 null null 105.3763ms
2025-06-08T21:01:18.7823740+07:00 [INF] (///) Request starting "HTTP/1.1" "POST" "http"://"localhost:30000""""/api/v1/it-faculty/classes""" - "application/json" 104
2025-06-08T21:01:18.7831788+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T21:01:18.7866612+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.CreateClass (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T21:01:18.7893814+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.CreateClass (FacultyService.Api)"'
2025-06-08T21:01:18.7897496+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T21:01:18.7899074+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T21:01:18.7899629+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T21:01:18.7900779+07:00 [DBG] (///) The request has an origin header: '"http://localhost:32101"'.
2025-06-08T21:01:18.7901084+07:00 [INF] (///) CORS policy execution successful.
2025-06-08T21:01:18.7908271+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.CreateClass (FacultyService.Api)"'
2025-06-08T21:01:18.8084452+07:00 [INF] (///) Route matched with "{action = \"CreateClass\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateClass(FacultyService.Api.Classes.Request.ClassBasicRequest, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T21:01:18.8111118+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T21:01:18.8113153+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T21:01:18.8118143+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:01:18.8119696+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T21:01:18.8120716+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:01:18.8136631+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:01:18.8143975+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:01:18.8171839+07:00 [DBG] (///) Attempting to bind parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"' ...
2025-06-08T21:01:18.8188499+07:00 [DBG] (///) Attempting to bind parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"' using the name '""' in request data ...
2025-06-08T21:01:18.8201414+07:00 [DBG] (///) Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
2025-06-08T21:01:18.8253170+07:00 [DBG] (///) Connection id ""0HND6IJOH9PAM"", Request id ""0HND6IJOH9PAM:00000002"": started reading request body.
2025-06-08T21:01:18.8255419+07:00 [DBG] (///) Connection id ""0HND6IJOH9PAM"", Request id ""0HND6IJOH9PAM:00000002"": done reading request body.
2025-06-08T21:01:18.8278256+07:00 [DBG] (///) JSON input formatter succeeded, deserializing to type '"FacultyService.Api.Classes.Request.ClassBasicRequest"'
2025-06-08T21:01:18.8280260+07:00 [DBG] (///) Done attempting to bind parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"'.
2025-06-08T21:01:18.8281025+07:00 [DBG] (///) Done attempting to bind parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"'.
2025-06-08T21:01:18.8281509+07:00 [DBG] (///) Attempting to validate the bound parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"' ...
2025-06-08T21:01:18.8342916+07:00 [DBG] (///) Done attempting to validate the bound parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"'.
2025-06-08T21:01:18.8355614+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:01:18.8359839+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:01:18.8360356+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:01:18.8361954+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:01:18.8368205+07:00 [DBG] (///) The request has model state errors, returning an error response.
2025-06-08T21:01:18.8376620+07:00 [DBG] (///) Request was short circuited at action filter '"Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter"'.
2025-06-08T21:01:18.8397683+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T21:01:18.8412670+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T21:01:18.8415307+07:00 [DBG] (///) Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml", "application/problem+json", "application/problem+xml"]'.
2025-06-08T21:01:18.8419606+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
2025-06-08T21:01:18.8421957+07:00 [INF] (///) Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2025-06-08T21:01:18.8640678+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.CreateClass (FacultyService.Api)" in 49.8331ms
2025-06-08T21:01:18.8643002+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.CreateClass (FacultyService.Api)"'
2025-06-08T21:01:18.8645487+07:00 [INF] (///) HTTP "POST" "/api/v1/it-faculty/classes" responded 400 in 74.6039 ms
2025-06-08T21:01:18.8646869+07:00 [DBG] (///) Connection id ""0HND6IJOH9PAM"" completed keep alive response.
2025-06-08T21:01:18.8648230+07:00 [INF] (///) Request finished "HTTP/1.1" "POST" "http"://"localhost:30000""""/api/v1/it-faculty/classes""" - 400 null "application/problem+json; charset=utf-8" 82.4411ms
2025-06-08T21:01:18.8716541+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - null null
2025-06-08T21:01:18.8753384+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T21:01:18.8756247+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T21:01:18.8757860+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T21:01:18.8759762+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T21:01:18.8762158+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T21:01:18.8763124+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T21:01:18.8764181+07:00 [DBG] (///) The request has an origin header: '"http://localhost:32101"'.
2025-06-08T21:01:18.8764525+07:00 [INF] (///) CORS policy execution successful.
2025-06-08T21:01:18.8765362+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T21:01:18.8796715+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T21:01:18.8797852+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T21:01:18.8798214+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T21:01:18.8798663+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:01:18.8798965+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T21:01:18.8799714+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:01:18.8800304+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:01:18.8800964+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:01:18.8804514+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T21:01:18.8809333+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T21:01:18.8839253+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T21:01:18.8842887+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T21:01:18.8845166+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T21:01:18.8848474+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T21:01:18.8852091+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T21:01:18.8855632+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T21:01:18.8856194+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T21:01:18.8856534+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T21:01:18.8856867+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T21:01:18.8857106+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T21:01:18.8857392+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T21:01:18.8859649+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T21:01:18.8860295+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T21:01:18.8860621+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T21:01:18.8873514+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T21:01:18.8874428+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:01:18.8875456+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:01:18.8875779+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:01:18.8876138+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:01:18.8944975+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T21:01:18.9072154+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 50, OrderBy: null, Filter: null })]
2025-06-08T21:01:19.1337830+07:00 [DBG] (///) An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration changed for 'Core:EnableDetailedErrors', configuration changed for 'Core:ConfigureWarnings', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseAdminDatabase', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:SetPostgresVersion', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseRedshift', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ReverseNullOrdering', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:RemoteCertificateValidationCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvideClientCertificatesCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvidePasswordCallback'".
2025-06-08T21:01:19.6856718+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Class"' as the properties are already covered by the index "{'FacultyCode', 'ClassCode'}".
2025-06-08T21:01:19.6862061+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"CreditClass"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId'}".
2025-06-08T21:01:19.6863403+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId', 'StudentCode'}".
2025-06-08T21:01:19.6863716+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'StudentCode'}".
2025-06-08T21:01:19.6863918+07:00 [DBG] (///) The index "{'FacultyCode', 'CreditClassId'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId', 'StudentCode'}".
2025-06-08T21:01:19.6864352+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Student"' as the properties are already covered by the index "{'FacultyCode', 'StudentCode'}".
2025-06-08T21:01:19.6864678+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Student"' as the properties are already covered by the index "{'FacultyCode', 'ClassCode'}".
2025-06-08T21:01:19.7909536+07:00 [WRN] (///) The foreign key property '"Registration"."StudentCode1"' was created in shadow state because a conflicting property with the simple name '"StudentCode"' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-08T21:01:19.7929411+07:00 [DBG] (///) The property '"Registration"."StudentFacultyCode"' was created in shadow state because there are no eligible CLR members with a matching name.
2025-06-08T21:01:19.9065732+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "DetailedErrorsEnabled "
2025-06-08T21:01:19.9552630+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Class>()
    .OrderBy(__Class => __Class.ClassCode)
    .Select(c => new ClassBasicResponse{ 
        ClassCode = c.ClassCode, 
        ClassName = c.ClassName, 
        FacultyCode = c.FacultyCode, 
        StudentCount = c.Students.Count, 
        FacultyName = c.FacultyCodeNavigation.FacultyName, 
        AcademicYearCode = c.AcademicYearCode 
    }
    )
    .Count()"'
2025-06-08T21:01:20.2351840+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => 
{
    queryContext.AddParameter(
        name: \"__ef_filter__Id_0\", 
        value: (object)Invoke(queryContext => ((FacultyDbContext)queryContext.Context).TenantInfo.Id, queryContext));
    return ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
        asyncEnumerable: SingleQueryingEnumerable.Create<int>(
            relationalQueryContext: (RelationalQueryContext)queryContext, 
            relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
                Projection Mapping:
                    EmptyProjectionMember -> 0
                SELECT CAST(count(*) AS integer)
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0) | Resolver: c => new RelationalCommandCache(
                c.Dependencies.MemoryCache, 
                c.RelationalDependencies.QuerySqlGeneratorFactory, 
                c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
                Projection Mapping:
                    EmptyProjectionMember -> 0
                SELECT CAST(count(*) AS integer)
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0, 
                False, 
                new HashSet<string>(
                    new string[]{ }, 
                    StringComparer.Ordinal
                )
            )].GetRelationalCommandTemplate(parameters), 
            readerColumns: null, 
            shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                int? value1;
                value1 = try { dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0) } catch (Exception) { ... } ;
                return (int)value1;
            }, 
            contextType: FacultyService.Application.FacultyDbContext, 
            standAloneStateManager: False, 
            detailedErrorsEnabled: True, 
            threadSafetyChecksEnabled: True), 
        cancellationToken: queryContext.CancellationToken);
}"'
2025-06-08T21:01:20.2778487+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T21:01:20.3203116+07:00 [DBG] (///) Created DbConnection. (40ms).
2025-06-08T21:01:20.3239016+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:01:20.4355925+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:01:20.4412942+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T21:01:20.4479862+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (3ms).
2025-06-08T21:01:20.4572164+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (16ms).
2025-06-08T21:01:20.4652205+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T21:01:20.5461722+07:00 [INF] (///) Executed DbCommand ("82"ms) [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T21:01:20.5637533+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:01:20.5712978+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 19ms reading results.
2025-06-08T21:01:20.5762524+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:01:20.5810355+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (4ms).
2025-06-08T21:01:20.5844210+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Class>()
    .OrderBy(__Class => __Class.ClassCode)
    .Select(c => new ClassBasicResponse{ 
        ClassCode = c.ClassCode, 
        ClassName = c.ClassName, 
        FacultyCode = c.FacultyCode, 
        StudentCount = c.Students.Count, 
        FacultyName = c.FacultyCodeNavigation.FacultyName, 
        AcademicYearCode = c.AcademicYearCode 
    }
    )
    .Skip(__p_0)
    .Take(__p_1)"'
2025-06-08T21:01:20.6471854+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => 
{
    queryContext.AddParameter(
        name: \"__ef_filter__Id_0\", 
        value: (object)Invoke(queryContext => ((FacultyDbContext)queryContext.Context).TenantInfo.Id, queryContext));
    return SingleQueryingEnumerable.Create<ClassBasicResponse>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                ClassCode -> 0
                ClassName -> 1
                FacultyCode -> 2
                StudentCount -> 3
                FacultyName -> 4
                AcademicYearCode -> 5
            SELECT c0.class_code AS ClassCode, c0.class_name AS ClassName, c0.faculty_code AS FacultyCode, (
                SELECT CAST(count(*) AS integer)
                FROM student AS s
                WHERE (s.faculty_code == @__ef_filter__Id_0) && (((c0.faculty_code != NULL) && (c0.class_code != NULL)) && ((c0.faculty_code == s.faculty_code) && (c0.class_code == s.class_code)))) AS StudentCount, f0.faculty_name AS FacultyName, c0.academic_year_code AS AcademicYearCode
            FROM 
            (
                SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0
                ORDER BY c.class_code ASC
                OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
            ) AS c0
            INNER JOIN 
            (
                SELECT f.faculty_code, f.faculty_name
                FROM faculty AS f
                WHERE f.faculty_code == @__ef_filter__Id_0
            ) AS f0 ON c0.faculty_code == f0.faculty_code
            ORDER BY c0.class_code ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                ClassCode -> 0
                ClassName -> 1
                FacultyCode -> 2
                StudentCount -> 3
                FacultyName -> 4
                AcademicYearCode -> 5
            SELECT c0.class_code AS ClassCode, c0.class_name AS ClassName, c0.faculty_code AS FacultyCode, (
                SELECT CAST(count(*) AS integer)
                FROM student AS s
                WHERE (s.faculty_code == @__ef_filter__Id_0) && (((c0.faculty_code != NULL) && (c0.class_code != NULL)) && ((c0.faculty_code == s.faculty_code) && (c0.class_code == s.class_code)))) AS StudentCount, f0.faculty_name AS FacultyName, c0.academic_year_code AS AcademicYearCode
            FROM 
            (
                SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0
                ORDER BY c.class_code ASC
                OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
            ) AS c0
            INNER JOIN 
            (
                SELECT f.faculty_code, f.faculty_name
                FROM faculty AS f
                WHERE f.faculty_code == @__ef_filter__Id_0
            ) AS f0 ON c0.faculty_code == f0.faculty_code
            ORDER BY c0.class_code ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            string value1;
            string value2;
            string value3;
            int? value4;
            string value5;
            string value6;
            value1 = try { dataReader.GetString(0) } catch (Exception) { ... } ;
            value2 = try { dataReader.GetString(1) } catch (Exception) { ... } ;
            value3 = try { dataReader.GetString(2) } catch (Exception) { ... } ;
            value4 = try { dataReader.IsDBNull(3) ? default(int?) : (int?)dataReader.GetInt32(3) } catch (Exception) { ... } ;
            value5 = try { dataReader.GetString(4) } catch (Exception) { ... } ;
            value6 = try { dataReader.GetString(5) } catch (Exception) { ... } ;
            return new ClassBasicResponse{ 
                ClassCode = value1, 
                ClassName = value2, 
                FacultyCode = value3, 
                StudentCount = (int)value4, 
                FacultyName = value5, 
                AcademicYearCode = value6 
            }
            ;
        }, 
        contextType: FacultyService.Application.FacultyDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: True, 
        threadSafetyChecksEnabled: True);
}"'
2025-06-08T21:01:20.6555475+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:01:20.6560824+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:01:20.6562423+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T21:01:20.6562825+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:01:20.6563374+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:01:20.6564137+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T21:01:20.6620769+07:00 [INF] (///) Executed DbCommand ("6"ms) [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T21:01:20.6638100+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:01:20.6639123+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 1ms reading results.
2025-06-08T21:01:20.6640176+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:01:20.6640603+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T21:01:20.6650297+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 1755ms
2025-06-08T21:01:20.6691158+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1771.63ms.
2025-06-08T21:01:20.6735581+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T21:01:20.6736752+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T21:01:20.6737453+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T21:01:20.6738365+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T21:01:20.6738873+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T21:01:20.6739376+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T21:01:20.6938383+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 1813.7822ms
2025-06-08T21:01:20.6947397+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T21:01:20.6990352+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 1822.9514 ms
2025-06-08T21:01:20.7027320+07:00 [DBG] (///) Connection id ""0HND6IJOH9PAM"" completed keep alive response.
2025-06-08T21:01:20.7074933+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T21:01:20.7133160+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:01:20.7157562+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (2ms).
2025-06-08T21:01:20.7166732+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - 200 null "application/json; charset=utf-8" 1845.0176ms
2025-06-08T21:01:49.9484924+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T21:01:50.0815270+07:00 [DBG] (///) Hosting starting
2025-06-08T21:01:50.1457470+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T21:01:50.1475808+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T21:01:50.2245713+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T21:01:50.2263172+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T21:01:50.2362787+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T21:01:50.2369035+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T21:01:50.2369852+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T21:01:50.2370592+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T21:01:50.2373677+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T21:01:50.2374174+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T21:01:50.2374539+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T21:01:50.2375142+07:00 [DBG] (///) Hosting started
2025-06-08T21:02:03.4086324+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T21:02:03.5399862+07:00 [DBG] (///) Hosting starting
2025-06-08T21:02:03.6005778+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T21:02:03.6022168+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T21:02:03.6741258+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T21:02:03.6759436+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T21:02:03.6878028+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T21:02:03.6885154+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T21:02:03.6885721+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T21:02:03.6886546+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T21:02:03.6889804+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T21:02:03.6890255+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T21:02:03.6890608+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T21:02:03.6891692+07:00 [DBG] (///) Hosting started
2025-06-08T21:35:16.0379030+07:00 [DBG] (///) Connection id ""0HND6J6NNA1JM"" accepted.
2025-06-08T21:35:16.0808424+07:00 [DBG] (///) Connection id ""0HND6J6NNA1JM"" started.
2025-06-08T21:35:16.1450434+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - null null
2025-06-08T21:35:16.2168962+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T21:35:16.2205343+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T21:35:16.2234562+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T21:35:16.2318262+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T21:35:16.2550107+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T21:35:16.2588528+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T21:35:16.2617989+07:00 [DBG] (///) The request has an origin header: '"http://localhost:32101"'.
2025-06-08T21:35:16.2619865+07:00 [INF] (///) CORS policy execution successful.
2025-06-08T21:35:16.2629418+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T21:35:16.2837548+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T21:35:16.2865845+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T21:35:16.2868257+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T21:35:16.2874121+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:35:16.2875882+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T21:35:16.2877345+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:35:16.2896290+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:35:16.2918596+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:35:16.2955085+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T21:35:16.2972205+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T21:35:16.3005827+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T21:35:16.3012062+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T21:35:16.3014989+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T21:35:16.3030145+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T21:35:16.3035782+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T21:35:16.3039981+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T21:35:16.3040574+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T21:35:16.3040942+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T21:35:16.3041369+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T21:35:16.3041706+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T21:35:16.3042010+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T21:35:16.3043800+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T21:35:16.3044474+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T21:35:16.3045315+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T21:35:16.3117428+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T21:35:16.3118851+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:35:16.3123739+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:35:16.3124362+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:35:16.3126029+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:35:16.3202876+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T21:35:16.3352457+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 50, OrderBy: null, Filter: null })]
2025-06-08T21:35:16.6089392+07:00 [DBG] (///) An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration changed for 'Core:EnableDetailedErrors', configuration changed for 'Core:ConfigureWarnings', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseAdminDatabase', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:SetPostgresVersion', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseRedshift', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ReverseNullOrdering', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:RemoteCertificateValidationCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvideClientCertificatesCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvidePasswordCallback'".
2025-06-08T21:35:17.1826742+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Class"' as the properties are already covered by the index "{'FacultyCode', 'ClassCode'}".
2025-06-08T21:35:17.1829642+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"CreditClass"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId'}".
2025-06-08T21:35:17.1830375+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId', 'StudentCode'}".
2025-06-08T21:35:17.1830709+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'StudentCode'}".
2025-06-08T21:35:17.1831719+07:00 [DBG] (///) The index "{'FacultyCode', 'CreditClassId'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId', 'StudentCode'}".
2025-06-08T21:35:17.1832181+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Student"' as the properties are already covered by the index "{'FacultyCode', 'StudentCode'}".
2025-06-08T21:35:17.1832421+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Student"' as the properties are already covered by the index "{'FacultyCode', 'ClassCode'}".
2025-06-08T21:35:17.2954578+07:00 [WRN] (///) The foreign key property '"Registration"."StudentCode1"' was created in shadow state because a conflicting property with the simple name '"StudentCode"' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-08T21:35:17.2971447+07:00 [DBG] (///) The property '"Registration"."StudentFacultyCode"' was created in shadow state because there are no eligible CLR members with a matching name.
2025-06-08T21:35:17.4146464+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "DetailedErrorsEnabled "
2025-06-08T21:35:17.4673719+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Class>()
    .OrderBy(__Class => __Class.ClassCode)
    .Select(c => new ClassBasicResponse{ 
        ClassCode = c.ClassCode, 
        ClassName = c.ClassName, 
        FacultyCode = c.FacultyCode, 
        StudentCount = c.Students.Count, 
        FacultyName = c.FacultyCodeNavigation.FacultyName, 
        AcademicYearCode = c.AcademicYearCode 
    }
    )
    .Count()"'
2025-06-08T21:35:17.7162668+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => 
{
    queryContext.AddParameter(
        name: \"__ef_filter__Id_0\", 
        value: (object)Invoke(queryContext => ((FacultyDbContext)queryContext.Context).TenantInfo.Id, queryContext));
    return ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
        asyncEnumerable: SingleQueryingEnumerable.Create<int>(
            relationalQueryContext: (RelationalQueryContext)queryContext, 
            relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
                Projection Mapping:
                    EmptyProjectionMember -> 0
                SELECT CAST(count(*) AS integer)
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0) | Resolver: c => new RelationalCommandCache(
                c.Dependencies.MemoryCache, 
                c.RelationalDependencies.QuerySqlGeneratorFactory, 
                c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
                Projection Mapping:
                    EmptyProjectionMember -> 0
                SELECT CAST(count(*) AS integer)
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0, 
                False, 
                new HashSet<string>(
                    new string[]{ }, 
                    StringComparer.Ordinal
                )
            )].GetRelationalCommandTemplate(parameters), 
            readerColumns: null, 
            shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                int? value1;
                value1 = try { dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0) } catch (Exception) { ... } ;
                return (int)value1;
            }, 
            contextType: FacultyService.Application.FacultyDbContext, 
            standAloneStateManager: False, 
            detailedErrorsEnabled: True, 
            threadSafetyChecksEnabled: True), 
        cancellationToken: queryContext.CancellationToken);
}"'
2025-06-08T21:35:17.7593487+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T21:35:17.8012169+07:00 [DBG] (///) Created DbConnection. (40ms).
2025-06-08T21:35:17.8047015+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:35:17.9682052+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:35:17.9735225+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T21:35:17.9798900+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (3ms).
2025-06-08T21:35:17.9874210+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (14ms).
2025-06-08T21:35:17.9947370+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T21:35:18.1618575+07:00 [INF] (///) Executed DbCommand ("156"ms) [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T21:35:18.1995147+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:35:18.2127821+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 41ms reading results.
2025-06-08T21:35:18.2214103+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:35:18.2393335+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (18ms).
2025-06-08T21:35:18.2466918+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Class>()
    .OrderBy(__Class => __Class.ClassCode)
    .Select(c => new ClassBasicResponse{ 
        ClassCode = c.ClassCode, 
        ClassName = c.ClassName, 
        FacultyCode = c.FacultyCode, 
        StudentCount = c.Students.Count, 
        FacultyName = c.FacultyCodeNavigation.FacultyName, 
        AcademicYearCode = c.AcademicYearCode 
    }
    )
    .Skip(__p_0)
    .Take(__p_1)"'
2025-06-08T21:35:18.3529233+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => 
{
    queryContext.AddParameter(
        name: \"__ef_filter__Id_0\", 
        value: (object)Invoke(queryContext => ((FacultyDbContext)queryContext.Context).TenantInfo.Id, queryContext));
    return SingleQueryingEnumerable.Create<ClassBasicResponse>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                ClassCode -> 0
                ClassName -> 1
                FacultyCode -> 2
                StudentCount -> 3
                FacultyName -> 4
                AcademicYearCode -> 5
            SELECT c0.class_code AS ClassCode, c0.class_name AS ClassName, c0.faculty_code AS FacultyCode, (
                SELECT CAST(count(*) AS integer)
                FROM student AS s
                WHERE (s.faculty_code == @__ef_filter__Id_0) && (((c0.faculty_code != NULL) && (c0.class_code != NULL)) && ((c0.faculty_code == s.faculty_code) && (c0.class_code == s.class_code)))) AS StudentCount, f0.faculty_name AS FacultyName, c0.academic_year_code AS AcademicYearCode
            FROM 
            (
                SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0
                ORDER BY c.class_code ASC
                OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
            ) AS c0
            INNER JOIN 
            (
                SELECT f.faculty_code, f.faculty_name
                FROM faculty AS f
                WHERE f.faculty_code == @__ef_filter__Id_0
            ) AS f0 ON c0.faculty_code == f0.faculty_code
            ORDER BY c0.class_code ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                ClassCode -> 0
                ClassName -> 1
                FacultyCode -> 2
                StudentCount -> 3
                FacultyName -> 4
                AcademicYearCode -> 5
            SELECT c0.class_code AS ClassCode, c0.class_name AS ClassName, c0.faculty_code AS FacultyCode, (
                SELECT CAST(count(*) AS integer)
                FROM student AS s
                WHERE (s.faculty_code == @__ef_filter__Id_0) && (((c0.faculty_code != NULL) && (c0.class_code != NULL)) && ((c0.faculty_code == s.faculty_code) && (c0.class_code == s.class_code)))) AS StudentCount, f0.faculty_name AS FacultyName, c0.academic_year_code AS AcademicYearCode
            FROM 
            (
                SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0
                ORDER BY c.class_code ASC
                OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
            ) AS c0
            INNER JOIN 
            (
                SELECT f.faculty_code, f.faculty_name
                FROM faculty AS f
                WHERE f.faculty_code == @__ef_filter__Id_0
            ) AS f0 ON c0.faculty_code == f0.faculty_code
            ORDER BY c0.class_code ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            string value1;
            string value2;
            string value3;
            int? value4;
            string value5;
            string value6;
            value1 = try { dataReader.GetString(0) } catch (Exception) { ... } ;
            value2 = try { dataReader.GetString(1) } catch (Exception) { ... } ;
            value3 = try { dataReader.GetString(2) } catch (Exception) { ... } ;
            value4 = try { dataReader.IsDBNull(3) ? default(int?) : (int?)dataReader.GetInt32(3) } catch (Exception) { ... } ;
            value5 = try { dataReader.GetString(4) } catch (Exception) { ... } ;
            value6 = try { dataReader.GetString(5) } catch (Exception) { ... } ;
            return new ClassBasicResponse{ 
                ClassCode = value1, 
                ClassName = value2, 
                FacultyCode = value3, 
                StudentCount = (int)value4, 
                FacultyName = value5, 
                AcademicYearCode = value6 
            }
            ;
        }, 
        contextType: FacultyService.Application.FacultyDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: True, 
        threadSafetyChecksEnabled: True);
}"'
2025-06-08T21:35:18.3633285+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:35:18.3640326+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:35:18.3643458+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T21:35:18.3644670+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:35:18.3645638+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:35:18.3647396+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T21:35:18.3720284+07:00 [INF] (///) Executed DbCommand ("7"ms) [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T21:35:18.3745558+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:35:18.3747581+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 2ms reading results.
2025-06-08T21:35:18.3749862+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:35:18.3750688+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T21:35:18.3764601+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 2038ms
2025-06-08T21:35:18.3822880+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2058.2743ms.
2025-06-08T21:35:18.3976228+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T21:35:18.4024840+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T21:35:18.4026260+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T21:35:18.4038400+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T21:35:18.4047417+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T21:35:18.4055243+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T21:35:18.4534736+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 2161.6438ms
2025-06-08T21:35:18.4546588+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T21:35:18.4690097+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 2231.4853 ms
2025-06-08T21:35:18.4745869+07:00 [DBG] (///) Connection id ""0HND6J6NNA1JM"" completed keep alive response.
2025-06-08T21:35:18.4867941+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T21:35:18.4979840+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:35:18.5015531+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (4ms).
2025-06-08T21:35:18.5049310+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - 200 null "application/json; charset=utf-8" 2360.5566ms
2025-06-08T21:35:39.3510321+07:00 [INF] (///) Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:30000""""/api/v1/it-faculty/classes""" - null null
2025-06-08T21:35:39.3522779+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T21:35:39.3524049+07:00 [DBG] (///) Request matched endpoint '"405 HTTP Method Not Supported"'
2025-06-08T21:35:39.3527312+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T21:35:39.3530391+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T21:35:39.3531347+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T21:35:39.3532997+07:00 [DBG] (///) The request has an origin header: '"http://localhost:32101"'.
2025-06-08T21:35:39.3533900+07:00 [INF] (///) CORS policy execution successful.
2025-06-08T21:35:39.3537329+07:00 [DBG] (///) The request is a preflight request.
2025-06-08T21:35:39.3547491+07:00 [INF] (///) HTTP "OPTIONS" "/api/v1/it-faculty/classes" responded 204 in 1.9689 ms
2025-06-08T21:35:39.3550587+07:00 [DBG] (///) Connection id ""0HND6J6NNA1JM"" completed keep alive response.
2025-06-08T21:35:39.3552712+07:00 [INF] (///) Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:30000""""/api/v1/it-faculty/classes""" - 204 null null 4.2703ms
2025-06-08T21:35:39.3568596+07:00 [INF] (///) Request starting "HTTP/1.1" "POST" "http"://"localhost:30000""""/api/v1/it-faculty/classes""" - "application/json" 104
2025-06-08T21:35:39.3571234+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T21:35:39.3572682+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.CreateClass (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T21:35:39.3573584+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.CreateClass (FacultyService.Api)"'
2025-06-08T21:35:39.3574705+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T21:35:39.3576321+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T21:35:39.3576790+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T21:35:39.3577372+07:00 [DBG] (///) The request has an origin header: '"http://localhost:32101"'.
2025-06-08T21:35:39.3577569+07:00 [INF] (///) CORS policy execution successful.
2025-06-08T21:35:39.3578132+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.CreateClass (FacultyService.Api)"'
2025-06-08T21:35:39.3597841+07:00 [INF] (///) Route matched with "{action = \"CreateClass\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateClass(FacultyService.Api.Classes.Request.ClassBasicRequest, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T21:35:39.3598760+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T21:35:39.3599201+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T21:35:39.3599592+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:35:39.3599917+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T21:35:39.3600283+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:35:39.3600859+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:35:39.3601751+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:35:39.3604530+07:00 [DBG] (///) Attempting to bind parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"' ...
2025-06-08T21:35:39.3612136+07:00 [DBG] (///) Attempting to bind parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"' using the name '""' in request data ...
2025-06-08T21:35:39.3619702+07:00 [DBG] (///) Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
2025-06-08T21:35:39.3657414+07:00 [DBG] (///) Connection id ""0HND6J6NNA1JM"", Request id ""0HND6J6NNA1JM:00000003"": started reading request body.
2025-06-08T21:35:39.3660751+07:00 [DBG] (///) Connection id ""0HND6J6NNA1JM"", Request id ""0HND6J6NNA1JM:00000003"": done reading request body.
2025-06-08T21:35:39.3687583+07:00 [DBG] (///) JSON input formatter succeeded, deserializing to type '"FacultyService.Api.Classes.Request.ClassBasicRequest"'
2025-06-08T21:35:39.3690445+07:00 [DBG] (///) Done attempting to bind parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"'.
2025-06-08T21:35:39.3690911+07:00 [DBG] (///) Done attempting to bind parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"'.
2025-06-08T21:35:39.3691805+07:00 [DBG] (///) Attempting to validate the bound parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"' ...
2025-06-08T21:35:39.3705515+07:00 [DBG] (///) Done attempting to validate the bound parameter '"request"' of type '"FacultyService.Api.Classes.Request.ClassBasicRequest"'.
2025-06-08T21:35:39.3706457+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:35:39.3707471+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:35:39.3707852+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:35:39.3708334+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:35:39.3711522+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.CreateClass (FacultyService.Api)" - Validation state: Valid
2025-06-08T21:36:02.3005590+07:00 [INF] (///) Processing request "CreateClassCommand" with data [("ClassName": "***REDACTED***"), ("ClassCode": ClassCode { Value: "D22CQCN01", AcademicYear: "22", MajorCode: "CN", ClassNumber: 1 }), ("AcademicYearCode": AcademicYearCode { StartYearValue: "2022", EndYearValue: "2027", Value: "2022-2027", ShortValue: "22-27", StartYear: "The property accessor threw an exception: FormatException", EndYear: "The property accessor threw an exception: FormatException" })]
2025-06-08T21:36:02.3171729+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "DetailedErrorsEnabled "
2025-06-08T21:36:02.3262771+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T21:36:02.3264430+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T21:36:02.3264832+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:36:02.3265348+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:36:02.3287696+07:00 [DBG] (///) Beginning transaction with isolation level '"ReadCommitted"'.
2025-06-08T21:36:02.3329400+07:00 [DBG] (///) Began transaction with isolation level '"ReadCommitted"'.
2025-06-08T21:36:02.3954294+07:00 [DBG] (///) Context '"FacultyDbContext"' started tracking '"GlobalClassCode"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-08T21:36:02.4109579+07:00 [DBG] (///) The navigation '"Class"."GlobalClassCode"' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-08T21:36:02.4172890+07:00 [DBG] (///) Context '"FacultyDbContext"' started tracking '"Class"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-08T21:36:02.4196423+07:00 [DBG] (///) SaveChanges starting for '"FacultyDbContext"'.
2025-06-08T21:36:02.4225137+07:00 [DBG] (///) DetectChanges starting for '"FacultyDbContext"'.
2025-06-08T21:36:02.4267843+07:00 [DBG] (///) DetectChanges completed for '"FacultyDbContext"'.
2025-06-08T21:36:02.4884441+07:00 [DBG] (///) Executing 2 update commands as a batch.
2025-06-08T21:36:02.4914607+07:00 [DBG] (///) Creating transaction savepoint.
2025-06-08T21:36:02.4961808+07:00 [DBG] (///) Created transaction savepoint.
2025-06-08T21:36:02.4976892+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T21:36:02.4977650+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:36:02.4980436+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:36:02.4981184+07:00 [DBG] (///) Executing DbCommand [Parameters=["@p0='?', @p1='?', @p2='?', @p3='?', @p4='?', @p5='?'"], CommandType='Text', CommandTimeout='300']"
""INSERT INTO global_class_code (class_code, class_name)
VALUES (@p0, @p1);
INSERT INTO class (class_code, faculty_code, academic_year_code, class_name)
VALUES (@p2, @p3, @p4, @p5);"
2025-06-08T21:36:02.5147822+07:00 [INF] (///) Executed DbCommand ("17"ms) [Parameters=["@p0='?', @p1='?', @p2='?', @p3='?', @p4='?', @p5='?'"], CommandType='Text', CommandTimeout='300']"
""INSERT INTO global_class_code (class_code, class_name)
VALUES (@p0, @p1);
INSERT INTO class (class_code, faculty_code, academic_year_code, class_name)
VALUES (@p2, @p3, @p4, @p5);"
2025-06-08T21:36:02.5173641+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:36:02.5174729+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 2ms reading results.
2025-06-08T21:36:02.5194898+07:00 [DBG] (///) Releasing transaction savepoint.
2025-06-08T21:36:02.5223155+07:00 [DBG] (///) Released transaction savepoint.
2025-06-08T21:36:02.5294351+07:00 [DBG] (///) An entity of type '"GlobalClassCode"' tracked by '"FacultyDbContext"' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-08T21:36:02.5297616+07:00 [DBG] (///) An entity of type '"Class"' tracked by '"FacultyDbContext"' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-08T21:36:02.5315211+07:00 [DBG] (///) SaveChanges completed for '"FacultyDbContext"' with 2 entities written to the database.
2025-06-08T21:36:02.5336452+07:00 [DBG] (///) Committing transaction.
2025-06-08T21:36:02.5408763+07:00 [DBG] (///) Committed transaction.
2025-06-08T21:36:02.5424132+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:36:02.5427743+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T21:36:02.5442876+07:00 [DBG] (///) Disposing transaction.
2025-06-08T21:36:02.5444272+07:00 [INF] (///) Request "CreateClassCommand" processed successfully in 243ms
2025-06-08T21:36:02.5457128+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.CreateClass (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.CreatedAtActionResult" in 23174.4445ms.
2025-06-08T21:36:02.5460258+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T21:36:02.5461296+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T21:36:02.5461499+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T21:36:02.5461716+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T21:36:02.5462566+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T21:36:02.5462919+07:00 [INF] (///) Executing "CreatedAtActionResult", writing value of type '"Shared.Domain.ValueObject.ClassCode"'.
2025-06-08T21:36:02.5699422+07:00 [DBG] (///) Found the endpoints ["FacultyService.Api.Classes.Controller.ClassesController.GetClassById (FacultyService.Api)"] for address "(id=[D22CQCN01],version=[1],action=[GetClassById],controller=[Classes])"
2025-06-08T21:36:02.5719853+07:00 [DBG] (///) Failed to process the template "api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes/{id}" for "FacultyService.Api.Classes.Controller.ClassesController.GetClassById (FacultyService.Api)". A required route value is missing, or has a different value from the required default values. Supplied ambient values "{ \"action\": \"CreateClass\", \"controller\": \"Classes\", \"facultyCode\": \"it-faculty\", \"version\": \"1\" }" and "{ \"action\": \"GetClassById\", \"controller\": \"Classes\", \"id\": \"D22CQCN01\", \"version\": \"1\" }" with default values "{ \"action\": \"GetClassById\", \"controller\": \"Classes\" }"
2025-06-08T21:36:02.5723927+07:00 [DBG] (///) Link generation failed for endpoints ["FacultyService.Api.Classes.Controller.ClassesController.GetClassById (FacultyService.Api)"]
2025-06-08T21:36:02.5742196+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.CreateClass (FacultyService.Api)" in 23214.1403ms
2025-06-08T21:36:02.5746591+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.CreateClass (FacultyService.Api)"'
2025-06-08T21:36:02.5761839+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtActionResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|22_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Finbuckle.MultiTenant.AspNetCore.Internal.MultiTenantMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-08T21:36:02.6299728+07:00 [ERR] (///) HTTP "POST" "/api/v1/it-faculty/classes" responded 500 in 23272.4016 ms
2025-06-08T21:36:02.6301308+07:00 [DBG] (///) Connection id ""0HND6J6NNA1JM"" completed keep alive response.
2025-06-08T21:36:02.6302263+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T21:36:02.6303206+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:36:02.6303763+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T21:36:02.6304429+07:00 [INF] (///) Request finished "HTTP/1.1" "POST" "http"://"localhost:30000""""/api/v1/it-faculty/classes""" - 500 null "application/problem+json" 23273.5856ms
2025-06-08T21:36:02.6329872+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - null null
2025-06-08T21:36:02.6333586+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T21:36:02.6334632+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T21:36:02.6335509+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T21:36:02.6337340+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T21:36:02.6339299+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T21:36:02.6339987+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T21:36:02.6340810+07:00 [DBG] (///) The request has an origin header: '"http://localhost:32101"'.
2025-06-08T21:36:02.6341276+07:00 [INF] (///) CORS policy execution successful.
2025-06-08T21:36:02.6342437+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T21:36:02.6344732+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T21:36:02.6345982+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T21:36:02.6346289+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T21:36:02.6346700+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:36:02.6346959+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T21:36:02.6347195+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:36:02.6347572+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:36:02.6348075+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:36:02.6349370+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T21:36:02.6350592+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T21:36:02.6351252+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T21:36:02.6352361+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T21:36:02.6352665+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T21:36:02.6352942+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T21:36:02.6353384+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T21:36:02.6353762+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T21:36:02.6354040+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T21:36:02.6354364+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T21:36:02.6354618+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T21:36:02.6354893+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T21:36:02.6355221+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T21:36:02.6355697+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T21:36:02.6356009+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T21:36:02.6356249+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T21:36:02.6358329+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T21:36:02.6358731+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:36:02.6359161+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:36:02.6359449+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:36:02.6359708+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:36:02.6360992+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T21:36:02.6362712+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 50, OrderBy: null, Filter: null })]
2025-06-08T21:36:02.6519837+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "DetailedErrorsEnabled "
2025-06-08T21:36:02.6550503+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T21:36:02.6551534+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T21:36:02.6551885+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:36:02.6552348+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:36:02.6553689+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T21:36:02.6554104+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:36:02.6554509+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:36:02.6555094+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T21:36:02.6581927+07:00 [INF] (///) Executed DbCommand ("3"ms) [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T21:36:02.6584283+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:36:02.6584876+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T21:36:02.6585816+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:36:02.6586241+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T21:36:02.6590534+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:36:02.6591066+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:36:02.6592156+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T21:36:02.6592558+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:36:02.6593055+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:36:02.6593577+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T21:36:02.6611622+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T21:36:02.6641219+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:36:02.6642710+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 2ms reading results.
2025-06-08T21:36:02.6644008+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:36:02.6644485+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T21:36:02.6645646+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 28ms
2025-06-08T21:36:02.6646318+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 28.4812ms.
2025-06-08T21:36:02.6648684+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T21:36:02.6649336+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T21:36:02.6649495+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T21:36:02.6649642+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T21:36:02.6649934+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T21:36:02.6650256+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T21:36:02.6672314+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 32.4709ms
2025-06-08T21:36:02.6673370+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T21:36:02.6674442+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 33.6525 ms
2025-06-08T21:36:02.6675535+07:00 [DBG] (///) Connection id ""0HND6J6NNA1JM"" completed keep alive response.
2025-06-08T21:36:02.6676166+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T21:36:02.6676681+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:36:02.6677176+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T21:36:02.6677837+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - 200 null "application/json; charset=utf-8" 34.802ms
2025-06-08T21:36:19.6275523+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - null null
2025-06-08T21:36:19.6279184+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T21:36:19.6280337+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T21:36:19.6281105+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T21:36:19.6283069+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T21:36:19.6284673+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T21:36:19.6285262+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T21:36:19.6285919+07:00 [DBG] (///) The request has an origin header: '"http://localhost:32101"'.
2025-06-08T21:36:19.6286317+07:00 [INF] (///) CORS policy execution successful.
2025-06-08T21:36:19.6286722+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T21:36:19.6287760+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T21:36:19.6288944+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T21:36:19.6289472+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T21:36:19.6290046+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:36:19.6294372+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T21:36:19.6295432+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:36:19.6297209+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:36:19.6298435+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:36:19.6299546+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T21:36:19.6300299+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T21:36:19.6300862+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T21:36:19.6301317+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T21:36:19.6301724+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T21:36:19.6302118+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T21:36:19.6302815+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T21:36:19.6303291+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T21:36:19.6303682+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T21:36:19.6304140+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T21:36:19.6304466+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T21:36:19.6306136+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T21:36:19.6306587+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T21:36:19.6306985+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T21:36:19.6307593+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T21:36:19.6307921+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T21:36:19.6308903+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T21:36:19.6309394+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:36:19.6310222+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:36:19.6310525+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:36:19.6310831+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:36:19.6312870+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T21:36:19.6315134+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 50, OrderBy: null, Filter: null })]
2025-06-08T21:36:19.6337069+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "DetailedErrorsEnabled "
2025-06-08T21:36:19.6344649+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T21:36:19.6345725+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T21:36:19.6346148+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:36:19.6346692+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:36:19.6348929+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T21:36:19.6349502+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:36:19.6349984+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:36:19.6350656+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T21:36:19.6368728+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T21:36:19.6371564+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:36:19.6372262+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T21:36:19.6374238+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:36:19.6374857+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T21:36:19.6378948+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:36:19.6379909+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:36:19.6381473+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T21:36:19.6381980+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:36:19.6382524+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:36:19.6383217+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T21:36:19.6418095+07:00 [INF] (///) Executed DbCommand ("3"ms) [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T21:36:19.6424176+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:36:19.6425486+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T21:36:19.6426975+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:36:19.6427663+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T21:36:19.6428983+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 11ms
2025-06-08T21:36:19.6429591+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 11.5922ms.
2025-06-08T21:36:19.6432341+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T21:36:19.6433278+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T21:36:19.6433583+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T21:36:19.6433781+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T21:36:19.6434118+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T21:36:19.6434465+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T21:36:19.6437816+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 14.0834ms
2025-06-08T21:36:19.6438602+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T21:36:19.6439850+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 15.6124 ms
2025-06-08T21:36:19.6440967+07:00 [DBG] (///) Connection id ""0HND6J6NNA1JM"" completed keep alive response.
2025-06-08T21:36:19.6441559+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T21:36:19.6442054+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:36:19.6442560+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T21:36:19.6443262+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - 200 null "application/json; charset=utf-8" 16.7829ms
2025-06-08T21:45:05.9529848+07:00 [DBG] (///) Connection id ""0HND6J6NNA1JM"" received FIN.
2025-06-08T21:45:06.0004728+07:00 [DBG] (///) Connection id ""0HND6J6NNA1JM"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-08T21:45:06.0220196+07:00 [DBG] (///) Connection id ""0HND6J6NNA1JM"" disconnecting.
2025-06-08T21:45:06.0237977+07:00 [DBG] (///) Connection id ""0HND6J6NNA1JM"" stopped.
2025-06-08T21:45:17.1762750+07:00 [DBG] (///) Connection id ""0HND6J6NNA1JN"" accepted.
2025-06-08T21:45:17.1765128+07:00 [DBG] (///) Connection id ""0HND6J6NNA1JN"" started.
2025-06-08T21:45:17.1776807+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - null null
2025-06-08T21:45:17.1784285+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T21:45:17.1786113+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T21:45:17.1787655+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T21:45:17.1789672+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T21:45:17.1793937+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T21:45:17.1795003+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T21:45:17.1796228+07:00 [DBG] (///) The request has an origin header: '"http://localhost:32101"'.
2025-06-08T21:45:17.1796620+07:00 [INF] (///) CORS policy execution successful.
2025-06-08T21:45:17.1797372+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T21:45:17.1800654+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T21:45:17.1803207+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T21:45:17.1803884+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T21:45:17.1804791+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:45:17.1805291+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T21:45:17.1805823+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:45:17.1806745+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:45:17.1808250+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:45:17.1809873+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T21:45:17.1810890+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T21:45:17.1812437+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T21:45:17.1813315+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T21:45:17.1813823+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T21:45:17.1814197+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T21:45:17.1817122+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T21:45:17.1817697+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T21:45:17.1818083+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T21:45:17.1818414+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T21:45:17.1818730+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T21:45:17.1819047+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T21:45:17.1819373+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T21:45:17.1819672+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T21:45:17.1819940+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T21:45:17.1820336+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T21:45:17.1822116+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T21:45:17.1822694+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:45:17.1823813+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:45:17.1824310+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:45:17.1825721+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:45:17.1829536+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T21:45:17.1833393+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 50, OrderBy: null, Filter: null })]
2025-06-08T21:45:17.1881932+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "DetailedErrorsEnabled "
2025-06-08T21:45:17.1904046+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T21:45:17.1908175+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T21:45:17.1910638+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:45:17.2276926+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:45:17.2281220+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T21:45:17.2282797+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:45:17.2284623+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:45:17.2286461+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T21:45:17.2408319+07:00 [INF] (///) Executed DbCommand ("12"ms) [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T21:45:17.2412271+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:45:17.2413962+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T21:45:17.2416028+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:45:17.2417011+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T21:45:17.2422811+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:45:17.2423324+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:45:17.2425057+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T21:45:17.2425361+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:45:17.2426110+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:45:17.2426861+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T21:45:17.2475638+07:00 [INF] (///) Executed DbCommand ("5"ms) [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T21:45:17.2480912+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:45:17.2481891+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T21:45:17.2484413+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:45:17.2485168+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T21:45:17.2486830+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 65ms
2025-06-08T21:45:17.2488345+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 65.7271ms.
2025-06-08T21:45:17.2491415+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T21:45:17.2492204+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T21:45:17.2492526+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T21:45:17.2492765+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T21:45:17.2493335+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T21:45:17.2493646+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T21:45:17.2497312+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 69.0753ms
2025-06-08T21:45:17.2497905+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T21:45:17.2499435+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 70.9094 ms
2025-06-08T21:45:17.2500166+07:00 [DBG] (///) Connection id ""0HND6J6NNA1JN"" completed keep alive response.
2025-06-08T21:45:17.2501068+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T21:45:17.2501642+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:45:17.2502354+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T21:45:17.2503717+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - 200 null "application/json; charset=utf-8" 72.6524ms
2025-06-08T21:45:17.7186510+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - null null
2025-06-08T21:45:17.7190363+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T21:45:17.7191116+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T21:45:17.7191804+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T21:45:17.7192807+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T21:45:17.7195836+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T21:45:17.7196584+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T21:45:17.7197268+07:00 [DBG] (///) The request has an origin header: '"http://localhost:32101"'.
2025-06-08T21:45:17.7197593+07:00 [INF] (///) CORS policy execution successful.
2025-06-08T21:45:17.7198093+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T21:45:17.7199162+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T21:45:17.7199983+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T21:45:17.7200388+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T21:45:17.7200762+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:45:17.7201051+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T21:45:17.7201420+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:45:17.7201938+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:45:17.7203523+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:45:17.7204417+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T21:45:17.7205727+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T21:45:17.7206472+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T21:45:17.7207053+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T21:45:17.7207525+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T21:45:17.7207868+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T21:45:17.7208359+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T21:45:17.7208751+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T21:45:17.7209066+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T21:45:17.7209389+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T21:45:17.7209673+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T21:45:17.7210053+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T21:45:17.7212027+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T21:45:17.7212636+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T21:45:17.7212986+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T21:45:17.7213330+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T21:45:17.7214081+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T21:45:17.7214588+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:45:17.7215374+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:45:17.7215780+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:45:17.7216126+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:45:17.7217866+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T21:45:17.7219866+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 50, OrderBy: null, Filter: null })]
2025-06-08T21:45:17.7687667+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "DetailedErrorsEnabled "
2025-06-08T21:45:17.7693661+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T21:45:17.7694575+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T21:45:17.7695258+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:45:17.7695804+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:45:17.7698303+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T21:45:17.7699002+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:45:17.7699506+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:45:17.7700141+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T21:45:17.7721126+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T21:45:17.7724674+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:45:17.7726085+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T21:45:17.7727903+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:45:17.7728801+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T21:45:17.7734422+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:45:17.7735638+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:45:17.7737736+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T21:45:17.7738412+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:45:17.7740271+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:45:17.7741577+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T21:45:17.7768379+07:00 [INF] (///) Executed DbCommand ("3"ms) [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T21:45:17.7772517+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:45:17.7773427+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T21:45:17.7774628+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:45:17.7775195+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T21:45:17.7776389+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 55ms
2025-06-08T21:45:17.7777878+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 55.9042ms.
2025-06-08T21:45:17.7780458+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T21:45:17.7781409+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T21:45:17.7781870+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T21:45:17.7782086+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T21:45:17.7782573+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T21:45:17.7783100+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T21:45:17.7785082+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 58.3263ms
2025-06-08T21:45:17.7785637+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T21:45:17.7786736+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 59.3304 ms
2025-06-08T21:45:17.7787440+07:00 [DBG] (///) Connection id ""0HND6J6NNA1JN"" completed keep alive response.
2025-06-08T21:45:17.7787985+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T21:45:17.7788465+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:45:17.7788959+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T21:45:17.7809594+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - 200 null "application/json; charset=utf-8" 62.314ms
2025-06-08T21:46:50.3483067+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - null null
2025-06-08T21:46:50.3487235+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T21:46:50.3488436+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T21:46:50.3489283+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T21:46:50.3490138+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T21:46:50.3493279+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T21:46:50.3494096+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T21:46:50.3494941+07:00 [DBG] (///) The request has an origin header: '"http://localhost:32101"'.
2025-06-08T21:46:50.3495402+07:00 [INF] (///) CORS policy execution successful.
2025-06-08T21:46:50.3495775+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T21:46:50.3496770+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T21:46:50.3497898+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T21:46:50.3498623+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T21:46:50.3499399+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:46:50.3500029+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T21:46:50.3505556+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:46:50.3506631+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:46:50.3924948+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:46:50.3932652+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T21:46:50.4146306+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T21:46:50.4147149+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T21:46:50.4147720+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T21:46:50.4148282+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T21:46:50.4148850+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T21:46:50.4150574+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T21:46:50.4151230+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T21:46:50.4151826+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T21:46:50.4153641+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T21:46:50.4154204+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T21:46:50.4154736+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T21:46:50.4155021+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T21:46:50.4155665+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T21:46:50.4156164+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T21:46:50.4156672+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T21:46:50.4157538+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T21:46:50.4158277+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:46:50.4159416+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:46:50.4160100+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:46:50.4160680+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:46:50.4162538+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T21:46:50.4164854+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 50, OrderBy: null, Filter: null })]
2025-06-08T21:46:50.4178100+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "DetailedErrorsEnabled "
2025-06-08T21:46:50.4184036+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T21:46:50.4184893+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T21:46:50.4185624+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:46:50.4186339+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:46:50.4188398+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T21:46:50.4188879+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:46:50.4189635+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:46:50.4190905+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T21:46:50.4273048+07:00 [ERR] (///) Failed executing DbCommand ("6"ms) [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T21:46:50.4365862+07:00 [ERR] (///) An exception occurred while iterating over the results of a query for context type '"FacultyService.Application.FacultyDbContext"'."
""System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.IO.EndOfStreamException: Attempted to read past the end of the stream.
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()"
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.IO.EndOfStreamException: Attempted to read past the end of the stream.
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Arch.EntityFrameworkCore.UnitOfWork.Collections.IQueryablePageListExtensions.ToPagedListAsync[T](IQueryable`1 source, Int32 pageIndex, Int32 pageSize, Int32 indexFrom, CancellationToken cancellationToken)
   at FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler.Handle(DefaultClassQuery request, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/Classes/QueryHandler/GetAllClassesQueryHandler.cs:line 15
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
2025-06-08T21:46:50.5715468+07:00 [ERR] (///) Error processing request "DefaultClassQuery" after 154ms
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.IO.EndOfStreamException: Attempted to read past the end of the stream.
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Arch.EntityFrameworkCore.UnitOfWork.Collections.IQueryablePageListExtensions.ToPagedListAsync[T](IQueryable`1 source, Int32 pageIndex, Int32 pageSize, Int32 indexFrom, CancellationToken cancellationToken)
   at FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler.Handle(DefaultClassQuery request, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/Classes/QueryHandler/GetAllClassesQueryHandler.cs:line 15
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
   at FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses(GridifyQuery gridifyQuery, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api/Classes/Controller/ClassesController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2025-06-08T21:46:50.6421266+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 291.4727ms
2025-06-08T21:46:50.6424371+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T21:46:50.6426478+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.IO.EndOfStreamException: Attempted to read past the end of the stream.
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Arch.EntityFrameworkCore.UnitOfWork.Collections.IQueryablePageListExtensions.ToPagedListAsync[T](IQueryable`1 source, Int32 pageIndex, Int32 pageSize, Int32 indexFrom, CancellationToken cancellationToken)
   at FacultyService.Application.Classes.QueryHandler.GetAllClassesQueryHandler.Handle(DefaultClassQuery request, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/Classes/QueryHandler/GetAllClassesQueryHandler.cs:line 15
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
   at FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses(GridifyQuery gridifyQuery, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api/Classes/Controller/ClassesController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Finbuckle.MultiTenant.AspNetCore.Internal.MultiTenantMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-08T21:46:50.6560444+07:00 [ERR] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 500 in 306.9741 ms
2025-06-08T21:46:50.6561673+07:00 [DBG] (///) Connection id ""0HND6J6NNA1JN"" completed keep alive response.
2025-06-08T21:46:50.6562270+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T21:46:50.6563212+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:46:50.6563634+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T21:46:50.6564185+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - 500 null "application/problem+json" 308.1779ms
2025-06-08T21:46:51.6624670+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - null null
2025-06-08T21:46:51.6629177+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T21:46:51.6630201+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T21:46:51.6631086+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T21:46:51.6631907+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T21:46:51.6632910+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T21:46:51.6633290+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T21:46:51.6633774+07:00 [DBG] (///) The request has an origin header: '"http://localhost:32101"'.
2025-06-08T21:46:51.6633976+07:00 [INF] (///) CORS policy execution successful.
2025-06-08T21:46:51.6634310+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T21:46:51.6635088+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T21:46:51.6635592+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T21:46:51.6635823+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T21:46:51.6636091+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:46:51.6637000+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T21:46:51.6637256+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:46:51.6637575+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:46:51.6637989+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:46:51.6638594+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T21:46:51.6639105+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T21:46:51.6639458+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T21:46:51.6639729+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T21:46:51.6639977+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T21:46:51.6640214+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T21:46:51.6640486+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T21:46:51.6641288+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T21:46:51.6641529+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T21:46:51.6641745+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T21:46:51.6641931+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T21:46:51.6642129+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T21:46:51.6642328+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T21:46:51.6642515+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T21:46:51.6642685+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T21:46:51.6642849+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T21:46:51.6643396+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T21:46:51.6643624+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:46:51.6644038+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:46:51.6644230+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:46:51.6644838+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:46:51.6645872+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T21:46:51.6647047+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 50, OrderBy: null, Filter: null })]
2025-06-08T21:46:51.6655328+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "DetailedErrorsEnabled "
2025-06-08T21:46:51.6658720+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T21:46:51.6659293+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T21:46:51.6659628+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:46:51.6740662+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:46:51.6743891+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T21:46:51.6744679+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:46:51.6745444+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:46:51.6746117+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T21:46:51.6843364+07:00 [INF] (///) Executed DbCommand ("10"ms) [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T21:46:51.6846723+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:46:51.6847533+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T21:46:51.6848622+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:46:51.6849254+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T21:46:51.6852312+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:46:51.6853456+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:46:51.6854284+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T21:46:51.6854602+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:46:51.6854963+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:46:51.6855423+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T21:46:51.6882487+07:00 [INF] (///) Executed DbCommand ("3"ms) [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T21:46:51.6885709+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:46:51.6886644+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T21:46:51.6888422+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:46:51.6890135+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T21:46:51.6891637+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 24ms
2025-06-08T21:46:51.6892665+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 24.6234ms.
2025-06-08T21:46:51.6895007+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T21:46:51.6895734+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T21:46:51.6895988+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T21:46:51.6896163+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T21:46:51.6897363+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T21:46:51.6897708+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T21:46:51.6899674+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 26.216ms
2025-06-08T21:46:51.6900076+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T21:46:51.6900934+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 26.8670 ms
2025-06-08T21:46:51.6901530+07:00 [DBG] (///) Connection id ""0HND6J6NNA1JN"" completed keep alive response.
2025-06-08T21:46:51.6902009+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T21:46:51.6902352+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:46:51.6902813+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T21:46:51.6903439+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - 200 null "application/json; charset=utf-8" 27.8975ms
2025-06-08T21:50:28.5413624+07:00 [INF] (///) Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:30000""""/api/v1/it-faculty/classes/ids""" - null null
2025-06-08T21:50:28.5843144+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes/ids"'
2025-06-08T21:50:28.5844869+07:00 [DBG] (///) Request matched endpoint '"405 HTTP Method Not Supported"'
2025-06-08T21:50:28.5846228+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T21:50:28.5848455+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T21:50:28.5849132+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T21:50:28.6055635+07:00 [DBG] (///) The request has an origin header: '"http://localhost:32101"'.
2025-06-08T21:50:28.6066976+07:00 [INF] (///) CORS policy execution successful.
2025-06-08T21:50:28.6068580+07:00 [DBG] (///) The request is a preflight request.
2025-06-08T21:50:28.6073488+07:00 [INF] (///) HTTP "OPTIONS" "/api/v1/it-faculty/classes/ids" responded 204 in 22.3346 ms
2025-06-08T21:50:28.6081845+07:00 [DBG] (///) Connection id ""0HND6J6NNA1JN"" completed keep alive response.
2025-06-08T21:50:28.6082604+07:00 [INF] (///) Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:30000""""/api/v1/it-faculty/classes/ids""" - 204 null null 87.5007ms
2025-06-08T21:50:28.6092849+07:00 [INF] (///) Request starting "HTTP/1.1" "DELETE" "http"://"localhost:30000""""/api/v1/it-faculty/classes/ids""" - "application/json" 13
2025-06-08T21:50:28.6098597+07:00 [DBG] (///) 2 candidate(s) found for the request path '"/api/v1/it-faculty/classes/ids"'
2025-06-08T21:50:28.6099508+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.DeleteClassByIds (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes/ids"' is valid for the request path '"/api/v1/it-faculty/classes/ids"'
2025-06-08T21:50:28.6099920+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.DeleteClass (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes/{id}"' is valid for the request path '"/api/v1/it-faculty/classes/ids"'
2025-06-08T21:50:28.6101373+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.DeleteClassByIds (FacultyService.Api)"'
2025-06-08T21:50:28.6102432+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T21:50:28.6103563+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T21:50:28.6103941+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T21:50:28.6104893+07:00 [DBG] (///) The request has an origin header: '"http://localhost:32101"'.
2025-06-08T21:50:28.6105163+07:00 [INF] (///) CORS policy execution successful.
2025-06-08T21:50:28.6105480+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.DeleteClassByIds (FacultyService.Api)"'
2025-06-08T21:50:28.6125062+07:00 [INF] (///) Route matched with "{action = \"DeleteClassByIds\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteClassByIds(System.Collections.Generic.IList`1[System.String], System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T21:50:28.6126015+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T21:50:28.6126361+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T21:50:28.6126809+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:50:28.6127103+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T21:50:28.6127302+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:50:28.6127807+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:50:28.6128995+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:50:28.6130321+07:00 [DBG] (///) Attempting to bind parameter '"ids"' of type '"System.Collections.Generic.IList`1[System.String]"' ...
2025-06-08T21:50:28.6132187+07:00 [DBG] (///) Done attempting to bind parameter '"ids"' of type '"System.Collections.Generic.IList`1[System.String]"'.
2025-06-08T21:50:28.6132657+07:00 [DBG] (///) Attempting to validate the bound parameter '"ids"' of type '"System.Collections.Generic.IList`1[System.String]"' ...
2025-06-08T21:50:28.6135032+07:00 [DBG] (///) Done attempting to validate the bound parameter '"ids"' of type '"System.Collections.Generic.IList`1[System.String]"'.
2025-06-08T21:50:28.6135459+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:50:28.6135792+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:50:28.6136288+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:50:28.6137936+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:50:28.6139661+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.DeleteClassByIds (FacultyService.Api)" - Validation state: Valid
2025-06-08T21:50:28.6207299+07:00 [INF] (///) Processing request "DeleteClassByIdsCommand" with data [("ClassCodes": [])]
2025-06-08T21:50:28.6241648+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "DetailedErrorsEnabled "
2025-06-08T21:50:28.6253972+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T21:50:28.6257872+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T21:50:28.6258432+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:50:28.6258889+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:50:28.6261401+07:00 [DBG] (///) Beginning transaction with isolation level '"Unspecified"'.
2025-06-08T21:50:28.6262251+07:00 [DBG] (///) Began transaction with isolation level '"ReadCommitted"'.
2025-06-08T21:50:28.6308075+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<GlobalClassCode>()
    .Where(c => __request_ClassCodes_0.Contains((ClassCode)c.ClassCode))
    .ExecuteDelete()"'
2025-06-08T21:50:28.7049508+07:00 [DBG] (///) Rolling back transaction.
2025-06-08T21:50:28.7082637+07:00 [ERR] (///) An error occurred using a transaction.
2025-06-08T21:50:28.7208210+07:00 [DBG] (///) Disposing transaction.
2025-06-08T21:50:28.7445665+07:00 [ERR] (///) Error processing request "DeleteClassByIdsCommand" after 123ms
Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.IO.EndOfStreamException: Attempted to read past the end of the stream.
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ExecuteInternalCommand(Byte[] data, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlTransaction.Rollback(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalTransaction.RollbackAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalTransaction.RollbackAsync(CancellationToken cancellationToken)
   at FacultyService.Application.Classes.CommandHandler.DeleteClassByIdsCommandHandler.Handle(DeleteClassByIdsCommand request, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/Classes/CommandHandler/DeleteClassByIdsCommandHandler.cs:line 25
   at FacultyService.Application.Classes.CommandHandler.DeleteClassByIdsCommandHandler.Handle(DeleteClassByIdsCommand request, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/Classes/CommandHandler/DeleteClassByIdsCommandHandler.cs:line 28
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
   at FacultyService.Api.Classes.Controller.ClassesController.DeleteClassByIds(IList`1 ids, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api/Classes/Controller/ClassesController.cs:line 71
2025-06-08T21:50:46.6835939+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.DeleteClassByIds (FacultyService.Api)" in 18070.7999ms
2025-06-08T21:50:46.6838925+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.DeleteClassByIds (FacultyService.Api)"'
2025-06-08T21:50:46.6841003+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.IO.EndOfStreamException: Attempted to read past the end of the stream.
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ExecuteInternalCommand(Byte[] data, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlTransaction.Rollback(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalTransaction.RollbackAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalTransaction.RollbackAsync(CancellationToken cancellationToken)
   at FacultyService.Application.Classes.CommandHandler.DeleteClassByIdsCommandHandler.Handle(DeleteClassByIdsCommand request, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/Classes/CommandHandler/DeleteClassByIdsCommandHandler.cs:line 25
   at FacultyService.Application.Classes.CommandHandler.DeleteClassByIdsCommandHandler.Handle(DeleteClassByIdsCommand request, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/Classes/CommandHandler/DeleteClassByIdsCommandHandler.cs:line 28
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
   at FacultyService.Api.Classes.Controller.ClassesController.DeleteClassByIds(IList`1 ids, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api/Classes/Controller/ClassesController.cs:line 71
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Finbuckle.MultiTenant.AspNetCore.Internal.MultiTenantMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-08T21:50:46.6900787+07:00 [ERR] (///) HTTP "DELETE" "/api/v1/it-faculty/classes/ids" responded 500 in 18079.7900 ms
2025-06-08T21:50:46.6901821+07:00 [DBG] (///) Connection id ""0HND6J6NNA1JN"" completed keep alive response.
2025-06-08T21:50:46.6902359+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T21:50:46.6902769+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:50:46.6903096+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T21:50:46.6903623+07:00 [INF] (///) Request finished "HTTP/1.1" "DELETE" "http"://"localhost:30000""""/api/v1/it-faculty/classes/ids""" - 500 null "application/problem+json" 18081.0825ms
2025-06-08T21:50:46.6904712+07:00 [DBG] (///) Connection id ""0HND6J6NNA1JN"", Request id ""0HND6J6NNA1JN:00000006"": started reading request body.
2025-06-08T21:50:46.6907205+07:00 [DBG] (///) Connection id ""0HND6J6NNA1JN"", Request id ""0HND6J6NNA1JN:00000006"": done reading request body.
2025-06-08T21:50:46.7128596+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - null null
2025-06-08T21:50:46.7133352+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T21:50:46.7134626+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T21:50:46.7135522+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T21:50:46.7136603+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T21:50:46.7138337+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T21:50:46.7138961+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T21:50:46.7139746+07:00 [DBG] (///) The request has an origin header: '"http://localhost:32101"'.
2025-06-08T21:50:46.7140089+07:00 [INF] (///) CORS policy execution successful.
2025-06-08T21:50:46.7140748+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T21:50:46.7141470+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T21:50:46.7142338+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T21:50:46.7142680+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T21:50:46.7143024+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:50:46.7143332+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T21:50:46.7143524+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:50:46.7143971+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:50:46.7144474+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:50:46.7145150+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T21:50:46.7145610+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T21:50:46.7146989+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T21:50:46.7147452+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T21:50:46.7147749+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T21:50:46.7148067+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T21:50:46.7148455+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T21:50:46.7148731+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T21:50:46.7148970+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T21:50:46.7149196+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T21:50:46.7149422+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T21:50:46.7149659+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T21:50:46.7149892+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T21:50:46.7150110+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T21:50:46.7150310+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T21:50:46.7150506+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T21:50:46.7151707+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T21:50:46.7152084+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:50:46.7152529+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:50:46.7152827+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:50:46.7153069+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:50:46.7154403+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T21:50:46.7155922+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 50, OrderBy: null, Filter: null })]
2025-06-08T21:50:46.7167292+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "DetailedErrorsEnabled "
2025-06-08T21:50:46.7172983+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T21:50:46.7174175+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T21:50:46.7174673+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:50:46.7647269+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:50:46.7650831+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T21:50:46.7651730+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:50:46.7652328+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:50:46.7653101+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T21:50:46.7810935+07:00 [INF] (///) Executed DbCommand ("16"ms) [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T21:50:46.7814782+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:50:46.7815623+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T21:50:46.7817044+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:50:46.7817670+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T21:50:46.7821936+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:50:46.7823507+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:50:46.7825102+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T21:50:46.7825596+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:50:46.7826492+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:50:46.7827417+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T21:50:46.7878189+07:00 [INF] (///) Executed DbCommand ("5"ms) [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T21:50:46.7882130+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:50:46.7883518+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T21:50:46.7886004+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:50:46.7886866+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T21:50:46.7888224+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 73ms
2025-06-08T21:50:46.7888989+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 73.4059ms.
2025-06-08T21:50:46.7891024+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T21:50:46.7891895+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T21:50:46.7892362+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T21:50:46.7892814+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T21:50:46.7893254+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T21:50:46.7893612+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T21:50:46.7895738+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 75.1892ms
2025-06-08T21:50:46.7896256+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T21:50:46.7897225+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 76.0088 ms
2025-06-08T21:50:46.7897892+07:00 [DBG] (///) Connection id ""0HND6J6NNA1JN"" completed keep alive response.
2025-06-08T21:50:46.7899947+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T21:50:46.7900366+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:50:46.7900715+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T21:50:46.7901324+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - 200 null "application/json; charset=utf-8" 77.2841ms
2025-06-08T21:50:54.7931294+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - null null
2025-06-08T21:50:54.7936496+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T21:50:54.7937534+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T21:50:54.7938278+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T21:50:54.7939342+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T21:50:54.7940861+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T21:50:54.7941316+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T21:50:54.7942040+07:00 [DBG] (///) The request has an origin header: '"http://localhost:32101"'.
2025-06-08T21:50:54.7943453+07:00 [INF] (///) CORS policy execution successful.
2025-06-08T21:50:54.7943944+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T21:50:54.7944844+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T21:50:54.7945833+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T21:50:54.7946115+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T21:50:54.7946988+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:50:54.7947538+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T21:50:54.7948073+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:50:54.7948676+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:50:54.7949438+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:50:54.7950443+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T21:50:54.7952221+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T21:50:54.7953114+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T21:50:54.7953477+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T21:50:54.7953779+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T21:50:54.7954094+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T21:50:54.7954512+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T21:50:54.7955102+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T21:50:54.7955636+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T21:50:54.7956025+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T21:50:54.7956335+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T21:50:54.7956628+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T21:50:54.7957451+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T21:50:54.7958137+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T21:50:54.7958443+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T21:50:54.7959711+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T21:50:54.7960510+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T21:50:54.7961000+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:50:54.7961770+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:50:54.7962049+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:50:54.7962418+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:50:54.7963889+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T21:50:54.7965474+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 50, OrderBy: null, Filter: null })]
2025-06-08T21:50:54.7974739+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "DetailedErrorsEnabled "
2025-06-08T21:50:54.7978489+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T21:50:54.7979232+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T21:50:54.7980603+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:50:54.7981193+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:50:54.7982764+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T21:50:54.7983357+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:50:54.7983875+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:50:54.7984412+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T21:50:54.8002348+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T21:50:54.8004528+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:50:54.8005464+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T21:50:54.8007001+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:50:54.8007730+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T21:50:54.8011950+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:50:54.8012943+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:50:54.8014614+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T21:50:54.8015386+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:50:54.8015909+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:50:54.8016671+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T21:50:54.8042580+07:00 [INF] (///) Executed DbCommand ("3"ms) [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T21:50:54.8046768+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:50:54.8047988+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T21:50:54.8049456+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:50:54.8050091+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T21:50:54.8051632+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 8ms
2025-06-08T21:50:54.8052477+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 8.7883ms.
2025-06-08T21:50:54.8055531+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T21:50:54.8056379+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T21:50:54.8056579+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T21:50:54.8057100+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T21:50:54.8057650+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T21:50:54.8058017+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T21:50:54.8059917+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 11.1361ms
2025-06-08T21:50:54.8060426+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T21:50:54.8061706+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 12.1680 ms
2025-06-08T21:50:54.8063022+07:00 [DBG] (///) Connection id ""0HND6J6NNA1JN"" completed keep alive response.
2025-06-08T21:50:54.8063804+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T21:50:54.8064363+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:50:54.8065036+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T21:50:54.8067756+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - 200 null "application/json; charset=utf-8" 13.6565ms
2025-06-08T21:50:59.8232053+07:00 [INF] (///) Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:30000""""/api/v1/it-faculty/classes/ids""" - null null
2025-06-08T21:50:59.8235176+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes/ids"'
2025-06-08T21:50:59.8235760+07:00 [DBG] (///) Request matched endpoint '"405 HTTP Method Not Supported"'
2025-06-08T21:50:59.8236807+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T21:50:59.8238246+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T21:50:59.8238840+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T21:50:59.8239407+07:00 [DBG] (///) The request has an origin header: '"http://localhost:32101"'.
2025-06-08T21:50:59.8239581+07:00 [INF] (///) CORS policy execution successful.
2025-06-08T21:50:59.8239913+07:00 [DBG] (///) The request is a preflight request.
2025-06-08T21:50:59.8240734+07:00 [INF] (///) HTTP "OPTIONS" "/api/v1/it-faculty/classes/ids" responded 204 in 0.3490 ms
2025-06-08T21:50:59.8241555+07:00 [DBG] (///) Connection id ""0HND6J6NNA1JN"" completed keep alive response.
2025-06-08T21:50:59.8242055+07:00 [INF] (///) Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:30000""""/api/v1/it-faculty/classes/ids""" - 204 null null 1.0256ms
2025-06-08T21:50:59.8265098+07:00 [INF] (///) Request starting "HTTP/1.1" "DELETE" "http"://"localhost:30000""""/api/v1/it-faculty/classes/ids""" - "application/json" 13
2025-06-08T21:50:59.8267396+07:00 [DBG] (///) 2 candidate(s) found for the request path '"/api/v1/it-faculty/classes/ids"'
2025-06-08T21:50:59.8268084+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.DeleteClassByIds (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes/ids"' is valid for the request path '"/api/v1/it-faculty/classes/ids"'
2025-06-08T21:50:59.8268590+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.DeleteClass (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes/{id}"' is valid for the request path '"/api/v1/it-faculty/classes/ids"'
2025-06-08T21:50:59.8269498+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.DeleteClassByIds (FacultyService.Api)"'
2025-06-08T21:50:59.8270629+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T21:50:59.8271998+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T21:50:59.8272520+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T21:50:59.8273011+07:00 [DBG] (///) The request has an origin header: '"http://localhost:32101"'.
2025-06-08T21:50:59.8274072+07:00 [INF] (///) CORS policy execution successful.
2025-06-08T21:50:59.8274370+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.DeleteClassByIds (FacultyService.Api)"'
2025-06-08T21:50:59.8275324+07:00 [INF] (///) Route matched with "{action = \"DeleteClassByIds\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteClassByIds(System.Collections.Generic.IList`1[System.String], System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T21:50:59.8276153+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T21:50:59.8276425+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T21:50:59.8276884+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:50:59.8277142+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T21:50:59.8277561+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:50:59.8278183+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:50:59.8278915+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:50:59.8279859+07:00 [DBG] (///) Attempting to bind parameter '"ids"' of type '"System.Collections.Generic.IList`1[System.String]"' ...
2025-06-08T21:50:59.8281963+07:00 [DBG] (///) Done attempting to bind parameter '"ids"' of type '"System.Collections.Generic.IList`1[System.String]"'.
2025-06-08T21:50:59.8282444+07:00 [DBG] (///) Attempting to validate the bound parameter '"ids"' of type '"System.Collections.Generic.IList`1[System.String]"' ...
2025-06-08T21:50:59.8283025+07:00 [DBG] (///) Done attempting to validate the bound parameter '"ids"' of type '"System.Collections.Generic.IList`1[System.String]"'.
2025-06-08T21:50:59.8283334+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:50:59.8285185+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:50:59.8285998+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:50:59.8286587+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:50:59.8288250+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.DeleteClassByIds (FacultyService.Api)" - Validation state: Valid
2025-06-08T21:50:59.8291857+07:00 [INF] (///) Processing request "DeleteClassByIdsCommand" with data [("ClassCodes": [])]
2025-06-08T21:50:59.8304371+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "DetailedErrorsEnabled "
2025-06-08T21:50:59.8334318+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T21:50:59.8335735+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T21:50:59.8336440+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:50:59.8337213+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:50:59.8339726+07:00 [DBG] (///) Beginning transaction with isolation level '"Unspecified"'.
2025-06-08T21:50:59.8340498+07:00 [DBG] (///) Began transaction with isolation level '"ReadCommitted"'.
2025-06-08T21:50:59.8345203+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<GlobalClassCode>()
    .Where(c => __request_ClassCodes_0.Contains((ClassCode)c.ClassCode))
    .ExecuteDelete()"'
2025-06-08T21:50:59.8528811+07:00 [DBG] (///) Rolling back transaction.
2025-06-08T21:50:59.8567649+07:00 [DBG] (///) Rolled back transaction.
2025-06-08T21:50:59.8569378+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:50:59.8570088+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T21:50:59.8572949+07:00 [ERR] (///) Error deleting class by ids
System.InvalidOperationException: The LINQ expression '__request_ClassCodes_0
    .Contains((ClassCode)StructuralTypeShaperExpression(
        StructuralType: FacultyService.Domain.Entity.GlobalClassCode
        ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
        IsNullable: False).ClassCode)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.<VisitMethodCall>g__TranslateAsSubquery|33_0(Expression expression, <>c__DisplayClass33_0&)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Query.Internal.NpgsqlSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.Translate(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateExpression(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateLambdaExpression(ShapedQueryExpression shapedQueryExpression, LambdaExpression lambdaExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Query.Internal.NpgsqlQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteDeleteAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at FacultyService.Application.Classes.CommandHandler.DeleteClassByIdsCommandHandler.Handle(DeleteClassByIdsCommand request, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/Classes/CommandHandler/DeleteClassByIdsCommandHandler.cs:line 17
   at FacultyService.Application.Classes.CommandHandler.DeleteClassByIdsCommandHandler.Handle(DeleteClassByIdsCommand request, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/Classes/CommandHandler/DeleteClassByIdsCommandHandler.cs:line 27
2025-06-08T21:50:59.8890370+07:00 [DBG] (///) Disposing transaction.
2025-06-08T21:50:59.9297985+07:00 [ERR] (///) Error processing request "DeleteClassByIdsCommand" after 100ms
System.InvalidOperationException: The LINQ expression '__request_ClassCodes_0
    .Contains((ClassCode)StructuralTypeShaperExpression(
        StructuralType: FacultyService.Domain.Entity.GlobalClassCode
        ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
        IsNullable: False).ClassCode)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.<VisitMethodCall>g__TranslateAsSubquery|33_0(Expression expression, <>c__DisplayClass33_0&)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Query.Internal.NpgsqlSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.Translate(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateExpression(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateLambdaExpression(ShapedQueryExpression shapedQueryExpression, LambdaExpression lambdaExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Query.Internal.NpgsqlQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteDeleteAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at FacultyService.Application.Classes.CommandHandler.DeleteClassByIdsCommandHandler.Handle(DeleteClassByIdsCommand request, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/Classes/CommandHandler/DeleteClassByIdsCommandHandler.cs:line 17
   at FacultyService.Application.Classes.CommandHandler.DeleteClassByIdsCommandHandler.Handle(DeleteClassByIdsCommand request, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/Classes/CommandHandler/DeleteClassByIdsCommandHandler.cs:line 27
   at FacultyService.Application.Classes.CommandHandler.DeleteClassByIdsCommandHandler.Handle(DeleteClassByIdsCommand request, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/Classes/CommandHandler/DeleteClassByIdsCommandHandler.cs:line 28
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
2025-06-08T21:51:00.0131624+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.DeleteClassByIds (FacultyService.Api)" in 185.3398ms
2025-06-08T21:51:00.0134661+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.DeleteClassByIds (FacultyService.Api)"'
2025-06-08T21:51:00.0137426+07:00 [ERR] (///) An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression '__request_ClassCodes_0
    .Contains((ClassCode)StructuralTypeShaperExpression(
        StructuralType: FacultyService.Domain.Entity.GlobalClassCode
        ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
        IsNullable: False).ClassCode)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.<VisitMethodCall>g__TranslateAsSubquery|33_0(Expression expression, <>c__DisplayClass33_0&)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Query.Internal.NpgsqlSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.Translate(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateExpression(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateLambdaExpression(ShapedQueryExpression shapedQueryExpression, LambdaExpression lambdaExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Query.Internal.NpgsqlQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteDeleteAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at FacultyService.Application.Classes.CommandHandler.DeleteClassByIdsCommandHandler.Handle(DeleteClassByIdsCommand request, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/Classes/CommandHandler/DeleteClassByIdsCommandHandler.cs:line 17
   at FacultyService.Application.Classes.CommandHandler.DeleteClassByIdsCommandHandler.Handle(DeleteClassByIdsCommand request, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/Classes/CommandHandler/DeleteClassByIdsCommandHandler.cs:line 27
   at FacultyService.Application.Classes.CommandHandler.DeleteClassByIdsCommandHandler.Handle(DeleteClassByIdsCommand request, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Application/Classes/CommandHandler/DeleteClassByIdsCommandHandler.cs:line 28
   at Shared.Logging.MediatRLoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/Shared/Logging/MediatRLoggingBehavior.cs:line 31
   at FacultyService.Api.Classes.Controller.ClassesController.DeleteClassByIds(IList`1 ids, CancellationToken cancellationToken) in /home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api/Classes/Controller/ClassesController.cs:line 71
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Finbuckle.MultiTenant.AspNetCore.Internal.MultiTenantMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-06-08T21:51:00.0295368+07:00 [ERR] (///) HTTP "DELETE" "/api/v1/it-faculty/classes/ids" responded 500 in 202.4032 ms
2025-06-08T21:51:00.0296862+07:00 [DBG] (///) Connection id ""0HND6J6NNA1JN"" completed keep alive response.
2025-06-08T21:51:00.0297595+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T21:51:00.0298143+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:51:00.0298553+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T21:51:00.0299651+07:00 [INF] (///) Request finished "HTTP/1.1" "DELETE" "http"://"localhost:30000""""/api/v1/it-faculty/classes/ids""" - 500 null "application/problem+json" 203.4056ms
2025-06-08T21:51:00.0300275+07:00 [DBG] (///) Connection id ""0HND6J6NNA1JN"", Request id ""0HND6J6NNA1JN:0000000A"": started reading request body.
2025-06-08T21:51:00.0300584+07:00 [DBG] (///) Connection id ""0HND6J6NNA1JN"", Request id ""0HND6J6NNA1JN:0000000A"": done reading request body.
2025-06-08T21:51:00.0347894+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - null null
2025-06-08T21:51:00.0351742+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T21:51:00.0352668+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T21:51:00.0353471+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T21:51:00.0354549+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T21:51:00.0357021+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T21:51:00.0357532+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T21:51:00.0358016+07:00 [DBG] (///) The request has an origin header: '"http://localhost:32101"'.
2025-06-08T21:51:00.0358251+07:00 [INF] (///) CORS policy execution successful.
2025-06-08T21:51:00.0358545+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T21:51:00.0359212+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T21:51:00.0359998+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T21:51:00.0360311+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T21:51:00.0360580+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:51:00.0360826+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T21:51:00.0361050+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:51:00.0361560+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:51:00.0362014+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:51:00.0362585+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T21:51:00.0363042+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T21:51:00.0363398+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T21:51:00.0363665+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T21:51:00.0363899+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T21:51:00.0364132+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T21:51:00.0364390+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T21:51:00.0364621+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T21:51:00.0364842+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T21:51:00.0365060+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T21:51:00.0365256+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T21:51:00.0365455+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T21:51:00.0366402+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T21:51:00.0366648+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T21:51:00.0366869+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T21:51:00.0367050+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T21:51:00.0367501+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T21:51:00.0367733+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:51:00.0368166+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:51:00.0368432+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:51:00.0368606+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:51:00.0369688+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T21:51:00.0370736+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 50, OrderBy: null, Filter: null })]
2025-06-08T21:51:00.0377371+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "DetailedErrorsEnabled "
2025-06-08T21:51:00.0380695+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T21:51:00.0381217+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T21:51:00.0381555+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:51:00.0381983+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:51:00.0383270+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T21:51:00.0383686+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:51:00.0384036+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:51:00.0384457+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T21:51:00.0398762+07:00 [INF] (///) Executed DbCommand ("1"ms) [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T21:51:00.0400456+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:51:00.0401053+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T21:51:00.0401997+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:51:00.0402505+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T21:51:00.0405654+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:51:00.0406203+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:51:00.0407428+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T21:51:00.0407793+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:51:00.0408178+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:51:00.0408644+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T21:51:00.0425875+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T21:51:00.0428019+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:51:00.0428719+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T21:51:00.0429807+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:51:00.0430220+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T21:51:00.0430984+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 5ms
2025-06-08T21:51:00.0431511+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 6.1408ms.
2025-06-08T21:51:00.0433481+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T21:51:00.0434181+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T21:51:00.0434392+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T21:51:00.0434584+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T21:51:00.0434890+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T21:51:00.0435194+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T21:51:00.0437931+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 7.6612ms
2025-06-08T21:51:00.0438442+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T21:51:00.0439224+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 8.4296 ms
2025-06-08T21:51:00.0439767+07:00 [DBG] (///) Connection id ""0HND6J6NNA1JN"" completed keep alive response.
2025-06-08T21:51:00.0440197+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T21:51:00.0440587+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:51:00.0440937+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T21:51:00.0441478+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - 200 null "application/json; charset=utf-8" 9.3899ms
2025-06-08T21:52:26.6830357+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T21:52:26.8301699+07:00 [DBG] (///) Hosting starting
2025-06-08T21:52:26.8991465+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T21:52:26.9009961+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T21:52:26.9727150+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T21:52:26.9744633+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T21:52:26.9844750+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T21:52:26.9850228+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T21:52:26.9850681+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T21:52:26.9851298+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T21:52:26.9853865+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T21:52:26.9854324+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T21:52:26.9854548+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T21:52:26.9855125+07:00 [DBG] (///) Hosting started
2025-06-08T21:55:42.7681561+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T21:55:42.8972322+07:00 [DBG] (///) Hosting starting
2025-06-08T21:55:42.9624406+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T21:55:42.9642074+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T21:55:43.0343137+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T21:55:43.0361355+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T21:55:43.0664950+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T21:55:43.0670364+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T21:55:43.0670895+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T21:55:43.0671627+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T21:55:43.0674508+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T21:55:43.0674977+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T21:55:43.0675137+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T21:55:43.0675518+07:00 [DBG] (///) Hosting started
2025-06-08T21:55:46.9936070+07:00 [DBG] (///) Connection id ""0HND6JI6IK5C3"" accepted.
2025-06-08T21:55:46.9942822+07:00 [DBG] (///) Connection id ""0HND6JI6IK5C3"" started.
2025-06-08T21:55:47.0285534+07:00 [INF] (///) Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:30000""""/api/v1/it-faculty/classes/ids""" - null null
2025-06-08T21:55:47.0826030+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes/ids"'
2025-06-08T21:55:47.0832026+07:00 [DBG] (///) Request matched endpoint '"405 HTTP Method Not Supported"'
2025-06-08T21:55:47.0883786+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T21:55:47.1100996+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T21:55:47.1138931+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T21:55:47.1165769+07:00 [DBG] (///) The request has an origin header: '"http://localhost:32101"'.
2025-06-08T21:55:47.1167524+07:00 [INF] (///) CORS policy execution successful.
2025-06-08T21:55:47.1174873+07:00 [DBG] (///) The request is a preflight request.
2025-06-08T21:55:47.1220279+07:00 [INF] (///) HTTP "OPTIONS" "/api/v1/it-faculty/classes/ids" responded 204 in 32.1695 ms
2025-06-08T21:55:47.1289132+07:00 [DBG] (///) Connection id ""0HND6JI6IK5C3"" completed keep alive response.
2025-06-08T21:55:47.1327865+07:00 [INF] (///) Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:30000""""/api/v1/it-faculty/classes/ids""" - 204 null null 105.0098ms
2025-06-08T21:55:47.1352611+07:00 [INF] (///) Request starting "HTTP/1.1" "DELETE" "http"://"localhost:30000""""/api/v1/it-faculty/classes/ids""" - "application/json" 13
2025-06-08T21:55:47.1362515+07:00 [DBG] (///) 2 candidate(s) found for the request path '"/api/v1/it-faculty/classes/ids"'
2025-06-08T21:55:47.1394773+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.DeleteClassByIds (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes/ids"' is valid for the request path '"/api/v1/it-faculty/classes/ids"'
2025-06-08T21:55:47.1396283+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.DeleteClass (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes/{id}"' is valid for the request path '"/api/v1/it-faculty/classes/ids"'
2025-06-08T21:55:47.1417923+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.DeleteClassByIds (FacultyService.Api)"'
2025-06-08T21:55:47.1420560+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T21:55:47.1422268+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T21:55:47.1422936+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T21:55:47.1424045+07:00 [DBG] (///) The request has an origin header: '"http://localhost:32101"'.
2025-06-08T21:55:47.1424286+07:00 [INF] (///) CORS policy execution successful.
2025-06-08T21:55:47.1432183+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.DeleteClassByIds (FacultyService.Api)"'
2025-06-08T21:55:47.1643829+07:00 [INF] (///) Route matched with "{action = \"DeleteClassByIds\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteClassByIds(System.Collections.Generic.IList`1[System.String], System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T21:55:47.1669989+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T21:55:47.1672983+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T21:55:47.1680445+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:55:47.1683364+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T21:55:47.1684996+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:55:47.1705530+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:55:47.1714179+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:55:47.1752511+07:00 [DBG] (///) Attempting to bind parameter '"ids"' of type '"System.Collections.Generic.IList`1[System.String]"' ...
2025-06-08T21:55:47.1773976+07:00 [DBG] (///) Done attempting to bind parameter '"ids"' of type '"System.Collections.Generic.IList`1[System.String]"'.
2025-06-08T21:55:47.1776289+07:00 [DBG] (///) Attempting to validate the bound parameter '"ids"' of type '"System.Collections.Generic.IList`1[System.String]"' ...
2025-06-08T21:55:47.1788759+07:00 [DBG] (///) Done attempting to validate the bound parameter '"ids"' of type '"System.Collections.Generic.IList`1[System.String]"'.
2025-06-08T21:55:47.1806873+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:55:47.1811837+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:55:47.1812651+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:55:47.1814074+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:55:47.1898349+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.DeleteClassByIds (FacultyService.Api)" - Validation state: Valid
2025-06-08T21:55:47.2061732+07:00 [INF] (///) Processing request "DeleteClassByIdsCommand" with data [("ClassCodes": [])]
2025-06-08T21:55:47.4256941+07:00 [DBG] (///) An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration changed for 'Core:EnableDetailedErrors', configuration changed for 'Core:ConfigureWarnings', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseAdminDatabase', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:SetPostgresVersion', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseRedshift', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ReverseNullOrdering', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:RemoteCertificateValidationCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvideClientCertificatesCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvidePasswordCallback'".
2025-06-08T21:55:47.9766856+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Class"' as the properties are already covered by the index "{'FacultyCode', 'ClassCode'}".
2025-06-08T21:55:47.9769598+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"CreditClass"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId'}".
2025-06-08T21:55:47.9770234+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId', 'StudentCode'}".
2025-06-08T21:55:47.9770599+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'StudentCode'}".
2025-06-08T21:55:47.9770844+07:00 [DBG] (///) The index "{'FacultyCode', 'CreditClassId'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId', 'StudentCode'}".
2025-06-08T21:55:47.9771290+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Student"' as the properties are already covered by the index "{'FacultyCode', 'StudentCode'}".
2025-06-08T21:55:47.9772249+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Student"' as the properties are already covered by the index "{'FacultyCode', 'ClassCode'}".
2025-06-08T21:55:48.0917493+07:00 [WRN] (///) The foreign key property '"Registration"."StudentCode1"' was created in shadow state because a conflicting property with the simple name '"StudentCode"' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-08T21:55:48.0934807+07:00 [DBG] (///) The property '"Registration"."StudentFacultyCode"' was created in shadow state because there are no eligible CLR members with a matching name.
2025-06-08T21:55:48.2133208+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "DetailedErrorsEnabled "
2025-06-08T21:55:48.2254346+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T21:55:48.2651660+07:00 [DBG] (///) Created DbConnection. (38ms).
2025-06-08T21:55:48.2684450+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:55:48.3923947+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:55:48.3986452+07:00 [DBG] (///) Beginning transaction with isolation level '"Unspecified"'.
2025-06-08T21:55:48.4055290+07:00 [DBG] (///) Began transaction with isolation level '"ReadCommitted"'.
2025-06-08T21:55:48.4523852+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<GlobalClassCode>()
    .Where(c => __classCodes_0.Contains(c.ClassCode))
    .ExecuteDelete()"'
2025-06-08T21:55:48.7059009+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => RelationalShapedQueryCompilingExpressionVisitor.NonQueryResultAsync(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        DELETE FROM global_class_code AS g
        SELECT 1
        FROM global_class_code AS g
        WHERE g.class_code = ANY(@__classCodes_0)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        DELETE FROM global_class_code AS g
        SELECT 1
        FROM global_class_code AS g
        WHERE g.class_code = ANY(@__classCodes_0), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    contextType: FacultyService.Application.FacultyDbContext, 
    commandSource: ExecuteDelete, 
    threadSafetyChecksEnabled: True)"'
2025-06-08T21:55:48.7378674+07:00 [DBG] (///) Creating DbCommand for '"ExecuteNonQuery"'.
2025-06-08T21:55:48.7448502+07:00 [DBG] (///) Created DbCommand for '"ExecuteNonQuery"' (3ms).
2025-06-08T21:55:48.7537899+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteNonQuery"' (16ms).
2025-06-08T21:55:48.7624531+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__classCodes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='300']"
""DELETE FROM global_class_code AS g
WHERE g.class_code = ANY (@__classCodes_0)"
2025-06-08T21:55:48.9296219+07:00 [INF] (///) Executed DbCommand ("168"ms) [Parameters=["@__classCodes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='300']"
""DELETE FROM global_class_code AS g
WHERE g.class_code = ANY (@__classCodes_0)"
2025-06-08T21:55:48.9388311+07:00 [DBG] (///) SaveChanges starting for '"FacultyDbContext"'.
2025-06-08T21:55:48.9413279+07:00 [DBG] (///) DetectChanges starting for '"FacultyDbContext"'.
2025-06-08T21:55:48.9437175+07:00 [DBG] (///) DetectChanges completed for '"FacultyDbContext"'.
2025-06-08T21:55:48.9474742+07:00 [DBG] (///) SaveChanges completed for '"FacultyDbContext"' with 0 entities written to the database.
2025-06-08T21:55:48.9500269+07:00 [DBG] (///) Committing transaction.
2025-06-08T21:55:48.9576190+07:00 [DBG] (///) Committed transaction.
2025-06-08T21:55:48.9602559+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:55:48.9676511+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (4ms).
2025-06-08T21:55:48.9693786+07:00 [DBG] (///) Disposing transaction.
2025-06-08T21:55:48.9695636+07:00 [INF] (///) Request "DeleteClassByIdsCommand" processed successfully in 1761ms
2025-06-08T21:55:48.9732034+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.DeleteClassByIds (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1780.6974ms.
2025-06-08T21:55:48.9817215+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T21:55:48.9848831+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T21:55:48.9849918+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T21:55:48.9850915+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T21:55:48.9857727+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T21:55:48.9861290+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"System.Int32"'.
2025-06-08T21:55:49.0046674+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.DeleteClassByIds (FacultyService.Api)" in 1832.882ms
2025-06-08T21:55:49.0057200+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.DeleteClassByIds (FacultyService.Api)"'
2025-06-08T21:55:49.0096871+07:00 [INF] (///) HTTP "DELETE" "/api/v1/it-faculty/classes/ids" responded 200 in 1867.3228 ms
2025-06-08T21:55:49.0122445+07:00 [DBG] (///) Connection id ""0HND6JI6IK5C3"" completed keep alive response.
2025-06-08T21:55:49.0160185+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T21:55:49.0219263+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:55:49.0243420+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (2ms).
2025-06-08T21:55:49.0251660+07:00 [INF] (///) Request finished "HTTP/1.1" "DELETE" "http"://"localhost:30000""""/api/v1/it-faculty/classes/ids""" - 200 null "application/json; charset=utf-8" 1889.8889ms
2025-06-08T21:55:49.0267257+07:00 [DBG] (///) Connection id ""0HND6JI6IK5C3"", Request id ""0HND6JI6IK5C3:00000002"": started reading request body.
2025-06-08T21:55:49.0273433+07:00 [DBG] (///) Connection id ""0HND6JI6IK5C3"", Request id ""0HND6JI6IK5C3:00000002"": done reading request body.
2025-06-08T21:55:49.0278477+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - null null
2025-06-08T21:55:49.0344071+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T21:55:49.0346178+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T21:55:49.0348015+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T21:55:49.0350695+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T21:55:49.0352639+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T21:55:49.0353213+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T21:55:49.0354061+07:00 [DBG] (///) The request has an origin header: '"http://localhost:32101"'.
2025-06-08T21:55:49.0354427+07:00 [INF] (///) CORS policy execution successful.
2025-06-08T21:55:49.0355152+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T21:55:49.0437436+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T21:55:49.0445253+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T21:55:49.0445962+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T21:55:49.0446903+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:55:49.0447473+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T21:55:49.0447946+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:55:49.0449818+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:55:49.0450770+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:55:49.0457240+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T21:55:49.0467527+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T21:55:49.0535238+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T21:55:49.0542967+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T21:55:49.0547846+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T21:55:49.0555817+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T21:55:49.0563810+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T21:55:49.0574339+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T21:55:49.0575379+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T21:55:49.0575736+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T21:55:49.0576141+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T21:55:49.0576510+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T21:55:49.0576742+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T21:55:49.0579448+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T21:55:49.0580016+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T21:55:49.0580300+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T21:55:49.0677946+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T21:55:49.0679228+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:55:49.0680412+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:55:49.0680803+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:55:49.0681365+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:55:49.0683806+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T21:55:49.0792910+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 50, OrderBy: null, Filter: null })]
2025-06-08T21:55:49.1216023+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "DetailedErrorsEnabled "
2025-06-08T21:55:49.1330756+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Class>()
    .OrderBy(__Class => __Class.ClassCode)
    .Select(c => new ClassBasicResponse{ 
        ClassCode = c.ClassCode, 
        ClassName = c.ClassName, 
        FacultyCode = c.FacultyCode, 
        StudentCount = c.Students.Count, 
        FacultyName = c.FacultyCodeNavigation.FacultyName, 
        AcademicYearCode = c.AcademicYearCode 
    }
    )
    .Count()"'
2025-06-08T21:55:49.2264582+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => 
{
    queryContext.AddParameter(
        name: \"__ef_filter__Id_0\", 
        value: (object)Invoke(queryContext => ((FacultyDbContext)queryContext.Context).TenantInfo.Id, queryContext));
    return ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
        asyncEnumerable: SingleQueryingEnumerable.Create<int>(
            relationalQueryContext: (RelationalQueryContext)queryContext, 
            relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
                Projection Mapping:
                    EmptyProjectionMember -> 0
                SELECT CAST(count(*) AS integer)
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0) | Resolver: c => new RelationalCommandCache(
                c.Dependencies.MemoryCache, 
                c.RelationalDependencies.QuerySqlGeneratorFactory, 
                c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
                Projection Mapping:
                    EmptyProjectionMember -> 0
                SELECT CAST(count(*) AS integer)
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0, 
                False, 
                new HashSet<string>(
                    new string[]{ }, 
                    StringComparer.Ordinal
                )
            )].GetRelationalCommandTemplate(parameters), 
            readerColumns: null, 
            shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                int? value1;
                value1 = try { dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0) } catch (Exception) { ... } ;
                return (int)value1;
            }, 
            contextType: FacultyService.Application.FacultyDbContext, 
            standAloneStateManager: False, 
            detailedErrorsEnabled: True, 
            threadSafetyChecksEnabled: True), 
        cancellationToken: queryContext.CancellationToken);
}"'
2025-06-08T21:55:49.2581807+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T21:55:49.2583419+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T21:55:49.2583908+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:55:49.2591911+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:55:49.2594988+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T21:55:49.2595465+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:55:49.2615118+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (2ms).
2025-06-08T21:55:49.2622065+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T21:55:49.2753859+07:00 [INF] (///) Executed DbCommand ("13"ms) [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T21:55:49.3056514+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:55:49.3096876+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 32ms reading results.
2025-06-08T21:55:49.3114075+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:55:49.3115819+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T21:55:49.3169665+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Class>()
    .OrderBy(__Class => __Class.ClassCode)
    .Select(c => new ClassBasicResponse{ 
        ClassCode = c.ClassCode, 
        ClassName = c.ClassName, 
        FacultyCode = c.FacultyCode, 
        StudentCount = c.Students.Count, 
        FacultyName = c.FacultyCodeNavigation.FacultyName, 
        AcademicYearCode = c.AcademicYearCode 
    }
    )
    .Skip(__p_0)
    .Take(__p_1)"'
2025-06-08T21:55:49.4146606+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => 
{
    queryContext.AddParameter(
        name: \"__ef_filter__Id_0\", 
        value: (object)Invoke(queryContext => ((FacultyDbContext)queryContext.Context).TenantInfo.Id, queryContext));
    return SingleQueryingEnumerable.Create<ClassBasicResponse>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                ClassCode -> 0
                ClassName -> 1
                FacultyCode -> 2
                StudentCount -> 3
                FacultyName -> 4
                AcademicYearCode -> 5
            SELECT c0.class_code AS ClassCode, c0.class_name AS ClassName, c0.faculty_code AS FacultyCode, (
                SELECT CAST(count(*) AS integer)
                FROM student AS s
                WHERE (s.faculty_code == @__ef_filter__Id_0) && (((c0.faculty_code != NULL) && (c0.class_code != NULL)) && ((c0.faculty_code == s.faculty_code) && (c0.class_code == s.class_code)))) AS StudentCount, f0.faculty_name AS FacultyName, c0.academic_year_code AS AcademicYearCode
            FROM 
            (
                SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0
                ORDER BY c.class_code ASC
                OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
            ) AS c0
            INNER JOIN 
            (
                SELECT f.faculty_code, f.faculty_name
                FROM faculty AS f
                WHERE f.faculty_code == @__ef_filter__Id_0
            ) AS f0 ON c0.faculty_code == f0.faculty_code
            ORDER BY c0.class_code ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                ClassCode -> 0
                ClassName -> 1
                FacultyCode -> 2
                StudentCount -> 3
                FacultyName -> 4
                AcademicYearCode -> 5
            SELECT c0.class_code AS ClassCode, c0.class_name AS ClassName, c0.faculty_code AS FacultyCode, (
                SELECT CAST(count(*) AS integer)
                FROM student AS s
                WHERE (s.faculty_code == @__ef_filter__Id_0) && (((c0.faculty_code != NULL) && (c0.class_code != NULL)) && ((c0.faculty_code == s.faculty_code) && (c0.class_code == s.class_code)))) AS StudentCount, f0.faculty_name AS FacultyName, c0.academic_year_code AS AcademicYearCode
            FROM 
            (
                SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0
                ORDER BY c.class_code ASC
                OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
            ) AS c0
            INNER JOIN 
            (
                SELECT f.faculty_code, f.faculty_name
                FROM faculty AS f
                WHERE f.faculty_code == @__ef_filter__Id_0
            ) AS f0 ON c0.faculty_code == f0.faculty_code
            ORDER BY c0.class_code ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            string value1;
            string value2;
            string value3;
            int? value4;
            string value5;
            string value6;
            value1 = try { dataReader.GetString(0) } catch (Exception) { ... } ;
            value2 = try { dataReader.GetString(1) } catch (Exception) { ... } ;
            value3 = try { dataReader.GetString(2) } catch (Exception) { ... } ;
            value4 = try { dataReader.IsDBNull(3) ? default(int?) : (int?)dataReader.GetInt32(3) } catch (Exception) { ... } ;
            value5 = try { dataReader.GetString(4) } catch (Exception) { ... } ;
            value6 = try { dataReader.GetString(5) } catch (Exception) { ... } ;
            return new ClassBasicResponse{ 
                ClassCode = value1, 
                ClassName = value2, 
                FacultyCode = value3, 
                StudentCount = (int)value4, 
                FacultyName = value5, 
                AcademicYearCode = value6 
            }
            ;
        }, 
        contextType: FacultyService.Application.FacultyDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: True, 
        threadSafetyChecksEnabled: True);
}"'
2025-06-08T21:55:49.4216929+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:55:49.4218493+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:55:49.4219597+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T21:55:49.4219990+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:55:49.4220375+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:55:49.4220909+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T21:55:49.4317108+07:00 [INF] (///) Executed DbCommand ("10"ms) [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T21:55:49.4367463+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:55:49.4369337+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 4ms reading results.
2025-06-08T21:55:49.4370749+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:55:49.4371311+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T21:55:49.4380241+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 356ms
2025-06-08T21:55:49.4381539+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 369.7114ms.
2025-06-08T21:55:49.4384314+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T21:55:49.4385282+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T21:55:49.4385512+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T21:55:49.4385721+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T21:55:49.4386417+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T21:55:49.4387014+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T21:55:49.4708462+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 425.8721ms
2025-06-08T21:55:49.4710053+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T21:55:49.4711963+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 436.0437 ms
2025-06-08T21:55:49.4713224+07:00 [DBG] (///) Connection id ""0HND6JI6IK5C3"" completed keep alive response.
2025-06-08T21:55:49.4714052+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T21:55:49.4715125+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:55:49.4715701+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T21:55:49.4716393+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - 200 null "application/json; charset=utf-8" 443.7819ms
2025-06-08T21:56:28.1718709+07:00 [INF] (///) Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:30000""""/api/v1/it-faculty/classes/ids""" - null null
2025-06-08T21:56:28.1723030+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes/ids"'
2025-06-08T21:56:28.1724912+07:00 [DBG] (///) Request matched endpoint '"405 HTTP Method Not Supported"'
2025-06-08T21:56:28.1725906+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T21:56:28.1727736+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T21:56:28.1728241+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T21:56:28.1728907+07:00 [DBG] (///) The request has an origin header: '"http://localhost:32101"'.
2025-06-08T21:56:28.1729163+07:00 [INF] (///) CORS policy execution successful.
2025-06-08T21:56:28.1729789+07:00 [DBG] (///) The request is a preflight request.
2025-06-08T21:56:28.1730616+07:00 [INF] (///) HTTP "OPTIONS" "/api/v1/it-faculty/classes/ids" responded 204 in 0.4325 ms
2025-06-08T21:56:28.1732694+07:00 [DBG] (///) Connection id ""0HND6JI6IK5C3"" completed keep alive response.
2025-06-08T21:56:28.1733456+07:00 [INF] (///) Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:30000""""/api/v1/it-faculty/classes/ids""" - 204 null null 1.6381ms
2025-06-08T21:56:28.2150582+07:00 [INF] (///) Request starting "HTTP/1.1" "DELETE" "http"://"localhost:30000""""/api/v1/it-faculty/classes/ids""" - "application/json" 13
2025-06-08T21:56:28.2366090+07:00 [DBG] (///) 2 candidate(s) found for the request path '"/api/v1/it-faculty/classes/ids"'
2025-06-08T21:56:28.2367360+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.DeleteClassByIds (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes/ids"' is valid for the request path '"/api/v1/it-faculty/classes/ids"'
2025-06-08T21:56:28.2367754+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.DeleteClass (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes/{id}"' is valid for the request path '"/api/v1/it-faculty/classes/ids"'
2025-06-08T21:56:28.2368428+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.DeleteClassByIds (FacultyService.Api)"'
2025-06-08T21:56:28.2369424+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T21:56:28.2370701+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T21:56:28.2371161+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T21:56:28.2372044+07:00 [DBG] (///) The request has an origin header: '"http://localhost:32101"'.
2025-06-08T21:56:28.2372321+07:00 [INF] (///) CORS policy execution successful.
2025-06-08T21:56:28.2372671+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.DeleteClassByIds (FacultyService.Api)"'
2025-06-08T21:56:28.2374925+07:00 [INF] (///) Route matched with "{action = \"DeleteClassByIds\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteClassByIds(System.Collections.Generic.IList`1[System.String], System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T21:56:28.2375617+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T21:56:28.2375963+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T21:56:28.2376311+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:56:28.2376650+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T21:56:28.2376909+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:56:28.2377340+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:56:28.2377870+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:56:28.2379590+07:00 [DBG] (///) Attempting to bind parameter '"ids"' of type '"System.Collections.Generic.IList`1[System.String]"' ...
2025-06-08T21:56:28.2380975+07:00 [DBG] (///) Done attempting to bind parameter '"ids"' of type '"System.Collections.Generic.IList`1[System.String]"'.
2025-06-08T21:56:28.2381339+07:00 [DBG] (///) Attempting to validate the bound parameter '"ids"' of type '"System.Collections.Generic.IList`1[System.String]"' ...
2025-06-08T21:56:28.2381641+07:00 [DBG] (///) Done attempting to validate the bound parameter '"ids"' of type '"System.Collections.Generic.IList`1[System.String]"'.
2025-06-08T21:56:28.2382555+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:56:28.2382917+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:56:28.2383145+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:56:28.2383357+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:56:28.2384621+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.DeleteClassByIds (FacultyService.Api)" - Validation state: Valid
2025-06-08T21:56:28.2386534+07:00 [INF] (///) Processing request "DeleteClassByIdsCommand" with data [("ClassCodes": [])]
2025-06-08T21:56:28.2553178+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "DetailedErrorsEnabled "
2025-06-08T21:56:28.2556466+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T21:56:28.2557753+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T21:56:28.2558211+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:56:28.2558728+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:56:28.2560031+07:00 [DBG] (///) Beginning transaction with isolation level '"Unspecified"'.
2025-06-08T21:56:28.2560493+07:00 [DBG] (///) Began transaction with isolation level '"ReadCommitted"'.
2025-06-08T21:56:28.2580853+07:00 [DBG] (///) Creating DbCommand for '"ExecuteNonQuery"'.
2025-06-08T21:56:28.2581551+07:00 [DBG] (///) Created DbCommand for '"ExecuteNonQuery"' (0ms).
2025-06-08T21:56:28.2582410+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteNonQuery"' (0ms).
2025-06-08T21:56:28.2583266+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__classCodes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='300']"
""DELETE FROM global_class_code AS g
WHERE g.class_code = ANY (@__classCodes_0)"
2025-06-08T21:56:28.2611953+07:00 [INF] (///) Executed DbCommand ("3"ms) [Parameters=["@__classCodes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='300']"
""DELETE FROM global_class_code AS g
WHERE g.class_code = ANY (@__classCodes_0)"
2025-06-08T21:56:28.2616153+07:00 [DBG] (///) SaveChanges starting for '"FacultyDbContext"'.
2025-06-08T21:56:28.2618207+07:00 [DBG] (///) DetectChanges starting for '"FacultyDbContext"'.
2025-06-08T21:56:28.2619725+07:00 [DBG] (///) DetectChanges completed for '"FacultyDbContext"'.
2025-06-08T21:56:28.2620427+07:00 [DBG] (///) SaveChanges completed for '"FacultyDbContext"' with 0 entities written to the database.
2025-06-08T21:56:28.2621083+07:00 [DBG] (///) Committing transaction.
2025-06-08T21:56:28.2663250+07:00 [DBG] (///) Committed transaction.
2025-06-08T21:56:28.2664802+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:56:28.2665656+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T21:56:28.2667788+07:00 [DBG] (///) Disposing transaction.
2025-06-08T21:56:28.2668687+07:00 [INF] (///) Request "DeleteClassByIdsCommand" processed successfully in 28ms
2025-06-08T21:56:28.2669978+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.DeleteClassByIds (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 28.4701ms.
2025-06-08T21:56:28.2672862+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T21:56:28.2674314+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T21:56:28.2674502+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T21:56:28.2674718+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T21:56:28.2675016+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T21:56:28.2675613+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"System.Int32"'.
2025-06-08T21:56:28.2677067+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.DeleteClassByIds (FacultyService.Api)" in 29.9903ms
2025-06-08T21:56:28.2677510+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.DeleteClassByIds (FacultyService.Api)"'
2025-06-08T21:56:28.2678438+07:00 [INF] (///) HTTP "DELETE" "/api/v1/it-faculty/classes/ids" responded 200 in 30.8535 ms
2025-06-08T21:56:28.2679148+07:00 [DBG] (///) Connection id ""0HND6JI6IK5C3"" completed keep alive response.
2025-06-08T21:56:28.2679548+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T21:56:28.2679930+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:56:28.2680253+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T21:56:28.2680766+07:00 [INF] (///) Request finished "HTTP/1.1" "DELETE" "http"://"localhost:30000""""/api/v1/it-faculty/classes/ids""" - 200 null "application/json; charset=utf-8" 53.0374ms
2025-06-08T21:56:28.2681239+07:00 [DBG] (///) Connection id ""0HND6JI6IK5C3"", Request id ""0HND6JI6IK5C3:00000005"": started reading request body.
2025-06-08T21:56:28.2683072+07:00 [DBG] (///) Connection id ""0HND6JI6IK5C3"", Request id ""0HND6JI6IK5C3:00000005"": done reading request body.
2025-06-08T21:56:28.2706704+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - null null
2025-06-08T21:56:28.2710277+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T21:56:28.2711083+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T21:56:28.2711667+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T21:56:28.2712485+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T21:56:28.2714007+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T21:56:28.2714701+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T21:56:28.2715282+07:00 [DBG] (///) The request has an origin header: '"http://localhost:32101"'.
2025-06-08T21:56:28.2715524+07:00 [INF] (///) CORS policy execution successful.
2025-06-08T21:56:28.2715914+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T21:56:28.2717739+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T21:56:28.2719634+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T21:56:28.2720013+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T21:56:28.2720517+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:56:28.2720852+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T21:56:28.2721145+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:56:28.2721637+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:56:28.2722347+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:56:28.2724076+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T21:56:28.2725962+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T21:56:28.2726928+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T21:56:28.2727507+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T21:56:28.2727996+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T21:56:28.2728425+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T21:56:28.2728974+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T21:56:28.2729487+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T21:56:28.2729851+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T21:56:28.2730169+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T21:56:28.2730456+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T21:56:28.2730729+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T21:56:28.2731023+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T21:56:28.2731560+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T21:56:28.2731816+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T21:56:28.2732059+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T21:56:28.2735041+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T21:56:28.2736549+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:56:28.2737173+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:56:28.2737416+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:56:28.2737611+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:56:28.2738974+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T21:56:28.2740749+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 50, OrderBy: null, Filter: null })]
2025-06-08T21:56:28.2749728+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "DetailedErrorsEnabled "
2025-06-08T21:56:28.2771226+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T21:56:28.2772775+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T21:56:28.2773234+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:56:28.2773856+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:56:28.2775771+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T21:56:28.2776908+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:56:28.2777425+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:56:28.2778055+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T21:56:28.2796944+07:00 [INF] (///) Executed DbCommand ("2"ms) [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T21:56:28.2803839+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:56:28.2805447+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T21:56:28.2807263+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:56:28.2808170+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T21:56:28.2813419+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:56:28.2814327+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:56:28.2816754+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T21:56:28.2817284+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:56:28.2817961+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:56:28.2818714+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T21:56:28.2850230+07:00 [INF] (///) Executed DbCommand ("3"ms) [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T21:56:28.2855547+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:56:28.2857095+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 0ms reading results.
2025-06-08T21:56:28.2859259+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:56:28.2860095+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T21:56:28.2861414+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 12ms
2025-06-08T21:56:28.2863058+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 12.3598ms.
2025-06-08T21:56:28.2865090+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T21:56:28.2865768+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T21:56:28.2865998+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T21:56:28.2866330+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T21:56:28.2866662+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T21:56:28.2867068+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T21:56:28.2868919+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 14.7407ms
2025-06-08T21:56:28.2869432+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T21:56:28.2870333+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 15.7297 ms
2025-06-08T21:56:28.2871135+07:00 [DBG] (///) Connection id ""0HND6JI6IK5C3"" completed keep alive response.
2025-06-08T21:56:28.2871654+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T21:56:28.2872272+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:56:28.2874533+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T21:56:28.2875371+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - 200 null "application/json; charset=utf-8" 16.8659ms
2025-06-08T21:57:07.3036652+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T21:57:07.3962723+07:00 [DBG] (///) Hosting starting
2025-06-08T21:57:07.4485073+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T21:57:07.4501133+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T21:57:07.4998400+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T21:57:07.5014291+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T21:57:07.5065315+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T21:57:07.5070464+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T21:57:07.5070888+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T21:57:07.5071618+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T21:57:07.5073211+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T21:57:07.5073678+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T21:57:07.5073863+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T21:57:07.5074257+07:00 [DBG] (///) Hosting started
2025-06-08T21:57:15.2692799+07:00 [DBG] (///) Connection id ""0HND6JJ0SFPPT"" accepted.
2025-06-08T21:57:15.2700701+07:00 [DBG] (///) Connection id ""0HND6JJ0SFPPT"" started.
2025-06-08T21:57:15.2844437+07:00 [INF] (///) Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:30000""""/api/v1/it-faculty/classes/ids""" - null null
2025-06-08T21:57:15.3295297+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes/ids"'
2025-06-08T21:57:15.3299803+07:00 [DBG] (///) Request matched endpoint '"405 HTTP Method Not Supported"'
2025-06-08T21:57:15.3336821+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T21:57:15.3508658+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T21:57:15.3537995+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T21:57:15.3562420+07:00 [DBG] (///) The request has an origin header: '"http://localhost:32101"'.
2025-06-08T21:57:15.3564418+07:00 [INF] (///) CORS policy execution successful.
2025-06-08T21:57:15.3568672+07:00 [DBG] (///) The request is a preflight request.
2025-06-08T21:57:15.3607816+07:00 [INF] (///) HTTP "OPTIONS" "/api/v1/it-faculty/classes/ids" responded 204 in 25.5881 ms
2025-06-08T21:57:15.3670706+07:00 [DBG] (///) Connection id ""0HND6JJ0SFPPT"" completed keep alive response.
2025-06-08T21:57:15.3699450+07:00 [INF] (///) Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:30000""""/api/v1/it-faculty/classes/ids""" - 204 null null 86.5656ms
2025-06-08T21:57:15.3716516+07:00 [INF] (///) Request starting "HTTP/1.1" "DELETE" "http"://"localhost:30000""""/api/v1/it-faculty/classes/ids""" - "application/json" 13
2025-06-08T21:57:15.3730266+07:00 [DBG] (///) 2 candidate(s) found for the request path '"/api/v1/it-faculty/classes/ids"'
2025-06-08T21:57:15.3756060+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.DeleteClassByIds (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes/ids"' is valid for the request path '"/api/v1/it-faculty/classes/ids"'
2025-06-08T21:57:15.3757877+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.DeleteClass (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes/{id}"' is valid for the request path '"/api/v1/it-faculty/classes/ids"'
2025-06-08T21:57:15.3783297+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.DeleteClassByIds (FacultyService.Api)"'
2025-06-08T21:57:15.3786378+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T21:57:15.3788320+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T21:57:15.3789197+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T21:57:15.3790811+07:00 [DBG] (///) The request has an origin header: '"http://localhost:32101"'.
2025-06-08T21:57:15.3791246+07:00 [INF] (///) CORS policy execution successful.
2025-06-08T21:57:15.3796971+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.DeleteClassByIds (FacultyService.Api)"'
2025-06-08T21:57:15.3943260+07:00 [INF] (///) Route matched with "{action = \"DeleteClassByIds\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteClassByIds(System.Collections.Generic.IList`1[System.String], System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T21:57:15.3965329+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T21:57:15.3966606+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T21:57:15.3970995+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:57:15.3971819+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T21:57:15.3973885+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:57:15.3985159+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:57:15.3988352+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:57:15.4009035+07:00 [DBG] (///) Attempting to bind parameter '"ids"' of type '"System.Collections.Generic.IList`1[System.String]"' ...
2025-06-08T21:57:15.4020308+07:00 [DBG] (///) Done attempting to bind parameter '"ids"' of type '"System.Collections.Generic.IList`1[System.String]"'.
2025-06-08T21:57:15.4021853+07:00 [DBG] (///) Attempting to validate the bound parameter '"ids"' of type '"System.Collections.Generic.IList`1[System.String]"' ...
2025-06-08T21:57:15.4027451+07:00 [DBG] (///) Done attempting to validate the bound parameter '"ids"' of type '"System.Collections.Generic.IList`1[System.String]"'.
2025-06-08T21:57:15.4038047+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:57:15.4040010+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:57:15.4040491+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:57:15.4041164+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:57:15.4083088+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.DeleteClassByIds (FacultyService.Api)" - Validation state: Valid
2025-06-08T21:57:15.4170150+07:00 [INF] (///) Processing request "DeleteClassByIdsCommand" with data [("ClassCodes": [])]
2025-06-08T21:57:15.5411211+07:00 [DBG] (///) An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration changed for 'Core:EnableDetailedErrors', configuration changed for 'Core:ConfigureWarnings', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseAdminDatabase', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:SetPostgresVersion', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseRedshift', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ReverseNullOrdering', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:RemoteCertificateValidationCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvideClientCertificatesCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvidePasswordCallback'".
2025-06-08T21:57:15.9419251+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Class"' as the properties are already covered by the index "{'FacultyCode', 'ClassCode'}".
2025-06-08T21:57:15.9422422+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"CreditClass"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId'}".
2025-06-08T21:57:15.9423068+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId', 'StudentCode'}".
2025-06-08T21:57:15.9423546+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'StudentCode'}".
2025-06-08T21:57:15.9423904+07:00 [DBG] (///) The index "{'FacultyCode', 'CreditClassId'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId', 'StudentCode'}".
2025-06-08T21:57:15.9425288+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Student"' as the properties are already covered by the index "{'FacultyCode', 'StudentCode'}".
2025-06-08T21:57:15.9425703+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Student"' as the properties are already covered by the index "{'FacultyCode', 'ClassCode'}".
2025-06-08T21:57:16.0326902+07:00 [WRN] (///) The foreign key property '"Registration"."StudentCode1"' was created in shadow state because a conflicting property with the simple name '"StudentCode"' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-08T21:57:16.0339744+07:00 [DBG] (///) The property '"Registration"."StudentFacultyCode"' was created in shadow state because there are no eligible CLR members with a matching name.
2025-06-08T21:57:16.1203871+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "DetailedErrorsEnabled "
2025-06-08T21:57:16.1286291+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T21:57:16.1576703+07:00 [DBG] (///) Created DbConnection. (27ms).
2025-06-08T21:57:16.1605738+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:57:16.2487854+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:57:16.2529728+07:00 [DBG] (///) Beginning transaction with isolation level '"Unspecified"'.
2025-06-08T21:57:16.2579675+07:00 [DBG] (///) Began transaction with isolation level '"ReadCommitted"'.
2025-06-08T21:57:16.2929997+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<GlobalClassCode>()
    .Where(c => __classCodes_0.Contains(c.ClassCode))
    .ExecuteDelete()"'
2025-06-08T21:57:16.4840634+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => RelationalShapedQueryCompilingExpressionVisitor.NonQueryResultAsync(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        DELETE FROM global_class_code AS g
        SELECT 1
        FROM global_class_code AS g
        WHERE g.class_code = ANY(@__classCodes_0)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        DELETE FROM global_class_code AS g
        SELECT 1
        FROM global_class_code AS g
        WHERE g.class_code = ANY(@__classCodes_0), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    contextType: FacultyService.Application.FacultyDbContext, 
    commandSource: ExecuteDelete, 
    threadSafetyChecksEnabled: True)"'
2025-06-08T21:57:16.5072674+07:00 [DBG] (///) Creating DbCommand for '"ExecuteNonQuery"'.
2025-06-08T21:57:16.5123397+07:00 [DBG] (///) Created DbCommand for '"ExecuteNonQuery"' (2ms).
2025-06-08T21:57:16.5187144+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteNonQuery"' (11ms).
2025-06-08T21:57:16.5262243+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__classCodes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='300']"
""DELETE FROM global_class_code AS g
WHERE g.class_code = ANY (@__classCodes_0)"
2025-06-08T21:57:16.6557944+07:00 [INF] (///) Executed DbCommand ("131"ms) [Parameters=["@__classCodes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='300']"
""DELETE FROM global_class_code AS g
WHERE g.class_code = ANY (@__classCodes_0)"
2025-06-08T21:57:16.6612584+07:00 [DBG] (///) SaveChanges starting for '"FacultyDbContext"'.
2025-06-08T21:57:16.6630887+07:00 [DBG] (///) DetectChanges starting for '"FacultyDbContext"'.
2025-06-08T21:57:16.6656703+07:00 [DBG] (///) DetectChanges completed for '"FacultyDbContext"'.
2025-06-08T21:57:16.6698540+07:00 [DBG] (///) SaveChanges completed for '"FacultyDbContext"' with 0 entities written to the database.
2025-06-08T21:57:16.6716200+07:00 [DBG] (///) Committing transaction.
2025-06-08T21:57:16.6845777+07:00 [DBG] (///) Committed transaction.
2025-06-08T21:57:16.6865231+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:57:16.6915557+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (2ms).
2025-06-08T21:57:16.6930850+07:00 [DBG] (///) Disposing transaction.
2025-06-08T21:57:16.6933034+07:00 [INF] (///) Request "DeleteClassByIdsCommand" processed successfully in 1274ms
2025-06-08T21:57:16.6964174+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.DeleteClassByIds (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1285.8986ms.
2025-06-08T21:57:16.7011038+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T21:57:16.7030162+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T21:57:16.7030897+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T21:57:16.7031240+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T21:57:16.7035817+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T21:57:16.7038739+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"System.Int32"'.
2025-06-08T21:57:16.7181873+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.DeleteClassByIds (FacultyService.Api)" in 1317.9135ms
2025-06-08T21:57:16.7189904+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.DeleteClassByIds (FacultyService.Api)"'
2025-06-08T21:57:16.7225797+07:00 [INF] (///) HTTP "DELETE" "/api/v1/it-faculty/classes/ids" responded 200 in 1343.5984 ms
2025-06-08T21:57:16.7247882+07:00 [DBG] (///) Connection id ""0HND6JJ0SFPPT"" completed keep alive response.
2025-06-08T21:57:16.7276459+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T21:57:16.7325075+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:57:16.7347473+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (2ms).
2025-06-08T21:57:16.7355481+07:00 [INF] (///) Request finished "HTTP/1.1" "DELETE" "http"://"localhost:30000""""/api/v1/it-faculty/classes/ids""" - 200 null "application/json; charset=utf-8" 1363.8585ms
2025-06-08T21:57:16.7366661+07:00 [DBG] (///) Connection id ""0HND6JJ0SFPPT"", Request id ""0HND6JJ0SFPPT:00000002"": started reading request body.
2025-06-08T21:57:16.7368224+07:00 [DBG] (///) Connection id ""0HND6JJ0SFPPT"", Request id ""0HND6JJ0SFPPT:00000002"": done reading request body.
2025-06-08T21:57:16.7371340+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - null null
2025-06-08T21:57:16.7408267+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T21:57:16.7409496+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T21:57:16.7410897+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T21:57:16.7412615+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T21:57:16.7414038+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T21:57:16.7414547+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T21:57:16.7415324+07:00 [DBG] (///) The request has an origin header: '"http://localhost:32101"'.
2025-06-08T21:57:16.7415750+07:00 [INF] (///) CORS policy execution successful.
2025-06-08T21:57:16.7416327+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T21:57:16.7483998+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T21:57:16.7486586+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T21:57:16.7488665+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T21:57:16.7489422+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:57:16.7490051+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T21:57:16.7490558+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:57:16.7491409+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:57:16.7492792+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:57:16.7497958+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T21:57:16.7506501+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T21:57:16.7544298+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T21:57:16.7547986+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T21:57:16.7551510+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T21:57:16.7554929+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T21:57:16.7556876+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T21:57:16.7561868+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T21:57:16.7562440+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T21:57:16.7562823+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T21:57:16.7563162+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T21:57:16.7563476+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T21:57:16.7563855+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T21:57:16.7565137+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T21:57:16.7565609+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T21:57:16.7565857+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T21:57:16.7607624+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T21:57:16.7608659+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:57:16.7609688+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:57:16.7610074+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:57:16.7610530+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:57:16.7613260+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T21:57:16.7737189+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 50, OrderBy: null, Filter: null })]
2025-06-08T21:57:16.8187667+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "DetailedErrorsEnabled "
2025-06-08T21:57:16.8276045+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Class>()
    .OrderBy(__Class => __Class.ClassCode)
    .Select(c => new ClassBasicResponse{ 
        ClassCode = c.ClassCode, 
        ClassName = c.ClassName, 
        FacultyCode = c.FacultyCode, 
        StudentCount = c.Students.Count, 
        FacultyName = c.FacultyCodeNavigation.FacultyName, 
        AcademicYearCode = c.AcademicYearCode 
    }
    )
    .Count()"'
2025-06-08T21:57:16.8954969+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => 
{
    queryContext.AddParameter(
        name: \"__ef_filter__Id_0\", 
        value: (object)Invoke(queryContext => ((FacultyDbContext)queryContext.Context).TenantInfo.Id, queryContext));
    return ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
        asyncEnumerable: SingleQueryingEnumerable.Create<int>(
            relationalQueryContext: (RelationalQueryContext)queryContext, 
            relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
                Projection Mapping:
                    EmptyProjectionMember -> 0
                SELECT CAST(count(*) AS integer)
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0) | Resolver: c => new RelationalCommandCache(
                c.Dependencies.MemoryCache, 
                c.RelationalDependencies.QuerySqlGeneratorFactory, 
                c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
                Projection Mapping:
                    EmptyProjectionMember -> 0
                SELECT CAST(count(*) AS integer)
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0, 
                False, 
                new HashSet<string>(
                    new string[]{ }, 
                    StringComparer.Ordinal
                )
            )].GetRelationalCommandTemplate(parameters), 
            readerColumns: null, 
            shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                int? value1;
                value1 = try { dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0) } catch (Exception) { ... } ;
                return (int)value1;
            }, 
            contextType: FacultyService.Application.FacultyDbContext, 
            standAloneStateManager: False, 
            detailedErrorsEnabled: True, 
            threadSafetyChecksEnabled: True), 
        cancellationToken: queryContext.CancellationToken);
}"'
2025-06-08T21:57:16.9187491+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T21:57:16.9189197+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T21:57:16.9189658+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:57:16.9195500+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:57:16.9197739+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T21:57:16.9198241+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:57:16.9210221+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (1ms).
2025-06-08T21:57:16.9215773+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T21:57:16.9287984+07:00 [INF] (///) Executed DbCommand ("7"ms) [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T21:57:16.9379761+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:57:16.9397669+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 9ms reading results.
2025-06-08T21:57:16.9403639+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:57:16.9404586+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T21:57:16.9427452+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Class>()
    .OrderBy(__Class => __Class.ClassCode)
    .Select(c => new ClassBasicResponse{ 
        ClassCode = c.ClassCode, 
        ClassName = c.ClassName, 
        FacultyCode = c.FacultyCode, 
        StudentCount = c.Students.Count, 
        FacultyName = c.FacultyCodeNavigation.FacultyName, 
        AcademicYearCode = c.AcademicYearCode 
    }
    )
    .Skip(__p_0)
    .Take(__p_1)"'
2025-06-08T21:57:16.9825865+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => 
{
    queryContext.AddParameter(
        name: \"__ef_filter__Id_0\", 
        value: (object)Invoke(queryContext => ((FacultyDbContext)queryContext.Context).TenantInfo.Id, queryContext));
    return SingleQueryingEnumerable.Create<ClassBasicResponse>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                ClassCode -> 0
                ClassName -> 1
                FacultyCode -> 2
                StudentCount -> 3
                FacultyName -> 4
                AcademicYearCode -> 5
            SELECT c0.class_code AS ClassCode, c0.class_name AS ClassName, c0.faculty_code AS FacultyCode, (
                SELECT CAST(count(*) AS integer)
                FROM student AS s
                WHERE (s.faculty_code == @__ef_filter__Id_0) && (((c0.faculty_code != NULL) && (c0.class_code != NULL)) && ((c0.faculty_code == s.faculty_code) && (c0.class_code == s.class_code)))) AS StudentCount, f0.faculty_name AS FacultyName, c0.academic_year_code AS AcademicYearCode
            FROM 
            (
                SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0
                ORDER BY c.class_code ASC
                OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
            ) AS c0
            INNER JOIN 
            (
                SELECT f.faculty_code, f.faculty_name
                FROM faculty AS f
                WHERE f.faculty_code == @__ef_filter__Id_0
            ) AS f0 ON c0.faculty_code == f0.faculty_code
            ORDER BY c0.class_code ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                ClassCode -> 0
                ClassName -> 1
                FacultyCode -> 2
                StudentCount -> 3
                FacultyName -> 4
                AcademicYearCode -> 5
            SELECT c0.class_code AS ClassCode, c0.class_name AS ClassName, c0.faculty_code AS FacultyCode, (
                SELECT CAST(count(*) AS integer)
                FROM student AS s
                WHERE (s.faculty_code == @__ef_filter__Id_0) && (((c0.faculty_code != NULL) && (c0.class_code != NULL)) && ((c0.faculty_code == s.faculty_code) && (c0.class_code == s.class_code)))) AS StudentCount, f0.faculty_name AS FacultyName, c0.academic_year_code AS AcademicYearCode
            FROM 
            (
                SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0
                ORDER BY c.class_code ASC
                OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
            ) AS c0
            INNER JOIN 
            (
                SELECT f.faculty_code, f.faculty_name
                FROM faculty AS f
                WHERE f.faculty_code == @__ef_filter__Id_0
            ) AS f0 ON c0.faculty_code == f0.faculty_code
            ORDER BY c0.class_code ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            string value1;
            string value2;
            string value3;
            int? value4;
            string value5;
            string value6;
            value1 = try { dataReader.GetString(0) } catch (Exception) { ... } ;
            value2 = try { dataReader.GetString(1) } catch (Exception) { ... } ;
            value3 = try { dataReader.GetString(2) } catch (Exception) { ... } ;
            value4 = try { dataReader.IsDBNull(3) ? default(int?) : (int?)dataReader.GetInt32(3) } catch (Exception) { ... } ;
            value5 = try { dataReader.GetString(4) } catch (Exception) { ... } ;
            value6 = try { dataReader.GetString(5) } catch (Exception) { ... } ;
            return new ClassBasicResponse{ 
                ClassCode = value1, 
                ClassName = value2, 
                FacultyCode = value3, 
                StudentCount = (int)value4, 
                FacultyName = value5, 
                AcademicYearCode = value6 
            }
            ;
        }, 
        contextType: FacultyService.Application.FacultyDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: True, 
        threadSafetyChecksEnabled: True);
}"'
2025-06-08T21:57:16.9887054+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:57:16.9888367+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:57:16.9889636+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T21:57:16.9890175+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:57:16.9890610+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:57:16.9891264+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T21:57:16.9930078+07:00 [INF] (///) Executed DbCommand ("4"ms) [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T21:57:16.9964315+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:57:16.9965825+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 3ms reading results.
2025-06-08T21:57:16.9967169+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:57:16.9967761+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T21:57:16.9975008+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 221ms
2025-06-08T21:57:16.9976822+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 236.2802ms.
2025-06-08T21:57:16.9979771+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T21:57:16.9980899+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T21:57:16.9981169+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T21:57:16.9981340+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T21:57:16.9982185+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T21:57:16.9982677+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T21:57:17.0123565+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 263.226ms
2025-06-08T21:57:17.0125225+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T21:57:17.0126965+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 271.3525 ms
2025-06-08T21:57:17.0128331+07:00 [DBG] (///) Connection id ""0HND6JJ0SFPPT"" completed keep alive response.
2025-06-08T21:57:17.0129133+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T21:57:17.0130100+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:57:17.0130761+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T21:57:17.0131596+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - 200 null "application/json; charset=utf-8" 276.0139ms
2025-06-08T21:58:21.9304188+07:00 [INF] (///) Application is shutting down...
2025-06-08T21:58:21.9315576+07:00 [DBG] (///) Hosting stopping
2025-06-08T21:58:21.9371138+07:00 [DBG] (///) Connection id ""0HND6JJ0SFPPT"" disconnecting.
2025-06-08T21:58:21.9379712+07:00 [DBG] (///) Connection id ""0HND6JJ0SFPPT"" stopped.
2025-06-08T21:58:21.9385678+07:00 [DBG] (///) Connection id ""0HND6JJ0SFPPT"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-08T21:58:21.9412450+07:00 [DBG] (///) Hosting stopped
2025-06-08T21:58:24.7495416+07:00 [DBG] (///) Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-08T21:58:25.1175158+07:00 [DBG] (///) Hosting starting
2025-06-08T21:58:25.1822847+07:00 [DBG] (///) Middleware configuration started with options: "{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}"
2025-06-08T21:58:25.1842787+07:00 [DBG] (///) Wildcard detected, all requests with hosts will be allowed.
2025-06-08T21:58:25.2413413+07:00 [WRN] (///) The ASP.NET Core developer certificate is only trusted by some clients. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-06-08T21:58:25.2428195+07:00 [WRN] (///) Overriding address(es) '"http://localhost:5291"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-08T21:58:25.2484459+07:00 [INF] (///) Now listening on: "http://localhost:30000"
2025-06-08T21:58:25.2489504+07:00 [INF] (///) Now listening on: "https://localhost:30001"
2025-06-08T21:58:25.2490135+07:00 [INF] (///) Now listening on: "https://localhost:30002"
2025-06-08T21:58:25.2490997+07:00 [DBG] (///) Loaded hosting startup assembly "FacultyService.Api"
2025-06-08T21:58:25.2492759+07:00 [INF] (///) Application started. Press Ctrl+C to shut down.
2025-06-08T21:58:25.2493236+07:00 [INF] (///) Hosting environment: "Development"
2025-06-08T21:58:25.2493589+07:00 [INF] (///) Content root path: "/home/PNguyen/Workspace/MyProject/distributed_student_management_system/src/FacultyService/FacultyService.Api"
2025-06-08T21:58:25.2494087+07:00 [DBG] (///) Hosting started
2025-06-08T21:58:29.3961295+07:00 [DBG] (///) Connection id ""0HND6JJMVDGE8"" accepted.
2025-06-08T21:58:29.3966582+07:00 [DBG] (///) Connection id ""0HND6JJMVDGE8"" started.
2025-06-08T21:58:29.4111506+07:00 [INF] (///) Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:30000""""/api/v1/it-faculty/classes/ids""" - null null
2025-06-08T21:58:29.4505992+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes/ids"'
2025-06-08T21:58:29.4510682+07:00 [DBG] (///) Request matched endpoint '"405 HTTP Method Not Supported"'
2025-06-08T21:58:29.4561743+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T21:58:29.4742102+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T21:58:29.4780727+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T21:58:29.4802122+07:00 [DBG] (///) The request has an origin header: '"http://localhost:32101"'.
2025-06-08T21:58:29.4804180+07:00 [INF] (///) CORS policy execution successful.
2025-06-08T21:58:29.4808727+07:00 [DBG] (///) The request is a preflight request.
2025-06-08T21:58:29.4845614+07:00 [INF] (///) HTTP "OPTIONS" "/api/v1/it-faculty/classes/ids" responded 204 in 27.3576 ms
2025-06-08T21:58:29.4903080+07:00 [DBG] (///) Connection id ""0HND6JJMVDGE8"" completed keep alive response.
2025-06-08T21:58:29.4930899+07:00 [INF] (///) Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:30000""""/api/v1/it-faculty/classes/ids""" - 204 null null 82.7167ms
2025-06-08T21:58:29.4950483+07:00 [INF] (///) Request starting "HTTP/1.1" "DELETE" "http"://"localhost:30000""""/api/v1/it-faculty/classes/ids""" - "application/json" 13
2025-06-08T21:58:29.4970120+07:00 [DBG] (///) 2 candidate(s) found for the request path '"/api/v1/it-faculty/classes/ids"'
2025-06-08T21:58:29.5027215+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.DeleteClassByIds (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes/ids"' is valid for the request path '"/api/v1/it-faculty/classes/ids"'
2025-06-08T21:58:29.5031025+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.DeleteClass (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes/{id}"' is valid for the request path '"/api/v1/it-faculty/classes/ids"'
2025-06-08T21:58:29.5075622+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.DeleteClassByIds (FacultyService.Api)"'
2025-06-08T21:58:29.5080484+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T21:58:29.5083575+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T21:58:29.5084679+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T21:58:29.5086514+07:00 [DBG] (///) The request has an origin header: '"http://localhost:32101"'.
2025-06-08T21:58:29.5087029+07:00 [INF] (///) CORS policy execution successful.
2025-06-08T21:58:29.5098905+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.DeleteClassByIds (FacultyService.Api)"'
2025-06-08T21:58:29.5435288+07:00 [INF] (///) Route matched with "{action = \"DeleteClassByIds\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteClassByIds(System.Collections.Generic.IList`1[System.String], System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T21:58:29.5483053+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T21:58:29.5487670+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T21:58:29.5499547+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:58:29.5503047+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T21:58:29.5507351+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:58:29.5522328+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:58:29.5527708+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:58:29.5554383+07:00 [DBG] (///) Attempting to bind parameter '"ids"' of type '"System.Collections.Generic.IList`1[System.String]"' ...
2025-06-08T21:58:29.5565850+07:00 [DBG] (///) Done attempting to bind parameter '"ids"' of type '"System.Collections.Generic.IList`1[System.String]"'.
2025-06-08T21:58:29.5567868+07:00 [DBG] (///) Attempting to validate the bound parameter '"ids"' of type '"System.Collections.Generic.IList`1[System.String]"' ...
2025-06-08T21:58:29.5574677+07:00 [DBG] (///) Done attempting to validate the bound parameter '"ids"' of type '"System.Collections.Generic.IList`1[System.String]"'.
2025-06-08T21:58:29.5587866+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:58:29.5593066+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:58:29.5593892+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:58:29.5595288+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:58:29.5653385+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.DeleteClassByIds (FacultyService.Api)" - Validation state: Valid
2025-06-08T21:58:29.5760694+07:00 [INF] (///) Processing request "DeleteClassByIdsCommand" with data [("ClassCodes": [])]
2025-06-08T21:58:29.7059086+07:00 [DBG] (///) An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration changed for 'Core:EnableDetailedErrors', configuration changed for 'Core:ConfigureWarnings', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseAdminDatabase', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:SetPostgresVersion', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseRedshift', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ReverseNullOrdering', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:RemoteCertificateValidationCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvideClientCertificatesCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvidePasswordCallback'".
2025-06-08T21:58:30.1061480+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Class"' as the properties are already covered by the index "{'FacultyCode', 'ClassCode'}".
2025-06-08T21:58:30.1066068+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"CreditClass"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId'}".
2025-06-08T21:58:30.1067413+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId', 'StudentCode'}".
2025-06-08T21:58:30.1067969+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'StudentCode'}".
2025-06-08T21:58:30.1068484+07:00 [DBG] (///) The index "{'FacultyCode', 'CreditClassId'}" was not created on entity type '"Registration"' as the properties are already covered by the index "{'FacultyCode', 'CreditClassId', 'StudentCode'}".
2025-06-08T21:58:30.1069104+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Student"' as the properties are already covered by the index "{'FacultyCode', 'StudentCode'}".
2025-06-08T21:58:30.1069609+07:00 [DBG] (///) The index "{'FacultyCode'}" was not created on entity type '"Student"' as the properties are already covered by the index "{'FacultyCode', 'ClassCode'}".
2025-06-08T21:58:30.2104746+07:00 [WRN] (///) The foreign key property '"Registration"."StudentCode1"' was created in shadow state because a conflicting property with the simple name '"StudentCode"' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-08T21:58:30.2119328+07:00 [DBG] (///) The property '"Registration"."StudentFacultyCode"' was created in shadow state because there are no eligible CLR members with a matching name.
2025-06-08T21:58:30.3105018+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "DetailedErrorsEnabled "
2025-06-08T21:58:30.3215891+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T21:58:30.3559716+07:00 [DBG] (///) Created DbConnection. (33ms).
2025-06-08T21:58:30.3590840+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:58:30.4628668+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:58:30.4679748+07:00 [DBG] (///) Beginning transaction with isolation level '"Unspecified"'.
2025-06-08T21:58:30.4737193+07:00 [DBG] (///) Began transaction with isolation level '"ReadCommitted"'.
2025-06-08T21:58:30.5143123+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<GlobalClassCode>()
    .Where(c => __classCodes_0.Contains(c.ClassCode))
    .ExecuteDelete()"'
2025-06-08T21:58:30.7263437+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => RelationalShapedQueryCompilingExpressionVisitor.NonQueryResultAsync(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        DELETE FROM global_class_code AS g
        SELECT 1
        FROM global_class_code AS g
        WHERE g.class_code = ANY(@__classCodes_0)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        DELETE FROM global_class_code AS g
        SELECT 1
        FROM global_class_code AS g
        WHERE g.class_code = ANY(@__classCodes_0), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    contextType: FacultyService.Application.FacultyDbContext, 
    commandSource: ExecuteDelete, 
    threadSafetyChecksEnabled: True)"'
2025-06-08T21:58:30.7505762+07:00 [DBG] (///) Creating DbCommand for '"ExecuteNonQuery"'.
2025-06-08T21:58:30.7559146+07:00 [DBG] (///) Created DbCommand for '"ExecuteNonQuery"' (2ms).
2025-06-08T21:58:30.7632182+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteNonQuery"' (12ms).
2025-06-08T21:58:30.7704257+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__classCodes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='300']"
""DELETE FROM global_class_code AS g
WHERE g.class_code = ANY (@__classCodes_0)"
2025-06-08T21:58:30.8987575+07:00 [INF] (///) Executed DbCommand ("130"ms) [Parameters=["@__classCodes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='300']"
""DELETE FROM global_class_code AS g
WHERE g.class_code = ANY (@__classCodes_0)"
2025-06-08T21:58:30.9036991+07:00 [DBG] (///) Committing transaction.
2025-06-08T21:58:30.9169622+07:00 [DBG] (///) Committed transaction.
2025-06-08T21:58:30.9202700+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:58:30.9253037+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (3ms).
2025-06-08T21:58:30.9268952+07:00 [DBG] (///) Disposing transaction.
2025-06-08T21:58:30.9270987+07:00 [INF] (///) Request "DeleteClassByIdsCommand" processed successfully in 1349ms
2025-06-08T21:58:30.9302340+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.DeleteClassByIds (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1362.5837ms.
2025-06-08T21:58:30.9349407+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T21:58:30.9367491+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T21:58:30.9368166+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T21:58:30.9368406+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T21:58:30.9372389+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T21:58:30.9374948+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"System.Int32"'.
2025-06-08T21:58:30.9500548+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.DeleteClassByIds (FacultyService.Api)" in 1396.3089ms
2025-06-08T21:58:30.9508520+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.DeleteClassByIds (FacultyService.Api)"'
2025-06-08T21:58:30.9541823+07:00 [INF] (///) HTTP "DELETE" "/api/v1/it-faculty/classes/ids" responded 200 in 1445.8764 ms
2025-06-08T21:58:30.9568241+07:00 [DBG] (///) Connection id ""0HND6JJMVDGE8"" completed keep alive response.
2025-06-08T21:58:30.9599679+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T21:58:30.9662206+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:58:30.9695362+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (2ms).
2025-06-08T21:58:30.9703478+07:00 [INF] (///) Request finished "HTTP/1.1" "DELETE" "http"://"localhost:30000""""/api/v1/it-faculty/classes/ids""" - 200 null "application/json; charset=utf-8" 1475.2796ms
2025-06-08T21:58:30.9714038+07:00 [DBG] (///) Connection id ""0HND6JJMVDGE8"", Request id ""0HND6JJMVDGE8:00000002"": started reading request body.
2025-06-08T21:58:30.9715293+07:00 [DBG] (///) Connection id ""0HND6JJMVDGE8"", Request id ""0HND6JJMVDGE8:00000002"": done reading request body.
2025-06-08T21:58:30.9717243+07:00 [INF] (///) Request starting "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - null null
2025-06-08T21:58:30.9753214+07:00 [DBG] (///) 1 candidate(s) found for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T21:58:30.9754174+07:00 [DBG] (///) Endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"' with route pattern '"api/v{version:apiVersion}/{facultyCode:facultyCode}/Classes"' is valid for the request path '"/api/v1/it-faculty/classes"'
2025-06-08T21:58:30.9756318+07:00 [DBG] (///) Request matched endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T21:58:30.9758288+07:00 [DBG] (///) Static files was skipped as the request already matched an endpoint.
2025-06-08T21:58:30.9759729+07:00 [DBG] (///) GetIdentifierAsync: Found identifier: ""IT-FACULTY""
2025-06-08T21:58:30.9760220+07:00 [DBG] (///) TryGetByIdentifierAsync: Tenant found with identifier ""IT-FACULTY""
2025-06-08T21:58:30.9760889+07:00 [DBG] (///) The request has an origin header: '"http://localhost:32101"'.
2025-06-08T21:58:30.9761214+07:00 [INF] (///) CORS policy execution successful.
2025-06-08T21:58:30.9761646+07:00 [INF] (///) Executing endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T21:58:30.9810225+07:00 [INF] (///) Route matched with "{action = \"GetAllClasses\", controller = \"Classes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClasses(Gridify.GridifyQuery, System.Threading.CancellationToken)" on controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api").
2025-06-08T21:58:30.9811919+07:00 [DBG] (///) Execution plan of "authorization" filters (in the following order): ["None"]
2025-06-08T21:58:30.9812239+07:00 [DBG] (///) Execution plan of "resource" filters (in the following order): ["None"]
2025-06-08T21:58:30.9812717+07:00 [DBG] (///) Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:58:30.9813125+07:00 [DBG] (///) Execution plan of "exception" filters (in the following order): ["None"]
2025-06-08T21:58:30.9813562+07:00 [DBG] (///) Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)", "Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-06-08T21:58:30.9815181+07:00 [DBG] (///) Executing controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:58:30.9816099+07:00 [DBG] (///) Executed controller factory for controller "FacultyService.Api.Classes.Controller.ClassesController" ("FacultyService.Api")
2025-06-08T21:58:30.9820716+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T21:58:30.9828536+07:00 [DBG] (///) Attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' using the name '""' in request data ...
2025-06-08T21:58:30.9865442+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"' using the name '"Page"' in request data ...
2025-06-08T21:58:30.9868981+07:00 [DBG] (///) Could not find a value in the request with name '"Page"' for binding property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T21:58:30.9871883+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Page"' of type '"System.Int32"'.
2025-06-08T21:58:30.9875424+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"' using the name '"PageSize"' in request data ...
2025-06-08T21:58:30.9877473+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."PageSize"' of type '"System.Int32"'.
2025-06-08T21:58:30.9882449+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"' using the name '"OrderBy"' in request data ...
2025-06-08T21:58:30.9882974+07:00 [DBG] (///) Could not find a value in the request with name '"OrderBy"' for binding property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T21:58:30.9884104+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."OrderBy"' of type '"System.String"'.
2025-06-08T21:58:30.9884432+07:00 [DBG] (///) Attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"' using the name '"Filter"' in request data ...
2025-06-08T21:58:30.9884799+07:00 [DBG] (///) Could not find a value in the request with name '"Filter"' for binding property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T21:58:30.9885136+07:00 [DBG] (///) Done attempting to bind property '"Gridify.GridifyQuery"."Filter"' of type '"System.String"'.
2025-06-08T21:58:30.9886457+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T21:58:30.9886984+07:00 [DBG] (///) Done attempting to bind parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T21:58:30.9887272+07:00 [DBG] (///) Attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"' ...
2025-06-08T21:58:30.9930929+07:00 [DBG] (///) Done attempting to validate the bound parameter '"gridifyQuery"' of type '"Gridify.GridifyQuery"'.
2025-06-08T21:58:30.9932188+07:00 [DBG] (///) Attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:58:30.9933390+07:00 [DBG] (///) Done attempting to bind parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:58:30.9933885+07:00 [DBG] (///) Attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"' ...
2025-06-08T21:58:30.9934409+07:00 [DBG] (///) Done attempting to validate the bound parameter '"cancellationToken"' of type '"System.Threading.CancellationToken"'.
2025-06-08T21:58:30.9936893+07:00 [INF] (///) Executing action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" - Validation state: Valid
2025-06-08T21:58:31.0029926+07:00 [INF] (///) Processing request "DefaultClassQuery" with data [("GridifyQuery": GridifyQuery { Page: 0, PageSize: 50, OrderBy: null, Filter: null })]
2025-06-08T21:58:31.0542227+07:00 [DBG] (///) Entity Framework Core "9.0.5" initialized '"FacultyDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5"' with options: "DetailedErrorsEnabled "
2025-06-08T21:58:31.0672188+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Class>()
    .OrderBy(__Class => __Class.ClassCode)
    .Select(c => new ClassBasicResponse{ 
        ClassCode = c.ClassCode, 
        ClassName = c.ClassName, 
        FacultyCode = c.FacultyCode, 
        StudentCount = c.Students.Count, 
        FacultyName = c.FacultyCodeNavigation.FacultyName, 
        AcademicYearCode = c.AcademicYearCode 
    }
    )
    .Count()"'
2025-06-08T21:58:31.1470050+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => 
{
    queryContext.AddParameter(
        name: \"__ef_filter__Id_0\", 
        value: (object)Invoke(queryContext => ((FacultyDbContext)queryContext.Context).TenantInfo.Id, queryContext));
    return ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
        asyncEnumerable: SingleQueryingEnumerable.Create<int>(
            relationalQueryContext: (RelationalQueryContext)queryContext, 
            relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
                Projection Mapping:
                    EmptyProjectionMember -> 0
                SELECT CAST(count(*) AS integer)
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0) | Resolver: c => new RelationalCommandCache(
                c.Dependencies.MemoryCache, 
                c.RelationalDependencies.QuerySqlGeneratorFactory, 
                c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
                Projection Mapping:
                    EmptyProjectionMember -> 0
                SELECT CAST(count(*) AS integer)
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0, 
                False, 
                new HashSet<string>(
                    new string[]{ }, 
                    StringComparer.Ordinal
                )
            )].GetRelationalCommandTemplate(parameters), 
            readerColumns: null, 
            shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                int? value1;
                value1 = try { dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0) } catch (Exception) { ... } ;
                return (int)value1;
            }, 
            contextType: FacultyService.Application.FacultyDbContext, 
            standAloneStateManager: False, 
            detailedErrorsEnabled: True, 
            threadSafetyChecksEnabled: True), 
        cancellationToken: queryContext.CancellationToken);
}"'
2025-06-08T21:58:31.1732769+07:00 [DBG] (///) Creating DbConnection.
2025-06-08T21:58:31.1734666+07:00 [DBG] (///) Created DbConnection. (0ms).
2025-06-08T21:58:31.1735270+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:58:31.1741554+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:58:31.1743852+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T21:58:31.1744378+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:58:31.1757744+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (1ms).
2025-06-08T21:58:31.1763417+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T21:58:31.1965007+07:00 [INF] (///) Executed DbCommand ("20"ms) [Parameters=["@__ef_filter__Id_0='?'"], CommandType='Text', CommandTimeout='300']"
""SELECT count(*)::int
FROM class AS c
WHERE c.faculty_code = @__ef_filter__Id_0"
2025-06-08T21:58:31.2088764+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:58:31.2114586+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 13ms reading results.
2025-06-08T21:58:31.2122739+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:58:31.2123611+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T21:58:31.2150533+07:00 [DBG] (///) Compiling query expression: "
"'"DbSet<Class>()
    .OrderBy(__Class => __Class.ClassCode)
    .Select(c => new ClassBasicResponse{ 
        ClassCode = c.ClassCode, 
        ClassName = c.ClassName, 
        FacultyCode = c.FacultyCode, 
        StudentCount = c.Students.Count, 
        FacultyName = c.FacultyCodeNavigation.FacultyName, 
        AcademicYearCode = c.AcademicYearCode 
    }
    )
    .Skip(__p_0)
    .Take(__p_1)"'
2025-06-08T21:58:31.2649492+07:00 [DBG] (///) Generated query execution expression: "
"'"queryContext => 
{
    queryContext.AddParameter(
        name: \"__ef_filter__Id_0\", 
        value: (object)Invoke(queryContext => ((FacultyDbContext)queryContext.Context).TenantInfo.Id, queryContext));
    return SingleQueryingEnumerable.Create<ClassBasicResponse>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                ClassCode -> 0
                ClassName -> 1
                FacultyCode -> 2
                StudentCount -> 3
                FacultyName -> 4
                AcademicYearCode -> 5
            SELECT c0.class_code AS ClassCode, c0.class_name AS ClassName, c0.faculty_code AS FacultyCode, (
                SELECT CAST(count(*) AS integer)
                FROM student AS s
                WHERE (s.faculty_code == @__ef_filter__Id_0) && (((c0.faculty_code != NULL) && (c0.class_code != NULL)) && ((c0.faculty_code == s.faculty_code) && (c0.class_code == s.class_code)))) AS StudentCount, f0.faculty_name AS FacultyName, c0.academic_year_code AS AcademicYearCode
            FROM 
            (
                SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0
                ORDER BY c.class_code ASC
                OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
            ) AS c0
            INNER JOIN 
            (
                SELECT f.faculty_code, f.faculty_name
                FROM faculty AS f
                WHERE f.faculty_code == @__ef_filter__Id_0
            ) AS f0 ON c0.faculty_code == f0.faculty_code
            ORDER BY c0.class_code ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                ClassCode -> 0
                ClassName -> 1
                FacultyCode -> 2
                StudentCount -> 3
                FacultyName -> 4
                AcademicYearCode -> 5
            SELECT c0.class_code AS ClassCode, c0.class_name AS ClassName, c0.faculty_code AS FacultyCode, (
                SELECT CAST(count(*) AS integer)
                FROM student AS s
                WHERE (s.faculty_code == @__ef_filter__Id_0) && (((c0.faculty_code != NULL) && (c0.class_code != NULL)) && ((c0.faculty_code == s.faculty_code) && (c0.class_code == s.class_code)))) AS StudentCount, f0.faculty_name AS FacultyName, c0.academic_year_code AS AcademicYearCode
            FROM 
            (
                SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
                FROM class AS c
                WHERE c.faculty_code == @__ef_filter__Id_0
                ORDER BY c.class_code ASC
                OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
            ) AS c0
            INNER JOIN 
            (
                SELECT f.faculty_code, f.faculty_name
                FROM faculty AS f
                WHERE f.faculty_code == @__ef_filter__Id_0
            ) AS f0 ON c0.faculty_code == f0.faculty_code
            ORDER BY c0.class_code ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            string value1;
            string value2;
            string value3;
            int? value4;
            string value5;
            string value6;
            value1 = try { dataReader.GetString(0) } catch (Exception) { ... } ;
            value2 = try { dataReader.GetString(1) } catch (Exception) { ... } ;
            value3 = try { dataReader.GetString(2) } catch (Exception) { ... } ;
            value4 = try { dataReader.IsDBNull(3) ? default(int?) : (int?)dataReader.GetInt32(3) } catch (Exception) { ... } ;
            value5 = try { dataReader.GetString(4) } catch (Exception) { ... } ;
            value6 = try { dataReader.GetString(5) } catch (Exception) { ... } ;
            return new ClassBasicResponse{ 
                ClassCode = value1, 
                ClassName = value2, 
                FacultyCode = value3, 
                StudentCount = (int)value4, 
                FacultyName = value5, 
                AcademicYearCode = value6 
            }
            ;
        }, 
        contextType: FacultyService.Application.FacultyDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: True, 
        threadSafetyChecksEnabled: True);
}"'
2025-06-08T21:58:31.2726681+07:00 [DBG] (///) Opening connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:58:31.2727956+07:00 [DBG] (///) Opened connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:58:31.2729371+07:00 [DBG] (///) Creating DbCommand for '"ExecuteReader"'.
2025-06-08T21:58:31.2729743+07:00 [DBG] (///) Created DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:58:31.2730135+07:00 [DBG] (///) Initialized DbCommand for '"ExecuteReader"' (0ms).
2025-06-08T21:58:31.2730746+07:00 [DBG] (///) Executing DbCommand [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T21:58:31.2783586+07:00 [INF] (///) Executed DbCommand ("5"ms) [Parameters=["@__ef_filter__Id_0='?', @__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='300']"
""SELECT c0.class_code AS \"ClassCode\", c0.class_name AS \"ClassName\", c0.faculty_code AS \"FacultyCode\", (
    SELECT count(*)::int
    FROM student AS s
    WHERE s.faculty_code = @__ef_filter__Id_0 AND c0.faculty_code = s.faculty_code AND c0.class_code = s.class_code) AS \"StudentCount\", f0.faculty_name AS \"FacultyName\", c0.academic_year_code AS \"AcademicYearCode\"
FROM (
    SELECT c.faculty_code, c.class_code, c.academic_year_code, c.class_name
    FROM class AS c
    WHERE c.faculty_code = @__ef_filter__Id_0
    ORDER BY c.class_code
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT f.faculty_code, f.faculty_name
    FROM faculty AS f
    WHERE f.faculty_code = @__ef_filter__Id_0
) AS f0 ON c0.faculty_code = f0.faculty_code
ORDER BY c0.class_code"
2025-06-08T21:58:31.2819777+07:00 [DBG] (///) Closing data reader to '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:58:31.2821412+07:00 [DBG] (///) A data reader for '"dsmsdb"' on server '"tcp://localhost:26000"' is being disposed after spending 3ms reading results.
2025-06-08T21:58:31.2823046+07:00 [DBG] (///) Closing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:58:31.2823682+07:00 [DBG] (///) Closed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T21:58:31.2831609+07:00 [INF] (///) Request "DefaultClassQuery" processed successfully in 278ms
2025-06-08T21:58:31.2833089+07:00 [INF] (///) Executed action method "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 289.5429ms.
2025-06-08T21:58:31.2836075+07:00 [DBG] (///) List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-08T21:58:31.2837307+07:00 [DBG] (///) No information found on request to perform content negotiation.
2025-06-08T21:58:31.2837596+07:00 [DBG] (///) Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-08T21:58:31.2837780+07:00 [DBG] (///) Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-08T21:58:31.2838635+07:00 [DBG] (///) Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-06-08T21:58:31.2839144+07:00 [INF] (///) Executing "OkObjectResult", writing value of type '"Arch.EntityFrameworkCore.UnitOfWork.Collections.PagedList`1[[FacultyService.Application.Classes.Response.ClassBasicResponse, FacultyService.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-06-08T21:58:31.2973701+07:00 [INF] (///) Executed action "FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)" in 315.8463ms
2025-06-08T21:58:31.2975153+07:00 [INF] (///) Executed endpoint '"FacultyService.Api.Classes.Controller.ClassesController.GetAllClasses (FacultyService.Api)"'
2025-06-08T21:58:31.2976954+07:00 [INF] (///) HTTP "GET" "/api/v1/it-faculty/classes" responded 200 in 321.7834 ms
2025-06-08T21:58:31.2977885+07:00 [DBG] (///) Connection id ""0HND6JJMVDGE8"" completed keep alive response.
2025-06-08T21:58:31.2978852+07:00 [DBG] (///) '"FacultyDbContext"' disposed.
2025-06-08T21:58:31.2979710+07:00 [DBG] (///) Disposing connection to database '"dsmsdb"' on server '"tcp://localhost:26000"'.
2025-06-08T21:58:31.2980372+07:00 [DBG] (///) Disposed connection to database '"dsmsdb"' on server '"tcp://localhost:26000"' (0ms).
2025-06-08T21:58:31.2981154+07:00 [INF] (///) Request finished "HTTP/1.1" "GET" "http"://"localhost:30000""""/api/v1/it-faculty/classes""?pageSize=50" - 200 null "application/json; charset=utf-8" 326.3773ms
2025-06-08T22:00:42.2080657+07:00 [DBG] (///) Connection id ""0HND6JJMVDGE8"" disconnecting.
2025-06-08T22:00:42.2127691+07:00 [DBG] (///) Connection id ""0HND6JJMVDGE8"" stopped.
2025-06-08T22:00:42.2175664+07:00 [DBG] (///) Connection id ""0HND6JJMVDGE8"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-06-08T22:02:58.5003070+07:00 [INF] (///) Application is shutting down...
2025-06-08T22:02:58.5019007+07:00 [DBG] (///) Hosting stopping
2025-06-08T22:02:58.5598995+07:00 [DBG] (///) Hosting stopped
